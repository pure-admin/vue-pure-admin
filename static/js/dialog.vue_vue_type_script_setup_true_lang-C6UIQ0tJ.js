var D=(b,c,s)=>new Promise((r,o)=>{var p=a=>{try{u(s.next(a))}catch(l){o(l)}},t=a=>{try{u(s.throw(a))}catch(l){o(l)}},u=a=>a.done?r(a.value):Promise.resolve(a.value).then(p,t);u((s=s.apply(b,c)).next())});import{_ as j,b as x}from"./_plugin-vue_export-helper-COILyfW4.js";/* empty css                   */import{u as N,P as M}from"./plus-form-B31LazSV.js";import{d as E,p as S,a as g,N as K,b as z,e as _,aK as $,w as n,M as m,g as F,s as W,f as y,u as d,dr as L,j as P,t as A,a4 as B,ds as q,n as I,aL as w,bp as k,l as G,dt as U,k as H,h as J}from"./index-r-JbS_h7.js";const Q={class:"plus-dialog-body"};var X=E({name:"PlusDialog",inheritAttrs:!1,__name:"index",props:{modelValue:{type:Boolean,default:!1},confirmText:{default:""},cancelText:{default:""},confirmLoading:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},footerAlign:{default:"right"},top:{default:"15vh"},width:{default:"460px"},title:{default:""}},emits:["update:modelValue","cancel","confirm"],setup(b,{emit:c}){const s=b,r=c,o=S(()=>({justifyContent:s.footerAlign==="left"?"flex-start":s.footerAlign==="center"?"center":"flex-end"})),p=g(!1),{t}=N();K(()=>{p.value=s.modelValue});const u=()=>{r("confirm")},a=()=>{r("update:modelValue",!1),r("cancel")};return(l,V)=>(_(),z(d(q),B({modelValue:p.value,"onUpdate:modelValue":V[0]||(V[0]=h=>p.value=h),top:l.top,width:l.width,title:l.title||d(t)("plus.dialog.title"),"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!1,"before-close":a,class:"plus-dialog"},l.$attrs),$({default:n(()=>[F("div",Q,[m(l.$slots,"default")])]),_:2},[l.$slots.header?{name:"header",fn:n(()=>[m(l.$slots,"header")]),key:"0"}:void 0,l.hasFooter?{name:"footer",fn:n(()=>[F("div",{class:"plus-dialog-footer",style:W(o.value)},[m(l.$slots,"footer",{},()=>[y(d(L),{onClick:a},{default:n(()=>[P(A(l.cancelText||d(t)("plus.dialog.cancelText")),1)]),_:1}),y(d(L),{type:"primary",loading:l.confirmLoading,onClick:u},{default:n(()=>[P(A(l.confirmText||d(t)("plus.dialog.confirmText")),1)]),_:1},8,["loading"])])],4)]),key:"1"}:void 0]),1040,["modelValue","top","width","title"]))}}),Y=j(X,[["__file","index.vue"]]);const Z=Y;var ee=E({name:"PlusDialogForm",__name:"index",props:{modelValue:{default:()=>({})},visible:{type:Boolean,default:!1},dialog:{default:()=>({})},form:{default:()=>({})},hasErrorTip:{type:Boolean,default:!0}},emits:["update:modelValue","update:visible","confirm","change","cancel","close","confirmError"],setup(b,{expose:c,emit:s}){const r=b,o=s,{t:p}=N(),t=g(),u=S(()=>{var e;return(e=t.value)==null?void 0:e.formInstance}),a=g({}),l=g(!1);I(()=>r.visible,e=>{l.value=e},{immediate:!0}),I(()=>r.modelValue,e=>{a.value=e},{immediate:!0});const V=(e,f)=>{o("update:modelValue",e),o("change",e,f)},h=()=>D(null,null,function*(){var e,f,i;try{(yield(e=u.value)==null?void 0:e.validate())&&o("confirm",a.value)}catch(v){if(r.hasErrorTip){U.closeAll();const T=x(v)&&Object.values(v),R=T?(i=(f=T[0])==null?void 0:f[0])==null?void 0:i.message:void 0;U.warning(R||p("plus.form.errorTip"))}o("confirmError",v)}}),C=()=>{l.value=!1,o("update:visible",l.value),o("cancel")},O=()=>{l.value=!1,o("update:visible",l.value),o("close")};return c({handleConfirm:h,handleCancel:C,formInstance:u}),(e,f)=>(_(),z(d(Z),B({modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=i=>l.value=i),width:"800px",top:"10vh",title:d(p)("plus.dialogForm.title")},e.dialog,{onClose:O,onCancel:C,onConfirm:h}),$({default:n(()=>[y(d(M),B({ref_key:"formInstance",ref:t,modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=i=>a.value=i),"has-footer":!1,"footer-align":"right"},e.form,{onChange:V}),$({_:2},[e.$slots["form-footer"]?{name:"footer",fn:n(i=>[m(e.$slots,"form-footer",w(k(i)))]),key:"0"}:void 0,e.$slots["form-group-header"]?{name:"group-header",fn:n(i=>[m(e.$slots,"form-group-header",w(k(i)))]),key:"1"}:void 0,G(e.$slots,(i,v)=>({name:v,fn:n(T=>[m(e.$slots,v,w(k(T)))])}))]),1040,["modelValue"])]),_:2},[e.$slots["dialog-header"]?{name:"header",fn:n(()=>[m(e.$slots,"dialog-header")]),key:"0"}:void 0,e.$slots["dialog-footer"]?{name:"footer",fn:n(()=>[m(e.$slots,"dialog-footer",w(k({handleConfirm:h,handleCancel:C})))]),key:"1"}:void 0]),1040,["modelValue","title"]))}}),le=j(ee,[["__file","index.vue"]]);const ae=le,ie=E({__name:"dialog",setup(b){const c=[{label:"名称",width:120,prop:"name",valueType:"copy",tooltip:"名称最多显示6个字符"},{label:"状态",width:120,prop:"status",valueType:"select",options:[{label:"未解决",value:"0",color:"red"},{label:"已解决",value:"1",color:"blue"},{label:"解决中",value:"2",color:"yellow"},{label:"失败",value:"3",color:"red"}]},{label:"是否显示",width:100,prop:"switch",valueType:"switch"},{label:"时间",prop:"time",valueType:"date-picker"},{label:"数量",prop:"number",valueType:"input-number",fieldProps:{precision:2,step:2}},{label:"城市",prop:"city",valueType:"cascader",options:[{value:"0",label:"陕西",children:[{value:"0-0",label:"西安",children:[{value:"0-0-0",label:"新城区"},{value:"0-0-1",label:"高新区"},{value:"0-0-2",label:"灞桥区"}]}]},{value:"1",label:"山西",children:[{value:"1-0",label:"太原",children:[{value:"1-0-0",label:"小店区"},{value:"1-0-1",label:"古交市"},{value:"1-0-2",label:"万柏林区"}]}]}]},{label:"地区",prop:"place",tooltip:"请精确到门牌号",fieldProps:{placeholder:"请精确到门牌号"}},{label:"要求",prop:"demand",valueType:"checkbox",options:[{label:"四六级",value:"0"},{label:"计算机二级证书",value:"1"},{label:"普通话证书",value:"2"}]},{label:"梦想",prop:"gift",valueType:"radio",options:[{label:"诗",value:"0"},{label:"远方",value:"1"},{label:"美食",value:"2"}]},{label:"到期时间",prop:"endTime",valueType:"date-picker",fieldProps:{type:"datetimerange",startPlaceholder:"请选择开始时间",endPlaceholder:"请选择结束时间"}},{label:"说明",prop:"desc",valueType:"textarea",fieldProps:{maxlength:10,showWordLimit:!0,autosize:{minRows:2,maxRows:4}}}],s=g(!1),r=g({}),o=()=>{s.value=!0};return(p,t)=>{const u=J("el-button");return _(),H("div",null,[y(u,{onClick:o},{default:n(()=>[...t[2]||(t[2]=[P("打开弹窗表单",-1)])]),_:1}),y(d(ae),{visible:s.value,"onUpdate:visible":t[0]||(t[0]=a=>s.value=a),modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a),form:{columns:c}},null,8,["visible","modelValue","form"])])}}});export{ie as _};
