var OA=Object.defineProperty,wA=Object.defineProperties;var xA=Object.getOwnPropertyDescriptors;var M1=Object.getOwnPropertySymbols;var EA=Object.prototype.hasOwnProperty,SA=Object.prototype.propertyIsEnumerable;var T1=(i,u,a)=>u in i?OA(i,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[u]=a,k1=(i,u)=>{for(var a in u||(u={}))EA.call(u,a)&&T1(i,a,u[a]);if(M1)for(var a of M1(u))SA.call(u,a)&&T1(i,a,u[a]);return i},D1=(i,u)=>wA(i,xA(u));import{bp as Fc,bq as Di,br as en,bs as N1,bt as Ci,bu as Op,bv as Ca,bw as $c,bx as YO,by as oi,bz as ci,bA as Fn,bB as jA,bC as Ii,bD as sm,bE as PA,bF as wp,bG as ii,bH as xp,bI as VO,bJ as Du,bK as ly,bL as Oo,bM as KO,bN as La,bO as qO,bP as Uc,bQ as Nu,bR as lm,bS as cn,bT as fy,bU as _l,bV as Ni,bW as Mn,bX as Ra,bY as _o,bZ as Ol,b_ as Ep,b$ as si,c0 as Tr,c1 as qt,c2 as Gc,c3 as AA,c4 as wl,c5 as ZO,c6 as Ia,c7 as JO,c8 as QO,c9 as Gb,ca as _r,cb as ai,cc as MA,cd as TA,ce as Sp,cf as ew,cg as Hc,ch as tw,ci as za,cj as nw,ck as fm,cl as kA,cm as xl,cn as DA,co as Tu,cp as jp,cq as rw,cr as ow,cs as NA,ct as bl,cu as pm,cv as dm,cw as iw,cx as aw,cy as RA,cz as uw,cA as cw,cB as CA,cC as sw,cD as IA,cE as LA,cF as zA,cG as BA,cH as Kh,cI as FA,cJ as WA,cK as $A,cL as lw,cM as fw,cN as pw,cO as dw,cP as hm,cQ as hw,cR as UA,cS as GA,cT as HA,cU as XA,cV as Wc,cW as YA,cX as VA,cY as KA,cZ as qA,c_ as ZA,c$ as JA,d0 as QA,d1 as e2,d2 as t2,d3 as n2,d4 as r2,d5 as o2,d6 as i2,d7 as a2,d8 as u2,d9 as c2,da as s2,db as l2,dc as f2,dd as p2,de as d2,df as h2,dg as y2,dh as v2,di as g2,dj as b2,S as m2,d as py,a as Na,m as yw,u as zo,k as Pu,g as Au,F as vw,l as gw,A as _2,f as ri,q as R1,B as O2,s as C1,v as bw,_ as ym,j as Hb,t as w2,b as Gh,V as vm,w as ll,e as Bh,h as Ib,i as lp}from"./index-BHcVNAp5.js";import{c as x2,b as E2,o as S2}from"./orderBy-B9vq_MC3.js";import{S as j2}from"./vue-json-pretty-CIYjuDGI.js";var P2=NaN;function I1(i){return typeof i=="number"?i:Fc(i)?P2:+i}function dy(i,u){return function(a,p){var o;if(a===void 0&&p===void 0)return u;if(a!==void 0&&(o=a),p!==void 0){if(o===void 0)return p;typeof a=="string"||typeof p=="string"?(a=Di(a),p=Di(p)):(a=I1(a),p=I1(p)),o=i(a,p)}return o}}var A2=dy(function(i,u){return i+u},0),M2="Expected a function";function T2(i,u){if(typeof u!="function")throw new TypeError(M2);return i=en(i),function(){if(--i<1)return u.apply(this,arguments)}}var qh=N1&&new N1,mw=qh?function(i,u){return qh.set(i,u),i}:Ci;function _p(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var a=Op(i.prototype),p=i.apply(a,u);return Ca(p)?p:a}}var k2=1;function D2(i,u,a){var p=u&k2,o=_p(i);function d(){var h=this&&this!==$c&&this instanceof d?o:i;return h.apply(p?a:this,arguments)}return d}var N2=Math.max;function _w(i,u,a,p){for(var o=-1,d=i.length,h=a.length,m=-1,g=u.length,E=N2(d-h,0),j=Array(g+E),P=!p;++m<g;)j[m]=u[m];for(;++o<h;)(P||o<d)&&(j[a[o]]=i[o]);for(;E--;)j[m++]=i[o++];return j}var R2=Math.max;function Ow(i,u,a,p){for(var o=-1,d=i.length,h=-1,m=a.length,g=-1,E=u.length,j=R2(d-m,0),P=Array(j+E),k=!p;++o<j;)P[o]=i[o];for(var T=o;++g<E;)P[T+g]=u[g];for(;++h<m;)(k||o<d)&&(P[T+a[h]]=i[o++]);return P}function C2(i,u){for(var a=i.length,p=0;a--;)i[a]===u&&++p;return p}function hy(){}var I2=4294967295;function pn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I2,this.__views__=[]}pn.prototype=Op(hy.prototype);pn.prototype.constructor=pn;var gm=qh?function(i){return qh.get(i)}:YO,yl={},L2=Object.prototype,z2=L2.hasOwnProperty;function Hh(i){for(var u=i.name+"",a=yl[u],p=z2.call(yl,u)?a.length:0;p--;){var o=a[p],d=o.func;if(d==null||d==i)return o.name}return u}function ui(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}ui.prototype=Op(hy.prototype);ui.prototype.constructor=ui;function ww(i){if(i instanceof pn)return i.clone();var u=new ui(i.__wrapped__,i.__chain__);return u.__actions__=oi(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}var B2=Object.prototype,F2=B2.hasOwnProperty;function W(i){if(ci(i)&&!Fn(i)&&!(i instanceof pn)){if(i instanceof ui)return i;if(F2.call(i,"__wrapped__"))return ww(i)}return new ui(i)}W.prototype=hy.prototype;W.prototype.constructor=W;function Xb(i){var u=Hh(i),a=W[u];if(typeof a!="function"||!(u in pn.prototype))return!1;if(i===a)return!0;var p=gm(a);return!!p&&i===p[0]}var xw=jA(mw),W2=/\{\n\/\* \[wrapped with (.+)\] \*/,$2=/,? & /;function U2(i){var u=i.match(W2);return u?u[1].split($2):[]}var G2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function H2(i,u){var a=u.length;if(!a)return i;var p=a-1;return u[p]=(a>1?"& ":"")+u[p],u=u.join(a>2?", ":" "),i.replace(G2,`{
/* [wrapped with `+u+`] */
`)}var X2=1,Y2=2,V2=8,K2=16,q2=32,Z2=64,J2=128,Q2=256,eM=512,tM=[["ary",J2],["bind",X2],["bindKey",Y2],["curry",V2],["curryRight",K2],["flip",eM],["partial",q2],["partialRight",Z2],["rearg",Q2]];function nM(i,u){return Ii(tM,function(a){var p="_."+a[0];u&a[1]&&!sm(i,p)&&i.push(p)}),i.sort()}function Ew(i,u,a){var p=u+"";return PA(i,H2(p,nM(U2(p),a)))}var rM=1,oM=2,iM=4,aM=8,L1=32,z1=64;function Sw(i,u,a,p,o,d,h,m,g,E){var j=u&aM,P=j?h:void 0,k=j?void 0:h,T=j?d:void 0,C=j?void 0:d;u|=j?L1:z1,u&=~(j?z1:L1),u&iM||(u&=~(rM|oM));var N=[i,u,o,T,P,C,k,m,g,E],L=a.apply(void 0,N);return Xb(i)&&xw(L,N),L.placeholder=p,Ew(L,i,u)}function El(i){var u=i;return u.placeholder}var uM=Math.min;function cM(i,u){for(var a=i.length,p=uM(u.length,a),o=oi(i);p--;){var d=u[p];i[p]=wp(d,a)?o[d]:void 0}return i}var B1="__lodash_placeholder__";function ku(i,u){for(var a=-1,p=i.length,o=0,d=[];++a<p;){var h=i[a];(h===u||h===B1)&&(i[a]=B1,d[o++]=a)}return d}var sM=1,lM=2,fM=8,pM=16,dM=128,hM=512;function yy(i,u,a,p,o,d,h,m,g,E){var j=u&dM,P=u&sM,k=u&lM,T=u&(fM|pM),C=u&hM,N=k?void 0:_p(i);function L(){for(var U=arguments.length,G=Array(U),te=U;te--;)G[te]=arguments[te];if(T)var ie=El(L),re=C2(G,ie);if(p&&(G=_w(G,p,o,T)),d&&(G=Ow(G,d,h,T)),U-=re,T&&U<E){var Q=ku(G,ie);return Sw(i,u,yy,L.placeholder,a,G,Q,m,g,E-U)}var Z=P?a:this,H=k?Z[i]:i;return U=G.length,m?G=cM(G,m):C&&U>1&&G.reverse(),j&&g<U&&(G.length=g),this&&this!==$c&&this instanceof L&&(H=N||_p(H)),H.apply(Z,G)}return L}function yM(i,u,a){var p=_p(i);function o(){for(var d=arguments.length,h=Array(d),m=d,g=El(o);m--;)h[m]=arguments[m];var E=d<3&&h[0]!==g&&h[d-1]!==g?[]:ku(h,g);if(d-=E.length,d<a)return Sw(i,u,yy,o.placeholder,void 0,h,E,void 0,void 0,a-d);var j=this&&this!==$c&&this instanceof o?p:i;return ii(j,this,h)}return o}var vM=1;function gM(i,u,a,p){var o=u&vM,d=_p(i);function h(){for(var m=-1,g=arguments.length,E=-1,j=p.length,P=Array(j+g),k=this&&this!==$c&&this instanceof h?d:i;++E<j;)P[E]=p[E];for(;g--;)P[E++]=arguments[++m];return ii(k,o?a:this,P)}return h}var F1="__lodash_placeholder__",Lb=1,bM=2,mM=4,W1=8,fp=128,$1=256,_M=Math.min;function OM(i,u){var a=i[1],p=u[1],o=a|p,d=o<(Lb|bM|fp),h=p==fp&&a==W1||p==fp&&a==$1&&i[7].length<=u[8]||p==(fp|$1)&&u[7].length<=u[8]&&a==W1;if(!(d||h))return i;p&Lb&&(i[2]=u[2],o|=a&Lb?0:mM);var m=u[3];if(m){var g=i[3];i[3]=g?_w(g,m,u[4]):m,i[4]=g?ku(i[3],F1):u[4]}return m=u[5],m&&(g=i[5],i[5]=g?Ow(g,m,u[6]):m,i[6]=g?ku(i[5],F1):u[6]),m=u[7],m&&(i[7]=m),p&fp&&(i[8]=i[8]==null?u[8]:_M(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=o,i}var wM="Expected a function",U1=1,xM=2,zb=8,Bb=16,Fb=32,G1=64,H1=Math.max;function Ba(i,u,a,p,o,d,h,m){var g=u&xM;if(!g&&typeof i!="function")throw new TypeError(wM);var E=p?p.length:0;if(E||(u&=~(Fb|G1),p=o=void 0),h=h===void 0?h:H1(en(h),0),m=m===void 0?m:en(m),E-=o?o.length:0,u&G1){var j=p,P=o;p=o=void 0}var k=g?void 0:gm(i),T=[i,u,a,p,o,j,P,d,h,m];if(k&&OM(T,k),i=T[0],u=T[1],a=T[2],p=T[3],o=T[4],m=T[9]=T[9]===void 0?g?0:i.length:H1(T[9]-E,0),!m&&u&(zb|Bb)&&(u&=~(zb|Bb)),!u||u==U1)var C=D2(i,u,a);else u==zb||u==Bb?C=yM(i,u,m):(u==Fb||u==(U1|Fb))&&!o.length?C=gM(i,u,a,p):C=yy.apply(void 0,T);var N=k?mw:xw;return Ew(N(C,T),i,u)}var EM=128;function jw(i,u,a){return u=a?void 0:u,u=i&&u==null?i.length:u,Ba(i,EM,void 0,void 0,void 0,void 0,u)}var SM=Object.prototype,jM=SM.hasOwnProperty,PM=xp(function(i,u){if(VO(u)||Du(u)){ly(u,Oo(u),i);return}for(var a in u)jM.call(u,a)&&KO(i,a,u[a])}),X1=xp(function(i,u){ly(u,La(u),i)}),Zh=xp(function(i,u,a,p){ly(u,La(u),i,p)}),AM=xp(function(i,u,a,p){ly(u,Oo(u),i,p)});function bm(i,u){for(var a=-1,p=u.length,o=Array(p),d=i==null;++a<p;)o[a]=d?void 0:qO(i,u[a]);return o}var MM=Uc(bm),TM="[object DOMException]",kM="[object Error]";function mm(i){if(!ci(i))return!1;var u=Nu(i);return u==kM||u==TM||typeof i.message=="string"&&typeof i.name=="string"&&!lm(i)}var Pw=cn(function(i,u){try{return ii(i,void 0,u)}catch(a){return mm(a)?a:new Error(a)}}),DM="Expected a function";function Aw(i,u){var a;if(typeof u!="function")throw new TypeError(DM);return i=en(i),function(){return--i>0&&(a=u.apply(this,arguments)),i<=1&&(u=void 0),a}}var NM=1,RM=32,vy=cn(function(i,u,a){var p=NM;if(a.length){var o=ku(a,El(vy));p|=RM}return Ba(i,p,u,a,o)});vy.placeholder={};var CM=Uc(function(i,u){return Ii(u,function(a){a=fy(a),_l(i,a,vy(i[a],i))}),i}),IM=1,LM=2,zM=32,_m=cn(function(i,u,a){var p=IM|LM;if(a.length){var o=ku(a,El(_m));p|=zM}return Ba(u,p,i,a,o)});_m.placeholder={};function Ru(i,u,a){var p=i.length;return a=a===void 0?p:a,!u&&a>=p?i:Ni(i,u,a)}var BM="\\ud800-\\udfff",FM="\\u0300-\\u036f",WM="\\ufe20-\\ufe2f",$M="\\u20d0-\\u20ff",UM=FM+WM+$M,GM="\\ufe0e\\ufe0f",HM="\\u200d",XM=RegExp("["+HM+BM+UM+GM+"]");function Sl(i){return XM.test(i)}function YM(i){return i.split("")}var Mw="\\ud800-\\udfff",VM="\\u0300-\\u036f",KM="\\ufe20-\\ufe2f",qM="\\u20d0-\\u20ff",ZM=VM+KM+qM,JM="\\ufe0e\\ufe0f",QM="["+Mw+"]",Yb="["+ZM+"]",Vb="\\ud83c[\\udffb-\\udfff]",eT="(?:"+Yb+"|"+Vb+")",Tw="[^"+Mw+"]",kw="(?:\\ud83c[\\udde6-\\uddff]){2}",Dw="[\\ud800-\\udbff][\\udc00-\\udfff]",tT="\\u200d",Nw=eT+"?",Rw="["+JM+"]?",nT="(?:"+tT+"(?:"+[Tw,kw,Dw].join("|")+")"+Rw+Nw+")*",rT=Rw+Nw+nT,oT="(?:"+[Tw+Yb+"?",Yb,kw,Dw,QM].join("|")+")",iT=RegExp(Vb+"(?="+Vb+")|"+oT+rT,"g");function aT(i){return i.match(iT)||[]}function Ri(i){return Sl(i)?aT(i):YM(i)}function Cw(i){return function(u){u=Mn(u);var a=Sl(u)?Ri(u):void 0,p=a?a[0]:u.charAt(0),o=a?Ru(a,1).join(""):u.slice(1);return p[i]()+o}}var Om=Cw("toUpperCase");function Iw(i){return Om(Mn(i).toLowerCase())}function wm(i,u,a,p){var o=-1,d=i==null?0:i.length;for(p&&d&&(a=i[++o]);++o<d;)a=u(a,i[o],o,i);return a}function xm(i){return function(u){return i==null?void 0:i[u]}}var uT={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cT=xm(uT),sT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lT="\\u0300-\\u036f",fT="\\ufe20-\\ufe2f",pT="\\u20d0-\\u20ff",dT=lT+fT+pT,hT="["+dT+"]",yT=RegExp(hT,"g");function Lw(i){return i=Mn(i),i&&i.replace(sT,cT).replace(yT,"")}var vT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function gT(i){return i.match(vT)||[]}var bT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function mT(i){return bT.test(i)}var zw="\\ud800-\\udfff",_T="\\u0300-\\u036f",OT="\\ufe20-\\ufe2f",wT="\\u20d0-\\u20ff",xT=_T+OT+wT,Bw="\\u2700-\\u27bf",Fw="a-z\\xdf-\\xf6\\xf8-\\xff",ET="\\xac\\xb1\\xd7\\xf7",ST="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jT="\\u2000-\\u206f",PT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ww="A-Z\\xc0-\\xd6\\xd8-\\xde",AT="\\ufe0e\\ufe0f",$w=ET+ST+jT+PT,Uw="['’]",Y1="["+$w+"]",MT="["+xT+"]",Gw="\\d+",TT="["+Bw+"]",Hw="["+Fw+"]",Xw="[^"+zw+$w+Gw+Bw+Fw+Ww+"]",kT="\\ud83c[\\udffb-\\udfff]",DT="(?:"+MT+"|"+kT+")",NT="[^"+zw+"]",Yw="(?:\\ud83c[\\udde6-\\uddff]){2}",Vw="[\\ud800-\\udbff][\\udc00-\\udfff]",pl="["+Ww+"]",RT="\\u200d",V1="(?:"+Hw+"|"+Xw+")",CT="(?:"+pl+"|"+Xw+")",K1="(?:"+Uw+"(?:d|ll|m|re|s|t|ve))?",q1="(?:"+Uw+"(?:D|LL|M|RE|S|T|VE))?",Kw=DT+"?",qw="["+AT+"]?",IT="(?:"+RT+"(?:"+[NT,Yw,Vw].join("|")+")"+qw+Kw+")*",LT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",BT=qw+Kw+IT,FT="(?:"+[TT,Yw,Vw].join("|")+")"+BT,WT=RegExp([pl+"?"+Hw+"+"+K1+"(?="+[Y1,pl,"$"].join("|")+")",CT+"+"+q1+"(?="+[Y1,pl+V1,"$"].join("|")+")",pl+"?"+V1+"+"+K1,pl+"+"+q1,zT,LT,Gw,FT].join("|"),"g");function $T(i){return i.match(WT)||[]}function Zw(i,u,a){return i=Mn(i),u=a?void 0:u,u===void 0?mT(i)?$T(i):gT(i):i.match(u)||[]}var UT="['’]",GT=RegExp(UT,"g");function jl(i){return function(u){return wm(Zw(Lw(u).replace(GT,"")),i,"")}}var HT=jl(function(i,u,a){return u=u.toLowerCase(),i+(a?Iw(u):u)}),XT=$c.isFinite,YT=Math.min;function Em(i){var u=Math[i];return function(a,p){if(a=Ra(a),p=p==null?0:YT(en(p),292),p&&XT(a)){var o=(Mn(a)+"e").split("e"),d=u(o[0]+"e"+(+o[1]+p));return o=(Mn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-p))}return u(a)}}var VT=Em("ceil");function Jw(i){var u=W(i);return u.__chain__=!0,u}var KT=Math.ceil,qT=Math.max;function ZT(i,u,a){(a?_o(i,u,a):u===void 0)?u=1:u=qT(en(u),0);var p=i==null?0:i.length;if(!p||u<1)return[];for(var o=0,d=0,h=Array(KT(p/u));o<p;)h[d++]=Ni(i,o,o+=u);return h}function Xc(i,u,a){return i===i&&(a!==void 0&&(i=i<=a?i:a),u!==void 0&&(i=i>=u?i:u)),i}function JT(i,u,a){return a===void 0&&(a=u,u=void 0),a!==void 0&&(a=Ra(a),a=a===a?a:0),u!==void 0&&(u=Ra(u),u=u===u?u:0),Xc(Ra(i),u,a)}var QT=1,ek=4;function tk(i,u){return u=typeof u=="function"?u:void 0,Ol(i,QT|ek,u)}var nk=4;function rk(i,u){return u=typeof u=="function"?u:void 0,Ol(i,nk,u)}function ok(){return new ui(this.value(),this.__chain__)}function ik(i){for(var u=-1,a=i==null?0:i.length,p=0,o=[];++u<a;){var d=i[u];d&&(o[p++]=d)}return o}function ak(){var i=arguments.length;if(!i)return[];for(var u=Array(i-1),a=arguments[0],p=i;p--;)u[p-1]=arguments[p];return Ep(Fn(a)?oi(a):[a],si(u,1))}var uk="Expected a function";function ck(i){var u=i==null?0:i.length,a=qt;return i=u?Tr(i,function(p){if(typeof p[1]!="function")throw new TypeError(uk);return[a(p[0]),p[1]]}):[],cn(function(p){for(var o=-1;++o<u;){var d=i[o];if(ii(d[0],this,p))return ii(d[1],this,p)}})}function Qw(i,u,a){var p=a.length;if(i==null)return!p;for(i=Object(i);p--;){var o=a[p],d=u[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function sk(i){var u=Oo(i);return function(a){return Qw(a,i,u)}}var lk=1;function fk(i){return sk(Ol(i,lk))}function pk(i,u){return u==null||Qw(i,u,Oo(u))}function dk(i,u,a,p){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];u(p,h,a(h),i)}return p}function hk(i,u,a,p){return Gc(i,function(o,d,h){u(p,o,a(o),h)}),p}function gy(i,u){return function(a,p){var o=Fn(a)?dk:hk,d=u?u():{};return o(a,i,qt(p),d)}}var yk=Object.prototype,vk=yk.hasOwnProperty,gk=gy(function(i,u,a){vk.call(i,a)?++i[a]:_l(i,a,1)});function bk(i,u){var a=Op(i);return u==null?a:AA(a,u)}var mk=8;function Sm(i,u,a){u=a?void 0:u;var p=Ba(i,mk,void 0,void 0,void 0,void 0,void 0,u);return p.placeholder=Sm.placeholder,p}Sm.placeholder={};var _k=16;function jm(i,u,a){u=a?void 0:u;var p=Ba(i,_k,void 0,void 0,void 0,void 0,void 0,u);return p.placeholder=jm.placeholder,p}jm.placeholder={};function Ok(i,u){return i==null||i!==i?u:i}var ex=Object.prototype,wk=ex.hasOwnProperty,xk=cn(function(i,u){i=Object(i);var a=-1,p=u.length,o=p>2?u[2]:void 0;for(o&&_o(u[0],u[1],o)&&(p=1);++a<p;)for(var d=u[a],h=La(d),m=-1,g=h.length;++m<g;){var E=h[m],j=i[E];(j===void 0||wl(j,ex[E])&&!wk.call(i,E))&&(i[E]=d[E])}return i});function tx(i,u,a,p,o,d){return Ca(i)&&Ca(u)&&(d.set(u,i),ZO(i,u,void 0,tx,d),d.delete(u)),i}var nx=xp(function(i,u,a,p){ZO(i,u,a,p)}),Ek=cn(function(i){return i.push(void 0,tx),ii(nx,void 0,i)}),Sk="Expected a function";function rx(i,u,a){if(typeof i!="function")throw new TypeError(Sk);return setTimeout(function(){i.apply(void 0,a)},u)}var jk=cn(function(i,u){return rx(i,1,u)}),Pk=cn(function(i,u,a){return rx(i,Ra(u)||0,a)}),Ak=200;function Pp(i,u,a,p){var o=-1,d=sm,h=!0,m=i.length,g=[],E=u.length;if(!m)return g;a&&(u=Tr(u,Ia(a))),p?(d=QO,h=!1):u.length>=Ak&&(d=Gb,h=!1,u=new JO(u));e:for(;++o<m;){var j=i[o],P=a==null?j:a(j);if(j=p||j!==0?j:0,h&&P===P){for(var k=E;k--;)if(u[k]===P)continue e;g.push(j)}else d(u,P,p)||g.push(j)}return g}var Mk=cn(function(i,u){return _r(i)?Pp(i,si(u,1,_r,!0)):[]}),Tk=cn(function(i,u){var a=ai(u);return _r(a)&&(a=void 0),_r(i)?Pp(i,si(u,1,_r,!0),qt(a)):[]}),kk=cn(function(i,u){var a=ai(u);return _r(a)&&(a=void 0),_r(i)?Pp(i,si(u,1,_r,!0),void 0,a):[]}),Dk=dy(function(i,u){return i/u},1);function Nk(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:en(u),Ni(i,u<0?0:u,p)):[]}function Rk(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:en(u),u=p-u,Ni(i,0,u<0?0:u)):[]}function by(i,u,a,p){for(var o=i.length,d=p?o:-1;(p?d--:++d<o)&&u(i[d],d,i););return a?Ni(i,p?0:d,p?d+1:o):Ni(i,p?d+1:0,p?o:d)}function Ck(i,u){return i&&i.length?by(i,qt(u),!0,!0):[]}function Ik(i,u){return i&&i.length?by(i,qt(u),!0):[]}function aa(i){return typeof i=="function"?i:Ci}function Z1(i,u){var a=Fn(i)?Ii:Gc;return a(i,aa(u))}function Lk(i,u){for(var a=i==null?0:i.length;a--&&u(i[a],a,i)!==!1;);return i}var ox=MA(!0);function Pm(i,u){return i&&ox(i,u,Oo)}var ix=TA(Pm,!0);function J1(i,u){var a=Fn(i)?Lk:ix;return a(i,aa(u))}function zk(i,u,a){i=Mn(i),u=Di(u);var p=i.length;a=a===void 0?p:Xc(en(a),0,p);var o=a;return a-=u.length,a>=0&&i.slice(a,o)==u}function Bk(i,u){return Tr(u,function(a){return[a,i[a]]})}function Fk(i){var u=-1,a=Array(i.size);return i.forEach(function(p){a[++u]=[p,p]}),a}var Wk="[object Map]",$k="[object Set]";function ax(i){return function(u){var a=Sp(u);return a==Wk?ew(u):a==$k?Fk(u):Bk(u,i(u))}}var Q1=ax(Oo),eO=ax(La),Uk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gk=xm(Uk),ux=/[&<>"']/g,Hk=RegExp(ux.source);function cx(i){return i=Mn(i),i&&Hk.test(i)?i.replace(ux,Gk):i}var sx=/[\\^$.*+?()[\]{}|]/g,Xk=RegExp(sx.source);function Yk(i){return i=Mn(i),i&&Xk.test(i)?i.replace(sx,"\\$&"):i}function lx(i,u){for(var a=-1,p=i==null?0:i.length;++a<p;)if(!u(i[a],a,i))return!1;return!0}function Vk(i,u){var a=!0;return Gc(i,function(p,o,d){return a=!!u(p,o,d),a}),a}function Kk(i,u,a){var p=Fn(i)?lx:Vk;return a&&_o(i,u,a)&&(u=void 0),p(i,qt(u))}var qk=4294967295;function fx(i){return i?Xc(en(i),0,qk):0}function Zk(i,u,a,p){var o=i.length;for(a=en(a),a<0&&(a=-a>o?0:o+a),p=p===void 0||p>o?o:en(p),p<0&&(p+=o),p=a>p?0:fx(p);a<p;)i[a++]=u;return i}function Jk(i,u,a,p){var o=i==null?0:i.length;return o?(a&&typeof a!="number"&&_o(i,u,a)&&(a=0,p=o),Zk(i,u,a,p)):[]}function px(i,u){var a=[];return Gc(i,function(p,o,d){u(p,o,d)&&a.push(p)}),a}function Qk(i,u){var a=Fn(i)?Hc:px;return a(i,qt(u))}function dx(i){return function(u,a,p){var o=Object(u);if(!Du(u)){var d=qt(a);u=Oo(u),a=function(m){return d(o[m],m,o)}}var h=i(u,a,p);return h>-1?o[d?u[h]:h]:void 0}}var eD=Math.max;function hx(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=a==null?0:en(a);return o<0&&(o=eD(p+o,0)),tw(i,qt(u),o)}var tD=dx(hx);function yx(i,u,a){var p;return a(i,function(o,d,h){if(u(o,d,h))return p=d,!1}),p}function nD(i,u){return yx(i,qt(u),za)}var rD=dx(nw);function oD(i,u){return yx(i,qt(u),Pm)}function tO(i){return i&&i.length?i[0]:void 0}var iD=1/0;function aD(i,u){return si(fm(i,u),iD)}function uD(i,u,a){return a=a===void 0?1:en(a),si(fm(i,u),a)}function cD(i,u){var a=i==null?0:i.length;return a?(u=u===void 0?1:en(u),si(i,u)):[]}var sD=512;function lD(i){return Ba(i,sD)}var fD=Em("floor"),pD="Expected a function",dD=8,hD=32,yD=128,vD=256;function vx(i){return Uc(function(u){var a=u.length,p=a,o=ui.prototype.thru;for(i&&u.reverse();p--;){var d=u[p];if(typeof d!="function")throw new TypeError(pD);if(o&&!h&&Hh(d)=="wrapper")var h=new ui([],!0)}for(p=h?p:a;++p<a;){d=u[p];var m=Hh(d),g=m=="wrapper"?gm(d):void 0;g&&Xb(g[0])&&g[1]==(yD|dD|hD|vD)&&!g[4].length&&g[9]==1?h=h[Hh(g[0])].apply(h,g[3]):h=d.length==1&&Xb(d)?h[m]():h.thru(d)}return function(){var E=arguments,j=E[0];if(h&&E.length==1&&Fn(j))return h.plant(j).value();for(var P=0,k=a?u[P].apply(this,E):j;++P<a;)k=u[P].call(this,k);return k}})}var gD=vx(),bD=vx(!0);function mD(i,u){return i==null?i:kA(i,aa(u),La)}function _D(i,u){return i==null?i:ox(i,aa(u),La)}function OD(i,u){return i&&za(i,aa(u))}function wD(i,u){return i&&Pm(i,aa(u))}function my(i,u){return Hc(u,function(a){return xl(i[a])})}function xD(i){return i==null?[]:my(i,Oo(i))}function ED(i){return i==null?[]:my(i,La(i))}var SD=Object.prototype,jD=SD.hasOwnProperty,PD=gy(function(i,u,a){jD.call(i,a)?i[a].push(u):_l(i,a,[u])});function Am(i,u){return i>u}function _y(i){return function(u,a){return typeof u=="string"&&typeof a=="string"||(u=Ra(u),a=Ra(a)),i(u,a)}}var AD=_y(Am),MD=_y(function(i,u){return i>=u}),TD=Object.prototype,kD=TD.hasOwnProperty;function DD(i,u){return i!=null&&kD.call(i,u)}function ND(i,u){return i!=null&&DA(i,u,DD)}var RD=Math.max,CD=Math.min;function ID(i,u,a){return i>=CD(u,a)&&i<RD(u,a)}function LD(i,u,a){return u=Tu(u),a===void 0?(a=u,u=0):a=Tu(a),i=Ra(i),ID(i,u,a)}var zD="[object String]";function Oy(i){return typeof i=="string"||!Fn(i)&&ci(i)&&Nu(i)==zD}function Mm(i,u){return Tr(u,function(a){return i[a]})}function Pl(i){return i==null?[]:Mm(i,Oo(i))}var BD=Math.max;function FD(i,u,a,p){i=Du(i)?i:Pl(i),a=a&&!p?en(a):0;var o=i.length;return a<0&&(a=BD(o+a,0)),Oy(i)?a<=o&&i.indexOf(u,a)>-1:!!o&&jp(i,u,a)>-1}var WD=Math.max;function $D(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=a==null?0:en(a);return o<0&&(o=WD(p+o,0)),jp(i,u,o)}function UD(i){var u=i==null?0:i.length;return u?Ni(i,0,-1):[]}var GD=Math.min;function Tm(i,u,a){for(var p=a?QO:sm,o=i[0].length,d=i.length,h=d,m=Array(d),g=1/0,E=[];h--;){var j=i[h];h&&u&&(j=Tr(j,Ia(u))),g=GD(j.length,g),m[h]=!a&&(u||o>=120&&j.length>=120)?new JO(h&&j):void 0}j=i[0];var P=-1,k=m[0];e:for(;++P<o&&E.length<g;){var T=j[P],C=u?u(T):T;if(T=a||T!==0?T:0,!(k?Gb(k,C):p(E,C,a))){for(h=d;--h;){var N=m[h];if(!(N?Gb(N,C):p(i[h],C,a)))continue e}k&&k.push(C),E.push(T)}}return E}function km(i){return _r(i)?i:[]}var HD=cn(function(i){var u=Tr(i,km);return u.length&&u[0]===i[0]?Tm(u):[]}),XD=cn(function(i){var u=ai(i),a=Tr(i,km);return u===ai(a)?u=void 0:a.pop(),a.length&&a[0]===i[0]?Tm(a,qt(u)):[]}),YD=cn(function(i){var u=ai(i),a=Tr(i,km);return u=typeof u=="function"?u:void 0,u&&a.pop(),a.length&&a[0]===i[0]?Tm(a,void 0,u):[]});function VD(i,u,a,p){return za(i,function(o,d,h){u(p,a(o),d,h)}),p}function gx(i,u){return function(a,p){return VD(a,i,u(p),{})}}var KD=Object.prototype,qD=KD.toString,ZD=gx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=qD.call(u)),i[u]=a},rw(Ci)),bx=Object.prototype,JD=bx.hasOwnProperty,QD=bx.toString,eN=gx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=QD.call(u)),JD.call(i,u)?i[u].push(a):i[u]=[a]},qt);function Ap(i,u,a){u=ow(u,i),i=NA(i,u);var p=i==null?i:i[fy(ai(u))];return p==null?void 0:ii(p,i,a)}var tN=cn(Ap),nN=cn(function(i,u,a){var p=-1,o=typeof u=="function",d=Du(i)?Array(i.length):[];return Gc(i,function(h){d[++p]=o?ii(u,h,a):Ap(h,u,a)}),d}),rN="[object ArrayBuffer]";function oN(i){return ci(i)&&Nu(i)==rN}var nO=bl&&bl.isArrayBuffer,iN=nO?Ia(nO):oN,aN="[object Boolean]";function uN(i){return i===!0||i===!1||ci(i)&&Nu(i)==aN}var cN="[object Date]";function sN(i){return ci(i)&&Nu(i)==cN}var rO=bl&&bl.isDate,lN=rO?Ia(rO):sN;function fN(i){return ci(i)&&i.nodeType===1&&!lm(i)}var pN="[object Map]",dN="[object Set]",hN=Object.prototype,yN=hN.hasOwnProperty;function vN(i){if(i==null)return!0;if(Du(i)&&(Fn(i)||typeof i=="string"||typeof i.splice=="function"||pm(i)||dm(i)||iw(i)))return!i.length;var u=Sp(i);if(u==pN||u==dN)return!i.size;if(VO(i))return!aw(i).length;for(var a in i)if(yN.call(i,a))return!1;return!0}function gN(i,u,a){a=typeof a=="function"?a:void 0;var p=a?a(i,u):void 0;return p===void 0?RA(i,u,void 0,a):!!p}var bN=$c.isFinite;function mN(i){return typeof i=="number"&&bN(i)}function mx(i){return typeof i=="number"&&i==en(i)}function _N(i,u){return i===u||uw(i,u,cw(u))}function ON(i,u,a){return a=typeof a=="function"?a:void 0,uw(i,u,cw(u),a)}var wN="[object Number]";function _x(i){return typeof i=="number"||ci(i)&&Nu(i)==wN}function xN(i){return _x(i)&&i!=+i}var EN=CA?xl:sw,SN="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function jN(i){if(EN(i))throw new Error(SN);return IA(i)}function PN(i){return i===null}var AN="[object RegExp]";function MN(i){return ci(i)&&Nu(i)==AN}var oO=bl&&bl.isRegExp,Dm=oO?Ia(oO):MN,iO=9007199254740991;function TN(i){return mx(i)&&i>=-iO&&i<=iO}var kN="[object WeakMap]";function DN(i){return ci(i)&&Sp(i)==kN}var NN="[object WeakSet]";function RN(i){return ci(i)&&Nu(i)==NN}var CN=1;function IN(i){return qt(typeof i=="function"?i:Ol(i,CN))}var LN=Array.prototype,zN=LN.join;function BN(i,u){return i==null?"":zN.call(i,u)}var FN=jl(function(i,u,a){return i+(a?"-":"")+u.toLowerCase()}),WN=gy(function(i,u,a){_l(i,a,u)});function $N(i,u,a){for(var p=a+1;p--;)if(i[p]===u)return p;return p}var UN=Math.max,GN=Math.min;function HN(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=p;return a!==void 0&&(o=en(a),o=o<0?UN(p+o,0):GN(o,p-1)),u===u?$N(i,u,o):tw(i,LA,o,!0)}var XN=jl(function(i,u,a){return i+(a?" ":"")+u.toLowerCase()}),YN=Cw("toLowerCase");function Nm(i,u){return i<u}var VN=_y(Nm),KN=_y(function(i,u){return i<=u});function qN(i,u){var a={};return u=qt(u),za(i,function(p,o,d){_l(a,u(p,o,d),p)}),a}function ZN(i,u){var a={};return u=qt(u),za(i,function(p,o,d){_l(a,o,u(p,o,d))}),a}var JN=1;function QN(i){return zA(Ol(i,JN))}var eR=1;function tR(i,u){return BA(i,Ol(u,eR))}function wy(i,u,a){for(var p=-1,o=i.length;++p<o;){var d=i[p],h=u(d);if(h!=null&&(m===void 0?h===h&&!Fc(h):a(h,m)))var m=h,g=d}return g}function nR(i){return i&&i.length?wy(i,Ci,Am):void 0}function rR(i,u){return i&&i.length?wy(i,qt(u),Am):void 0}function Rm(i,u){for(var a,p=-1,o=i.length;++p<o;){var d=u(i[p]);d!==void 0&&(a=a===void 0?d:a+d)}return a}var oR=NaN;function Ox(i,u){var a=i==null?0:i.length;return a?Rm(i,u)/a:oR}function iR(i){return Ox(i,Ci)}function aR(i,u){return Ox(i,qt(u))}var uR=cn(function(i,u){return function(a){return Ap(a,i,u)}}),cR=cn(function(i,u){return function(a){return Ap(i,a,u)}});function sR(i){return i&&i.length?wy(i,Ci,Nm):void 0}function lR(i,u){return i&&i.length?wy(i,qt(u),Nm):void 0}function wx(i,u,a){var p=Oo(u),o=my(u,p),d=!(Ca(a)&&"chain"in a)||!!a.chain,h=xl(i);return Ii(o,function(m){var g=u[m];i[m]=g,h&&(i.prototype[m]=function(){var E=this.__chain__;if(d||E){var j=i(this.__wrapped__),P=j.__actions__=oi(this.__actions__);return P.push({func:g,args:arguments,thisArg:i}),j.__chain__=E,j}return g.apply(i,Ep([this.value()],arguments))})}),i}var fR=dy(function(i,u){return i*u},1),pR="Expected a function";function Mp(i){if(typeof i!="function")throw new TypeError(pR);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function dR(i){for(var u,a=[];!(u=i.next()).done;)a.push(u.value);return a}var hR="[object Map]",yR="[object Set]",Wb=Kh?Kh.iterator:void 0;function xx(i){if(!i)return[];if(Du(i))return Oy(i)?Ri(i):oi(i);if(Wb&&i[Wb])return dR(i[Wb]());var u=Sp(i),a=u==hR?ew:u==yR?FA:Pl;return a(i)}function vR(){this.__values__===void 0&&(this.__values__=xx(this.value()));var i=this.__index__>=this.__values__.length,u=i?void 0:this.__values__[this.__index__++];return{done:i,value:u}}function Ex(i,u){var a=i.length;if(a)return u+=u<0?a:0,wp(u,a)?i[u]:void 0}function gR(i,u){return i&&i.length?Ex(i,en(u)):void 0}function bR(i){return i=en(i),cn(function(u){return Ex(u,i)})}function Sx(i,u){if(i==null)return{};var a=Tr(WA(i),function(p){return[p]});return u=qt(u),$A(i,a,function(p,o){return u(p,o[0])})}function mR(i,u){return Sx(i,Mp(qt(u)))}function _R(i){return Aw(2,i)}function Cm(i){return Uc(function(u){return u=Tr(u,Ia(qt)),cn(function(a){var p=this;return i(u,function(o){return ii(o,p,a)})})})}var OR=Cm(Tr),wR=cn,xR=Math.min,ER=wR(function(i,u){u=u.length==1&&Fn(u[0])?Tr(u[0],Ia(qt)):Tr(si(u,1),Ia(qt));var a=u.length;return cn(function(p){for(var o=-1,d=xR(p.length,a);++o<d;)p[o]=u[o].call(this,p[o]);return ii(i,this,p)})}),SR=Cm(lx),jR=Cm(lw),PR=9007199254740991,AR=Math.floor;function Kb(i,u){var a="";if(!i||u<1||u>PR)return a;do u%2&&(a+=i),u=AR(u/2),u&&(i+=i);while(u);return a}var MR=fw("length"),jx="\\ud800-\\udfff",TR="\\u0300-\\u036f",kR="\\ufe20-\\ufe2f",DR="\\u20d0-\\u20ff",NR=TR+kR+DR,RR="\\ufe0e\\ufe0f",CR="["+jx+"]",qb="["+NR+"]",Zb="\\ud83c[\\udffb-\\udfff]",IR="(?:"+qb+"|"+Zb+")",Px="[^"+jx+"]",Ax="(?:\\ud83c[\\udde6-\\uddff]){2}",Mx="[\\ud800-\\udbff][\\udc00-\\udfff]",LR="\\u200d",Tx=IR+"?",kx="["+RR+"]?",zR="(?:"+LR+"(?:"+[Px,Ax,Mx].join("|")+")"+kx+Tx+")*",BR=kx+Tx+zR,FR="(?:"+[Px+qb+"?",qb,Ax,Mx,CR].join("|")+")",aO=RegExp(Zb+"(?="+Zb+")|"+FR+BR,"g");function WR(i){for(var u=aO.lastIndex=0;aO.test(i);)++u;return u}function Al(i){return Sl(i)?WR(i):MR(i)}var $R=Math.ceil;function Jh(i,u){u=u===void 0?" ":Di(u);var a=u.length;if(a<2)return a?Kb(u,i):u;var p=Kb(u,$R(i/Al(u)));return Sl(u)?Ru(Ri(p),0,i).join(""):p.slice(0,i)}var UR=Math.ceil,GR=Math.floor;function HR(i,u,a){i=Mn(i),u=en(u);var p=u?Al(i):0;if(!u||p>=u)return i;var o=(u-p)/2;return Jh(GR(o),a)+i+Jh(UR(o),a)}function XR(i,u,a){i=Mn(i),u=en(u);var p=u?Al(i):0;return u&&p<u?i+Jh(u-p,a):i}function YR(i,u,a){i=Mn(i),u=en(u);var p=u?Al(i):0;return u&&p<u?Jh(u-p,a)+i:i}var VR=/^\s+/,KR=$c.parseInt;function qR(i,u,a){return a||u==null?u=0:u&&(u=+u),KR(Mn(i).replace(VR,""),u||0)}var ZR=32,xy=cn(function(i,u){var a=ku(u,El(xy));return Ba(i,ZR,void 0,u,a)});xy.placeholder={};var JR=64,Im=cn(function(i,u){var a=ku(u,El(Im));return Ba(i,JR,void 0,u,a)});Im.placeholder={};var QR=gy(function(i,u,a){i[a?0:1].push(u)},function(){return[[],[]]});function eC(i){for(var u,a=this;a instanceof hy;){var p=ww(a);p.__index__=0,p.__values__=void 0,u?o.__wrapped__=p:u=p;var o=p;a=a.__wrapped__}return o.__wrapped__=i,u}function tC(i){return function(u){return i==null?void 0:pw(i,u)}}function nC(i,u,a,p){for(var o=a-1,d=i.length;++o<d;)if(p(i[o],u))return o;return-1}var rC=Array.prototype,uO=rC.splice;function Lm(i,u,a,p){var o=p?nC:jp,d=-1,h=u.length,m=i;for(i===u&&(u=oi(u)),a&&(m=Tr(i,Ia(a)));++d<h;)for(var g=0,E=u[d],j=a?a(E):E;(g=o(m,j,g,p))>-1;)m!==i&&uO.call(m,g,1),uO.call(i,g,1);return i}function Dx(i,u){return i&&i.length&&u&&u.length?Lm(i,u):i}var oC=cn(Dx);function iC(i,u,a){return i&&i.length&&u&&u.length?Lm(i,u,qt(a)):i}function aC(i,u,a){return i&&i.length&&u&&u.length?Lm(i,u,void 0,a):i}var uC=Array.prototype,cC=uC.splice;function Nx(i,u){for(var a=i?u.length:0,p=a-1;a--;){var o=u[a];if(a==p||o!==d){var d=o;wp(o)?cC.call(i,o,1):dw(i,o)}}return i}var sC=Uc(function(i,u){var a=i==null?0:i.length,p=bm(i,u);return Nx(i,Tr(u,function(o){return wp(o,a)?+o:o}).sort(x2)),p}),lC=Math.floor,fC=Math.random;function zm(i,u){return i+lC(fC()*(u-i+1))}var pC=parseFloat,dC=Math.min,hC=Math.random;function yC(i,u,a){if(a&&typeof a!="boolean"&&_o(i,u,a)&&(u=a=void 0),a===void 0&&(typeof u=="boolean"?(a=u,u=void 0):typeof i=="boolean"&&(a=i,i=void 0)),i===void 0&&u===void 0?(i=0,u=1):(i=Tu(i),u===void 0?(u=i,i=0):u=Tu(u)),i>u){var p=i;i=u,u=p}if(a||i%1||u%1){var o=hC();return dC(i+o*(u-i+pC("1e-"+((o+"").length-1))),u)}return zm(i,u)}var vC=Math.ceil,gC=Math.max;function bC(i,u,a,p){for(var o=-1,d=gC(vC((u-i)/(a||1)),0),h=Array(d);d--;)h[p?d:++o]=i,i+=a;return h}function Rx(i){return function(u,a,p){return p&&typeof p!="number"&&_o(u,a,p)&&(a=p=void 0),u=Tu(u),a===void 0?(a=u,u=0):a=Tu(a),p=p===void 0?u<a?1:-1:Tu(p),bC(u,a,p,i)}}var mC=Rx(),_C=Rx(!0),OC=256,wC=Uc(function(i,u){return Ba(i,OC,void 0,void 0,void 0,u)});function Cx(i,u,a,p,o){return o(i,function(d,h,m){a=p?(p=!1,d):u(a,d,h,m)}),a}function xC(i,u,a){var p=Fn(i)?wm:Cx,o=arguments.length<3;return p(i,qt(u),a,o,Gc)}function EC(i,u,a,p){var o=i==null?0:i.length;for(p&&o&&(a=i[--o]);o--;)a=u(a,i[o],o,i);return a}function SC(i,u,a){var p=Fn(i)?EC:Cx,o=arguments.length<3;return p(i,qt(u),a,o,ix)}function jC(i,u){var a=Fn(i)?Hc:px;return a(i,Mp(qt(u)))}function PC(i,u){var a=[];if(!(i&&i.length))return a;var p=-1,o=[],d=i.length;for(u=qt(u);++p<d;){var h=i[p];u(h,p,i)&&(a.push(h),o.push(p))}return Nx(i,o),a}function AC(i,u,a){return(a?_o(i,u,a):u===void 0)?u=1:u=en(u),Kb(Mn(i),u)}function MC(){var i=arguments,u=Mn(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var TC="Expected a function";function kC(i,u){if(typeof i!="function")throw new TypeError(TC);return u=u===void 0?u:en(u),cn(i,u)}function DC(i,u,a){u=ow(u,i);var p=-1,o=u.length;for(o||(o=1,i=void 0);++p<o;){var d=i==null?void 0:i[fy(u[p])];d===void 0&&(p=o,d=a),i=xl(d)?d.call(i):d}return i}var NC=Array.prototype,RC=NC.reverse;function Jb(i){return i==null?i:RC.call(i)}var CC=Em("round");function Ix(i){var u=i.length;return u?i[zm(0,u-1)]:void 0}function IC(i){return Ix(Pl(i))}function LC(i){var u=Fn(i)?Ix:IC;return u(i)}function Ey(i,u){var a=-1,p=i.length,o=p-1;for(u=u===void 0?p:u;++a<u;){var d=zm(a,o),h=i[d];i[d]=i[a],i[a]=h}return i.length=u,i}function zC(i,u){return Ey(oi(i),Xc(u,0,i.length))}function BC(i,u){var a=Pl(i);return Ey(a,Xc(u,0,a.length))}function FC(i,u,a){(a?_o(i,u,a):u===void 0)?u=1:u=en(u);var p=Fn(i)?zC:BC;return p(i,u)}function WC(i,u,a,p){return p=typeof p=="function"?p:void 0,i==null?i:hm(i,u,a,p)}function $C(i){return Ey(oi(i))}function UC(i){return Ey(Pl(i))}function GC(i){var u=Fn(i)?$C:UC;return u(i)}var HC="[object Map]",XC="[object Set]";function YC(i){if(i==null)return 0;if(Du(i))return Oy(i)?Al(i):i.length;var u=Sp(i);return u==HC||u==XC?i.size:aw(i).length}function VC(i,u,a){var p=i==null?0:i.length;return p?(a&&typeof a!="number"&&_o(i,u,a)?(u=0,a=p):(u=u==null?0:en(u),a=a===void 0?p:en(a)),Ni(i,u,a)):[]}var KC=jl(function(i,u,a){return i+(a?"_":"")+u.toLowerCase()});function qC(i,u){var a;return Gc(i,function(p,o,d){return a=u(p,o,d),!a}),!!a}function ZC(i,u,a){var p=Fn(i)?lw:qC;return a&&_o(i,u,a)&&(u=void 0),p(i,qt(u))}var JC=cn(function(i,u){if(i==null)return[];var a=u.length;return a>1&&_o(i,u[0],u[1])?u=[]:a>2&&_o(u[0],u[1],u[2])&&(u=[u[0]]),E2(i,si(u,1),[])}),QC=4294967295,eI=QC-1,tI=Math.floor,nI=Math.min;function Bm(i,u,a,p){var o=0,d=i==null?0:i.length;if(d===0)return 0;u=a(u);for(var h=u!==u,m=u===null,g=Fc(u),E=u===void 0;o<d;){var j=tI((o+d)/2),P=a(i[j]),k=P!==void 0,T=P===null,C=P===P,N=Fc(P);if(h)var L=p||C;else E?L=C&&(p||k):m?L=C&&k&&(p||!T):g?L=C&&k&&!T&&(p||!N):T||N?L=!1:L=p?P<=u:P<u;L?o=j+1:d=j}return nI(d,eI)}var rI=4294967295,oI=rI>>>1;function Sy(i,u,a){var p=0,o=i==null?p:i.length;if(typeof u=="number"&&u===u&&o<=oI){for(;p<o;){var d=p+o>>>1,h=i[d];h!==null&&!Fc(h)&&(a?h<=u:h<u)?p=d+1:o=d}return o}return Bm(i,u,Ci,a)}function iI(i,u){return Sy(i,u)}function aI(i,u,a){return Bm(i,u,qt(a))}function uI(i,u){var a=i==null?0:i.length;if(a){var p=Sy(i,u);if(p<a&&wl(i[p],u))return p}return-1}function cI(i,u){return Sy(i,u,!0)}function sI(i,u,a){return Bm(i,u,qt(a),!0)}function lI(i,u){var a=i==null?0:i.length;if(a){var p=Sy(i,u,!0)-1;if(wl(i[p],u))return p}return-1}function Lx(i,u){for(var a=-1,p=i.length,o=0,d=[];++a<p;){var h=i[a],m=u?u(h):h;if(!a||!wl(m,g)){var g=m;d[o++]=h===0?0:h}}return d}function fI(i){return i&&i.length?Lx(i):[]}function pI(i,u){return i&&i.length?Lx(i,qt(u)):[]}var dI=4294967295;function hI(i,u,a){return a&&typeof a!="number"&&_o(i,u,a)&&(u=a=void 0),a=a===void 0?dI:a>>>0,a?(i=Mn(i),i&&(typeof u=="string"||u!=null&&!Dm(u))&&(u=Di(u),!u&&Sl(i))?Ru(Ri(i),0,a):i.split(u,a)):[]}var yI="Expected a function",vI=Math.max;function gI(i,u){if(typeof i!="function")throw new TypeError(yI);return u=u==null?0:vI(en(u),0),cn(function(a){var p=a[u],o=Ru(a,0,u);return p&&Ep(o,p),ii(i,this,o)})}var bI=jl(function(i,u,a){return i+(a?" ":"")+Om(u)});function mI(i,u,a){return i=Mn(i),a=a==null?0:Xc(en(a),0,i.length),u=Di(u),i.slice(a,a+u.length)==u}function _I(){return{}}function OI(){return""}function wI(){return!0}var xI=dy(function(i,u){return i-u},0);function EI(i){return i&&i.length?Rm(i,Ci):0}function SI(i,u){return i&&i.length?Rm(i,qt(u)):0}function jI(i){var u=i==null?0:i.length;return u?Ni(i,1,u):[]}function PI(i,u,a){return i&&i.length?(u=a||u===void 0?1:en(u),Ni(i,0,u<0?0:u)):[]}function AI(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:en(u),u=p-u,Ni(i,u<0?0:u,p)):[]}function MI(i,u){return i&&i.length?by(i,qt(u),!1,!0):[]}function TI(i,u){return i&&i.length?by(i,qt(u)):[]}function kI(i,u){return u(i),i}var zx=Object.prototype,DI=zx.hasOwnProperty;function cO(i,u,a,p){return i===void 0||wl(i,zx[a])&&!DI.call(p,a)?u:i}var NI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function RI(i){return"\\"+NI[i]}var Bx=/<%=([\s\S]+?)%>/g,CI=/<%-([\s\S]+?)%>/g,II=/<%([\s\S]+?)%>/g,Qb={escape:CI,evaluate:II,interpolate:Bx,variable:"",imports:{_:{escape:cx}}},LI="Invalid `variable` option passed into `_.template`",zI=/\b__p \+= '';/g,BI=/\b(__p \+=) '' \+/g,FI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,WI=/[()=,{}\[\]\/\s]/,$I=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fh=/($^)/,UI=/['\n\r\u2028\u2029\\]/g,GI=Object.prototype,sO=GI.hasOwnProperty;function HI(i,u,a){var p=Qb.imports._.templateSettings||Qb;a&&_o(i,u,a)&&(u=void 0),i=Mn(i),u=Zh({},u,p,cO);var o=Zh({},u.imports,p.imports,cO),d=Oo(o),h=Mm(o,d),m,g,E=0,j=u.interpolate||Fh,P="__p += '",k=RegExp((u.escape||Fh).source+"|"+j.source+"|"+(j===Bx?$I:Fh).source+"|"+(u.evaluate||Fh).source+"|$","g"),T=sO.call(u,"sourceURL")?"//# sourceURL="+(u.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(k,function(L,U,G,te,ie,re){return G||(G=te),P+=i.slice(E,re).replace(UI,RI),U&&(m=!0,P+=`' +
__e(`+U+`) +
'`),ie&&(g=!0,P+=`';
`+ie+`;
__p += '`),G&&(P+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),E=re+L.length,L}),P+=`';
`;var C=sO.call(u,"variable")&&u.variable;if(!C)P=`with (obj) {
`+P+`
}
`;else if(WI.test(C))throw new Error(LI);P=(g?P.replace(zI,""):P).replace(BI,"$1").replace(FI,"$1;"),P="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var N=Pw(function(){return Function(d,T+"return "+P).apply(void 0,h)});if(N.source=P,mm(N))throw N;return N}function Tp(i,u){return u(i)}var XI=9007199254740991,$b=4294967295,YI=Math.min;function VI(i,u){if(i=en(i),i<1||i>XI)return[];var a=$b,p=YI(i,$b);u=aa(u),i-=$b;for(var o=hw(p,u);++a<i;)u(a);return o}function KI(){return this}function Fx(i,u){var a=i;return a instanceof pn&&(a=a.value()),wm(u,function(p,o){return o.func.apply(o.thisArg,Ep([p],o.args))},a)}function Ub(){return Fx(this.__wrapped__,this.__actions__)}function qI(i){return Mn(i).toLowerCase()}function ZI(i){return Fn(i)?Tr(i,fy):Fc(i)?[i]:oi(UA(Mn(i)))}var lO=9007199254740991;function JI(i){return i?Xc(en(i),-lO,lO):i===0?i:0}function QI(i){return Mn(i).toUpperCase()}function e3(i,u,a){var p=Fn(i),o=p||pm(i)||dm(i);if(u=qt(u),a==null){var d=i&&i.constructor;o?a=p?new d:[]:Ca(i)?a=xl(d)?Op(GA(i)):{}:a={}}return(o?Ii:za)(i,function(h,m,g){return u(a,h,m,g)}),a}function Wx(i,u){for(var a=i.length;a--&&jp(u,i[a],0)>-1;);return a}function $x(i,u){for(var a=-1,p=i.length;++a<p&&jp(u,i[a],0)>-1;);return a}function t3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return HA(i);if(!i||!(u=Di(u)))return i;var p=Ri(i),o=Ri(u),d=$x(p,o),h=Wx(p,o)+1;return Ru(p,d,h).join("")}function n3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return i.slice(0,XA(i)+1);if(!i||!(u=Di(u)))return i;var p=Ri(i),o=Wx(p,Ri(u))+1;return Ru(p,0,o).join("")}var r3=/^\s+/;function o3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return i.replace(r3,"");if(!i||!(u=Di(u)))return i;var p=Ri(i),o=$x(p,Ri(u));return Ru(p,o).join("")}var i3=30,a3="...",u3=/\w*$/;function c3(i,u){var a=i3,p=a3;if(Ca(u)){var o="separator"in u?u.separator:o;a="length"in u?en(u.length):a,p="omission"in u?Di(u.omission):p}i=Mn(i);var d=i.length;if(Sl(i)){var h=Ri(i);d=h.length}if(a>=d)return i;var m=a-Al(p);if(m<1)return p;var g=h?Ru(h,0,m).join(""):i.slice(0,m);if(o===void 0)return g+p;if(h&&(m+=g.length-m),Dm(o)){if(i.slice(m).search(o)){var E,j=g;for(o.global||(o=RegExp(o.source,Mn(u3.exec(o))+"g")),o.lastIndex=0;E=o.exec(j);)var P=E.index;g=g.slice(0,P===void 0?m:P)}}else if(i.indexOf(Di(o),m)!=m){var k=g.lastIndexOf(o);k>-1&&(g=g.slice(0,k))}return g+p}function s3(i){return jw(i,1)}var l3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f3=xm(l3),Ux=/&(?:amp|lt|gt|quot|#39);/g,p3=RegExp(Ux.source);function d3(i){return i=Mn(i),i&&p3.test(i)?i.replace(Ux,f3):i}var h3=cn(function(i){var u=ai(i);return _r(u)&&(u=void 0),Wc(si(i,1,_r,!0),qt(u))}),y3=cn(function(i){var u=ai(i);return u=typeof u=="function"?u:void 0,Wc(si(i,1,_r,!0),void 0,u)});function v3(i){return i&&i.length?Wc(i):[]}function g3(i,u){return i&&i.length?Wc(i,qt(u)):[]}function b3(i,u){return u=typeof u=="function"?u:void 0,i&&i.length?Wc(i,void 0,u):[]}var m3=0;function _3(i){var u=++m3;return Mn(i)+u}function O3(i,u){return i==null?!0:dw(i,u)}var w3=Math.max;function Fm(i){if(!(i&&i.length))return[];var u=0;return i=Hc(i,function(a){if(_r(a))return u=w3(a.length,u),!0}),hw(u,function(a){return Tr(i,fw(a))})}function Gx(i,u){if(!(i&&i.length))return[];var a=Fm(i);return u==null?a:Tr(a,function(p){return ii(u,void 0,p)})}function Hx(i,u,a,p){return hm(i,u,a(pw(i,u)),p)}function x3(i,u,a){return i==null?i:Hx(i,u,aa(a))}function E3(i,u,a,p){return p=typeof p=="function"?p:void 0,i==null?i:Hx(i,u,aa(a),p)}var S3=jl(function(i,u,a){return i+(a?" ":"")+u.toUpperCase()});function j3(i){return i==null?[]:Mm(i,La(i))}var P3=cn(function(i,u){return _r(i)?Pp(i,u):[]});function A3(i,u){return xy(aa(u),i)}var M3=Uc(function(i){var u=i.length,a=u?i[0]:0,p=this.__wrapped__,o=function(d){return bm(d,i)};return u>1||this.__actions__.length||!(p instanceof pn)||!wp(a)?this.thru(o):(p=p.slice(a,+a+(u?1:0)),p.__actions__.push({func:Tp,args:[o],thisArg:void 0}),new ui(p,this.__chain__).thru(function(d){return u&&!d.length&&d.push(void 0),d}))});function T3(){return Jw(this)}function k3(){var i=this.__wrapped__;if(i instanceof pn){var u=i;return this.__actions__.length&&(u=new pn(this)),u=u.reverse(),u.__actions__.push({func:Tp,args:[Jb],thisArg:void 0}),new ui(u,this.__chain__)}return this.thru(Jb)}function Wm(i,u,a){var p=i.length;if(p<2)return p?Wc(i[0]):[];for(var o=-1,d=Array(p);++o<p;)for(var h=i[o],m=-1;++m<p;)m!=o&&(d[o]=Pp(d[o]||h,i[m],u,a));return Wc(si(d,1),u,a)}var D3=cn(function(i){return Wm(Hc(i,_r))}),N3=cn(function(i){var u=ai(i);return _r(u)&&(u=void 0),Wm(Hc(i,_r),qt(u))}),R3=cn(function(i){var u=ai(i);return u=typeof u=="function"?u:void 0,Wm(Hc(i,_r),void 0,u)}),C3=cn(Fm);function Xx(i,u,a){for(var p=-1,o=i.length,d=u.length,h={};++p<o;){var m=p<d?u[p]:void 0;a(h,i[p],m)}return h}function I3(i,u){return Xx(i||[],u||[],KO)}function L3(i,u){return Xx(i||[],u||[],hm)}var z3=cn(function(i){var u=i.length,a=u>1?i[u-1]:void 0;return a=typeof a=="function"?(i.pop(),a):void 0,Gx(i,a)});const vt={chunk:ZT,compact:ik,concat:ak,difference:Mk,differenceBy:Tk,differenceWith:kk,drop:Nk,dropRight:Rk,dropRightWhile:Ck,dropWhile:Ik,fill:Jk,findIndex:hx,findLastIndex:nw,first:tO,flatten:YA,flattenDeep:VA,flattenDepth:cD,fromPairs:KA,head:tO,indexOf:$D,initial:UD,intersection:HD,intersectionBy:XD,intersectionWith:YD,join:BN,last:ai,lastIndexOf:HN,nth:gR,pull:oC,pullAll:Dx,pullAllBy:iC,pullAllWith:aC,pullAt:sC,remove:PC,reverse:Jb,slice:VC,sortedIndex:iI,sortedIndexBy:aI,sortedIndexOf:uI,sortedLastIndex:cI,sortedLastIndexBy:sI,sortedLastIndexOf:lI,sortedUniq:fI,sortedUniqBy:pI,tail:jI,take:PI,takeRight:AI,takeRightWhile:MI,takeWhile:TI,union:qA,unionBy:h3,unionWith:y3,uniq:v3,uniqBy:g3,uniqWith:b3,unzip:Fm,unzipWith:Gx,without:P3,xor:D3,xorBy:N3,xorWith:R3,zip:C3,zipObject:I3,zipObjectDeep:L3,zipWith:z3},kn={countBy:gk,each:Z1,eachRight:J1,every:Kk,filter:Qk,find:tD,findLast:rD,flatMap:ZA,flatMapDeep:aD,flatMapDepth:uD,forEach:Z1,forEachRight:J1,groupBy:PD,includes:FD,invokeMap:nN,keyBy:WN,map:fm,orderBy:S2,partition:QR,reduce:xC,reduceRight:SC,reject:jC,sample:LC,sampleSize:FC,shuffle:GC,size:YC,some:ZC,sortBy:JC},B3={now:JA},cr={after:T2,ary:jw,before:Aw,bind:vy,bindKey:_m,curry:Sm,curryRight:jm,debounce:QA,defer:jk,delay:Pk,flip:lD,memoize:e2,negate:Mp,once:_R,overArgs:ER,partial:xy,partialRight:Im,rearg:wC,rest:kC,spread:gI,throttle:t2,unary:s3,wrap:A3},Dt={castArray:n2,clone:r2,cloneDeep:o2,cloneDeepWith:tk,cloneWith:rk,conformsTo:pk,eq:wl,gt:AD,gte:MD,isArguments:iw,isArray:Fn,isArrayBuffer:iN,isArrayLike:Du,isArrayLikeObject:_r,isBoolean:uN,isBuffer:pm,isDate:lN,isElement:fN,isEmpty:vN,isEqual:i2,isEqualWith:gN,isError:mm,isFinite:mN,isFunction:xl,isInteger:mx,isLength:a2,isMap:u2,isMatch:_N,isMatchWith:ON,isNaN:xN,isNative:jN,isNil:c2,isNull:PN,isNumber:_x,isObject:Ca,isObjectLike:ci,isPlainObject:lm,isRegExp:Dm,isSafeInteger:TN,isSet:s2,isString:Oy,isSymbol:Fc,isTypedArray:dm,isUndefined:l2,isWeakMap:DN,isWeakSet:RN,lt:VN,lte:KN,toArray:xx,toFinite:Tu,toInteger:en,toLength:fx,toNumber:Ra,toPlainObject:f2,toSafeInteger:JI,toString:Mn},uo={add:A2,ceil:VT,divide:Dk,floor:fD,max:nR,maxBy:rR,mean:iR,meanBy:aR,min:sR,minBy:lR,multiply:fR,round:CC,subtract:xI,sum:EI,sumBy:SI},$m={clamp:JT,inRange:LD,random:yC},Ht={assign:PM,assignIn:X1,assignInWith:Zh,assignWith:AM,at:MM,create:bk,defaults:xk,defaultsDeep:Ek,entries:Q1,entriesIn:eO,extend:X1,extendWith:Zh,findKey:nD,findLastKey:oD,forIn:mD,forInRight:_D,forOwn:OD,forOwnRight:wD,functions:xD,functionsIn:ED,get:qO,has:ND,hasIn:p2,invert:ZD,invertBy:eN,invoke:tN,keys:Oo,keysIn:La,mapKeys:qN,mapValues:ZN,merge:d2,mergeWith:nx,omit:h2,omitBy:mR,pick:y2,pickBy:Sx,result:DC,set:v2,setWith:WC,toPairs:Q1,toPairsIn:eO,transform:e3,unset:O3,update:x3,updateWith:E3,values:Pl,valuesIn:j3},ua={at:M3,chain:Jw,commit:ok,lodash:W,next:vR,plant:eC,reverse:k3,tap:kI,thru:Tp,toIterator:KI,toJSON:Ub,value:Ub,valueOf:Ub,wrapperChain:T3},Sn={camelCase:HT,capitalize:Iw,deburr:Lw,endsWith:zk,escape:cx,escapeRegExp:Yk,kebabCase:FN,lowerCase:XN,lowerFirst:YN,pad:HR,padEnd:XR,padStart:YR,parseInt:qR,repeat:AC,replace:MC,snakeCase:KC,split:hI,startCase:bI,startsWith:mI,template:HI,templateSettings:Qb,toLower:qI,toUpper:QI,trim:t3,trimEnd:n3,trimStart:o3,truncate:c3,unescape:d3,upperCase:S3,upperFirst:Om,words:Zw},jn={attempt:Pw,bindAll:CM,cond:ck,conforms:fk,constant:rw,defaultTo:Ok,flow:gD,flowRight:bD,identity:Ci,iteratee:IN,matches:QN,matchesProperty:tR,method:uR,methodOf:cR,mixin:wx,noop:YO,nthArg:bR,over:OR,overEvery:SR,overSome:jR,property:g2,propertyOf:tC,range:mC,rangeRight:_C,stubArray:b2,stubFalse:sw,stubObject:_I,stubString:OI,stubTrue:wI,times:VI,toPath:ZI,uniqueId:_3};function F3(){var i=new pn(this.__wrapped__);return i.__actions__=oi(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=oi(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=oi(this.__views__),i}function W3(){if(this.__filtered__){var i=new pn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var $3=Math.max,U3=Math.min;function G3(i,u,a){for(var p=-1,o=a.length;++p<o;){var d=a[p],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":u-=h;break;case"take":u=U3(u,i+h);break;case"takeRight":i=$3(i,u-h);break}}return{start:i,end:u}}var H3=1,X3=2,Y3=Math.min;function V3(){var i=this.__wrapped__.value(),u=this.__dir__,a=Fn(i),p=u<0,o=a?i.length:0,d=G3(0,o,this.__views__),h=d.start,m=d.end,g=m-h,E=p?m:h-1,j=this.__iteratees__,P=j.length,k=0,T=Y3(g,this.__takeCount__);if(!a||!p&&o==g&&T==g)return Fx(i,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=u;for(var N=-1,L=i[E];++N<P;){var U=j[N],G=U.iteratee,te=U.type,ie=G(L);if(te==X3)L=ie;else if(!ie){if(te==H3)continue e;break e}}C[k++]=L}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var K3="4.17.21",q3=2,Z3=1,J3=3,Yx=4294967295,Q3=Array.prototype,eL=Object.prototype,Vx=eL.hasOwnProperty,fO=Kh?Kh.iterator:void 0,tL=Math.max,pO=Math.min,Um=function(i){return function(u,a,p){if(p==null){var o=Ca(a),d=o&&Oo(a),h=d&&d.length&&my(a,d);(h?h.length:o)||(p=a,a=u,u=this)}return i(u,a,p)}}(wx);W.after=cr.after;W.ary=cr.ary;W.assign=Ht.assign;W.assignIn=Ht.assignIn;W.assignInWith=Ht.assignInWith;W.assignWith=Ht.assignWith;W.at=Ht.at;W.before=cr.before;W.bind=cr.bind;W.bindAll=jn.bindAll;W.bindKey=cr.bindKey;W.castArray=Dt.castArray;W.chain=ua.chain;W.chunk=vt.chunk;W.compact=vt.compact;W.concat=vt.concat;W.cond=jn.cond;W.conforms=jn.conforms;W.constant=jn.constant;W.countBy=kn.countBy;W.create=Ht.create;W.curry=cr.curry;W.curryRight=cr.curryRight;W.debounce=cr.debounce;W.defaults=Ht.defaults;W.defaultsDeep=Ht.defaultsDeep;W.defer=cr.defer;W.delay=cr.delay;W.difference=vt.difference;W.differenceBy=vt.differenceBy;W.differenceWith=vt.differenceWith;W.drop=vt.drop;W.dropRight=vt.dropRight;W.dropRightWhile=vt.dropRightWhile;W.dropWhile=vt.dropWhile;W.fill=vt.fill;W.filter=kn.filter;W.flatMap=kn.flatMap;W.flatMapDeep=kn.flatMapDeep;W.flatMapDepth=kn.flatMapDepth;W.flatten=vt.flatten;W.flattenDeep=vt.flattenDeep;W.flattenDepth=vt.flattenDepth;W.flip=cr.flip;W.flow=jn.flow;W.flowRight=jn.flowRight;W.fromPairs=vt.fromPairs;W.functions=Ht.functions;W.functionsIn=Ht.functionsIn;W.groupBy=kn.groupBy;W.initial=vt.initial;W.intersection=vt.intersection;W.intersectionBy=vt.intersectionBy;W.intersectionWith=vt.intersectionWith;W.invert=Ht.invert;W.invertBy=Ht.invertBy;W.invokeMap=kn.invokeMap;W.iteratee=jn.iteratee;W.keyBy=kn.keyBy;W.keys=Oo;W.keysIn=Ht.keysIn;W.map=kn.map;W.mapKeys=Ht.mapKeys;W.mapValues=Ht.mapValues;W.matches=jn.matches;W.matchesProperty=jn.matchesProperty;W.memoize=cr.memoize;W.merge=Ht.merge;W.mergeWith=Ht.mergeWith;W.method=jn.method;W.methodOf=jn.methodOf;W.mixin=Um;W.negate=Mp;W.nthArg=jn.nthArg;W.omit=Ht.omit;W.omitBy=Ht.omitBy;W.once=cr.once;W.orderBy=kn.orderBy;W.over=jn.over;W.overArgs=cr.overArgs;W.overEvery=jn.overEvery;W.overSome=jn.overSome;W.partial=cr.partial;W.partialRight=cr.partialRight;W.partition=kn.partition;W.pick=Ht.pick;W.pickBy=Ht.pickBy;W.property=jn.property;W.propertyOf=jn.propertyOf;W.pull=vt.pull;W.pullAll=vt.pullAll;W.pullAllBy=vt.pullAllBy;W.pullAllWith=vt.pullAllWith;W.pullAt=vt.pullAt;W.range=jn.range;W.rangeRight=jn.rangeRight;W.rearg=cr.rearg;W.reject=kn.reject;W.remove=vt.remove;W.rest=cr.rest;W.reverse=vt.reverse;W.sampleSize=kn.sampleSize;W.set=Ht.set;W.setWith=Ht.setWith;W.shuffle=kn.shuffle;W.slice=vt.slice;W.sortBy=kn.sortBy;W.sortedUniq=vt.sortedUniq;W.sortedUniqBy=vt.sortedUniqBy;W.split=Sn.split;W.spread=cr.spread;W.tail=vt.tail;W.take=vt.take;W.takeRight=vt.takeRight;W.takeRightWhile=vt.takeRightWhile;W.takeWhile=vt.takeWhile;W.tap=ua.tap;W.throttle=cr.throttle;W.thru=Tp;W.toArray=Dt.toArray;W.toPairs=Ht.toPairs;W.toPairsIn=Ht.toPairsIn;W.toPath=jn.toPath;W.toPlainObject=Dt.toPlainObject;W.transform=Ht.transform;W.unary=cr.unary;W.union=vt.union;W.unionBy=vt.unionBy;W.unionWith=vt.unionWith;W.uniq=vt.uniq;W.uniqBy=vt.uniqBy;W.uniqWith=vt.uniqWith;W.unset=Ht.unset;W.unzip=vt.unzip;W.unzipWith=vt.unzipWith;W.update=Ht.update;W.updateWith=Ht.updateWith;W.values=Ht.values;W.valuesIn=Ht.valuesIn;W.without=vt.without;W.words=Sn.words;W.wrap=cr.wrap;W.xor=vt.xor;W.xorBy=vt.xorBy;W.xorWith=vt.xorWith;W.zip=vt.zip;W.zipObject=vt.zipObject;W.zipObjectDeep=vt.zipObjectDeep;W.zipWith=vt.zipWith;W.entries=Ht.toPairs;W.entriesIn=Ht.toPairsIn;W.extend=Ht.assignIn;W.extendWith=Ht.assignInWith;Um(W,W);W.add=uo.add;W.attempt=jn.attempt;W.camelCase=Sn.camelCase;W.capitalize=Sn.capitalize;W.ceil=uo.ceil;W.clamp=$m.clamp;W.clone=Dt.clone;W.cloneDeep=Dt.cloneDeep;W.cloneDeepWith=Dt.cloneDeepWith;W.cloneWith=Dt.cloneWith;W.conformsTo=Dt.conformsTo;W.deburr=Sn.deburr;W.defaultTo=jn.defaultTo;W.divide=uo.divide;W.endsWith=Sn.endsWith;W.eq=Dt.eq;W.escape=Sn.escape;W.escapeRegExp=Sn.escapeRegExp;W.every=kn.every;W.find=kn.find;W.findIndex=vt.findIndex;W.findKey=Ht.findKey;W.findLast=kn.findLast;W.findLastIndex=vt.findLastIndex;W.findLastKey=Ht.findLastKey;W.floor=uo.floor;W.forEach=kn.forEach;W.forEachRight=kn.forEachRight;W.forIn=Ht.forIn;W.forInRight=Ht.forInRight;W.forOwn=Ht.forOwn;W.forOwnRight=Ht.forOwnRight;W.get=Ht.get;W.gt=Dt.gt;W.gte=Dt.gte;W.has=Ht.has;W.hasIn=Ht.hasIn;W.head=vt.head;W.identity=Ci;W.includes=kn.includes;W.indexOf=vt.indexOf;W.inRange=$m.inRange;W.invoke=Ht.invoke;W.isArguments=Dt.isArguments;W.isArray=Fn;W.isArrayBuffer=Dt.isArrayBuffer;W.isArrayLike=Dt.isArrayLike;W.isArrayLikeObject=Dt.isArrayLikeObject;W.isBoolean=Dt.isBoolean;W.isBuffer=Dt.isBuffer;W.isDate=Dt.isDate;W.isElement=Dt.isElement;W.isEmpty=Dt.isEmpty;W.isEqual=Dt.isEqual;W.isEqualWith=Dt.isEqualWith;W.isError=Dt.isError;W.isFinite=Dt.isFinite;W.isFunction=Dt.isFunction;W.isInteger=Dt.isInteger;W.isLength=Dt.isLength;W.isMap=Dt.isMap;W.isMatch=Dt.isMatch;W.isMatchWith=Dt.isMatchWith;W.isNaN=Dt.isNaN;W.isNative=Dt.isNative;W.isNil=Dt.isNil;W.isNull=Dt.isNull;W.isNumber=Dt.isNumber;W.isObject=Ca;W.isObjectLike=Dt.isObjectLike;W.isPlainObject=Dt.isPlainObject;W.isRegExp=Dt.isRegExp;W.isSafeInteger=Dt.isSafeInteger;W.isSet=Dt.isSet;W.isString=Dt.isString;W.isSymbol=Dt.isSymbol;W.isTypedArray=Dt.isTypedArray;W.isUndefined=Dt.isUndefined;W.isWeakMap=Dt.isWeakMap;W.isWeakSet=Dt.isWeakSet;W.join=vt.join;W.kebabCase=Sn.kebabCase;W.last=ai;W.lastIndexOf=vt.lastIndexOf;W.lowerCase=Sn.lowerCase;W.lowerFirst=Sn.lowerFirst;W.lt=Dt.lt;W.lte=Dt.lte;W.max=uo.max;W.maxBy=uo.maxBy;W.mean=uo.mean;W.meanBy=uo.meanBy;W.min=uo.min;W.minBy=uo.minBy;W.stubArray=jn.stubArray;W.stubFalse=jn.stubFalse;W.stubObject=jn.stubObject;W.stubString=jn.stubString;W.stubTrue=jn.stubTrue;W.multiply=uo.multiply;W.nth=vt.nth;W.noop=jn.noop;W.now=B3.now;W.pad=Sn.pad;W.padEnd=Sn.padEnd;W.padStart=Sn.padStart;W.parseInt=Sn.parseInt;W.random=$m.random;W.reduce=kn.reduce;W.reduceRight=kn.reduceRight;W.repeat=Sn.repeat;W.replace=Sn.replace;W.result=Ht.result;W.round=uo.round;W.sample=kn.sample;W.size=kn.size;W.snakeCase=Sn.snakeCase;W.some=kn.some;W.sortedIndex=vt.sortedIndex;W.sortedIndexBy=vt.sortedIndexBy;W.sortedIndexOf=vt.sortedIndexOf;W.sortedLastIndex=vt.sortedLastIndex;W.sortedLastIndexBy=vt.sortedLastIndexBy;W.sortedLastIndexOf=vt.sortedLastIndexOf;W.startCase=Sn.startCase;W.startsWith=Sn.startsWith;W.subtract=uo.subtract;W.sum=uo.sum;W.sumBy=uo.sumBy;W.template=Sn.template;W.times=jn.times;W.toFinite=Dt.toFinite;W.toInteger=en;W.toLength=Dt.toLength;W.toLower=Sn.toLower;W.toNumber=Dt.toNumber;W.toSafeInteger=Dt.toSafeInteger;W.toString=Dt.toString;W.toUpper=Sn.toUpper;W.trim=Sn.trim;W.trimEnd=Sn.trimEnd;W.trimStart=Sn.trimStart;W.truncate=Sn.truncate;W.unescape=Sn.unescape;W.uniqueId=jn.uniqueId;W.upperCase=Sn.upperCase;W.upperFirst=Sn.upperFirst;W.each=kn.forEach;W.eachRight=kn.forEachRight;W.first=vt.head;Um(W,function(){var i={};return za(W,function(u,a){Vx.call(W.prototype,a)||(i[a]=u)}),i}(),{chain:!1});W.VERSION=K3;(W.templateSettings=Sn.templateSettings).imports._=W;Ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){W[i].placeholder=W});Ii(["drop","take"],function(i,u){pn.prototype[i]=function(a){a=a===void 0?1:tL(en(a),0);var p=this.__filtered__&&!u?new pn(this):this.clone();return p.__filtered__?p.__takeCount__=pO(a,p.__takeCount__):p.__views__.push({size:pO(a,Yx),type:i+(p.__dir__<0?"Right":"")}),p},pn.prototype[i+"Right"]=function(a){return this.reverse()[i](a).reverse()}});Ii(["filter","map","takeWhile"],function(i,u){var a=u+1,p=a==Z3||a==J3;pn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:qt(o),type:a}),d.__filtered__=d.__filtered__||p,d}});Ii(["head","last"],function(i,u){var a="take"+(u?"Right":"");pn.prototype[i]=function(){return this[a](1).value()[0]}});Ii(["initial","tail"],function(i,u){var a="drop"+(u?"":"Right");pn.prototype[i]=function(){return this.__filtered__?new pn(this):this[a](1)}});pn.prototype.compact=function(){return this.filter(Ci)};pn.prototype.find=function(i){return this.filter(i).head()};pn.prototype.findLast=function(i){return this.reverse().find(i)};pn.prototype.invokeMap=cn(function(i,u){return typeof i=="function"?new pn(this):this.map(function(a){return Ap(a,i,u)})});pn.prototype.reject=function(i){return this.filter(Mp(qt(i)))};pn.prototype.slice=function(i,u){i=en(i);var a=this;return a.__filtered__&&(i>0||u<0)?new pn(a):(i<0?a=a.takeRight(-i):i&&(a=a.drop(i)),u!==void 0&&(u=en(u),a=u<0?a.dropRight(-u):a.take(u-i)),a)};pn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};pn.prototype.toArray=function(){return this.take(Yx)};za(pn.prototype,function(i,u){var a=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),o=W[p?"take"+(u=="last"?"Right":""):u],d=p||/^find/.test(u);o&&(W.prototype[u]=function(){var h=this.__wrapped__,m=p?[1]:arguments,g=h instanceof pn,E=m[0],j=g||Fn(h),P=function(U){var G=o.apply(W,Ep([U],m));return p&&k?G[0]:G};j&&a&&typeof E=="function"&&E.length!=1&&(g=j=!1);var k=this.__chain__,T=!!this.__actions__.length,C=d&&!k,N=g&&!T;if(!d&&j){h=N?h:new pn(this);var L=i.apply(h,m);return L.__actions__.push({func:Tp,args:[P],thisArg:void 0}),new ui(L,k)}return C&&N?i.apply(this,m):(L=this.thru(P),C?p?L.value()[0]:L.value():L)})});Ii(["pop","push","shift","sort","splice","unshift"],function(i){var u=Q3[i],a=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);W.prototype[i]=function(){var o=arguments;if(p&&!this.__chain__){var d=this.value();return u.apply(Fn(d)?d:[],o)}return this[a](function(h){return u.apply(Fn(h)?h:[],o)})}});za(pn.prototype,function(i,u){var a=W[u];if(a){var p=a.name+"";Vx.call(yl,p)||(yl[p]=[]),yl[p].push({name:u,func:a})}});yl[yy(void 0,q3).name]=[{name:"wrapper",func:void 0}];pn.prototype.clone=F3;pn.prototype.reverse=W3;pn.prototype.value=V3;W.prototype.at=ua.at;W.prototype.chain=ua.wrapperChain;W.prototype.commit=ua.commit;W.prototype.next=ua.next;W.prototype.plant=ua.plant;W.prototype.reverse=ua.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=ua.value;W.prototype.first=W.prototype.head;fO&&(W.prototype[fO]=ua.toIterator);const nL=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],rL={flowElementList:nL};var Wh={exports:{}},dO;function oL(){return dO||(dO=1,function(i,u){(function(a,p){i.exports=p()})(window,function(){return function(a){var p={};function o(d){if(p[d])return p[d].exports;var h=p[d]={i:d,l:!1,exports:{}};return a[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=a,o.c=p,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var g in d)o.d(m,g,function(E){return d[E]}.bind(null,g));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)}([function(a,p,o){o.d(p,"a",function(){return re}),o.d(p,"b",function(){return ie}),o.d(p,"c",function(){return Je}),o.d(p,"d",function(){return bt}),o.d(p,"e",function(){return U}),o.d(p,"f",function(){return te}),o.d(p,"g",function(){return U}),o.d(p,"h",function(){return Ye}),o.d(p,"i",function(){return h}),o.d(p,"j",function(){return xt}),o.d(p,"k",function(){return q});var d,h,m,g,E,j,P,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(se,ce){for(var ye in ce)se[ye]=ce[ye];return se}function L(se){var ce=se.parentNode;ce&&ce.removeChild(se)}function U(se,ce,ye){var De,He,ze,Et={};for(ze in ce)ze=="key"?De=ce[ze]:ze=="ref"?He=ce[ze]:Et[ze]=ce[ze];if(arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):ye),typeof se=="function"&&se.defaultProps!=null)for(ze in se.defaultProps)Et[ze]===void 0&&(Et[ze]=se.defaultProps[ze]);return G(se,Et,De,He,null)}function G(se,ce,ye,De,He){var ze={type:se,props:ce,key:ye,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He==null?++m:He};return He==null&&h.vnode!=null&&h.vnode(ze),ze}function te(){return{current:null}}function ie(se){return se.children}function re(se,ce){this.props=se,this.context=ce}function Q(se,ce){if(ce==null)return se.__?Q(se.__,se.__.__k.indexOf(se)+1):null;for(var ye;ce<se.__k.length;ce++)if((ye=se.__k[ce])!=null&&ye.__e!=null)return ye.__e;return typeof se.type=="function"?Q(se):null}function Z(se){var ce,ye;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,ce=0;ce<se.__k.length;ce++)if((ye=se.__k[ce])!=null&&ye.__e!=null){se.__e=se.__c.base=ye.__e;break}return Z(se)}}function H(se){(!se.__d&&(se.__d=!0)&&g.push(se)&&!B.__r++||j!==h.debounceRendering)&&((j=h.debounceRendering)||E)(B)}function B(){for(var se;B.__r=g.length;)se=g.sort(function(ce,ye){return ce.__v.__b-ye.__v.__b}),g=[],se.some(function(ce){var ye,De,He,ze,Et,Nt;ce.__d&&(Et=(ze=(ye=ce).__v).__e,(Nt=ye.__P)&&(De=[],(He=N({},ze)).__v=ze.__v+1,je(Nt,ze,He,ye.__n,Nt.ownerSVGElement!==void 0,ze.__h!=null?[Et]:null,De,Et==null?Q(ze):Et,ze.__h),ve(De,ze),ze.__e!=Et&&Z(ze)))})}function X(se,ce,ye,De,He,ze,Et,Nt,Pt,gt){var Te,lt,pe,ut,Bt,dn,Ft,nn=De&&De.__k||T,On=nn.length;for(ye.__k=[],Te=0;Te<ce.length;Te++)if((ut=ye.__k[Te]=(ut=ce[Te])==null||typeof ut=="boolean"?null:typeof ut=="string"||typeof ut=="number"||typeof ut=="bigint"?G(null,ut,null,null,ut):Array.isArray(ut)?G(ie,{children:ut},null,null,null):ut.__b>0?G(ut.type,ut.props,ut.key,null,ut.__v):ut)!=null){if(ut.__=ye,ut.__b=ye.__b+1,(pe=nn[Te])===null||pe&&ut.key==pe.key&&ut.type===pe.type)nn[Te]=void 0;else for(lt=0;lt<On;lt++){if((pe=nn[lt])&&ut.key==pe.key&&ut.type===pe.type){nn[lt]=void 0;break}pe=null}je(se,ut,pe=pe||k,He,ze,Et,Nt,Pt,gt),Bt=ut.__e,(lt=ut.ref)&&pe.ref!=lt&&(Ft||(Ft=[]),pe.ref&&Ft.push(pe.ref,null,ut),Ft.push(lt,ut.__c||Bt,ut)),Bt!=null?(dn==null&&(dn=Bt),typeof ut.type=="function"&&ut.__k===pe.__k?ut.__d=Pt=Y(ut,Pt,se):Pt=ue(se,ut,pe,nn,Bt,Pt),typeof ye.type=="function"&&(ye.__d=Pt)):Pt&&pe.__e==Pt&&Pt.parentNode!=se&&(Pt=Q(pe))}for(ye.__e=dn,Te=On;Te--;)nn[Te]!=null&&(typeof ye.type=="function"&&nn[Te].__e!=null&&nn[Te].__e==ye.__d&&(ye.__d=Q(De,Te+1)),$e(nn[Te],nn[Te]));if(Ft)for(Te=0;Te<Ft.length;Te++)Me(Ft[Te],Ft[++Te],Ft[++Te])}function Y(se,ce,ye){for(var De,He=se.__k,ze=0;He&&ze<He.length;ze++)(De=He[ze])&&(De.__=se,ce=typeof De.type=="function"?Y(De,ce,ye):ue(ye,De,De,He,De.__e,ce));return ce}function q(se,ce){return ce=ce||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(ye){q(ye,ce)}):ce.push(se)),ce}function ue(se,ce,ye,De,He,ze){var Et,Nt,Pt;if(ce.__d!==void 0)Et=ce.__d,ce.__d=void 0;else if(ye==null||He!=ze||He.parentNode==null)e:if(ze==null||ze.parentNode!==se)se.appendChild(He),Et=null;else{for(Nt=ze,Pt=0;(Nt=Nt.nextSibling)&&Pt<De.length;Pt+=2)if(Nt==He)break e;se.insertBefore(He,ze),Et=ze}return Et!==void 0?Et:He.nextSibling}function Ee(se,ce,ye){ce[0]==="-"?se.setProperty(ce,ye):se[ce]=ye==null?"":typeof ye!="number"||C.test(ce)?ye:ye+"px"}function me(se,ce,ye,De,He){var ze;e:if(ce==="style")if(typeof ye=="string")se.style.cssText=ye;else{if(typeof De=="string"&&(se.style.cssText=De=""),De)for(ce in De)ye&&ce in ye||Ee(se.style,ce,"");if(ye)for(ce in ye)De&&ye[ce]===De[ce]||Ee(se.style,ce,ye[ce])}else if(ce[0]==="o"&&ce[1]==="n")ze=ce!==(ce=ce.replace(/Capture$/,"")),ce=ce.toLowerCase()in se?ce.toLowerCase().slice(2):ce.slice(2),se.l||(se.l={}),se.l[ce+ze]=ye,ye?De||se.addEventListener(ce,ze?Fe:Ae,ze):se.removeEventListener(ce,ze?Fe:Ae,ze);else if(ce!=="dangerouslySetInnerHTML"){if(He)ce=ce.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ce!=="href"&&ce!=="list"&&ce!=="form"&&ce!=="tabIndex"&&ce!=="download"&&ce in se)try{se[ce]=ye==null?"":ye;break e}catch(Et){}typeof ye=="function"||(ye!=null&&(ye!==!1||ce[0]==="a"&&ce[1]==="r")?se.setAttribute(ce,ye):se.removeAttribute(ce))}}function Ae(se){this.l[se.type+!1](h.event?h.event(se):se)}function Fe(se){this.l[se.type+!0](h.event?h.event(se):se)}function je(se,ce,ye,De,He,ze,Et,Nt,Pt){var gt,Te,lt,pe,ut,Bt,dn,Ft,nn,On,Tn,Ct=ce.type;if(ce.constructor!==void 0)return null;ye.__h!=null&&(Pt=ye.__h,Nt=ce.__e=ye.__e,ce.__h=null,ze=[Nt]),(gt=h.__b)&&gt(ce);try{e:if(typeof Ct=="function"){if(Ft=ce.props,nn=(gt=Ct.contextType)&&De[gt.__c],On=gt?nn?nn.props.value:gt.__:De,ye.__c?dn=(Te=ce.__c=ye.__c).__=Te.__E:("prototype"in Ct&&Ct.prototype.render?ce.__c=Te=new Ct(Ft,On):(ce.__c=Te=new re(Ft,On),Te.constructor=Ct,Te.render=rt),nn&&nn.sub(Te),Te.props=Ft,Te.state||(Te.state={}),Te.context=On,Te.__n=De,lt=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),Ct.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=N({},Te.__s)),N(Te.__s,Ct.getDerivedStateFromProps(Ft,Te.__s))),pe=Te.props,ut=Te.state,lt)Ct.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&Ft!==pe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(Ft,On),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(Ft,Te.__s,On)===!1||ce.__v===ye.__v){Te.props=Ft,Te.state=Te.__s,ce.__v!==ye.__v&&(Te.__d=!1),Te.__v=ce,ce.__e=ye.__e,ce.__k=ye.__k,ce.__k.forEach(function(Hn){Hn&&(Hn.__=ce)}),Te.__h.length&&Et.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(Ft,Te.__s,On),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(pe,ut,Bt)})}Te.context=On,Te.props=Ft,Te.state=Te.__s,(gt=h.__r)&&gt(ce),Te.__d=!1,Te.__v=ce,Te.__P=se,gt=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(De=N(N({},De),Te.getChildContext())),lt||Te.getSnapshotBeforeUpdate==null||(Bt=Te.getSnapshotBeforeUpdate(pe,ut)),Tn=gt!=null&&gt.type===ie&&gt.key==null?gt.props.children:gt,X(se,Array.isArray(Tn)?Tn:[Tn],ce,ye,De,He,ze,Et,Nt,Pt),Te.base=ce.__e,ce.__h=null,Te.__h.length&&Et.push(Te),dn&&(Te.__E=Te.__=null),Te.__e=!1}else ze==null&&ce.__v===ye.__v?(ce.__k=ye.__k,ce.__e=ye.__e):ce.__e=Pe(ye.__e,ce,ye,De,He,ze,Et,Pt);(gt=h.diffed)&&gt(ce)}catch(Hn){ce.__v=null,(Pt||ze!=null)&&(ce.__e=Nt,ce.__h=!!Pt,ze[ze.indexOf(Nt)]=null),h.__e(Hn,ce,ye)}}function ve(se,ce){h.__c&&h.__c(ce,se),se.some(function(ye){try{se=ye.__h,ye.__h=[],se.some(function(De){De.call(ye)})}catch(De){h.__e(De,ye.__v)}})}function Pe(se,ce,ye,De,He,ze,Et,Nt){var Pt,gt,Te,lt=ye.props,pe=ce.props,ut=ce.type,Bt=0;if(ut==="svg"&&(He=!0),ze!=null){for(;Bt<ze.length;Bt++)if((Pt=ze[Bt])&&"setAttribute"in Pt==!!ut&&(ut?Pt.localName===ut:Pt.nodeType===3)){se=Pt,ze[Bt]=null;break}}if(se==null){if(ut===null)return document.createTextNode(pe);se=He?document.createElementNS("http://www.w3.org/2000/svg",ut):document.createElement(ut,pe.is&&pe),ze=null,Nt=!1}if(ut===null)lt===pe||Nt&&se.data===pe||(se.data=pe);else{if(ze=ze&&d.call(se.childNodes),gt=(lt=ye.props||k).dangerouslySetInnerHTML,Te=pe.dangerouslySetInnerHTML,!Nt){if(ze!=null)for(lt={},Bt=0;Bt<se.attributes.length;Bt++)lt[se.attributes[Bt].name]=se.attributes[Bt].value;(Te||gt)&&(Te&&(gt&&Te.__html==gt.__html||Te.__html===se.innerHTML)||(se.innerHTML=Te&&Te.__html||""))}if(function(dn,Ft,nn,On,Tn){var Ct;for(Ct in nn)Ct==="children"||Ct==="key"||Ct in Ft||me(dn,Ct,null,nn[Ct],On);for(Ct in Ft)Tn&&typeof Ft[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||nn[Ct]===Ft[Ct]||me(dn,Ct,Ft[Ct],nn[Ct],On)}(se,pe,lt,He,Nt),Te)ce.__k=[];else if(Bt=ce.props.children,X(se,Array.isArray(Bt)?Bt:[Bt],ce,ye,De,He&&ut!=="foreignObject",ze,Et,ze?ze[0]:ye.__k&&Q(ye,0),Nt),ze!=null)for(Bt=ze.length;Bt--;)ze[Bt]!=null&&L(ze[Bt]);Nt||("value"in pe&&(Bt=pe.value)!==void 0&&(Bt!==lt.value||Bt!==se.value||ut==="progress"&&!Bt)&&me(se,"value",Bt,lt.value,!1),"checked"in pe&&(Bt=pe.checked)!==void 0&&Bt!==se.checked&&me(se,"checked",Bt,lt.checked,!1))}return se}function Me(se,ce,ye){try{typeof se=="function"?se(ce):se.current=ce}catch(De){h.__e(De,ye)}}function $e(se,ce,ye){var De,He;if(h.unmount&&h.unmount(se),(De=se.ref)&&(De.current&&De.current!==se.__e||Me(De,null,ce)),(De=se.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(ze){h.__e(ze,ce)}De.base=De.__P=null}if(De=se.__k)for(He=0;He<De.length;He++)De[He]&&$e(De[He],ce,typeof se.type!="function");ye||se.__e==null||L(se.__e),se.__e=se.__d=void 0}function rt(se,ce,ye){return this.constructor(se,ye)}function xt(se,ce,ye){var De,He,ze;h.__&&h.__(se,ce),He=(De=typeof ye=="function")?null:ye&&ye.__k||ce.__k,ze=[],je(ce,se=(!De&&ye||ce).__k=U(ie,null,[se]),He||k,k,ce.ownerSVGElement!==void 0,!De&&ye?[ye]:He?null:ce.firstChild?d.call(ce.childNodes):null,ze,!De&&ye?ye:He?He.__e:ce.firstChild,De),ve(ze,se)}function Ye(se,ce){xt(se,ce,Ye)}function Je(se,ce,ye){var De,He,ze,Et=N({},se.props);for(ze in ce)ze=="key"?De=ce[ze]:ze=="ref"?He=ce[ze]:Et[ze]=ce[ze];return arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):ye),G(se.type,Et,De||se.key,He||se.ref,null)}function bt(se,ce){var ye={__c:ce="__cC"+P++,__:se,Consumer:function(De,He){return De.children(He)},Provider:function(De){var He,ze;return this.getChildContext||(He=[],(ze={})[ce]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(Et){this.props.value!==Et.value&&He.some(H)},this.sub=function(Et){He.push(Et);var Nt=Et.componentWillUnmount;Et.componentWillUnmount=function(){He.splice(He.indexOf(Et),1),Nt&&Nt.call(Et)}}),De.children}};return ye.Provider.__=ye.Consumer.contextType=ye}d=T.slice,h={__e:function(se,ce){for(var ye,De,He;ce=ce.__;)if((ye=ce.__c)&&!ye.__)try{if((De=ye.constructor)&&De.getDerivedStateFromError!=null&&(ye.setState(De.getDerivedStateFromError(se)),He=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(se),He=ye.__d),He)return ye.__E=ye}catch(ze){se=ze}throw se}},m=0,re.prototype.setState=function(se,ce){var ye;ye=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof se=="function"&&(se=se(N({},ye),this.props)),se&&N(ye,se),se!=null&&this.__v&&(ce&&this.__h.push(ce),H(this))},re.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),H(this))},re.prototype.render=ie,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,P=0},function(a,p,o){(function(d,h){o.d(p,"a",function(){return H}),o.d(p,"b",function(){return ec}),o.d(p,"c",function(){return fo}),o.d(p,"d",function(){return jt}),o.d(p,"e",function(){return Ke}),o.d(p,"f",function(){return Ve}),o.d(p,"g",function(){return _t}),o.d(p,"h",function(){return Ao}),o.d(p,"i",function(){return Tn}),o.d(p,"j",function(){return ct}),o.d(p,"k",function(){return Wo}),o.d(p,"l",function(){return Gu}),o.d(p,"m",function(){return dn}),o.d(p,"n",function(){return zi}),o.d(p,"o",function(){return Y}),o.d(p,"p",function(){return Cl}),o.d(p,"q",function(){return $o}),o.d(p,"r",function(){return $a}),o.d(p,"s",function(){return eo}),o.d(p,"t",function(){return Wn}),o.d(p,"u",function(){return Wa}),o.d(p,"v",function(){return Qc}),o.d(p,"w",function(){return Ku}),o.d(p,"x",function(){return Bi}),o.d(p,"y",function(){return Qr}),o.d(p,"z",function(){return Yn}),o.d(p,"A",function(){return Cr}),o.d(p,"B",function(){return Uo}),o.d(p,"C",function(){return gt}),o.d(p,"D",function(){return Il}),o.d(p,"E",function(){return hn}),o.d(p,"F",function(){return vn}),o.d(p,"G",function(){return $u}),o.d(p,"H",function(){return Wu}),o.d(p,"I",function(){return qu}),o.d(p,"J",function(){return nr}),o.d(p,"K",function(){return he}),o.d(p,"L",function(){return En}),o.d(p,"M",function(){return Ga});var m=[];Object.freeze(m);var g={};function E(){return++ft.mobxGuid}function j(O){throw P(!1,O),"X"}function P(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function L(O,w,M){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:M})}function U(O,w){var M="isMobX"+O;return w.prototype[M]=!0,function(z){return C(z)&&z[M]===!0}}function G(O){return O instanceof Map}function te(O){return O instanceof Set}function ie(O){var w=new Set;for(var M in O)w.add(M);return Object.getOwnPropertySymbols(O).forEach(function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)}),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function Q(O){return O===null?null:typeof O=="object"?""+O:O}var Z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),B=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return Fa(this)},O.prototype.reportChanged=function(){kr(),function(w){w.lowestObserverState!==lt.STALE&&(w.lowestObserverState=lt.STALE,w.observers.forEach(function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.isTracing!==pe.NONE&&lo(M,w),M.onBecomeStale()),M.dependenciesState=lt.STALE}))}(this),Wr()},O.prototype.toString=function(){return this.name},O}(),X=U("Atom",B);function Y(O,w,M){w===void 0&&(w=T),M===void 0&&(M=T);var z,K=new B(O);return w!==T&&Zc("onBecomeObserved",K,w,z),M!==T&&hn(K,M),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Re(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Re(O,w,1)}},ue=function(O,w){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,z){M.__proto__=z}||function(M,z){for(var K in z)z.hasOwnProperty(K)&&(M[K]=z[K])},ue(O,w)};/*! *****************************************************************************
		Copyright (c) Microsoft Corporation. All rights reserved.
		Licensed under the Apache License, Version 2.0 (the "License"); you may not use
		this file except in compliance with the License. You may obtain a copy of the
		License at http://www.apache.org/licenses/LICENSE-2.0

		THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
		KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
		WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
		MERCHANTABLITY OR NON-INFRINGEMENT.

		See the Apache Version 2.0 License for specific language governing permissions
		and limitations under the License.
		***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(O){for(var w,M=1,z=arguments.length;M<z;M++)for(var K in w=arguments[M])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Ee.apply(this,arguments)};function me(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],M=0;return w?w.call(O):{next:function(){return O&&M>=O.length&&(O=void 0),{value:O&&O[M++],done:!O}}}}function Ae(O,w){var M=typeof Symbol=="function"&&O[Symbol.iterator];if(!M)return O;var z,K,de=M.call(O),Se=[];try{for(;(w===void 0||w-- >0)&&!(z=de.next()).done;)Se.push(z.value)}catch(We){K={error:We}}finally{try{z&&!z.done&&(M=de.return)&&M.call(de)}finally{if(K)throw K.error}}return Se}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Me={};function $e(O,w){var M=w?Pe:Me;return M[O]||(M[O]={configurable:!0,enumerable:w,get:function(){return rt(this),this[O]},set:function(z){rt(this),this[O]=z}})}function rt(O){var w,M;if(O[je]!==!0){var z=O[ve];if(z){L(O,je,!0);var K=Fe(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var de=me(K),Se=de.next();!Se.done;Se=de.next()){var We=z[Se.value];We.propertyCreator(O,We.prop,We.descriptor,We.decoratorTarget,We.decoratorArguments)}}catch(st){w={error:st}}finally{try{Se&&!Se.done&&(M=de.return)&&M.call(de)}finally{if(w)throw w.error}}}}}function xt(O,w){return function(){var M,z=function(K,de,Se,We){if(We===!0)return w(K,de,Se,K,M),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var st=K[ve];L(K,ve,Ee({},st))}return K[ve][de]={prop:de,propertyCreator:w,descriptor:Se,decoratorTarget:K,decoratorArguments:M},$e(de,O)};return Ye(arguments)?(M=m,z.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),z)}}function Ye(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Je(O,w,M){return Bi(O)?O:Array.isArray(O)?gt.array(O,{name:M}):N(O)?gt.object(O,void 0,{name:M}):G(O)?gt.map(O,{name:M}):te(O)?gt.set(O,{name:M}):O}function bt(O){return O}function se(O){P(O);var w=xt(!0,function(z,K,de,Se,We){var st=de?de.initializer?de.initializer.call(z):de.value:void 0;$r(z).addObservableProp(K,st,O)}),M=(d!==void 0&&d.env,w);return M.enhancer=O,M}var ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(O){return O==null?ce:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(ce);var De=se(Je),He=se(function(O,w,M){return O==null||Cr(O)||Qr(O)||Yn(O)||wr(O)?O:Array.isArray(O)?gt.array(O,{name:M,deep:!1}):N(O)?gt.object(O,void 0,{name:M,deep:!1}):G(O)?gt.map(O,{name:M,deep:!1}):te(O)?gt.set(O,{name:M,deep:!1}):j(!1)}),ze=se(bt),Et=se(function(O,w,M){return Re(O,w)?w:O});function Nt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?bt:Je}var Pt={box:function(O,w){arguments.length>2&&Te("box");var M=ye(w);return new Cn(O,Nt(M),M.name,!0,M.equals)},array:function(O,w){arguments.length>2&&Te("array");var M=ye(w);return fa(O,Nt(M),M.name)},map:function(O,w){arguments.length>2&&Te("map");var M=ye(w);return new ec(O,Nt(M),M.name)},set:function(O,w){arguments.length>2&&Te("set");var M=ye(w);return new jo(O,Nt(M),M.name)},object:function(O,w,M){typeof arguments[1]=="string"&&Te("object");var z=ye(M);if(z.proxy===!1)return $o({},O,w,z);var K=Hu(z),de=$o({},void 0,void 0,z),Se=Fi(de);return Jc(Se,O,w,K),Se},ref:ze,shallow:He,deep:De,struct:Et},gt=function(O,w,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(Bi(O))return O;var z=N(O)?gt.object(O,w,M):Array.isArray(O)?gt.array(O,w):G(O)?gt.map(O,w):te(O)?gt.set(O,w):O;if(z!==O)return z;j(!1)};function Te(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(Pt).forEach(function(O){return gt[O]=Pt[O]});var lt,pe,ut=xt(!1,function(O,w,M,z,K){var de=M.get,Se=M.set,We=K[0]||{};$r(O).addComputedProp(O,w,Ee({get:de,set:Se,context:O},We))}),Bt=ut({equals:q.structural}),dn=function(O,w,M){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ut.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new xo(z)};dn.struct=Bt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(lt||(lt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(pe||(pe={}));var Ft=function(O){this.cause=O};function nn(O){return O instanceof Ft}function On(O){switch(O.dependenciesState){case lt.UP_TO_DATE:return!1;case lt.NOT_TRACKING:case lt.STALE:return!0;case lt.POSSIBLY_STALE:for(var w=Ve(!0),M=ae(),z=O.observing,K=z.length,de=0;de<K;de++){var Se=z[de];if(Fo(Se)){if(ft.disableErrorBoundaries)Se.get();else try{Se.get()}catch(We){return _e(M),Ke(w),!0}if(O.dependenciesState===lt.STALE)return _e(M),Ke(w),!0}}return pt(O),_e(M),Ke(w),!1}}function Tn(){return ft.trackingDerivation!==null}function Ct(O){var w=O.observers.size>0;ft.computationDepth>0&&w&&j(!1),ft.allowStateChanges||!w&&ft.enforceActions!=="strict"||j(!1)}function Hn(O,w,M){var z=Ve(!0);pt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ft.runId;var K,de=ft.trackingDerivation;if(ft.trackingDerivation=O,ft.disableErrorBoundaries===!0)K=w.call(M);else try{K=w.call(M)}catch(Se){K=new Ft(Se)}return ft.trackingDerivation=de,function(Se){for(var We=Se.observing,st=Se.observing=Se.newObserving,Vt=lt.UP_TO_DATE,tt=0,wn=Se.unboundDepsCount,$t=0;$t<wn;$t++)(sn=st[$t]).diffValue===0&&(sn.diffValue=1,tt!==$t&&(st[tt]=sn),tt++),sn.dependenciesState>Vt&&(Vt=sn.dependenciesState);for(st.length=tt,Se.newObserving=null,wn=We.length;wn--;)(sn=We[wn]).diffValue===0&&Lu(sn,Se),sn.diffValue=0;for(;tt--;){var sn;(sn=st[tt]).diffValue===1&&(sn.diffValue=0,Dl(sn,Se))}Vt!==lt.UP_TO_DATE&&(Se.dependenciesState=Vt,Se.onBecomeStale())}(O),Ke(z),K}function ee(O){var w=O.observing;O.observing=[];for(var M=w.length;M--;)Lu(w[M],O);O.dependenciesState=lt.NOT_TRACKING}function he(O){var w=ae();try{return O()}finally{_e(w)}}function ae(){var O=ft.trackingDerivation;return ft.trackingDerivation=null,O}function _e(O){ft.trackingDerivation=O}function Ve(O){var w=ft.allowStateReads;return ft.allowStateReads=O,w}function Ke(O){ft.allowStateReads=O}function pt(O){if(O.dependenciesState!==lt.UP_TO_DATE){O.dependenciesState=lt.UP_TO_DATE;for(var w=O.observing,M=w.length;M--;)w[M].lowestObserverState=lt.UP_TO_DATE}}var Xt=0,tr=1,pr=Object.getOwnPropertyDescriptor(function(){},"name");pr&&pr.configurable;function Xn(O,w,M){var z=function(){return qn(O,w,M||this,arguments)};return z.isMobxAction=!0,z}function qn(O,w,M,z){var K=ct();try{return w.apply(M,z)}catch(de){throw K.error=de,de}finally{_t(K)}}function ct(O,w,M){var z=0,K=ae();kr();var de={prevDerivation:K,prevAllowStateChanges:It(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:z,actionId:tr++,parentActionId:Xt};return Xt=de.actionId,de}function _t(O){Xt!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Xt=O.parentActionId,O.error!==void 0&&(ft.suppressReactionErrors=!0),bn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Wr(),_e(O.prevDerivation),O.notifySpy,ft.suppressReactionErrors=!1}function jt(O,w){var M,z=It(O);try{M=w()}finally{bn(z)}return M}function It(O){var w=ft.allowStateChanges;return ft.allowStateChanges=O,w}function bn(O){ft.allowStateChanges=O}var Cn=function(O){function w(M,z,K,de,Se){K===void 0&&(K="ObservableValue@"+E()),Se===void 0&&(Se=q.default);var We=O.call(this,K)||this;return We.enhancer=z,We.name=K,We.equals=Se,We.hasUnreportedChange=!1,We.value=z(M,void 0,K),We}return function(M,z){function K(){this.constructor=M}ue(M,z),M.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}(w,O),w.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},w.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==ft.UNCHANGED&&this.setNewValue(M)},w.prototype.prepareNewValue=function(M){if(Ct(this),Nr(this)){var z=rn(this,{object:this,type:"update",newValue:M});if(!z)return ft.UNCHANGED;M=z.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?ft.UNCHANGED:M},w.prototype.setNewValue=function(M){var z=this.value;this.value=M,this.reportChanged(),Rr(this)&&sr(this,{type:"update",object:this,newValue:M,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(M){return Ho(this,M)},w.prototype.observe=function(M,z){return z&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),So(this,M)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Q(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(B),Bo=U("ObservableValue",Cn),xo=function(){function O(w){this.dependenciesState=lt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,P(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Xn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===lt.UP_TO_DATE&&(w.lowestObserverState=lt.POSSIBLY_STALE,w.observers.forEach(function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.dependenciesState=lt.POSSIBLY_STALE,M.isTracing!==pe.NONE&&lo(M,w),M.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ft.inBatch!==0||this.observers.size!==0||this.keepAlive?(Fa(this),On(this)&&this.trackAndCompute()&&function(M){M.lowestObserverState!==lt.STALE&&(M.lowestObserverState=lt.STALE,M.observers.forEach(function(z){z.dependenciesState===lt.POSSIBLY_STALE?z.dependenciesState=lt.STALE:z.dependenciesState===lt.UP_TO_DATE&&(M.lowestObserverState=lt.UP_TO_DATE)}))}(this)):On(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),Wr());var w=this.value;if(nn(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(nn(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){P(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else P(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,M=this.dependenciesState===lt.NOT_TRACKING,z=this.computeValue(!0),K=M||nn(w)||nn(z)||!this.equals(w,z);return K&&(this.value=z),K},O.prototype.computeValue=function(w){var M;if(this.isComputing=!0,ft.computationDepth++,w)M=Hn(this,this.derivation,this.scope);else if(ft.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(z){M=new Ft(z)}return ft.computationDepth--,this.isComputing=!1,M},O.prototype.suspend=function(){this.keepAlive||(ee(this),this.value=void 0)},O.prototype.observe=function(w,M){var z=this,K=!0,de=void 0;return Gu(function(){var Se=z.get();if(!K||M){var We=ae();w({type:"update",object:z,newValue:Se,oldValue:de}),_e(We)}K=!1,de=Se})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Q(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Fo=U("ComputedValue",xo),Li=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},kl={};function Iu(){return typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:kl}var qr=!0,ca=!1,ft=function(){var O=Iu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(qr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Li().version&&(qr=!1),qr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Li):(setTimeout(function(){ca||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Li)}();function Dl(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function Lu(O,w){O.observers.delete(w),O.observers.size===0&&zu(O)}function zu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ft.pendingUnobservations.push(O))}function kr(){ft.inBatch++}function Wr(){if(--ft.inBatch==0){Fu();for(var O=ft.pendingUnobservations,w=0;w<O.length;w++){var M=O[w];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof xo&&M.suspend())}ft.pendingUnobservations=[]}}function Fa(O){var w=ft.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ft.inBatch>0&&zu(O),!1)}function lo(O,w){if(O.isTracing===pe.BREAK){var M=[];Zr(Wn(O),M,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof xo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function Zr(O,w,M){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(M).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(z){return Zr(z,w,M+1)}))}var fo=function(){function O(w,M,z,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=M,this.errorHandler=z,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=lt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ft.pendingReactions.push(this),Fu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,On(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Wr()}},O.prototype.track=function(w){if(!this.isDisposed){kr(),this._isRunning=!0;var M=Hn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ee(this),nn(M)&&this.reportExceptionInDerivation(M.cause),Wr()}},O.prototype.reportExceptionInDerivation=function(w){var M=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ft.disableErrorBoundaries)throw w;ft.suppressReactionErrors,ft.globalReactionErrorHandlers.forEach(function(z){return z(w,M)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),ee(this),Wr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[H]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];var K=!1;typeof M[M.length-1]=="boolean"&&(K=M.pop());var de=un(M);if(!de)return j(!1);de.isTracing,pe.NONE,de.isTracing=K?pe.BREAK:pe.LOG}(this,w)},O}(),Bu=function(O){return O()};function Fu(){ft.inBatch>0||ft.isRunningReactions||Bu(Yc)}function Yc(){ft.isRunningReactions=!0;for(var O=ft.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var M=O.splice(0),z=0,K=M.length;z<K;z++)M[z].runReaction()}ft.isRunningReactions=!1}var sa=U("Reaction",fo);function Vc(O){var w=Bu;Bu=function(M){return O(function(){return w(M)})}}function Wu(O){return function(){}}function Nl(){j(!1)}function li(O){return function(w,M,z){if(z){if(z.value)return{value:Xn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var K=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xn(O,K.call(this))}}}return Kc(O).apply(this,arguments)}}function Kc(O){return function(w,M,z){Object.defineProperty(w,M,{configurable:!0,enumerable:!1,get:function(){},set:function(K){L(this,M,Wo(O,K))}})}}var Wo=function(O,w,M,z){return arguments.length===1&&typeof O=="function"?Xn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Xn(O,w):arguments.length===1&&typeof O=="string"?li(O):z!==!0?li(w).apply(null,arguments):void L(O,w,Xn(O.name||w,M.value,this))};function $u(O,w){return qn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Wa(O){return typeof O=="function"&&O.isMobxAction===!0}function Uu(O,w,M){L(O,w,Xn(w,M.bind(O)))}function Gu(O,w){w===void 0&&(w=g);var M,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)M=new fo(z,function(){this.track(Se)},w.onError,w.requiresObservable);else{var K=qc(w),de=!1;M=new fo(z,function(){de||(de=!0,K(function(){de=!1,M.isDisposed||M.track(Se)}))},w.onError,w.requiresObservable)}function Se(){O(M)}return M.schedule(),M.getDisposer()}Wo.bound=function(O,w,M,z){return z===!0?(Uu(O,w,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return Uu(this,w,M.value||M.initializer.call(this)),this[w]},set:Nl}:{enumerable:!1,configurable:!0,set:function(K){Uu(this,w,K)},get:function(){}}};var Rl=function(O){return O()};function qc(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Rl}function vn(O,w,M){M===void 0&&(M=g);var z,K,de,Se=M.name||"Reaction@"+E(),We=Wo(Se,M.onError?(z=M.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Dn){z.call(this,Dn)}}):w),st=!M.scheduler&&!M.delay,Vt=qc(M),tt=!0,wn=!1,$t=M.compareStructural?q.structural:M.equals||q.default,sn=new fo(Se,function(){tt||st?to():wn||(wn=!0,Vt(to))},M.onError,M.requiresObservable);function to(){if(wn=!1,!sn.isDisposed){var Dn=!1;sn.track(function(){var Ir=O(sn);Dn=tt||!$t(de,Ir),de=Ir}),tt&&M.fireImmediately&&We(de,sn),tt||Dn!==!0||We(de,sn),tt&&(tt=!1)}}return sn.schedule(),sn.getDisposer()}function hn(O,w,M){return Zc("onBecomeUnobserved",O,w,M)}function Zc(O,w,M,z){var K=typeof z=="function"?eo(w,M):eo(w),de=typeof z=="function"?z:M,Se=O+"Listeners";return K[Se]?K[Se].add(de):K[Se]=new Set([de]),typeof K[O]!="function"?j(!1):function(){var We=K[Se];We&&(We.delete(de),We.size===0&&delete K[Se])}}function zi(O){var w=O.enforceActions,M=O.computedRequiresReaction,z=O.computedConfigurable,K=O.disableErrorBoundaries,de=O.reactionScheduler,Se=O.reactionRequiresObservable,We=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ft.pendingReactions.length||ft.inBatch||ft.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),ca=!0,qr&&(--Iu().__mobxInstanceCount==0&&(Iu().__mobxGlobals=void 0),ft=new Li)),w!==void 0){var st=void 0;switch(w){case!0:case"observed":st=!0;break;case!1:case"never":st=!1;break;case"strict":case"always":st="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ft.enforceActions=st,ft.allowStateChanges=st!==!0&&st!=="strict"}M!==void 0&&(ft.computedRequiresReaction=!!M),Se!==void 0&&(ft.reactionRequiresObservable=!!Se),We!==void 0&&(ft.observableRequiresReaction=!!We,ft.allowStateReads=!ft.observableRequiresReaction),z!==void 0&&(ft.computedConfigurable=!!z),K!==void 0&&(ft.disableErrorBoundaries=!!K),de&&Vc(de)}function $o(O,w,M,z){var K=Hu(z=ye(z));return rt(O),$r(O,z.name,K.enhancer),w&&Jc(O,w,M,K),O}function Hu(O){return O.defaultDecorator||(O.deep===!1?ze:De)}function Jc(O,w,M,z){var K,de;kr();try{var Se=Z(w);try{for(var We=me(Se),st=We.next();!st.done;st=We.next()){var Vt=st.value,tt=Object.getOwnPropertyDescriptor(w,Vt),wn=(M&&Vt in M?M[Vt]:tt.get?ut:z)(O,Vt,tt,!0);wn&&Object.defineProperty(O,Vt,wn)}}catch($t){K={error:$t}}finally{try{st&&!st.done&&(de=We.return)&&de.call(We)}finally{if(K)throw K.error}}}finally{Wr()}}function Wn(O,w){return Xu(eo(O,w))}function Xu(O){var w,M,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,M=[],w.forEach(function(K){M.indexOf(K)===-1&&M.push(K)}),M).map(Xu)),z}var la=0;function Yu(){this.message="FLOW_CANCELLED"}function $a(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var M,z=this,K=arguments,de=++la,Se=Wo(w+" - runid: "+de+" - init",O).apply(z,K),We=void 0,st=new Promise(function(Vt,tt){var wn=0;function $t(Dn){var Ir;We=void 0;try{Ir=Wo(w+" - runid: "+de+" - yield "+wn++,Se.next).call(Se,Dn)}catch(Yo){return tt(Yo)}to(Ir)}function sn(Dn){var Ir;We=void 0;try{Ir=Wo(w+" - runid: "+de+" - yield "+wn++,Se.throw).call(Se,Dn)}catch(Yo){return tt(Yo)}to(Ir)}function to(Dn){if(!Dn||typeof Dn.then!="function")return Dn.done?Vt(Dn.value):(We=Promise.resolve(Dn.value)).then($t,sn);Dn.then(to,tt)}M=tt,$t(void 0)});return st.cancel=Wo(w+" - runid: "+de+" - cancel",function(){try{We&&dr(We);var Vt=Se.return(void 0),tt=Promise.resolve(Vt.value);tt.then(T,T),dr(tt),M(new Yu)}catch(wn){M(wn)}}),st}}function dr(O){typeof O.cancel=="function"&&O.cancel()}function Vu(O,w){if(O==null)return!1;if(w!==void 0){if(Cr(O)===!1||!O[H].values.has(w))return!1;var M=eo(O,w);return Fo(M)}return Fo(O)}function Qc(O){return arguments.length>1?j(!1):Vu(O)}function Ku(O,w){return typeof w!="string"?j(!1):Vu(O,w)}function Ua(O,w){return O!=null&&(w!==void 0?!!Cr(O)&&O[H].values.has(w):Cr(O)||!!O[H]||X(O)||sa(O)||Fo(O))}function Bi(O){return arguments.length!==1&&j(!1),Ua(O)}function Uo(O){return Cr(O)?O[H].getKeys():Yn(O)||wr(O)?Array.from(O.keys()):Qr(O)?O.map(function(w,M){return M}):j(!1)}function En(O){return Cr(O)?Uo(O).map(function(w){return O[w]}):Yn(O)?Uo(O).map(function(w){return O.get(w)}):wr(O)?Array.from(O.values()):Qr(O)?O.slice():j(!1)}function Cl(O){return Cr(O)?Uo(O).map(function(w){return[w,O[w]]}):Yn(O)?Uo(O).map(function(w){return[w,O.get(w)]}):wr(O)?Array.from(O.entries()):Qr(O)?O.map(function(w,M){return[M,w]}):j(!1)}function Dr(O,w,M){if(arguments.length!==2||wr(O))if(Cr(O)){var z=O[H],K=z.values.get(w);K?z.write(w,M):z.addObservableProp(w,M,z.defaultEnhancer)}else if(Yn(O))O.set(w,M);else if(wr(O))O.add(w);else{if(!Qr(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),P(w>=0,"Not a valid index: '"+w+"'"),kr(),w>=O.length&&(O.length=w+1),O[w]=M,Wr()}else{kr();var de=w;try{for(var Se in de)Dr(O,Se,de[Se])}finally{Wr()}}}function Il(O,w,M,z){return typeof M=="function"?function(K,de,Se,We){return Ao(K,de).observe(Se,We)}(O,w,M,z):function(K,de,Se){return Ao(K).observe(de,Se)}(O,w,M)}Yu.prototype=Object.create(Error.prototype);var es={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Or(O,w,M,z){return z.detectCycles&&O.set(w,M),M}function Jr(O,w,M){if(!w.recurseEverything&&!Bi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Bo(O))return Jr(O.get(),w,M);if(Bi(O)&&Uo(O),w.detectCycles===!0&&O!==null&&M.has(O))return M.get(O);if(Qr(O)||Array.isArray(O)){var z=Or(M,O,[],w),K=O.map(function($t){return Jr($t,w,M)});z.length=K.length;for(var de=0,Se=K.length;de<Se;de++)z[de]=K[de];return z}if(wr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var We=Or(M,O,new Set,w);return O.forEach(function($t){We.add(Jr($t,w,M))}),We}var st=Or(M,O,[],w);return O.forEach(function($t){st.push(Jr($t,w,M))}),st}if(Yn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Vt=Or(M,O,new Map,w);return O.forEach(function($t,sn){Vt.set(sn,Jr($t,w,M))}),Vt}var tt=Or(M,O,{},w);return O.forEach(function($t,sn){tt[sn]=Jr($t,w,M)}),tt}var wn=Or(M,O,{},w);return ie(O).forEach(function($t){wn[$t]=Jr(O[$t],w,M)}),wn}function qu(O,w){var M;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=es),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(M=new Map),Jr(O,w,M)}function un(O){switch(O.length){case 0:return ft.trackingDerivation;case 1:return eo(O[0]);case 2:return eo(O[0],O[1])}}function nr(O,w){w===void 0&&(w=void 0),kr();try{return O.apply(w)}finally{Wr()}}function Ga(O,w,M){return arguments.length===1||w&&typeof w=="object"?Zu(O,w):ts(O,w,M||{})}function ts(O,w,M){var z;typeof M.timeout=="number"&&(z=setTimeout(function(){if(!de[H].isDisposed){de();var Se=new Error("WHEN_TIMEOUT");if(!M.onError)throw Se;M.onError(Se)}},M.timeout)),M.name=M.name||"When@"+E();var K=Xn(M.name+"-effect",w),de=Gu(function(Se){O()&&(Se.dispose(),z&&clearTimeout(z),K())},M);return de}function Zu(O,w){var M,z=new Promise(function(K,de){var Se=ts(O,K,Ee(Ee({},w),{onError:de}));M=function(){Se(),de("WHEN_CANCELLED")}});return z.cancel=M,z}function Ha(O){return O[H]}function Eo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Go={has:function(O,w){if(w===H||w==="constructor"||w===je)return!0;var M=Ha(O);return Eo(w)?M.has(w):w in O},get:function(O,w){if(w===H||w==="constructor"||w===je)return O[w];var M=Ha(O),z=M.values.get(w);if(z instanceof B){var K=z.get();return K===void 0&&M.has(w),K}return Eo(w)&&M.has(w),O[w]},set:function(O,w,M){return!!Eo(w)&&(Dr(O,w,M),!0)},deleteProperty:function(O,w){return!!Eo(w)&&(Ha(O).remove(w),!0)},ownKeys:function(O){return Ha(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function Fi(O){var w=new Proxy(O,Go);return O[H].proxy=w,w}function Nr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Ho(O,w){var M=O.interceptors||(O.interceptors=[]);return M.push(w),k(function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)})}function rn(O,w){var M=ae();try{for(var z=Fe(O.interceptors||[]),K=0,de=z.length;K<de&&(P(!(w=z[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{_e(M)}}function Rr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function So(O,w){var M=O.changeListeners||(O.changeListeners=[]);return M.push(w),k(function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)})}function sr(O,w){var M=ae(),z=O.changeListeners;if(z){for(var K=0,de=(z=z.slice()).length;K<de;K++)z[K](w);_e(M)}}var Xa={get:function(O,w){return w===H?O[H]:w==="length"?O[H].getArrayLength():typeof w=="number"?In.get.call(O,w):typeof w!="string"||isNaN(w)?In.hasOwnProperty(w)?In[w]:O[w]:In.get.call(O,parseInt(w))},set:function(O,w,M){return w==="length"&&O[H].setArrayLength(M),typeof w=="number"&&In.set.call(O,w,M),typeof w=="symbol"||isNaN(w)?O[w]=M:In.set.call(O,parseInt(w),M),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function fa(O,w,M,z){M===void 0&&(M="ObservableArray@"+E()),z===void 0&&(z=!1);var K,de,Se,We=new Ju(M,w,z);K=We.values,de=H,Se=We,Object.defineProperty(K,de,{enumerable:!1,writable:!1,configurable:!0,value:Se});var st=new Proxy(We.values,Xa);if(We.proxy=st,O&&O.length){var Vt=It(!0);We.spliceWithArray(0,0,O),bn(Vt)}return st}var Ju=function(){function O(w,M,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(K,de){return M(K,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.observe=function(w,M){return M===void 0&&(M=!1),M&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),So(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var M=this.values.length;if(w!==M)if(w>M){for(var z=new Array(w-M),K=0;K<w-M;K++)z[K]=void 0;this.spliceWithArray(M,0,z)}else this.spliceWithArray(w,M-w)},O.prototype.updateArrayLength=function(w,M){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},O.prototype.spliceWithArray=function(w,M,z){var K=this;Ct(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),M=arguments.length===1?de-w:M==null?0:Math.max(0,Math.min(M,de-w)),z===void 0&&(z=m),Nr(this)){var Se=rn(this,{object:this.proxy,type:"splice",index:w,removedCount:M,added:z});if(!Se)return m;M=Se.removedCount,z=Se.added}z=z.length===0?z:z.map(function(st){return K.enhancer(st,void 0)});var We=this.spliceItemsIntoValues(w,M,z);return M===0&&z.length===0||this.notifyArraySplice(w,z,We),this.dehanceValues(We)},O.prototype.spliceItemsIntoValues=function(w,M,z){var K;if(z.length<1e4)return(K=this.values).splice.apply(K,Fe([w,M],z));var de=this.values.slice(w,w+M);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+M)),de},O.prototype.notifyArrayChildUpdate=function(w,M,z){var K=!this.owned&&!1,de=Rr(this),Se=de||K?{object:this.proxy,type:"update",index:w,newValue:M,oldValue:z}:null;this.atom.reportChanged(),de&&sr(this,Se)},O.prototype.notifyArraySplice=function(w,M,z){var K=!this.owned&&!1,de=Rr(this),Se=de||K?{object:this.proxy,type:"splice",index:w,removed:z,added:M,removedCount:z.length,addedCount:M.length}:null;this.atom.reportChanged(),de&&sr(this,Se)},O}(),In={intercept:function(O){return this[H].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[H].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[H];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var M=[],z=2;z<arguments.length;z++)M[z-2]=arguments[z];var K=this[H];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,M)},spliceWithArray:function(O,w,M){return this[H].spliceWithArray(O,w,M)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(M.values.length,0,O),M.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(0,0,O),M.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[H],M=w.dehanceValues(w.values).indexOf(O);return M>-1&&(this.splice(M,1),!0)},get:function(O){var w=this[H];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var M=this[H],z=M.values;if(O<z.length){Ct(M.atom);var K=z[O];if(Nr(M)){var de=rn(M,{type:"update",object:M.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=M.enhancer(w,K))!==K&&(z[O]=w,M.notifyArrayChildUpdate(O,w,K))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);M.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(In[O]=function(){var w=this[H];w.atom.reportObserved();var M=w.dehanceValues(w.values);return M[O].apply(M,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(In[O]=function(w,M){var z=this,K=this[H];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(de,Se){return w.call(M,de,Se,z)},M)})}),["reduce","reduceRight"].forEach(function(O){In[O]=function(){var w=this,M=this[H];M.atom.reportObserved();var z=arguments[0];return arguments[0]=function(K,de,Se){return de=M.dehanceValue(de),z(K,de,Se,w)},M.values[O].apply(M.values,arguments)}});var Ya,Xo=U("ObservableArrayAdministration",Ju);function Qr(O){return C(O)&&Xo(O[H])}var Qu,Ll={},ec=function(){function O(w,M,z){if(M===void 0&&(M=Je),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=M,this.name=z,this[Ya]=Ll,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var M=this;if(!ft.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var K=z=new Cn(this._has(w),bt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,K),hn(K,function(){return M._hasMap.delete(w)})}return z.get()},O.prototype.set=function(w,M){var z=this._has(w);if(Nr(this)){var K=rn(this,{type:z?"update":"add",object:this,newValue:M,name:w});if(!K)return this;M=K.newValue}return z?this._updateValue(w,M):this._addValue(w,M),this},O.prototype.delete=function(w){var M=this;if(Ct(this._keysAtom),Nr(this)&&!(K=rn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Rr(this),K=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return nr(function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(w,!1),M._data.get(w).setNewValue(void 0),M._data.delete(w)}),z&&sr(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,M){var z=this._hasMap.get(w);z&&z.setNewValue(M)},O.prototype._updateValue=function(w,M){var z=this._data.get(w);if((M=z.prepareNewValue(M))!==ft.UNCHANGED){var K=Rr(this),de=K?{type:"update",object:this,oldValue:z.value,name:w,newValue:M}:null;z.setNewValue(M),K&&sr(this,de)}},O.prototype._addValue=function(w,M){var z=this;Ct(this._keysAtom),nr(function(){var Se=new Cn(M,z.enhancer,z.name+"."+re(w),!1);z._data.set(w,Se),M=Se.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()});var K=Rr(this),de=K?{type:"add",object:this,name:w,newValue:M}:null;K&&sr(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,M=this.keys();return Zt({next:function(){var z=M.next(),K=z.done,de=z.value;return{done:K,value:K?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,M=this.keys();return Zt({next:function(){var z=M.next(),K=z.done,de=z.value;return{done:K,value:K?void 0:[de,w.get(de)]}}})},O.prototype[Ya=H,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,M){var z,K;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var We=Ae(Se.value,2),st=We[0],Vt=We[1];w.call(M,Vt,st,this)}}catch(tt){z={error:tt}}finally{try{Se&&!Se.done&&(K=de.return)&&K.call(de)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var M=this;return Yn(w)&&(w=w.toJS()),nr(function(){var z=It(!0);try{N(w)?ie(w).forEach(function(K){return M.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var de=Ae(K,2),Se=de[0],We=de[1];return M.set(Se,We)}):G(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,de){return M.set(de,K)})):w!=null&&j("Cannot initialize map from "+w)}finally{bn(z)}}),this},O.prototype.clear=function(){var w=this;nr(function(){he(function(){var M,z;try{for(var K=me(w.keys()),de=K.next();!de.done;de=K.next()){var Se=de.value;w.delete(Se)}}catch(We){M={error:We}}finally{try{de&&!de.done&&(z=K.return)&&z.call(K)}finally{if(M)throw M.error}}})})},O.prototype.replace=function(w){var M=this;return nr(function(){var z,K,de,Se,We=function(xr){if(G(xr)||Yn(xr))return xr;if(Array.isArray(xr))return new Map(xr);if(N(xr)){var ha=new Map;for(var Wi in xr)ha.set(Wi,xr[Wi]);return ha}return j("Cannot convert to map from '"+xr+"'")}(w),st=new Map,Vt=!1;try{for(var tt=me(M._data.keys()),wn=tt.next();!wn.done;wn=tt.next()){var $t=wn.value;if(!We.has($t))if(M.delete($t))Vt=!0;else{var sn=M._data.get($t);st.set($t,sn)}}}catch(xr){z={error:xr}}finally{try{wn&&!wn.done&&(K=tt.return)&&K.call(tt)}finally{if(z)throw z.error}}try{for(var to=me(We.entries()),Dn=to.next();!Dn.done;Dn=to.next()){var Ir=Ae(Dn.value,2),Yo=($t=Ir[0],sn=Ir[1],M._data.has($t));if(M.set($t,sn),M._data.has($t)){var Vo=M._data.get($t);st.set($t,Vo),Yo||(Vt=!0)}}}catch(xr){de={error:xr}}finally{try{Dn&&!Dn.done&&(Se=to.return)&&Se.call(to)}finally{if(de)throw de.error}}if(!Vt)if(M._data.size!==st.size)M._keysAtom.reportChanged();else for(var da=M._data.keys(),nc=st.keys(),pi=da.next(),Ka=nc.next();!pi.done;){if(pi.value!==Ka.value){M._keysAtom.reportChanged();break}pi=da.next(),Ka=nc.next()}M._data=st}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,M,z={};try{for(var K=me(this),de=K.next();!de.done;de=K.next()){var Se=Ae(de.value,2),We=Se[0],st=Se[1];z[typeof We=="symbol"?We:re(We)]=st}}catch(Vt){w={error:Vt}}finally{try{de&&!de.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(M){return re(M)+": "+w.get(M)}).join(", ")+" }]"},O.prototype.observe=function(w,M){return So(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O}(),Yn=U("ObservableMap",ec),pa={},jo=function(){function O(w,M,z){if(M===void 0&&(M=Je),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[Qu]=pa,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,de){return M(K,de,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;nr(function(){he(function(){var M,z;try{for(var K=me(w._data.values()),de=K.next();!de.done;de=K.next()){var Se=de.value;w.delete(Se)}}catch(We){M={error:We}}finally{try{de&&!de.done&&(z=K.return)&&z.call(K)}finally{if(M)throw M.error}}})})},O.prototype.forEach=function(w,M){var z,K;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var We=Se.value;w.call(M,We,We,this)}}catch(st){z={error:st}}finally{try{Se&&!Se.done&&(K=de.return)&&K.call(de)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var M=this;if(Ct(this._atom),Nr(this)&&!(K=rn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){nr(function(){M._data.add(M.enhancer(w,void 0)),M._atom.reportChanged()});var z=Rr(this),K=z?{type:"add",object:this,newValue:w}:null;z&&sr(this,K)}return this},O.prototype.delete=function(w){var M=this;if(Nr(this)&&!(K=rn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Rr(this),K=z?{type:"delete",object:this,oldValue:w}:null;return nr(function(){M._atom.reportChanged(),M._data.delete(w)}),z&&sr(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,M=Array.from(this.keys()),z=Array.from(this.values());return Zt({next:function(){var K=w;return w+=1,K<z.length?{value:[M[K],z[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,M=0,z=Array.from(this._data.values());return Zt({next:function(){return M<z.length?{value:w.dehanceValue(z[M++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var M=this;return wr(w)&&(w=w.toJS()),nr(function(){var z=It(!0);try{Array.isArray(w)||te(w)?(M.clear(),w.forEach(function(K){return M.add(K)})):w!=null&&j("Cannot initialize set from "+w)}finally{bn(z)}}),this},O.prototype.observe=function(w,M){return So(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[Qu=H,Symbol.iterator]=function(){return this.values()},O}(),wr=U("ObservableSet",jo),tc=function(){function O(w,M,z,K){M===void 0&&(M=new Map),this.target=w,this.values=M,this.name=z,this.defaultEnhancer=K,this.keysAtom=new B(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,M){var z=this.target,K=this.values.get(w);if(K instanceof xo)K.set(M);else{if(Nr(this)){if(!(Se=rn(this,{type:"update",object:this.proxy||z,name:w,newValue:M})))return;M=Se.newValue}if((M=K.prepareNewValue(M))!==ft.UNCHANGED){var de=Rr(this),Se=de?{type:"update",object:this.proxy||z,oldValue:K.value,name:w,newValue:M}:null;K.setNewValue(M),de&&sr(this,Se)}}},O.prototype.has=function(w){var M=this.pendingKeys||(this.pendingKeys=new Map),z=M.get(w);if(z)return z.get();var K=!!this.values.get(w);return z=new Cn(K,bt,this.name+"."+re(w)+"?",!1),M.set(w,z),z.get()},O.prototype.addObservableProp=function(w,M,z){z===void 0&&(z=this.defaultEnhancer);var K=this.target;if(Nr(this)){var de=rn(this,{object:this.proxy||K,name:w,type:"add",newValue:M});if(!de)return;M=de.newValue}var Se=new Cn(M,z,this.name+"."+re(w),!1);this.values.set(w,Se),M=Se.value,Object.defineProperty(K,w,function(We){return fi[We]||(fi[We]={configurable:!0,enumerable:!0,get:function(){return this[H].read(We)},set:function(st){this[H].write(We,st)}})}(w)),this.notifyPropertyAddition(w,M)},O.prototype.addComputedProp=function(w,M,z){var K,de,Se,We=this.target;z.name=z.name||this.name+"."+re(M),this.values.set(M,new xo(z)),(w===We||(K=w,de=M,!(Se=Object.getOwnPropertyDescriptor(K,de))||Se.configurable!==!1&&Se.writable!==!1))&&Object.defineProperty(w,M,function(st){return Va[st]||(Va[st]={configurable:ft.computedConfigurable,enumerable:!1,get:function(){return Po(this).read(st)},set:function(Vt){Po(this).write(st,Vt)}})}(M))},O.prototype.remove=function(w){if(this.values.has(w)){var M=this.target;if(Nr(this)&&!(st=rn(this,{object:this.proxy||M,name:w,type:"remove"})))return;try{kr();var z=Rr(this),K=!1,de=this.values.get(w),Se=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var We=this.pendingKeys.get(w);We&&We.set(!1)}delete this.target[w];var st=z?{type:"remove",object:this.proxy||M,oldValue:Se,name:w}:null;z&&sr(this,st)}finally{Wr()}}},O.prototype.illegalAccess=function(w,M){},O.prototype.observe=function(w,M){return So(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.notifyPropertyAddition=function(w,M){var z=Rr(this),K=z?{type:"add",object:this.proxy||this.target,name:w,newValue:M}:null;if(z&&sr(this,K),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,M;this.keysAtom.reportObserved();var z=[];try{for(var K=me(this.values),de=K.next();!de.done;de=K.next()){var Se=Ae(de.value,2),We=Se[0];Se[1]instanceof Cn&&z.push(We)}}catch(st){w={error:st}}finally{try{de&&!de.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return z},O}();function $r(O,w,M){if(w===void 0&&(w=""),M===void 0&&(M=Je),Object.prototype.hasOwnProperty.call(O,H))return O[H];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new tc(O,new Map,re(w),M);return L(O,H,z),z}var fi=Object.create(null),Va=Object.create(null);function Po(O){var w=O[H];return w||(rt(O),O[H])}var Ur=U("ObservableObjectAdministration",tc);function Cr(O){return!!C(O)&&(rt(O),Ur(O[H]))}function eo(O,w){if(typeof O=="object"&&O!==null){if(Qr(O))return w!==void 0&&j(!1),O[H].atom;if(wr(O))return O[H];if(Yn(O)){var M=O;return w===void 0?M._keysAtom:((z=M._data.get(w)||M._hasMap.get(w))||j(!1),z)}var z;if(rt(O),w&&!O[H]&&O[w],Cr(O))return w?((z=O[H].values.get(w))||j(!1),z):j(!1);if(X(O)||Fo(O)||sa(O))return O}else if(typeof O=="function"&&sa(O[H]))return O[H];return j(!1)}function Ao(O,w){return O||j("Expecting some object"),w!==void 0?Ao(eo(O,w)):X(O)||Fo(O)||sa(O)||Yn(O)||wr(O)?O:(rt(O),O[H]?O[H]:void j(!1))}var we=Object.prototype.toString;function Re(O,w,M){return M===void 0&&(M=-1),Ie(O,w,M)}function Ie(O,w,M,z,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var Se=we.call(O);if(Se!==we.call(w))return!1;switch(Se){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":M>=0&&M++}O=et(O),w=et(w);var We=Se==="[object Array]";if(!We){if(typeof O!="object"||typeof w!="object")return!1;var st=O.constructor,Vt=w.constructor;if(st!==Vt&&!(typeof st=="function"&&st instanceof st&&typeof Vt=="function"&&Vt instanceof Vt)&&"constructor"in O&&"constructor"in w)return!1}if(M===0)return!1;M<0&&(M=-1),K=K||[];for(var tt=(z=z||[]).length;tt--;)if(z[tt]===O)return K[tt]===w;if(z.push(O),K.push(w),We){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Ie(O[tt],w[tt],M-1,z,K))return!1}else{var wn=Object.keys(O),$t=void 0;if(tt=wn.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!Wt(w,$t=wn[tt])||!Ie(O[$t],w[$t],M-1,z,K))return!1}return z.pop(),K.pop(),!0}function et(O){return Qr(O)?O.slice():G(O)||Yn(O)||te(O)||wr(O)?Array.from(O.entries()):O}function Wt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Zt(O){return O[Symbol.iterator]=Pn,O}function Pn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wu,extras:{getDebugName:function(O,w){return(w!==void 0?eo(O,w):Cr(O)||Yn(O)||wr(O)?Ao(O):eo(O)).name}},$mobx:H})}).call(this,o(163),o(68))},function(a,p,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(a,p,o){var d=o(41),h=o(100),m=o(80),g=o(58),E=o(116),j="Array Iterator",P=g.set,k=g.getterFor(j);a.exports=E(Array,"Array",function(T,C){P(this,{type:j,target:d(T),index:0,kind:C})},function(){var T=k(this),C=T.target,N=T.kind,L=T.index++;return!C||L>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:L,done:!1}:N=="values"?{value:C[L],done:!1}:{value:[L,C[L]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(a,p,o){var d=o(16),h=o(7),m=o(46),g=o(76),E=o(34),j=o(15),P=o(71),k=o(36),T=o(108),C=o(18),N=o(35),L=o(96),U=o(30),G=o(33),te=o(54),ie=o(87),re=o(32),Q=o(40),Z=o(41),H=o(86),B=o(39),X=o(69),Y=o(60),q=o(77),ue=o(74),Ee=o(139),me=o(112),Ae=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Me=o(89),$e=o(93),rt=o(72),xt=o(90),Ye=o(28),Je=o(140),bt=o(141),se=o(78),ce=o(58),ye=o(79).forEach,De=$e("hidden"),He="Symbol",ze=Ye("toPrimitive"),Et=ce.set,Nt=ce.getterFor(He),Pt=Object.prototype,gt=h.Symbol,Te=gt&&gt.prototype,lt=h.TypeError,pe=h.QObject,ut=m("JSON","stringify"),Bt=Ae.f,dn=Fe.f,Ft=Ee.f,nn=je.f,On=j([].push),Tn=Me("symbols"),Ct=Me("op-symbols"),Hn=Me("string-to-symbol-registry"),ee=Me("symbol-to-string-registry"),he=Me("wks"),ae=!pe||!pe.prototype||!pe.prototype.findChild,_e=k&&C(function(){return Y(dn({},"a",{get:function(){return dn(this,"a",{value:7}).a}})).a!=7})?function(ct,_t,jt){var It=Bt(Pt,_t);It&&delete Pt[_t],dn(ct,_t,jt),It&&ct!==Pt&&dn(Pt,_t,It)}:dn,Ve=function(ct,_t){var jt=Tn[ct]=Y(Te);return Et(jt,{type:He,tag:ct,description:_t}),k||(jt.description=_t),jt},Ke=function(ct,_t,jt){ct===Pt&&Ke(Ct,_t,jt),re(ct);var It=H(_t);return re(jt),N(Tn,It)?(jt.enumerable?(N(ct,De)&&ct[De][It]&&(ct[De][It]=!1),jt=Y(jt,{enumerable:X(0,!1)})):(N(ct,De)||dn(ct,De,X(1,{})),ct[De][It]=!0),_e(ct,It,jt)):dn(ct,It,jt)},pt=function(ct,_t){re(ct);var jt=Z(_t),It=q(jt).concat(Xn(jt));return ye(It,function(bn){k&&!E(Xt,jt,bn)||Ke(ct,bn,jt[bn])}),ct},Xt=function(ct){var _t=H(ct),jt=E(nn,this,_t);return!(this===Pt&&N(Tn,_t)&&!N(Ct,_t))&&(!(jt||!N(this,_t)||!N(Tn,_t)||N(this,De)&&this[De][_t])||jt)},tr=function(ct,_t){var jt=Z(ct),It=H(_t);if(jt!==Pt||!N(Tn,It)||N(Ct,It)){var bn=Bt(jt,It);return!bn||!N(Tn,It)||N(jt,De)&&jt[De][It]||(bn.enumerable=!0),bn}},pr=function(ct){var _t=Ft(Z(ct)),jt=[];return ye(_t,function(It){N(Tn,It)||N(rt,It)||On(jt,It)}),jt},Xn=function(ct){var _t=ct===Pt,jt=Ft(_t?Ct:Z(ct)),It=[];return ye(jt,function(bn){!N(Tn,bn)||_t&&!N(Pt,bn)||On(It,Tn[bn])}),It};if(T||(gt=function(){if(te(Te,this))throw lt("Symbol is not a constructor");var ct=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,_t=xt(ct),jt=function(It){this===Pt&&E(jt,Ct,It),N(this,De)&&N(this[De],_t)&&(this[De][_t]=!1),_e(this,_t,X(1,It))};return k&&ae&&_e(Pt,_t,{configurable:!0,set:jt}),Ve(_t,ct)},Pe(Te=gt.prototype,"toString",function(){return Nt(this).tag}),Pe(gt,"withoutSetter",function(ct){return Ve(xt(ct),ct)}),je.f=Xt,Fe.f=Ke,Ae.f=tr,ue.f=Ee.f=pr,me.f=Xn,Je.f=function(ct){return Ve(Ye(ct),ct)},k&&(dn(Te,"description",{configurable:!0,get:function(){return Nt(this).description}}),P||Pe(Pt,"propertyIsEnumerable",Xt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:gt}),ye(q(he),function(ct){bt(ct)}),d({target:He,stat:!0,forced:!T},{for:function(ct){var _t=B(ct);if(N(Hn,_t))return Hn[_t];var jt=gt(_t);return Hn[_t]=jt,ee[jt]=_t,jt},keyFor:function(ct){if(!ie(ct))throw lt(ct+" is not a symbol");if(N(ee,ct))return ee[ct]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),d({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(ct,_t){return _t===void 0?Y(ct):pt(Y(ct),_t)},defineProperty:Ke,defineProperties:pt,getOwnPropertyDescriptor:tr}),d({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:pr,getOwnPropertySymbols:Xn}),d({target:"Object",stat:!0,forced:C(function(){me.f(1)})},{getOwnPropertySymbols:function(ct){return me.f(Q(ct))}}),ut&&d({target:"JSON",stat:!0,forced:!T||C(function(){var ct=gt();return ut([ct])!="[null]"||ut({a:ct})!="{}"||ut(Object(ct))!="{}"})},{stringify:function(ct,_t,jt){var It=ve(arguments),bn=_t;if((G(_t)||ct!==void 0)&&!ie(ct))return L(_t)||(_t=function(Cn,Bo){if(U(bn)&&(Bo=E(bn,this,Cn,Bo)),!ie(Bo))return Bo}),It[1]=_t,g(ut,null,It)}}),!Te[ze]){var qn=Te.valueOf;Pe(Te,ze,function(ct){return E(qn,this)})}se(gt,He),rt[De]=!0},function(a,p,o){var d=o(7),h=o(152),m=o(153),g=o(3),E=o(57),j=o(28),P=j("iterator"),k=j("toStringTag"),T=g.values,C=function(L,U){if(L){if(L[P]!==T)try{E(L,P,T)}catch(te){L[P]=T}if(L[k]||E(L,k,U),h[U]){for(var G in g)if(L[G]!==g[G])try{E(L,G,g[G])}catch(te){L[G]=g[G]}}}};for(var N in h)C(d[N]&&d[N].prototype,N);C(m,"DOMTokenList")},function(a,p,o){var d=o(151).charAt,h=o(39),m=o(58),g=o(116),E="String Iterator",j=m.set,P=m.getterFor(E);g(String,"String",function(k){j(this,{type:E,string:h(k),index:0})},function(){var k,T=P(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=d(C,N),T.index+=k.length,{value:k,done:!1})})},function(a,p,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};a.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(a,p,o){var d=o(16),h=o(36),m=o(7),g=o(15),E=o(35),j=o(30),P=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,L=N&&N.prototype;if(h&&j(N)&&(!("description"in L)||N().description!==void 0)){var U={},G=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),X=P(L,this)?new N(B):B===void 0?N():N(B);return B===""&&(U[X]=!0),X};C(G,N),G.prototype=L,L.constructor=G;var te=String(N("test"))=="Symbol(test)",ie=g(L.toString),re=g(L.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),H=g("".slice);T(L,"description",{configurable:!0,get:function(){var B=re(this),X=ie(B);if(E(U,B))return"";var Y=te?H(X,7,-1):Z(X,Q,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:G})}},function(a,p,o){o(141)("iterator")},function(a,p,o){o.d(p,"a",function(){return g.a}),o.d(p,"c",function(){return g.e}),o.d(p,"h",function(){return Q}),o.d(p,"i",function(){return te}),o.d(p,"j",function(){return U}),o.d(p,"b",function(){return Ae}),o.d(p,"e",function(){return Pe}),o.d(p,"f",function(){return Fe}),o.d(p,"g",function(){return Tn});var d,h,m,g=o(0),E=0,j=[],P=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function L(ee,he){g.i.__h&&g.i.__h(h,ee,E||he),E=0;var ae=h.__H||(h.__H={__:[],__h:[]});return ee>=ae.__.length&&ae.__.push({}),ae.__[ee]}function U(ee){return E=1,G(ue,ee)}function G(ee,he,ae){var _e=L(d++,2);return _e.t=ee,_e.__c||(_e.__=[ae?ae(he):ue(void 0,he),function(Ve){var Ke=_e.t(_e.__[0],Ve);_e.__[0]!==Ke&&(_e.__=[Ke,_e.__[1]],_e.__c.setState({}))}],_e.__c=h),_e.__}function te(ee,he){var ae=L(d++,3);!g.i.__s&&q(ae.__H,he)&&(ae.__=ee,ae.__H=he,h.__H.__h.push(ae))}function ie(ee,he){var ae=L(d++,4);!g.i.__s&&q(ae.__H,he)&&(ae.__=ee,ae.__H=he,h.__h.push(ae))}function re(ee,he){var ae=L(d++,7);return q(ae.__H,he)&&(ae.__=ee(),ae.__H=he,ae.__h=ee),ae.__}function Q(ee,he){return E=8,re(function(){return ee},he)}function Z(){var ee;for(j.sort(function(he,ae){return he.__v.__b-ae.__v.__b});ee=j.pop();)if(ee.__P)try{ee.__H.__h.forEach(X),ee.__H.__h.forEach(Y),ee.__H.__h=[]}catch(he){ee.__H.__h=[],g.i.__e(he,ee.__v)}}g.i.__b=function(ee){h=null,P&&P(ee)},g.i.__r=function(ee){k&&k(ee),d=0;var he=(h=ee.__c).__H;he&&(he.__h.forEach(X),he.__h.forEach(Y),he.__h=[])},g.i.diffed=function(ee){T&&T(ee);var he=ee.__c;he&&he.__H&&he.__H.__h.length&&(j.push(he)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||B)(Z)),h=null},g.i.__c=function(ee,he){he.some(function(ae){try{ae.__h.forEach(X),ae.__h=ae.__h.filter(function(_e){return!_e.__||Y(_e)})}catch(_e){he.some(function(Ve){Ve.__h&&(Ve.__h=[])}),he=[],g.i.__e(_e,ae.__v)}}),C&&C(ee,he)},g.i.unmount=function(ee){N&&N(ee);var he,ae=ee.__c;ae&&ae.__H&&(ae.__H.__.forEach(function(_e){try{X(_e)}catch(Ve){he=Ve}}),he&&g.i.__e(he,ae.__v))};var H=typeof requestAnimationFrame=="function";function B(ee){var he,ae=function(){clearTimeout(_e),H&&cancelAnimationFrame(he),setTimeout(ee)},_e=setTimeout(ae,100);H&&(he=requestAnimationFrame(ae))}function X(ee){var he=h,ae=ee.__c;typeof ae=="function"&&(ee.__c=void 0,ae()),h=he}function Y(ee){var he=h;ee.__c=ee.__(),h=he}function q(ee,he){return!ee||ee.length!==he.length||he.some(function(ae,_e){return ae!==ee[_e]})}function ue(ee,he){return typeof he=="function"?he(ee):he}function Ee(ee,he){for(var ae in he)ee[ae]=he[ae];return ee}function me(ee,he){for(var ae in ee)if(ae!=="__source"&&!(ae in he))return!0;for(var _e in he)if(_e!=="__source"&&ee[_e]!==he[_e])return!0;return!1}function Ae(ee){this.props=ee}function Fe(ee,he){function ae(Ve){var Ke=this.props.ref,pt=Ke==Ve.ref;return!pt&&Ke&&(Ke.call?Ke(null):Ke.current=null),he?!he(this.props,Ve)||!pt:me(this.props,Ve)}function _e(Ve){return this.shouldComponentUpdate=ae,Object(g.e)(ee,Ve)}return _e.displayName="Memo("+(ee.displayName||ee.name)+")",_e.prototype.isReactComponent=!0,_e.__f=!0,_e}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(ee,he){return me(this.props,ee)||me(this.state,he)};var je=g.i.__b;g.i.__b=function(ee){ee.type&&ee.type.__f&&ee.ref&&(ee.props.ref=ee.ref,ee.ref=null),je&&je(ee)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(ee){function he(ae,_e){var Ve=Ee({},ae);return delete Ve.ref,ee(Ve,!(_e=ae.ref||_e)||typeof _e=="object"&&!("current"in _e)?null:_e)}return he.$$typeof=ve,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(ee.displayName||ee.name)+")",he}var Me=function(ee,he){return ee==null?null:Object(g.k)(Object(g.k)(ee).map(he))},$e={map:Me,forEach:Me,count:function(ee){return ee?Object(g.k)(ee).length:0},only:function(ee){var he=Object(g.k)(ee);if(he.length!==1)throw"Children.only";return he[0]},toArray:g.k},rt=g.i.__e;g.i.__e=function(ee,he,ae){if(ee.then){for(var _e,Ve=he;Ve=Ve.__;)if((_e=Ve.__c)&&_e.__c)return he.__e==null&&(he.__e=ae.__e,he.__k=ae.__k),_e.__c(ee,he)}rt(ee,he,ae)};var xt=g.i.unmount;function Ye(ee,he,ae){return ee&&(ee.__c&&ee.__c.__H&&(ee.__c.__H.__.forEach(function(_e){typeof _e.__c=="function"&&_e.__c()}),ee.__c.__H=null),(ee=Ee({},ee)).__c!=null&&(ee.__c.__P===ae&&(ee.__c.__P=he),ee.__c=null),ee.__k=ee.__k&&ee.__k.map(function(_e){return Ye(_e,he,ae)})),ee}function Je(ee,he,ae){return ee&&(ee.__v=null,ee.__k=ee.__k&&ee.__k.map(function(_e){return Je(_e,he,ae)}),ee.__c&&ee.__c.__P===he&&(ee.__e&&ae.insertBefore(ee.__e,ee.__d),ee.__c.__e=!0,ee.__c.__P=ae)),ee}function bt(){this.__u=0,this.t=null,this.__b=null}function se(ee){var he=ee.__.__c;return he&&he.__e&&he.__e(ee)}function ce(){this.u=null,this.o=null}g.i.unmount=function(ee){var he=ee.__c;he&&he.__R&&he.__R(),he&&ee.__h===!0&&(ee.type=null),xt&&xt(ee)},(bt.prototype=new g.a).__c=function(ee,he){var ae=he.__c,_e=this;_e.t==null&&(_e.t=[]),_e.t.push(ae);var Ve=se(_e.__v),Ke=!1,pt=function(){Ke||(Ke=!0,ae.__R=null,Ve?Ve(Xt):Xt())};ae.__R=pt;var Xt=function(){if(!--_e.__u){if(_e.state.__e){var pr=_e.state.__e;_e.__v.__k[0]=Je(pr,pr.__c.__P,pr.__c.__O)}var Xn;for(_e.setState({__e:_e.__b=null});Xn=_e.t.pop();)Xn.forceUpdate()}},tr=he.__h===!0;_e.__u++||tr||_e.setState({__e:_e.__b=_e.__v.__k[0]}),ee.then(pt,pt)},bt.prototype.componentWillUnmount=function(){this.t=[]},bt.prototype.render=function(ee,he){if(this.__b){if(this.__v.__k){var ae=document.createElement("div"),_e=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ae,_e.__O=_e.__P)}this.__b=null}var Ve=he.__e&&Object(g.e)(g.b,null,ee.fallback);return Ve&&(Ve.__h=null),[Object(g.e)(g.b,null,he.__e?null:ee.children),Ve]};var ye=function(ee,he,ae){if(++ae[1]===ae[0]&&ee.o.delete(he),ee.props.revealOrder&&(ee.props.revealOrder[0]!=="t"||!ee.o.size))for(ae=ee.u;ae;){for(;ae.length>3;)ae.pop()();if(ae[1]<ae[0])break;ee.u=ae=ae[2]}};function De(ee){return this.getChildContext=function(){return ee.context},ee.children}function He(ee){var he=this,ae=ee.i;he.componentWillUnmount=function(){Object(g.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ae&&he.componentWillUnmount(),ee.__v?(he.l||(he.i=ae,he.l={nodeType:1,parentNode:ae,childNodes:[],appendChild:function(_e){this.childNodes.push(_e),he.i.appendChild(_e)},insertBefore:function(_e,Ve){this.childNodes.push(_e),he.i.appendChild(_e)},removeChild:function(_e){this.childNodes.splice(this.childNodes.indexOf(_e)>>>1,1),he.i.removeChild(_e)}}),Object(g.j)(Object(g.e)(De,{context:he.context},ee.__v),he.l)):he.l&&he.componentWillUnmount()}(ce.prototype=new g.a).__e=function(ee){var he=this,ae=se(he.__v),_e=he.o.get(ee);return _e[0]++,function(Ve){var Ke=function(){he.props.revealOrder?(_e.push(Ve),ye(he,ee,_e)):Ve()};ae?ae(Ke):Ke()}},ce.prototype.render=function(ee){this.u=null,this.o=new Map;var he=Object(g.k)(ee.children);ee.revealOrder&&ee.revealOrder[0]==="b"&&he.reverse();for(var ae=he.length;ae--;)this.o.set(he[ae],this.u=[1,0,this.u]);return ee.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var ee=this;this.o.forEach(function(he,ae){ye(ee,ae,he)})};var ze=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Et=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nt=typeof document!="undefined",Pt=function(ee){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(ee)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ee){Object.defineProperty(g.a.prototype,ee,{configurable:!0,get:function(){return this["UNSAFE_"+ee]},set:function(he){Object.defineProperty(this,ee,{configurable:!0,writable:!0,value:he})}})});var gt=g.i.event;function Te(){}function lt(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(ee){return gt&&(ee=gt(ee)),ee.persist=Te,ee.isPropagationStopped=lt,ee.isDefaultPrevented=pe,ee.nativeEvent=ee};var ut,Bt={configurable:!0,get:function(){return this.class}},dn=g.i.vnode;g.i.vnode=function(ee){var he=ee.type,ae=ee.props,_e=ae;if(typeof he=="string"){var Ve=he.indexOf("-")===-1;for(var Ke in _e={},ae){var pt=ae[Ke];Nt&&Ke==="children"&&he==="noscript"||Ke==="value"&&"defaultValue"in ae&&pt==null||(Ke==="defaultValue"&&"value"in ae&&ae.value==null?Ke="value":Ke==="download"&&pt===!0?pt="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+he)&&!Pt(ae.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():Ve&&Et.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():pt===null&&(pt=void 0),_e[Ke]=pt)}he=="select"&&_e.multiple&&Array.isArray(_e.value)&&(_e.value=Object(g.k)(ae.children).forEach(function(Xt){Xt.props.selected=_e.value.indexOf(Xt.props.value)!=-1})),he=="select"&&_e.defaultValue!=null&&(_e.value=Object(g.k)(ae.children).forEach(function(Xt){Xt.props.selected=_e.multiple?_e.defaultValue.indexOf(Xt.props.value)!=-1:_e.defaultValue==Xt.props.value})),ee.props=_e,ae.class!=ae.className&&(Bt.enumerable="className"in ae,ae.className!=null&&(_e.class=ae.className),Object.defineProperty(_e,"className",Bt))}ee.$$typeof=ze,dn&&dn(ee)};var Ft=g.i.__r;g.i.__r=function(ee){Ft&&Ft(ee),ut=ee.__c};var nn={ReactCurrentDispatcher:{current:{readContext:function(ee){return ut.__n[ee.__c].props.value}}}};function On(ee){return!!ee&&ee.$$typeof===ze}var Tn=function(ee,he){return ee(he)},Ct=g.b,Hn={useState:U,useReducer:G,useEffect:te,useLayoutEffect:ie,useRef:function(ee){return E=5,re(function(){return{current:ee}},[])},useImperativeHandle:function(ee,he,ae){E=6,ie(function(){typeof ee=="function"?ee(he()):ee&&(ee.current=he())},ae==null?ae:ae.concat(ee))},useMemo:re,useCallback:Q,useContext:function(ee){var he=h.context[ee.__c],ae=L(d++,9);return ae.c=ee,he?(ae.__==null&&(ae.__=!0,he.sub(h)),he.props.value):ee.__},useDebugValue:function(ee,he){g.i.useDebugValue&&g.i.useDebugValue(he?he(ee):ee)},version:"17.0.2",Children:$e,render:function(ee,he,ae){return he.__k==null&&(he.textContent=""),Object(g.j)(ee,he),typeof ae=="function"&&ae(),ee?ee.__c:null},hydrate:function(ee,he,ae){return Object(g.h)(ee,he),typeof ae=="function"&&ae(),ee?ee.__c:null},unmountComponentAtNode:function(ee){return!!ee.__k&&(Object(g.j)(null,ee),!0)},createPortal:function(ee,he){return Object(g.e)(He,{__v:ee,i:he})},createElement:g.e,createContext:g.d,createFactory:function(ee){return g.e.bind(null,ee)},cloneElement:function(ee){return On(ee)?g.c.apply(null,arguments):ee},createRef:g.f,Fragment:g.b,isValidElement:On,findDOMNode:function(ee){return ee&&(ee.base||ee.nodeType===1&&ee)||null},Component:g.a,PureComponent:Ae,memo:Fe,forwardRef:Pe,flushSync:function(ee,he){return ee(he)},unstable_batchedUpdates:Tn,StrictMode:Ct,Suspense:bt,SuspenseList:ce,lazy:function(ee){var he,ae,_e;function Ve(Ke){if(he||(he=ee()).then(function(pt){ae=pt.default||pt},function(pt){_e=pt}),_e)throw _e;if(!ae)throw he;return Object(g.e)(ae,Ke)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nn};p.d=Hn},function(a,p,o){var d=o(7),h=o(152),m=o(153),g=o(187),E=o(57),j=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch(T){k.forEach=g}};for(var P in h)h[P]&&j(d[P]&&d[P].prototype);j(m)},function(a,p,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(a,p,o){var d=o(16),h=o(18),m=o(40),g=o(101),E=o(143);d({target:"Object",stat:!0,forced:h(function(){g(1)}),sham:!E},{getPrototypeOf:function(j){return g(m(j))}})},function(a,p,o){var d=o(16),h=o(46),m=o(76),g=o(203),E=o(165),j=o(32),P=o(33),k=o(60),T=o(18),C=h("Reflect","construct"),N=Object.prototype,L=[].push,U=T(function(){function ie(){}return!(C(function(){},[],ie)instanceof ie)}),G=!T(function(){C(function(){})}),te=U||G;d({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ie,re){E(ie),j(re);var Q=arguments.length<3?ie:E(arguments[2]);if(G&&!U)return C(ie,re,Q);if(ie==Q){switch(re.length){case 0:return new ie;case 1:return new ie(re[0]);case 2:return new ie(re[0],re[1]);case 3:return new ie(re[0],re[1],re[2]);case 4:return new ie(re[0],re[1],re[2],re[3])}var Z=[null];return m(L,Z,re),new(m(g,ie,Z))}var H=Q.prototype,B=k(P(H)?H:N),X=m(ie,B,re);return P(X)?X:B}})},function(a,p){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);a.exports=d?function(g){return g&&m(h,g)}:function(g){return g&&function(){return h.apply(g,arguments)}}},function(a,p,o){var d=o(7),h=o(50).f,m=o(57),g=o(42),E=o(110),j=o(134),P=o(95);a.exports=function(k,T){var C,N,L,U,G,te=k.target,ie=k.global,re=k.stat;if(C=ie?d:re?d[te]||E(te,{}):(d[te]||{}).prototype)for(N in T){if(U=T[N],L=k.noTargetGet?(G=h(C,N))&&G.value:C[N],!P(ie?N:te+(re?".":"#")+N,k.forced)&&L!==void 0){if(typeof U==typeof L)continue;j(U,L)}(k.sham||L&&L.sham)&&m(U,"sham",!0),g(C,N,U,k)}}},function(a,p,o){var d=o(16),h=o(7),m=o(96),g=o(99),E=o(33),j=o(75),P=o(45),k=o(41),T=o(63),C=o(28),N=o(81),L=o(98),U=N("slice"),G=C("species"),te=h.Array,ie=Math.max;d({target:"Array",proto:!0,forced:!U},{slice:function(re,Q){var Z,H,B,X=k(this),Y=P(X),q=j(re,Y),ue=j(Q===void 0?Y:Q,Y);if(m(X)&&(Z=X.constructor,(g(Z)&&(Z===te||m(Z.prototype))||E(Z)&&(Z=Z[G])===null)&&(Z=void 0),Z===te||Z===void 0))return L(X,q,ue);for(H=new(Z===void 0?te:Z)(ie(ue-q,0)),B=0;q<ue;q++,B++)q in X&&T(H,B,X[q]);return H.length=B,H}})},function(a,p){a.exports=function(o){try{return!!o()}catch(d){return!0}}},function(a,p,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(a,p,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(h(g))}})},function(a,p,o){var d=o(36),h=o(73).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,j=m(E.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(P.exec);d&&!h&&g(E,"name",{configurable:!0,get:function(){try{return k(P,j(this))[1]}catch(T){return""}}})},function(a,p,o){var d=o(16),h=o(18),m=o(41),g=o(50).f,E=o(36),j=h(function(){g(1)});d({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(P,k){return g(m(P),k)}})},function(a,p,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(a,p,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(16),h=o(36),m=o(135),g=o(41),E=o(50),j=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(P){for(var k,T,C=g(P),N=E.f,L=m(C),U={},G=0;L.length>G;)(T=N(C,k=L[G++]))!==void 0&&j(U,k,T);return U}})},,function(a,p,o){var d=o(16),h=o(7),m=o(18),g=o(96),E=o(33),j=o(40),P=o(45),k=o(63),T=o(115),C=o(81),N=o(28),L=o(70),U=N("isConcatSpreadable"),G=9007199254740991,te="Maximum allowed index exceeded",ie=h.TypeError,re=L>=51||!m(function(){var H=[];return H[U]=!1,H.concat()[0]!==H}),Q=C("concat"),Z=function(H){if(!E(H))return!1;var B=H[U];return B!==void 0?!!B:g(H)};d({target:"Array",proto:!0,forced:!re||!Q},{concat:function(H){var B,X,Y,q,ue,Ee=j(this),me=T(Ee,0),Ae=0;for(B=-1,Y=arguments.length;B<Y;B++)if(Z(ue=B===-1?Ee:arguments[B])){if(Ae+(q=P(ue))>G)throw ie(te);for(X=0;X<q;X++,Ae++)X in ue&&k(me,Ae,ue[X])}else{if(Ae>=G)throw ie(te);k(me,Ae++,ue)}return me.length=Ae,me}})},function(a,p,o){var d=o(7),h=o(89),m=o(35),g=o(90),E=o(108),j=o(132),P=h("wks"),k=d.Symbol,T=k&&k.for,C=j?k:k&&k.withoutSetter||g;a.exports=function(N){if(!m(P,N)||!E&&typeof P[N]!="string"){var L="Symbol."+N;E&&m(k,N)?P[N]=k[N]:P[N]=j&&T?T(L):C(L)}return P[N]}},function(a,p,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(a,p){a.exports=function(o){return typeof o=="function"}},function(a,p,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();p.a=m},function(a,p,o){var d=o(7),h=o(33),m=d.String,g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not an object")}},function(a,p,o){var d=o(30);a.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(a,p){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,p,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,E){return m(h(g),E)}},function(a,p,o){var d=o(18);a.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,p,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(7),h=o(36),m=o(133),g=o(32),E=o(86),j=d.TypeError,P=Object.defineProperty;p.f=h?P:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return P(k,T,C)}catch(N){}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(a,p,o){var d=o(7),h=o(97),m=d.String;a.exports=function(g){if(h(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(a,p,o){var d=o(7),h=o(44),m=d.Object;a.exports=function(g){return m(h(g))}},function(a,p,o){var d=o(85),h=o(44);a.exports=function(m){return d(h(m))}},function(a,p,o){var d=o(7),h=o(30),m=o(35),g=o(57),E=o(110),j=o(92),P=o(58),k=o(73).CONFIGURABLE,T=P.get,C=P.enforce,N=String(String).split("String");(a.exports=function(L,U,G,te){var ie,re=!!te&&!!te.unsafe,Q=!!te&&!!te.enumerable,Z=!!te&&!!te.noTargetGet,H=te&&te.name!==void 0?te.name:U;h(G)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(G,"name")||k&&G.name!==H)&&g(G,"name",H),(ie=C(G)).source||(ie.source=N.join(typeof H=="string"?H:""))),L!==d?(re?!Z&&L[U]&&(Q=!0):delete L[U],Q?L[U]=G:g(L,U,G)):Q?L[U]=G:E(U,G)})(Function.prototype,"toString",function(){return h(this)&&T(this).source||j(this)})},function(a,p,o){(function(d){o.d(p,"d",function(){return g}),o.d(p,"c",function(){return E}),o.d(p,"b",function(){return j}),o.d(p,"a",function(){return k});var h=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var L,U,G=N.call(T),te=[];try{for(;(C===void 0||C-- >0)&&!(L=G.next()).done;)te.push(L.value)}catch(ie){U={error:ie}}finally{try{L&&!L.done&&(N=G.return)&&N.call(G)}finally{if(U)throw U.error}}return te};function g(){var T=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){T(function(C){return C+1})},[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function j(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var P={};function k(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:P}}).call(this,o(68))},function(a,p,o){var d=o(7).TypeError;a.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(a,p,o){var d=o(94);a.exports=function(h){return d(h.length)}},function(a,p,o){var d=o(7),h=o(30),m=function(g){return h(g)?g:void 0};a.exports=function(g,E){return arguments.length<2?m(d[g]):d[g]&&d[g][E]}},function(a,p,o){var d=o(16),h=o(34),m=o(33),g=o(32),E=o(204),j=o(50),P=o(101);d({target:"Reflect",stat:!0},{get:function k(T,C){var N,L,U=arguments.length<3?T:arguments[2];return g(T)===U?T[C]:(N=j.f(T,C))?E(N)?N.value:N.get===void 0?void 0:h(N.get,U):m(L=P(T))?k(L,C,U):void 0}})},function(a,p,o){(function(d){var h=o(31),m=o(171),g=u&&!u.nodeType&&u,E=g&&typeof d=="object"&&d&&!d.nodeType&&d,j=E&&E.exports===g?h.a.Buffer:void 0,P=(j?j.isBuffer:void 0)||m.a;p.a=P}).call(this,o(122)(a))},function(a,p,o){(function(d){var h=o(106),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m&&h.a.process,j=function(){try{var P=g&&g.require&&g.require("util").types;return P||E&&E.binding&&E.binding("util")}catch(k){}}();p.a=j}).call(this,o(122)(a))},function(a,p,o){var d=o(36),h=o(34),m=o(84),g=o(69),E=o(41),j=o(86),P=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;p.f=d?T:function(C,N){if(C=E(C),N=j(N),k)try{return T(C,N)}catch(L){}if(P(C,N))return g(!h(m.f,C,N),C[N])}},function(a,p,o){var d=o(15),h=d({}.toString),m=d("".slice);a.exports=function(g){return m(h(g),8,-1)}},function(a,p,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(a,p,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(a,p,o){var d=o(15);a.exports=d({}.isPrototypeOf)},function(a,p,o){var d=o(46);a.exports=d("navigator","userAgent")||""},function(a,p,o){var d=o(7),h=o(30),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a function")}},function(a,p,o){var d=o(36),h=o(38),m=o(69);a.exports=d?function(g,E,j){return h.f(g,E,m(1,j))}:function(g,E,j){return g[E]=j,g}},function(a,p,o){var d,h,m,g=o(175),E=o(7),j=o(15),P=o(33),k=o(57),T=o(35),C=o(109),N=o(93),L=o(72),U="Object already initialized",G=E.TypeError,te=E.WeakMap;if(g||C.state){var ie=C.state||(C.state=new te),re=j(ie.get),Q=j(ie.has),Z=j(ie.set);d=function(B,X){if(Q(ie,B))throw new G(U);return X.facade=B,Z(ie,B,X),X},h=function(B){return re(ie,B)||{}},m=function(B){return Q(ie,B)}}else{var H=N("state");L[H]=!0,d=function(B,X){if(T(B,H))throw new G(U);return X.facade=B,k(B,H,X),X},h=function(B){return T(B,H)?B[H]:{}},m=function(B){return T(B,H)}}a.exports={set:d,get:h,has:m,enforce:function(B){return m(B)?h(B):d(B,{})},getterFor:function(B){return function(X){var Y;if(!P(X)||(Y=h(X)).type!==B)throw G("Incompatible receiver, "+B+" required");return Y}}}},function(a,p){var o=Math.ceil,d=Math.floor;a.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(a,p,o){var d,h=o(32),m=o(176),g=o(111),E=o(72),j=o(138),P=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(G){return"<script>"+G+"<\/script>"},L=function(G){G.write(N("")),G.close();var te=G.parentWindow.Object;return G=null,te},U=function(){try{d=new ActiveXObject("htmlfile")}catch(re){}var G,te;U=typeof document!="undefined"?document.domain&&d?L(d):((te=P("iframe")).style.display="none",j.appendChild(te),te.src="javascript:",(G=te.contentWindow.document).open(),G.write(N("document.F=Object")),G.close(),G.F):L(d);for(var ie=g.length;ie--;)delete U.prototype[g[ie]];return U()};E[T]=!0,a.exports=Object.create||function(G,te){var ie;return G!==null?(C.prototype=h(G),ie=new C,C.prototype=null,ie[T]=G):ie=U(),te===void 0?ie:m(ie,te)}},function(a,p,o){var d=o(36),h=o(7),m=o(15),g=o(95),E=o(42),j=o(35),P=o(148),k=o(54),T=o(87),C=o(131),N=o(18),L=o(74).f,U=o(50).f,G=o(38).f,te=o(160),ie=o(161).trim,re="Number",Q=h.Number,Z=Q.prototype,H=h.TypeError,B=m("".slice),X=m("".charCodeAt),Y=function(Fe){var je=C(Fe,"number");return typeof je=="bigint"?je:q(je)},q=function(Fe){var je,ve,Pe,Me,$e,rt,xt,Ye,Je=C(Fe,"number");if(T(Je))throw H("Cannot convert a Symbol value to a number");if(typeof Je=="string"&&Je.length>2){if(Je=ie(Je),(je=X(Je,0))===43||je===45){if((ve=X(Je,2))===88||ve===120)return NaN}else if(je===48){switch(X(Je,1)){case 66:case 98:Pe=2,Me=49;break;case 79:case 111:Pe=8,Me=55;break;default:return+Je}for(rt=($e=B(Je,2)).length,xt=0;xt<rt;xt++)if((Ye=X($e,xt))<48||Ye>Me)return NaN;return parseInt($e,Pe)}}return+Je};if(g(re,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ue,Ee=function(Fe){var je=arguments.length<1?0:Q(Y(Fe)),ve=this;return k(Z,ve)&&N(function(){te(ve)})?P(Object(je),ve,Ee):je},me=d?L(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;me.length>Ae;Ae++)j(Q,ue=me[Ae])&&!j(Ee,ue)&&G(Ee,ue,U(Q,ue));Ee.prototype=Z,Z.constructor=Ee,E(h,re,Ee)}},function(a,p,o){var d=o(56);a.exports=function(h,m){var g=h[m];return g==null?void 0:d(g)}},function(a,p,o){var d=o(86),h=o(38),m=o(69);a.exports=function(g,E,j){var P=d(E);P in g?h.f(g,P,m(0,j)):g[P]=j}},function(a,p,o){var d=o(15),h=o(56),m=d(d.bind);a.exports=function(g,E){return h(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(a,p,o){var d=o(16),h=o(15),m=o(85),g=o(41),E=o(121),j=h([].join),P=m!=Object,k=E("join",",");d({target:"Array",proto:!0,forced:P||!k},{join:function(T){return j(g(this),T===void 0?",":T)}})},function(a,p,o){var d=o(15),h=o(73).PROPER,m=o(42),g=o(32),E=o(54),j=o(39),P=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,L=d(k),U=P(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),G=h&&N.name!=T;(U||G)&&m(RegExp.prototype,T,function(){var te=g(this),ie=j(te.source),re=te.flags;return"/"+ie+"/"+j(re===void 0&&E(C,te)&&!("flags"in C)?L(te):re)},{unsafe:!0})},function(a,p,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(a,p){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(d){typeof window=="object"&&(o=window)}a.exports=o},function(a,p){a.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(a,p,o){var d,h,m=o(7),g=o(55),E=m.process,j=m.Deno,P=E&&E.versions||j&&j.version,k=P&&P.v8;k&&(h=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(h=+d[1]),a.exports=h},function(a,p){a.exports=!1},function(a,p){a.exports={}},function(a,p,o){var d=o(36),h=o(35),m=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,E=h(m,"name"),j=E&&function(){}.name==="something",P=E&&(!d||d&&g(m,"name").configurable);a.exports={EXISTS:E,PROPER:j,CONFIGURABLE:P}},function(a,p,o){var d=o(136),h=o(111).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(a,p,o){var d=o(59),h=Math.max,m=Math.min;a.exports=function(g,E){var j=d(g);return j<0?h(j+E,0):m(j,E)}},function(a,p){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(a,p,o){var d=o(136),h=o(111);a.exports=Object.keys||function(m){return d(m,h)}},function(a,p,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");a.exports=function(g,E,j){g&&!h(g=j?g:g.prototype,m)&&d(g,m,{configurable:!0,value:E})}},function(a,p,o){var d=o(64),h=o(15),m=o(85),g=o(40),E=o(45),j=o(115),P=h([].push),k=function(T){var C=T==1,N=T==2,L=T==3,U=T==4,G=T==6,te=T==7,ie=T==5||G;return function(re,Q,Z,H){for(var B,X,Y=g(re),q=m(Y),ue=d(Q,Z),Ee=E(q),me=0,Ae=H||j,Fe=C?Ae(re,Ee):N||te?Ae(re,0):void 0;Ee>me;me++)if((ie||me in q)&&(X=ue(B=q[me],me,Y),T))if(C)Fe[me]=X;else if(X)switch(T){case 3:return!0;case 5:return B;case 6:return me;case 2:P(Fe,B)}else switch(T){case 4:return!1;case 7:P(Fe,B)}return G?-1:L||U?U:Fe}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(a,p){a.exports={}},function(a,p,o){var d=o(18),h=o(28),m=o(70),g=h("species");a.exports=function(E){return m>=51||!d(function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[E](Boolean).foo!==1})}},function(a,p,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(159),j=o(32),P=o(44),k=o(164),T=o(124),C=o(94),N=o(39),L=o(62),U=o(114),G=o(125),te=o(103),ie=o(155),re=o(18),Q=ie.UNSUPPORTED_Y,Z=4294967295,H=Math.min,B=[].push,X=m(/./.exec),Y=m(B),q=m("".slice),ue=!re(function(){var Ee=/(?:)/,me=Ee.exec;Ee.exec=function(){return me.apply(this,arguments)};var Ae="ab".split(Ee);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});g("split",function(Ee,me,Ae){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(P(this)),Me=ve===void 0?Z:ve>>>0;if(Me===0)return[];if(je===void 0)return[Pe];if(!E(je))return h(me,Pe,je,Me);for(var $e,rt,xt,Ye=[],Je=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),bt=0,se=new RegExp(je.source,Je+"g");($e=h(te,se,Pe))&&!((rt=se.lastIndex)>bt&&(Y(Ye,q(Pe,bt,$e.index)),$e.length>1&&$e.index<Pe.length&&d(B,Ye,U($e,1)),xt=$e[0].length,bt=rt,Ye.length>=Me));)se.lastIndex===$e.index&&se.lastIndex++;return bt===Pe.length?!xt&&X(se,"")||Y(Ye,""):Y(Ye,q(Pe,bt)),Ye.length>Me?U(Ye,0,Me):Ye}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:h(me,this,je,ve)}:me,[function(je,ve){var Pe=P(this),Me=je==null?void 0:L(je,Ee);return Me?h(Me,je,Pe,ve):h(Fe,N(Pe),je,ve)},function(je,ve){var Pe=j(this),Me=N(je),$e=Ae(Fe,Pe,Me,ve,Fe!==me);if($e.done)return $e.value;var rt=k(Pe,RegExp),xt=Pe.unicode,Ye=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Q?"g":"y"),Je=new rt(Q?"^(?:"+Pe.source+")":Pe,Ye),bt=ve===void 0?Z:ve>>>0;if(bt===0)return[];if(Me.length===0)return G(Je,Me)===null?[Me]:[];for(var se=0,ce=0,ye=[];ce<Me.length;){Je.lastIndex=Q?0:ce;var De,He=G(Je,Q?q(Me,ce):Me);if(He===null||(De=H(C(Je.lastIndex+(Q?ce:0)),Me.length))===se)ce=T(Me,ce,xt);else{if(Y(ye,q(Me,se,ce)),ye.length===bt)return ye;for(var ze=1;ze<=He.length-1;ze++)if(Y(ye,He[ze]),ye.length===bt)return ye;ce=se=De}}return Y(ye,q(Me,se)),ye}]},!ue,Q)},function(a,p,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,p,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);p.f=m?function(g){var E=h(this,g);return!!E&&E.enumerable}:d},function(a,p,o){var d=o(7),h=o(15),m=o(18),g=o(51),E=d.Object,j=h("".split);a.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(P){return g(P)=="String"?j(P,""):E(P)}:E},function(a,p,o){var d=o(131),h=o(87);a.exports=function(m){var g=d(m,"string");return h(g)?g:g+""}},function(a,p,o){var d=o(7),h=o(46),m=o(30),g=o(54),E=o(132),j=d.Object;a.exports=E?function(P){return typeof P=="symbol"}:function(P){var k=h("Symbol");return m(k)&&g(k.prototype,j(P))}},function(a,p,o){var d=o(7).String;a.exports=function(h){try{return d(h)}catch(m){return"Object"}}},function(a,p,o){var d=o(71),h=o(109);(a.exports=function(m,g){return h[m]||(h[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,p,o){var d=o(15),h=0,m=Math.random(),g=d(1 .toString);a.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++h+m,36)}},function(a,p,o){var d=o(7),h=o(33),m=d.document,g=h(m)&&h(m.createElement);a.exports=function(E){return g?m.createElement(E):{}}},function(a,p,o){var d=o(15),h=o(30),m=o(109),g=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),a.exports=m.inspectSource},function(a,p,o){var d=o(89),h=o(90),m=d("keys");a.exports=function(g){return m[g]||(m[g]=h(g))}},function(a,p,o){var d=o(59),h=Math.min;a.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(a,p,o){var d=o(18),h=o(30),m=/#|\.prototype\./,g=function(T,C){var N=j[E(T)];return N==k||N!=P&&(h(C)?d(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},j=g.data={},P=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},function(a,p,o){var d=o(51);a.exports=Array.isArray||function(h){return d(h)=="Array"}},function(a,p,o){var d=o(7),h=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),j=d.Object,P=g(function(){return arguments}())=="Arguments";a.exports=h?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(L,U){try{return L[U]}catch(G){}}(T=j(k),E))=="string"?C:P?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(a,p,o){var d=o(15);a.exports=d([].slice)},function(a,p,o){var d=o(15),h=o(18),m=o(30),g=o(97),E=o(46),j=o(92),P=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=d(C.exec),L=!C.exec(P),U=function(G){if(!m(G))return!1;try{return T(P,k,G),!0}catch(te){return!1}};a.exports=!T||h(function(){var G;return U(U.call)||!U(Object)||!U(function(){G=!0})||G})?function(G){if(!m(G))return!1;switch(g(G)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!N(C,j(G))}:U},function(a,p,o){var d=o(28),h=o(60),m=o(38),g=d("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:h(null)}),a.exports=function(j){E[g][j]=!0}},function(a,p,o){var d=o(7),h=o(35),m=o(30),g=o(40),E=o(93),j=o(143),P=E("IE_PROTO"),k=d.Object,T=k.prototype;a.exports=j?k.getPrototypeOf:function(C){var N=g(C);if(h(N,P))return N[P];var L=N.constructor;return m(L)&&N instanceof L?L.prototype:N instanceof k?T:null}},function(a,p,o){var d=o(15),h=o(32),m=o(181);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,j={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch(P){}return function(P,k){return h(P),m(k),E?g(P,k):P.__proto__=k,P}}():void 0)},function(a,p,o){var d,h,m=o(34),g=o(15),E=o(39),j=o(154),P=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),L=o(191),U=k("native-string-replace",String.prototype.replace),G=RegExp.prototype.exec,te=G,ie=g("".charAt),re=g("".indexOf),Q=g("".replace),Z=g("".slice),H=(h=/b*/g,m(G,d=/a/,"a"),m(G,h,"a"),d.lastIndex!==0||h.lastIndex!==0),B=P.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;(H||X||B||N||L)&&(te=function(Y){var q,ue,Ee,me,Ae,Fe,je,ve=this,Pe=C(ve),Me=E(Y),$e=Pe.raw;if($e)return $e.lastIndex=ve.lastIndex,q=m(te,$e,Me),ve.lastIndex=$e.lastIndex,q;var rt=Pe.groups,xt=B&&ve.sticky,Ye=m(j,ve),Je=ve.source,bt=0,se=Me;if(xt&&(Ye=Q(Ye,"y",""),re(Ye,"g")===-1&&(Ye+="g"),se=Z(Me,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ie(Me,ve.lastIndex-1)!==`
`)&&(Je="(?: "+Je+")",se=" "+se,bt++),ue=new RegExp("^(?:"+Je+")",Ye)),X&&(ue=new RegExp("^"+Je+"$(?!\\s)",Ye)),H&&(Ee=ve.lastIndex),me=m(G,xt?ue:ve,se),xt?me?(me.input=Z(me.input,bt),me[0]=Z(me[0],bt),me.index=ve.lastIndex,ve.lastIndex+=me[0].length):ve.lastIndex=0:H&&me&&(ve.lastIndex=ve.global?me.index+me[0].length:Ee),X&&me&&me.length>1&&m(U,me[0],ue,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(me[Ae]=void 0)}),me&&rt)for(me.groups=Fe=T(null),Ae=0;Ae<rt.length;Ae++)Fe[(je=rt[Ae])[0]]=me[je[1]];return me}),a.exports=te},function(a,p,o){var d=o(16),h=o(7),m=o(75),g=o(59),E=o(45),j=o(40),P=o(115),k=o(63),T=o(81)("splice"),C=h.TypeError,N=Math.max,L=Math.min,U=9007199254740991,G="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!T},{splice:function(te,ie){var re,Q,Z,H,B,X,Y=j(this),q=E(Y),ue=m(te,q),Ee=arguments.length;if(Ee===0?re=Q=0:Ee===1?(re=0,Q=q-ue):(re=Ee-2,Q=L(N(g(ie),0),q-ue)),q+re-Q>U)throw C(G);for(Z=P(Y,Q),H=0;H<Q;H++)(B=ue+H)in Y&&k(Z,H,Y[B]);if(Z.length=Q,re<Q){for(H=ue;H<q-Q;H++)X=H+re,(B=H+Q)in Y?Y[X]=Y[B]:delete Y[X];for(H=q;H>q-Q+re;H--)delete Y[H-1]}else if(re>Q)for(H=q-Q;H>ue;H--)X=H+re-1,(B=H+Q-1)in Y?Y[X]=Y[B]:delete Y[X];for(H=0;H<re;H++)Y[H+ue]=arguments[H+2];return Y.length=q-Q+re,Z}})},function(a,p,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(a,p,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;p.a=h}).call(this,o(68))},function(a,p,o){(function(d){var h=o(31),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m?h.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;p.a=function(P,k){if(k)return P.slice();var T=P.length,C=j?j(T):new P.constructor(T);return P.copy(C),C}}).call(this,o(122)(a))},function(a,p,o){var d=o(70),h=o(18);a.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(a,p,o){var d=o(7),h=o(110),m="__core-js_shared__",g=d[m]||h(m,{});a.exports=g},function(a,p,o){var d=o(7),h=Object.defineProperty;a.exports=function(m,g){try{h(d,m,{value:g,configurable:!0,writable:!0})}catch(E){d[m]=g}return g}},function(a,p){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,p){p.f=Object.getOwnPropertySymbols},function(a,p,o){var d={};d[o(28)("toStringTag")]="z",a.exports=String(d)==="[object z]"},function(a,p,o){var d=o(7),h=o(75),m=o(45),g=o(63),E=d.Array,j=Math.max;a.exports=function(P,k,T){for(var C=m(P),N=h(k,C),L=h(T===void 0?C:T,C),U=E(j(L-N,0)),G=0;N<L;N++,G++)g(U,G,P[N]);return U.length=G,U}},function(a,p,o){var d=o(178);a.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(a,p,o){var d=o(16),h=o(34),m=o(71),g=o(73),E=o(30),j=o(180),P=o(101),k=o(102),T=o(78),C=o(57),N=o(42),L=o(28),U=o(80),G=o(142),te=g.PROPER,ie=g.CONFIGURABLE,re=G.IteratorPrototype,Q=G.BUGGY_SAFARI_ITERATORS,Z=L("iterator"),H="keys",B="values",X="entries",Y=function(){return this};a.exports=function(q,ue,Ee,me,Ae,Fe,je){j(Ee,ue,me);var ve,Pe,Me,$e=function(ce){if(ce===Ae&&bt)return bt;if(!Q&&ce in Ye)return Ye[ce];switch(ce){case H:case B:case X:return function(){return new Ee(this,ce)}}return function(){return new Ee(this)}},rt=ue+" Iterator",xt=!1,Ye=q.prototype,Je=Ye[Z]||Ye["@@iterator"]||Ae&&Ye[Ae],bt=!Q&&Je||$e(Ae),se=ue=="Array"&&Ye.entries||Je;if(se&&(ve=P(se.call(new q)))!==Object.prototype&&ve.next&&(m||P(ve)===re||(k?k(ve,re):E(ve[Z])||N(ve,Z,Y)),T(ve,rt,!0,!0),m&&(U[rt]=Y)),te&&Ae==B&&Je&&Je.name!==B&&(!m&&ie?C(Ye,"name",B):(xt=!0,bt=function(){return h(Je,this)})),Ae)if(Pe={values:$e(B),keys:Fe?bt:$e(H),entries:$e(X)},je)for(Me in Pe)(Q||xt||!(Me in Ye))&&N(Ye,Me,Pe[Me]);else d({target:ue,proto:!0,forced:Q||xt},Pe);return m&&!je||Ye[Z]===bt||N(Ye,Z,bt,{name:Ae}),U[ue]=bt,Pe}},function(a,p,o){var d=o(7),h=o(64),m=o(34),g=o(32),E=o(88),j=o(145),P=o(45),k=o(54),T=o(146),C=o(118),N=o(147),L=d.TypeError,U=function(te,ie){this.stopped=te,this.result=ie},G=U.prototype;a.exports=function(te,ie,re){var Q,Z,H,B,X,Y,q,ue=re&&re.that,Ee=!(!re||!re.AS_ENTRIES),me=!(!re||!re.IS_ITERATOR),Ae=!(!re||!re.INTERRUPTED),Fe=h(ie,ue),je=function(Pe){return Q&&N(Q,"normal",Pe),new U(!0,Pe)},ve=function(Pe){return Ee?(g(Pe),Ae?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Ae?Fe(Pe,je):Fe(Pe)};if(me)Q=te;else{if(!(Z=C(te)))throw L(E(te)+" is not iterable");if(j(Z)){for(H=0,B=P(te);B>H;H++)if((X=ve(te[H]))&&k(G,X))return X;return new U(!1)}Q=T(te,Z)}for(Y=Q.next;!(q=m(Y,Q)).done;){try{X=ve(q.value)}catch(Pe){N(Q,"throw",Pe)}if(typeof X=="object"&&X&&k(G,X))return X}return new U(!1)}},function(a,p,o){var d=o(97),h=o(62),m=o(80),g=o(28)("iterator");a.exports=function(E){if(E!=null)return h(E,g)||h(E,"@@iterator")||m[d(E)]}},function(a,p,o){var d=o(7),h=o(54),m=d.TypeError;a.exports=function(g,E){if(h(E,g))return g;throw m("Incorrect invocation")}},function(a,p,o){var d=o(28)("iterator"),h=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){h=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch(E){}a.exports=function(E,j){if(!j&&!h)return!1;var P=!1;try{var k={};k[d]=function(){return{next:function(){return{done:P=!0}}}},E(k)}catch(T){}return P}},function(a,p,o){var d=o(18);a.exports=function(h,m){var g=[][h];return!!g&&d(function(){g.call(null,m||function(){throw 1},1)})}},function(a,p){a.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(a,p,o){o(19);var d=o(15),h=o(42),m=o(103),g=o(18),E=o(28),j=o(57),P=E("species"),k=RegExp.prototype;a.exports=function(T,C,N,L){var U=E(T),G=!g(function(){var Q={};return Q[U]=function(){return 7},""[T](Q)!=7}),te=G&&!g(function(){var Q=!1,Z=/a/;return T==="split"&&((Z={}).constructor={},Z.constructor[P]=function(){return Z},Z.flags="",Z[U]=/./[U]),Z.exec=function(){return Q=!0,null},Z[U](""),!Q});if(!G||!te||N){var ie=d(/./[U]),re=C(U,""[T],function(Q,Z,H,B,X){var Y=d(Q),q=Z.exec;return q===m||q===k.exec?G&&!X?{done:!0,value:ie(Z,H,B)}:{done:!0,value:Y(H,Z,B)}:{done:!1}});h(String.prototype,T,re[0]),h(k,U,re[1])}L&&j(k[U],"sham",!0)}},function(a,p,o){var d=o(151).charAt;a.exports=function(h,m,g){return m+(g?d(h,m).length:1)}},function(a,p,o){var d=o(7),h=o(34),m=o(32),g=o(30),E=o(51),j=o(103),P=d.TypeError;a.exports=function(k,T){var C=k.exec;if(g(C)){var N=h(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return h(j,k,T);throw P("RegExp#exec called on incompatible receiver")}},function(a,p,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(18),j=o(32),P=o(30),k=o(59),T=o(94),C=o(39),N=o(44),L=o(124),U=o(62),G=o(201),te=o(125),ie=o(28)("replace"),re=Math.max,Q=Math.min,Z=m([].concat),H=m([].push),B=m("".indexOf),X=m("".slice),Y="a".replace(/./,"$0")==="$0",q=!!/./[ie]&&/./[ie]("a","$0")==="";g("replace",function(ue,Ee,me){var Ae=q?"$":"$0";return[function(Fe,je){var ve=N(this),Pe=Fe==null?void 0:U(Fe,ie);return Pe?h(Pe,Fe,ve,je):h(Ee,C(ve),Fe,je)},function(Fe,je){var ve=j(this),Pe=C(Fe);if(typeof je=="string"&&B(je,Ae)===-1&&B(je,"$<")===-1){var Me=me(Ee,ve,Pe,je);if(Me.done)return Me.value}var $e=P(je);$e||(je=C(je));var rt=ve.global;if(rt){var xt=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var Je=te(ve,Pe);if(Je===null||(H(Ye,Je),!rt))break;C(Je[0])===""&&(ve.lastIndex=L(Pe,T(ve.lastIndex),xt))}for(var bt,se="",ce=0,ye=0;ye<Ye.length;ye++){for(var De=C((Je=Ye[ye])[0]),He=re(Q(k(Je.index),Pe.length),0),ze=[],Et=1;Et<Je.length;Et++)H(ze,(bt=Je[Et])===void 0?bt:String(bt));var Nt=Je.groups;if($e){var Pt=Z([De],ze,He,Pe);Nt!==void 0&&H(Pt,Nt);var gt=C(d(je,void 0,Pt))}else gt=G(De,Pe,He,ze,Nt,je);He>=ce&&(se+=X(Pe,ce,He)+gt,ce=He+De.length)}return se+X(Pe,ce)}]},!!E(function(){var ue=/./;return ue.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ue,"$<a>")!=="7"})||!Y||q)},function(a,p,o){var d=o(16),h=Math.hypot,m=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,j){for(var P,k,T=0,C=0,N=arguments.length,L=0;C<N;)L<(P=m(arguments[C++]))?(T=T*(k=L/P)*k+1,L=P):T+=P>0?(k=P/L)*k:P;return L===1/0?1/0:L*g(T)}})},function(a,p,o){var d=o(51),h=o(7);a.exports=d(h.process)=="process"},function(a,p,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,p,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",j="__lodash_hash_undefined__",P="__lodash_placeholder__",k=16,T=32,C=64,N=128,L=256,U=1/0,G=9007199254740991,te=NaN,ie=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",L]],Q="[object Arguments]",Z="[object Array]",H="[object Boolean]",B="[object Date]",X="[object Error]",Y="[object Function]",q="[object GeneratorFunction]",ue="[object Map]",Ee="[object Number]",me="[object Object]",Ae="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Me="[object WeakMap]",$e="[object ArrayBuffer]",rt="[object DataView]",xt="[object Float32Array]",Ye="[object Float64Array]",Je="[object Int8Array]",bt="[object Int16Array]",se="[object Int32Array]",ce="[object Uint8Array]",ye="[object Uint8ClampedArray]",De="[object Uint16Array]",He="[object Uint32Array]",ze=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,Te=RegExp(Pt.source),lt=RegExp(gt.source),pe=/<%-([\s\S]+?)%>/g,ut=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,Tn=RegExp(On.source),Ct=/^\s+/,Hn=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,tr=/^[-+]0x[0-9a-f]+$/i,pr=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,qn=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,It=/['\n\r\u2028\u2029\\]/g,bn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Cn="\\u2700-\\u27bf",Bo="a-z\\xdf-\\xf6\\xf8-\\xff",xo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",Li="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kl="['’]",Iu="[\\ud800-\\udfff]",qr="["+Li+"]",ca="["+bn+"]",ft="\\d+",Dl="[\\u2700-\\u27bf]",Lu="["+Bo+"]",zu="[^\\ud800-\\udfff"+Li+ft+Cn+Bo+xo+"]",kr="\\ud83c[\\udffb-\\udfff]",Wr="[^\\ud800-\\udfff]",Fa="(?:\\ud83c[\\udde6-\\uddff]){2}",lo="[\\ud800-\\udbff][\\udc00-\\udfff]",Zr="["+xo+"]",fo="(?:"+Lu+"|"+zu+")",Bu="(?:"+Zr+"|"+zu+")",Fu="(?:['’](?:d|ll|m|re|s|t|ve))?",Yc="(?:['’](?:D|LL|M|RE|S|T|VE))?",sa="(?:"+ca+"|"+kr+")?",Vc="[\\ufe0e\\ufe0f]?",Wu=Vc+sa+("(?:\\u200d(?:"+[Wr,Fa,lo].join("|")+")"+Vc+sa+")*"),Nl="(?:"+[Dl,Fa,lo].join("|")+")"+Wu,li="(?:"+[Wr+ca+"?",ca,Fa,lo,Iu].join("|")+")",Kc=RegExp(kl,"g"),Wo=RegExp(ca,"g"),$u=RegExp(kr+"(?="+kr+")|"+li+Wu,"g"),Wa=RegExp([Zr+"?"+Lu+"+"+Fu+"(?="+[qr,Zr,"$"].join("|")+")",Bu+"+"+Yc+"(?="+[qr,Zr+fo,"$"].join("|")+")",Zr+"?"+fo+"+"+Fu,Zr+"+"+Yc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,Nl].join("|"),"g"),Uu=RegExp("[\\u200d\\ud800-\\udfff"+bn+Fo+"]"),Gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qc=-1,vn={};vn[xt]=vn[Ye]=vn[Je]=vn[bt]=vn[se]=vn[ce]=vn[ye]=vn[De]=vn[He]=!0,vn[Q]=vn[Z]=vn[$e]=vn[H]=vn[rt]=vn[B]=vn[X]=vn[Y]=vn[ue]=vn[Ee]=vn[me]=vn[Fe]=vn[je]=vn[ve]=vn[Me]=!1;var hn={};hn[Q]=hn[Z]=hn[$e]=hn[rt]=hn[H]=hn[B]=hn[xt]=hn[Ye]=hn[Je]=hn[bt]=hn[se]=hn[ue]=hn[Ee]=hn[me]=hn[Fe]=hn[je]=hn[ve]=hn[Pe]=hn[ce]=hn[ye]=hn[De]=hn[He]=!0,hn[X]=hn[Y]=hn[Me]=!1;var Zc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zi=parseFloat,$o=parseInt,Hu=typeof d=="object"&&d&&d.Object===Object&&d,Jc=typeof self=="object"&&self&&self.Object===Object&&self,Wn=Hu||Jc||Function("return this")(),Xu=p&&!p.nodeType&&p,la=Xu&&typeof h=="object"&&h&&!h.nodeType&&h,Yu=la&&la.exports===Xu,$a=Yu&&Hu.process,dr=function(){try{var we=la&&la.require&&la.require("util").types;return we||$a&&$a.binding&&$a.binding("util")}catch(Re){}}(),Vu=dr&&dr.isArrayBuffer,Qc=dr&&dr.isDate,Ku=dr&&dr.isMap,Ua=dr&&dr.isRegExp,Bi=dr&&dr.isSet,Uo=dr&&dr.isTypedArray;function En(we,Re,Ie){switch(Ie.length){case 0:return we.call(Re);case 1:return we.call(Re,Ie[0]);case 2:return we.call(Re,Ie[0],Ie[1]);case 3:return we.call(Re,Ie[0],Ie[1],Ie[2])}return we.apply(Re,Ie)}function Cl(we,Re,Ie,et){for(var Wt=-1,Zt=we==null?0:we.length;++Wt<Zt;){var Pn=we[Wt];Re(et,Pn,Ie(Pn),we)}return et}function Dr(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et&&Re(we[Ie],Ie,we)!==!1;);return we}function Il(we,Re){for(var Ie=we==null?0:we.length;Ie--&&Re(we[Ie],Ie,we)!==!1;);return we}function es(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(!Re(we[Ie],Ie,we))return!1;return!0}function Or(we,Re){for(var Ie=-1,et=we==null?0:we.length,Wt=0,Zt=[];++Ie<et;){var Pn=we[Ie];Re(Pn,Ie,we)&&(Zt[Wt++]=Pn)}return Zt}function Jr(we,Re){return!!(we!=null&&we.length)&&Fi(we,Re,0)>-1}function qu(we,Re,Ie){for(var et=-1,Wt=we==null?0:we.length;++et<Wt;)if(Ie(Re,we[et]))return!0;return!1}function un(we,Re){for(var Ie=-1,et=we==null?0:we.length,Wt=Array(et);++Ie<et;)Wt[Ie]=Re(we[Ie],Ie,we);return Wt}function nr(we,Re){for(var Ie=-1,et=Re.length,Wt=we.length;++Ie<et;)we[Wt+Ie]=Re[Ie];return we}function Ga(we,Re,Ie,et){var Wt=-1,Zt=we==null?0:we.length;for(et&&Zt&&(Ie=we[++Wt]);++Wt<Zt;)Ie=Re(Ie,we[Wt],Wt,we);return Ie}function ts(we,Re,Ie,et){var Wt=we==null?0:we.length;for(et&&Wt&&(Ie=we[--Wt]);Wt--;)Ie=Re(Ie,we[Wt],Wt,we);return Ie}function Zu(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(Re(we[Ie],Ie,we))return!0;return!1}var Ha=Rr("length");function Eo(we,Re,Ie){var et;return Ie(we,function(Wt,Zt,Pn){if(Re(Wt,Zt,Pn))return et=Zt,!1}),et}function Go(we,Re,Ie,et){for(var Wt=we.length,Zt=Ie+(et?1:-1);et?Zt--:++Zt<Wt;)if(Re(we[Zt],Zt,we))return Zt;return-1}function Fi(we,Re,Ie){return Re==Re?function(et,Wt,Zt){for(var Pn=Zt-1,O=et.length;++Pn<O;)if(et[Pn]===Wt)return Pn;return-1}(we,Re,Ie):Go(we,Ho,Ie)}function Nr(we,Re,Ie,et){for(var Wt=Ie-1,Zt=we.length;++Wt<Zt;)if(et(we[Wt],Re))return Wt;return-1}function Ho(we){return we!=we}function rn(we,Re){var Ie=we==null?0:we.length;return Ie?Xa(we,Re)/Ie:te}function Rr(we){return function(Re){return Re==null?g:Re[we]}}function So(we){return function(Re){return we==null?g:we[Re]}}function sr(we,Re,Ie,et,Wt){return Wt(we,function(Zt,Pn,O){Ie=et?(et=!1,Zt):Re(Ie,Zt,Pn,O)}),Ie}function Xa(we,Re){for(var Ie,et=-1,Wt=we.length;++et<Wt;){var Zt=Re(we[et]);Zt!==g&&(Ie=Ie===g?Zt:Ie+Zt)}return Ie}function fa(we,Re){for(var Ie=-1,et=Array(we);++Ie<we;)et[Ie]=Re(Ie);return et}function Ju(we){return we&&we.slice(0,Cr(we)+1).replace(Ct,"")}function In(we){return function(Re){return we(Re)}}function Ya(we,Re){return un(Re,function(Ie){return we[Ie]})}function Xo(we,Re){return we.has(Re)}function Qr(we,Re){for(var Ie=-1,et=we.length;++Ie<et&&Fi(Re,we[Ie],0)>-1;);return Ie}function Qu(we,Re){for(var Ie=we.length;Ie--&&Fi(Re,we[Ie],0)>-1;);return Ie}function Ll(we,Re){for(var Ie=we.length,et=0;Ie--;)we[Ie]===Re&&++et;return et}var ec=So({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Yn=So({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pa(we){return"\\"+Zc[we]}function jo(we){return Uu.test(we)}function wr(we){var Re=-1,Ie=Array(we.size);return we.forEach(function(et,Wt){Ie[++Re]=[Wt,et]}),Ie}function tc(we,Re){return function(Ie){return we(Re(Ie))}}function $r(we,Re){for(var Ie=-1,et=we.length,Wt=0,Zt=[];++Ie<et;){var Pn=we[Ie];Pn!==Re&&Pn!==P||(we[Ie]=P,Zt[Wt++]=Ie)}return Zt}function fi(we){var Re=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Re]=et}),Ie}function Va(we){var Re=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Re]=[et,et]}),Ie}function Po(we){return jo(we)?function(Re){for(var Ie=$u.lastIndex=0;$u.test(Re);)++Ie;return Ie}(we):Ha(we)}function Ur(we){return jo(we)?function(Re){return Re.match($u)||[]}(we):function(Re){return Re.split("")}(we)}function Cr(we){for(var Re=we.length;Re--&&Hn.test(we.charAt(Re)););return Re}var eo=So({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ao=function we(Re){var Ie,et=(Re=Re==null?Wn:Ao.defaults(Wn.Object(),Re,Ao.pick(Wn,Rl))).Array,Wt=Re.Date,Zt=Re.Error,Pn=Re.Function,O=Re.Math,w=Re.Object,M=Re.RegExp,z=Re.String,K=Re.TypeError,de=et.prototype,Se=Pn.prototype,We=w.prototype,st=Re["__core-js_shared__"],Vt=Se.toString,tt=We.hasOwnProperty,wn=0,$t=(Ie=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",sn=We.toString,to=Vt.call(w),Dn=Wn._,Ir=M("^"+Vt.call(tt).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=Yu?Re.Buffer:g,Vo=Re.Symbol,da=Re.Uint8Array,nc=Yo?Yo.allocUnsafe:g,pi=tc(w.getPrototypeOf,w),Ka=w.create,xr=We.propertyIsEnumerable,ha=de.splice,Wi=Vo?Vo.isConcatSpreadable:g,di=Vo?Vo.iterator:g,hi=Vo?Vo.toStringTag:g,qa=function(){try{var l=ma(w,"defineProperty");return l({},"",{}),l}catch(y){}}(),My=Re.clearTimeout!==Wn.clearTimeout&&Re.clearTimeout,Ty=Wt&&Wt.now!==Wn.Date.now&&Wt.now,kp=Re.setTimeout!==Wn.setTimeout&&Re.setTimeout,ns=O.ceil,Za=O.floor,zl=w.getOwnPropertySymbols,ky=Yo?Yo.isBuffer:g,Dp=Re.isFinite,Bl=de.join,Np=tc(w.keys,w),lr=O.max,Er=O.min,rs=Wt.now,os=Re.parseInt,is=O.random,Dy=de.reverse,Ja=ma(Re,"DataView"),Qa=ma(Re,"Map"),Fl=ma(Re,"Promise"),ya=ma(Re,"Set"),eu=ma(Re,"WeakMap"),rc=ma(w,"create"),as=eu&&new eu,tu={},Ny=Xi(Ja),Rp=Xi(Qa),Ry=Xi(Fl),Cy=Xi(ya),Cp=Xi(eu),us=Vo?Vo.prototype:g,gr=us?us.valueOf:g,Ip=us?us.toString:g;function F(l){if(Un(l)&&!Ut(l)&&!(l instanceof an)){if(l instanceof po)return l;if(tt.call(l,"__wrapped__"))return _f(l)}return new po(l)}var nu=function(){function l(){}return function(y){if(!Bn(y))return{};if(Ka)return Ka(y);l.prototype=y;var _=new l;return l.prototype=g,_}}();function oc(){}function po(l,y){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=g}function an(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function va(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function xn(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Ko(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function $i(l){var y=-1,_=l==null?0:l.length;for(this.__data__=new Ko;++y<_;)this.add(l[y])}function ho(l){var y=this.__data__=new xn(l);this.size=y.size}function Wl(l,y){var _=Ut(l),A=!_&&_a(l),R=!_&&!A&&Lr(l),$=!_&&!A&&!R&&wi(l),oe=_||A||R||$,fe=oe?fa(l.length,z):[],Oe=fe.length;for(var Le in l)!y&&!tt.call(l,Le)||oe&&(Le=="length"||R&&(Le=="offset"||Le=="parent")||$&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||oo(Le,Oe))||fe.push(Le);return fe}function $l(l){var y=l.length;return y?l[ql(0,y-1)]:g}function Lp(l,y){return dc(Hr(l),Ui(y,0,l.length))}function zp(l){return dc(Hr(l))}function cs(l,y,_){(_!==g&&!Do(l[y],_)||_===g&&!(y in l))&&qo(l,y,_)}function ru(l,y,_){var A=l[y];tt.call(l,y)&&Do(A,_)&&(_!==g||y in l)||qo(l,y,_)}function ic(l,y){for(var _=l.length;_--;)if(Do(l[_][0],y))return _;return-1}function Bp(l,y,_,A){return Nn(l,function(R,$,oe){y(A,R,_(R),oe)}),A}function Ul(l,y){return l&&Mo(y,Gn(y),l)}function qo(l,y,_){y=="__proto__"&&qa?qa(l,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):l[y]=_}function ss(l,y){for(var _=-1,A=y.length,R=et(A),$=l==null;++_<A;)R[_]=$?g:vu(l,y[_]);return R}function Ui(l,y,_){return l==l&&(_!==g&&(l=l<=_?l:_),y!==g&&(l=l>=y?l:y)),l}function no(l,y,_,A,R,$){var oe,fe=1&y,Oe=2&y,Le=4&y;if(_&&(oe=R?_(l,A,R,$):_(l)),oe!==g)return oe;if(!Bn(l))return l;var Ne=Ut(l);if(Ne){if(oe=function(Be){var Ge=Be.length,At=new Be.constructor(Ge);return Ge&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(At.index=Be.index,At.input=Be.input),At}(l),!fe)return Hr(l,oe)}else{var Ue=Sr(l),ot=Ue==Y||Ue==q;if(Lr(l))return Qp(l,fe);if(Ue==me||Ue==Q||ot&&!R){if(oe=Oe||ot?{}:Oi(l),!fe)return Oe?function(Be,Ge){return Mo(Be,js(Be),Ge)}(l,function(Be,Ge){return Be&&Mo(Ge,Ar(Ge),Be)}(oe,l)):function(Be,Ge){return Mo(Be,fr(Be),Ge)}(l,Ul(oe,l))}else{if(!hn[Ue])return R?l:{};oe=function(Be,Ge,At){var at=Be.constructor;switch(Ge){case $e:return of(Be);case H:case B:return new at(+Be);case rt:return function(zt,tn){var Ot=tn?of(zt.buffer):zt.buffer;return new zt.constructor(Ot,zt.byteOffset,zt.byteLength)}(Be,At);case xt:case Ye:case Je:case bt:case se:case ce:case ye:case De:case He:return ed(Be,At);case ue:return new at;case Ee:case ve:return new at(Be);case Fe:return function(zt){var tn=new zt.constructor(zt.source,Xt.exec(zt));return tn.lastIndex=zt.lastIndex,tn}(Be);case je:return new at;case Pe:return le=Be,gr?w(gr.call(le)):{}}var le}(l,Ue,fe)}}$||($=new ho);var ht=$.get(l);if(ht)return ht;$.set(l,oe),jd(l)?l.forEach(function(Be){oe.add(no(Be,y,_,Be,l,$))}):kf(l)&&l.forEach(function(Be,Ge){oe.set(Ge,no(Be,y,_,Ge,l,$))});var St=Ne?g:(Le?Oe?sf:cf:Oe?Ar:Gn)(l);return Dr(St||l,function(Be,Ge){St&&(Be=l[Ge=Be]),ru(oe,Ge,no(Be,y,_,Ge,l,$))}),oe}function Gl(l,y,_){var A=_.length;if(l==null)return!A;for(l=w(l);A--;){var R=_[A],$=y[R],oe=l[R];if(oe===g&&!(R in l)||!$(oe))return!1}return!0}function Hl(l,y,_){if(typeof l!="function")throw new K(E);return su(function(){l.apply(g,_)},y)}function yi(l,y,_,A){var R=-1,$=Jr,oe=!0,fe=l.length,Oe=[],Le=y.length;if(!fe)return Oe;_&&(y=un(y,In(_))),A?($=qu,oe=!1):y.length>=200&&($=Xo,oe=!1,y=new $i(y));e:for(;++R<fe;){var Ne=l[R],Ue=_==null?Ne:_(Ne);if(Ne=A||Ne!==0?Ne:0,oe&&Ue==Ue){for(var ot=Le;ot--;)if(y[ot]===Ue)continue e;Oe.push(Ne)}else $(y,Ue,A)||Oe.push(Ne)}return Oe}F.templateSettings={escape:pe,evaluate:ut,interpolate:Bt,variable:"",imports:{_:F}},F.prototype=oc.prototype,F.prototype.constructor=F,po.prototype=nu(oc.prototype),po.prototype.constructor=po,an.prototype=nu(oc.prototype),an.prototype.constructor=an,va.prototype.clear=function(){this.__data__=rc?rc(null):{},this.size=0},va.prototype.delete=function(l){var y=this.has(l)&&delete this.__data__[l];return this.size-=y?1:0,y},va.prototype.get=function(l){var y=this.__data__;if(rc){var _=y[l];return _===j?g:_}return tt.call(y,l)?y[l]:g},va.prototype.has=function(l){var y=this.__data__;return rc?y[l]!==g:tt.call(y,l)},va.prototype.set=function(l,y){var _=this.__data__;return this.size+=this.has(l)?0:1,_[l]=rc&&y===g?j:y,this},xn.prototype.clear=function(){this.__data__=[],this.size=0},xn.prototype.delete=function(l){var y=this.__data__,_=ic(y,l);return!(_<0)&&(_==y.length-1?y.pop():ha.call(y,_,1),--this.size,!0)},xn.prototype.get=function(l){var y=this.__data__,_=ic(y,l);return _<0?g:y[_][1]},xn.prototype.has=function(l){return ic(this.__data__,l)>-1},xn.prototype.set=function(l,y){var _=this.__data__,A=ic(_,l);return A<0?(++this.size,_.push([l,y])):_[A][1]=y,this},Ko.prototype.clear=function(){this.size=0,this.__data__={hash:new va,map:new(Qa||xn),string:new va}},Ko.prototype.delete=function(l){var y=Ss(this,l).delete(l);return this.size-=y?1:0,y},Ko.prototype.get=function(l){return Ss(this,l).get(l)},Ko.prototype.has=function(l){return Ss(this,l).has(l)},Ko.prototype.set=function(l,y){var _=Ss(this,l),A=_.size;return _.set(l,y),this.size+=_.size==A?0:1,this},$i.prototype.add=$i.prototype.push=function(l){return this.__data__.set(l,j),this},$i.prototype.has=function(l){return this.__data__.has(l)},ho.prototype.clear=function(){this.__data__=new xn,this.size=0},ho.prototype.delete=function(l){var y=this.__data__,_=y.delete(l);return this.size=y.size,_},ho.prototype.get=function(l){return this.__data__.get(l)},ho.prototype.has=function(l){return this.__data__.has(l)},ho.prototype.set=function(l,y){var _=this.__data__;if(_ instanceof xn){var A=_.__data__;if(!Qa||A.length<199)return A.push([l,y]),this.size=++_.size,this;_=this.__data__=new Ko(A)}return _.set(l,y),this.size=_.size,this};var Nn=rd(dt),Fp=rd(An,!0);function Wp(l,y){var _=!0;return Nn(l,function(A,R,$){return _=!!y(A,R,$)}),_}function Vn(l,y,_){for(var A=-1,R=l.length;++A<R;){var $=l[A],oe=y($);if(oe!=null&&(fe===g?oe==oe&&!zr(oe):_(oe,fe)))var fe=oe,Oe=$}return Oe}function gn(l,y){var _=[];return Nn(l,function(A,R,$){y(A,R,$)&&_.push(A)}),_}function hr(l,y,_,A,R){var $=-1,oe=l.length;for(_||(_=Uy),R||(R=[]);++$<oe;){var fe=l[$];y>0&&_(fe)?y>1?hr(fe,y-1,_,A,R):nr(R,fe):A||(R[R.length]=fe)}return R}var Kt=cc(),Zn=cc(!0);function dt(l,y){return l&&Kt(l,y,Gn)}function An(l,y){return l&&Zn(l,y,Gn)}function ls(l,y){return Or(y,function(_){return go(l[_])})}function vi(l,y){for(var _=0,A=(y=yn(y,l)).length;l!=null&&_<A;)l=l[To(y[_++])];return _&&_==A?l:g}function Xl(l,y,_){var A=y(l);return Ut(l)?A:nr(A,_(l))}function Ln(l){return l==null?l===g?"[object Undefined]":"[object Null]":hi&&hi in w(l)?function(y){var _=tt.call(y,hi),A=y[hi];try{y[hi]=g;var R=!0}catch(oe){}var $=sn.call(y);return R&&(_?y[hi]=A:delete y[hi]),$}(l):function(y){return sn.call(y)}(l)}function $n(l,y){return l>y}function $p(l,y){return l!=null&&tt.call(l,y)}function Up(l,y){return l!=null&&y in w(l)}function fs(l,y,_){for(var A=_?qu:Jr,R=l[0].length,$=l.length,oe=$,fe=et($),Oe=1/0,Le=[];oe--;){var Ne=l[oe];oe&&y&&(Ne=un(Ne,In(y))),Oe=Er(Ne.length,Oe),fe[oe]=!_&&(y||R>=120&&Ne.length>=120)?new $i(oe&&Ne):g}Ne=l[0];var Ue=-1,ot=fe[0];e:for(;++Ue<R&&Le.length<Oe;){var ht=Ne[Ue],St=y?y(ht):ht;if(ht=_||ht!==0?ht:0,!(ot?Xo(ot,St):A(Le,St,_))){for(oe=$;--oe;){var Be=fe[oe];if(!(Be?Xo(Be,St):A(l[oe],St,_)))continue e}ot&&ot.push(St),Le.push(ht)}}return Le}function ou(l,y,_){var A=(l=yf(l,y=yn(y,l)))==null?l:l[To(zn(y))];return A==null?g:En(A,l,_)}function Yl(l){return Un(l)&&Ln(l)==Q}function iu(l,y,_,A,R){return l===y||(l==null||y==null||!Un(l)&&!Un(y)?l!=l&&y!=y:function($,oe,fe,Oe,Le,Ne){var Ue=Ut($),ot=Ut(oe),ht=Ue?Z:Sr($),St=ot?Z:Sr(oe),Be=(ht=ht==Q?me:ht)==me,Ge=(St=St==Q?me:St)==me,At=ht==St;if(At&&Lr($)){if(!Lr(oe))return!1;Ue=!0,Be=!1}if(At&&!Be)return Ne||(Ne=new ho),Ue||wi($)?Es($,oe,fe,Oe,Le,Ne):function(Ot,kt,or,Vr,No,ir,Jo){switch(or){case rt:if(Ot.byteLength!=kt.byteLength||Ot.byteOffset!=kt.byteOffset)return!1;Ot=Ot.buffer,kt=kt.buffer;case $e:return!(Ot.byteLength!=kt.byteLength||!ir(new da(Ot),new da(kt)));case H:case B:case Ee:return Do(+Ot,+kt);case X:return Ot.name==kt.name&&Ot.message==kt.message;case Fe:case ve:return Ot==kt+"";case ue:var Si=wr;case je:var bu=1&Vr;if(Si||(Si=fi),Ot.size!=kt.size&&!bu)return!1;var Ac=Jo.get(Ot);if(Ac)return Ac==kt;Vr|=2,Jo.set(Ot,kt);var Qo=Es(Si(Ot),Si(kt),Vr,No,ir,Jo);return Jo.delete(Ot),Qo;case Pe:if(gr)return gr.call(Ot)==gr.call(kt)}return!1}($,oe,ht,fe,Oe,Le,Ne);if(!(1&fe)){var at=Be&&tt.call($,"__wrapped__"),le=Ge&&tt.call(oe,"__wrapped__");if(at||le){var zt=at?$.value():$,tn=le?oe.value():oe;return Ne||(Ne=new ho),Le(zt,tn,fe,Oe,Ne)}}return At?(Ne||(Ne=new ho),function(Ot,kt,or,Vr,No,ir){var Jo=1&or,Si=cf(Ot),bu=Si.length,Ac=cf(kt).length;if(bu!=Ac&&!Jo)return!1;for(var Qo=bu;Qo--;){var Zi=Si[Qo];if(!(Jo?Zi in kt:tt.call(kt,Zi)))return!1}var qf=ir.get(Ot),mu=ir.get(kt);if(qf&&mu)return qf==kt&&mu==Ot;var Mc=!0;ir.set(Ot,kt),ir.set(kt,Ot);for(var Zf=Jo;++Qo<bu;){var Tc=Ot[Zi=Si[Qo]],wa=kt[Zi];if(Vr)var xa=Jo?Vr(wa,Tc,Zi,kt,Ot,ir):Vr(Tc,wa,Zi,Ot,kt,ir);if(!(xa===g?Tc===wa||No(Tc,wa,or,Vr,ir):xa)){Mc=!1;break}Zf||(Zf=Zi=="constructor")}if(Mc&&!Zf){var ji=Ot.constructor,kc=kt.constructor;ji==kc||!("constructor"in Ot)||!("constructor"in kt)||typeof ji=="function"&&ji instanceof ji&&typeof kc=="function"&&kc instanceof kc||(Mc=!1)}return ir.delete(Ot),ir.delete(kt),Mc}($,oe,fe,Oe,Le,Ne)):!1}(l,y,_,A,iu,R))}function ps(l,y,_,A){var R=_.length,$=R,oe=!A;if(l==null)return!$;for(l=w(l);R--;){var fe=_[R];if(oe&&fe[2]?fe[1]!==l[fe[0]]:!(fe[0]in l))return!1}for(;++R<$;){var Oe=(fe=_[R])[0],Le=l[Oe],Ne=fe[1];if(oe&&fe[2]){if(Le===g&&!(Oe in l))return!1}else{var Ue=new ho;if(A)var ot=A(Le,Ne,Oe,l,y,Ue);if(!(ot===g?iu(Ne,Le,3,A,Ue):ot))return!1}}return!0}function au(l){return!(!Bn(l)||(y=l,$t&&$t in y))&&(go(l)?Ir:Xn).test(Xi(l));var y}function Vl(l){return typeof l=="function"?l:l==null?Br:typeof l=="object"?Ut(l)?Hp(l[0],l[1]):Gp(l):Xs(l)}function gi(l){if(!ke(l))return Np(l);var y=[];for(var _ in w(l))tt.call(l,_)&&_!="constructor"&&y.push(_);return y}function Iy(l){if(!Bn(l))return function(R){var $=[];if(R!=null)for(var oe in w(R))$.push(oe);return $}(l);var y=ke(l),_=[];for(var A in l)(A!="constructor"||!y&&tt.call(l,A))&&_.push(A);return _}function bi(l,y){return l<y}function yo(l,y){var _=-1,A=Yr(l)?et(l.length):[];return Nn(l,function(R,$,oe){A[++_]=y(R,$,oe)}),A}function Gp(l){var y=ff(l);return y.length==1&&y[0][2]?df(y[0][0],y[0][1]):function(_){return _===l||ps(_,l,y)}}function Hp(l,y){return As(l)&&pf(y)?df(To(l),y):function(_){var A=vu(_,l);return A===g&&A===y?Us(_,l):iu(y,A,3)}}function ds(l,y,_,A,R){l!==y&&Kt(y,function($,oe){if(R||(R=new ho),Bn($))(function(Oe,Le,Ne,Ue,ot,ht,St){var Be=Ts(Oe,Ne),Ge=Ts(Le,Ne),At=St.get(Ge);if(At)return void cs(Oe,Ne,At);var at=ht?ht(Be,Ge,Ne+"",Oe,Le,St):g,le=at===g;if(le){var zt=Ut(Ge),tn=!zt&&Lr(Ge),Ot=!zt&&!tn&&wi(Ge);at=Ge,zt||tn||Ot?Ut(Be)?at=Be:Rn(Be)?at=Hr(Be):tn?(le=!1,at=Qp(Ge,!0)):Ot?(le=!1,at=ed(Ge,!0)):at=[]:hu(Ge)||_a(Ge)?(at=Be,_a(Be)?at=Rf(Be):Bn(Be)&&!go(Be)||(at=Oi(Ge))):le=!1}le&&(St.set(Ge,at),ot(at,Ge,Ue,ht,St),St.delete(Ge)),cs(Oe,Ne,at)})(l,y,oe,_,ds,A,R);else{var fe=A?A(Ts(l,oe),$,oe+"",l,y,R):g;fe===g&&(fe=$),cs(l,oe,fe)}},Ar)}function Xp(l,y){var _=l.length;if(_)return oo(y+=y<0?_:0,_)?l[y]:g}function Yp(l,y,_){y=y.length?un(y,function($){return Ut($)?function(oe){return vi(oe,$.length===1?$[0]:$)}:$}):[Br];var A=-1;y=un(y,In(Tt()));var R=yo(l,function($,oe,fe){var Oe=un(y,function(Le){return Le($)});return{criteria:Oe,index:++A,value:$}});return function($,oe){var fe=$.length;for($.sort(oe);fe--;)$[fe]=$[fe].value;return $}(R,function($,oe){return function(fe,Oe,Le){for(var Ne=-1,Ue=fe.criteria,ot=Oe.criteria,ht=Ue.length,St=Le.length;++Ne<ht;){var Be=af(Ue[Ne],ot[Ne]);if(Be)return Ne>=St?Be:Be*(Le[Ne]=="desc"?-1:1)}return fe.index-Oe.index}($,oe,_)})}function Vp(l,y,_){for(var A=-1,R=y.length,$={};++A<R;){var oe=y[A],fe=vi(l,oe);_(fe,oe)&&ac($,yn(oe,l),fe)}return $}function hs(l,y,_,A){var R=A?Nr:Fi,$=-1,oe=y.length,fe=l;for(l===y&&(y=Hr(y)),_&&(fe=un(l,In(_)));++$<oe;)for(var Oe=0,Le=y[$],Ne=_?_(Le):Le;(Oe=R(fe,Ne,Oe,A))>-1;)fe!==l&&ha.call(fe,Oe,1),ha.call(l,Oe,1);return l}function Kl(l,y){for(var _=l?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==$){var $=R;oo(R)?ha.call(l,R,1):vs(l,R)}}return l}function ql(l,y){return l+Za(is()*(y-l+1))}function ys(l,y){var _="";if(!l||y<1||y>G)return _;do y%2&&(_+=l),(y=Za(y/2))&&(l+=l);while(y);return _}function Jt(l,y){return ks(hf(l,y,Br),l+"")}function Ly(l){return $l(qi(l))}function Zl(l,y){var _=qi(l);return dc(_,Ui(y,0,_.length))}function ac(l,y,_,A){if(!Bn(l))return l;for(var R=-1,$=(y=yn(y,l)).length,oe=$-1,fe=l;fe!=null&&++R<$;){var Oe=To(y[R]),Le=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return l;if(R!=oe){var Ne=fe[Oe];(Le=A?A(Ne,Oe,fe):g)===g&&(Le=Bn(Ne)?Ne:oo(y[R+1])?[]:{})}ru(fe,Oe,Le),fe=fe[Oe]}return l}var Kp=as?function(l,y){return as.set(l,y),l}:Br,zy=qa?function(l,y){return qa(l,"toString",{configurable:!0,enumerable:!1,value:Oc(y),writable:!0})}:Br;function qp(l){return dc(qi(l))}function ro(l,y,_){var A=-1,R=l.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var $=et(R);++A<R;)$[A]=l[A+y];return $}function By(l,y){var _;return Nn(l,function(A,R,$){return!(_=y(A,R,$))}),!!_}function uc(l,y,_){var A=0,R=l==null?A:l.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var $=A+R>>>1,oe=l[$];oe!==null&&!zr(oe)&&(_?oe<=y:oe<y)?A=$+1:R=$}return R}return Jl(l,y,Br,_)}function Jl(l,y,_,A){var R=0,$=l==null?0:l.length;if($===0)return 0;for(var oe=(y=_(y))!=y,fe=y===null,Oe=zr(y),Le=y===g;R<$;){var Ne=Za((R+$)/2),Ue=_(l[Ne]),ot=Ue!==g,ht=Ue===null,St=Ue==Ue,Be=zr(Ue);if(oe)var Ge=A||St;else Ge=Le?St&&(A||ot):fe?St&&ot&&(A||!ht):Oe?St&&ot&&!ht&&(A||!Be):!ht&&!Be&&(A?Ue<=y:Ue<y);Ge?R=Ne+1:$=Ne}return Er($,4294967294)}function Ql(l,y){for(var _=-1,A=l.length,R=0,$=[];++_<A;){var oe=l[_],fe=y?y(oe):oe;if(!_||!Do(fe,Oe)){var Oe=fe;$[R++]=oe===0?0:oe}}return $}function Zp(l){return typeof l=="number"?l:zr(l)?te:+l}function Gr(l){if(typeof l=="string")return l;if(Ut(l))return un(l,Gr)+"";if(zr(l))return Ip?Ip.call(l):"";var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Gi(l,y,_){var A=-1,R=Jr,$=l.length,oe=!0,fe=[],Oe=fe;if(_)oe=!1,R=qu;else if($>=200){var Le=y?null:Wy(l);if(Le)return fi(Le);oe=!1,R=Xo,Oe=new $i}else Oe=y?[]:fe;e:for(;++A<$;){var Ne=l[A],Ue=y?y(Ne):Ne;if(Ne=_||Ne!==0?Ne:0,oe&&Ue==Ue){for(var ot=Oe.length;ot--;)if(Oe[ot]===Ue)continue e;y&&Oe.push(Ue),fe.push(Ne)}else R(Oe,Ue,_)||(Oe!==fe&&Oe.push(Ue),fe.push(Ne))}return fe}function vs(l,y){return(l=yf(l,y=yn(y,l)))==null||delete l[To(zn(y))]}function Jp(l,y,_,A){return ac(l,y,_(vi(l,y)),A)}function gs(l,y,_,A){for(var R=l.length,$=A?R:-1;(A?$--:++$<R)&&y(l[$],$,l););return _?ro(l,A?0:$,A?$+1:R):ro(l,A?$+1:0,A?R:$)}function ef(l,y){var _=l;return _ instanceof an&&(_=_.value()),Ga(y,function(A,R){return R.func.apply(R.thisArg,nr([A],R.args))},_)}function tf(l,y,_){var A=l.length;if(A<2)return A?Gi(l[0]):[];for(var R=-1,$=et(A);++R<A;)for(var oe=l[R],fe=-1;++fe<A;)fe!=R&&($[R]=yi($[R]||oe,l[fe],y,_));return Gi(hr($,1),y,_)}function nf(l,y,_){for(var A=-1,R=l.length,$=y.length,oe={};++A<R;){var fe=A<$?y[A]:g;_(oe,l[A],fe)}return oe}function bs(l){return Rn(l)?l:[]}function rf(l){return typeof l=="function"?l:Br}function yn(l,y){return Ut(l)?l:As(l,y)?[l]:mf(ln(l))}var Fy=Jt;function mn(l,y,_){var A=l.length;return _=_===g?A:_,!y&&_>=A?l:ro(l,y,_)}var ms=My||function(l){return Wn.clearTimeout(l)};function Qp(l,y){if(y)return l.slice();var _=l.length,A=nc?nc(_):new l.constructor(_);return l.copy(A),A}function of(l){var y=new l.constructor(l.byteLength);return new da(y).set(new da(l)),y}function ed(l,y){var _=y?of(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.length)}function af(l,y){if(l!==y){var _=l!==g,A=l===null,R=l==l,$=zr(l),oe=y!==g,fe=y===null,Oe=y==y,Le=zr(y);if(!fe&&!Le&&!$&&l>y||$&&oe&&Oe&&!fe&&!Le||A&&oe&&Oe||!_&&Oe||!R)return 1;if(!A&&!$&&!Le&&l<y||Le&&_&&R&&!A&&!$||fe&&_&&R||!oe&&R||!Oe)return-1}return 0}function td(l,y,_,A){for(var R=-1,$=l.length,oe=_.length,fe=-1,Oe=y.length,Le=lr($-oe,0),Ne=et(Oe+Le),Ue=!A;++fe<Oe;)Ne[fe]=y[fe];for(;++R<oe;)(Ue||R<$)&&(Ne[_[R]]=l[R]);for(;Le--;)Ne[fe++]=l[R++];return Ne}function nd(l,y,_,A){for(var R=-1,$=l.length,oe=-1,fe=_.length,Oe=-1,Le=y.length,Ne=lr($-fe,0),Ue=et(Ne+Le),ot=!A;++R<Ne;)Ue[R]=l[R];for(var ht=R;++Oe<Le;)Ue[ht+Oe]=y[Oe];for(;++oe<fe;)(ot||R<$)&&(Ue[ht+_[oe]]=l[R++]);return Ue}function Hr(l,y){var _=-1,A=l.length;for(y||(y=et(A));++_<A;)y[_]=l[_];return y}function Mo(l,y,_,A){var R=!_;_||(_={});for(var $=-1,oe=y.length;++$<oe;){var fe=y[$],Oe=A?A(_[fe],l[fe],fe,_,l):g;Oe===g&&(Oe=l[fe]),R?qo(_,fe,Oe):ru(_,fe,Oe)}return _}function _s(l,y){return function(_,A){var R=Ut(_)?Cl:Bp,$=y?y():{};return R(_,l,Tt(A,2),$)}}function uu(l){return Jt(function(y,_){var A=-1,R=_.length,$=R>1?_[R-1]:g,oe=R>2?_[2]:g;for($=l.length>3&&typeof $=="function"?(R--,$):g,oe&&br(_[0],_[1],oe)&&($=R<3?g:$,R=1),y=w(y);++A<R;){var fe=_[A];fe&&l(y,fe,A,$)}return y})}function rd(l,y){return function(_,A){if(_==null)return _;if(!Yr(_))return l(_,A);for(var R=_.length,$=y?R:-1,oe=w(_);(y?$--:++$<R)&&A(oe[$],$,oe)!==!1;);return _}}function cc(l){return function(y,_,A){for(var R=-1,$=w(y),oe=A(y),fe=oe.length;fe--;){var Oe=oe[l?fe:++R];if(_($[Oe],Oe,$)===!1)break}return y}}function od(l){return function(y){var _=jo(y=ln(y))?Ur(y):g,A=_?_[0]:y.charAt(0),R=_?mn(_,1).join(""):y.slice(1);return A[l]()+R}}function ga(l){return function(y){return Ga(mc(xi(y).replace(Kc,"")),l,"")}}function sc(l){return function(){var y=arguments;switch(y.length){case 0:return new l;case 1:return new l(y[0]);case 2:return new l(y[0],y[1]);case 3:return new l(y[0],y[1],y[2]);case 4:return new l(y[0],y[1],y[2],y[3]);case 5:return new l(y[0],y[1],y[2],y[3],y[4]);case 6:return new l(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new l(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=nu(l.prototype),A=l.apply(_,y);return Bn(A)?A:_}}function id(l){return function(y,_,A){var R=w(y);if(!Yr(y)){var $=Tt(_,3);y=Gn(y),_=function(fe){return $(R[fe],fe,R)}}var oe=l(y,_,A);return oe>-1?R[$?y[oe]:oe]:g}}function Hi(l){return _i(function(y){var _=y.length,A=_,R=po.prototype.thru;for(l&&y.reverse();A--;){var $=y[A];if(typeof $!="function")throw new K(E);if(R&&!oe&&cu($)=="wrapper")var oe=new po([],!0)}for(A=oe?A:_;++A<_;){var fe=cu($=y[A]),Oe=fe=="wrapper"?lf($):g;oe=Oe&&Ms(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?oe[cu(Oe[0])].apply(oe,Oe[3]):$.length==1&&Ms($)?oe[fe]():oe.thru($)}return function(){var Le=arguments,Ne=Le[0];if(oe&&Le.length==1&&Ut(Ne))return oe.plant(Ne).value();for(var Ue=0,ot=_?y[Ue].apply(this,Le):Ne;++Ue<_;)ot=y[Ue].call(this,ot);return ot}})}function Os(l,y,_,A,R,$,oe,fe,Oe,Le){var Ne=y&N,Ue=1&y,ot=2&y,ht=24&y,St=512&y,Be=ot?g:sc(l);return function Ge(){for(var At=arguments.length,at=et(At),le=At;le--;)at[le]=arguments[le];if(ht)var zt=ba(Ge),tn=Ll(at,zt);if(A&&(at=td(at,A,R,ht)),$&&(at=nd(at,$,oe,ht)),At-=tn,ht&&At<Le){var Ot=$r(at,zt);return ud(l,y,Os,Ge.placeholder,_,at,Ot,fe,Oe,Le-At)}var kt=Ue?_:this,or=ot?kt[l]:l;return At=at.length,fe?at=fd(at,fe):St&&At>1&&at.reverse(),Ne&&Oe<At&&(at.length=Oe),this&&this!==Wn&&this instanceof Ge&&(or=Be||sc(or)),or.apply(kt,at)}}function ws(l,y){return function(_,A){return function(R,$,oe,fe){return dt(R,function(Oe,Le,Ne){$(fe,oe(Oe),Le,Ne)}),fe}(_,l,y(A),{})}}function lc(l,y){return function(_,A){var R;if(_===g&&A===g)return y;if(_!==g&&(R=_),A!==g){if(R===g)return A;typeof _=="string"||typeof A=="string"?(_=Gr(_),A=Gr(A)):(_=Zp(_),A=Zp(A)),R=l(_,A)}return R}}function fc(l){return _i(function(y){return y=un(y,In(Tt())),Jt(function(_){var A=this;return l(y,function(R){return En(R,A,_)})})})}function pc(l,y){var _=(y=y===g?" ":Gr(y)).length;if(_<2)return _?ys(y,l):y;var A=ys(y,ns(l/Po(y)));return jo(y)?mn(Ur(A),0,l).join(""):A.slice(0,l)}function ad(l){return function(y,_,A){return A&&typeof A!="number"&&br(y,_,A)&&(_=A=g),y=Zo(y),_===g?(_=y,y=0):_=Zo(_),function(R,$,oe,fe){for(var Oe=-1,Le=lr(ns(($-R)/(oe||1)),0),Ne=et(Le);Le--;)Ne[fe?Le:++Oe]=R,R+=oe;return Ne}(y,_,A=A===g?y<_?1:-1:Zo(A),l)}}function xs(l){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Pr(y),_=Pr(_)),l(y,_)}}function ud(l,y,_,A,R,$,oe,fe,Oe,Le){var Ne=8&y;y|=Ne?T:C,4&(y&=~(Ne?C:T))||(y&=-4);var Ue=[l,y,R,Ne?$:g,Ne?oe:g,Ne?g:$,Ne?g:oe,fe,Oe,Le],ot=_.apply(g,Ue);return Ms(l)&&vf(ot,Ue),ot.placeholder=A,gf(ot,l,y)}function uf(l){var y=O[l];return function(_,A){if(_=Pr(_),(A=A==null?0:Er(Gt(A),292))&&Dp(_)){var R=(ln(_)+"e").split("e");return+((R=(ln(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var Wy=ya&&1/fi(new ya([,-0]))[1]==U?function(l){return new ya(l)}:xc;function cd(l){return function(y){var _=Sr(y);return _==ue?wr(y):_==je?Va(y):function(A,R){return un(R,function($){return[$,A[$]]})}(y,l(y))}}function mi(l,y,_,A,R,$,oe,fe){var Oe=2&y;if(!Oe&&typeof l!="function")throw new K(E);var Le=A?A.length:0;if(Le||(y&=-97,A=R=g),oe=oe===g?oe:lr(Gt(oe),0),fe=fe===g?fe:Gt(fe),Le-=R?R.length:0,y&C){var Ne=A,Ue=R;A=R=g}var ot=Oe?g:lf(l),ht=[l,y,_,A,R,Ne,Ue,$,oe,fe];if(ot&&function(Be,Ge){var At=Be[1],at=Ge[1],le=At|at,zt=le<131,tn=at==N&&At==8||at==N&&At==L&&Be[7].length<=Ge[8]||at==384&&Ge[7].length<=Ge[8]&&At==8;if(!zt&&!tn)return Be;1&at&&(Be[2]=Ge[2],le|=1&At?0:4);var Ot=Ge[3];if(Ot){var kt=Be[3];Be[3]=kt?td(kt,Ot,Ge[4]):Ot,Be[4]=kt?$r(Be[3],P):Ge[4]}(Ot=Ge[5])&&(kt=Be[5],Be[5]=kt?nd(kt,Ot,Ge[6]):Ot,Be[6]=kt?$r(Be[5],P):Ge[6]),(Ot=Ge[7])&&(Be[7]=Ot),at&N&&(Be[8]=Be[8]==null?Ge[8]:Er(Be[8],Ge[8])),Be[9]==null&&(Be[9]=Ge[9]),Be[0]=Ge[0],Be[1]=le}(ht,ot),l=ht[0],y=ht[1],_=ht[2],A=ht[3],R=ht[4],!(fe=ht[9]=ht[9]===g?Oe?0:l.length:lr(ht[9]-Le,0))&&24&y&&(y&=-25),y&&y!=1)St=y==8||y==k?function(Be,Ge,At){var at=sc(Be);return function le(){for(var zt=arguments.length,tn=et(zt),Ot=zt,kt=ba(le);Ot--;)tn[Ot]=arguments[Ot];var or=zt<3&&tn[0]!==kt&&tn[zt-1]!==kt?[]:$r(tn,kt);return(zt-=or.length)<At?ud(Be,Ge,Os,le.placeholder,g,tn,or,g,g,At-zt):En(this&&this!==Wn&&this instanceof le?at:Be,this,tn)}}(l,y,fe):y!=T&&y!=33||R.length?Os.apply(g,ht):function(Be,Ge,At,at){var le=1&Ge,zt=sc(Be);return function tn(){for(var Ot=-1,kt=arguments.length,or=-1,Vr=at.length,No=et(Vr+kt),ir=this&&this!==Wn&&this instanceof tn?zt:Be;++or<Vr;)No[or]=at[or];for(;kt--;)No[or++]=arguments[++Ot];return En(ir,le?At:this,No)}}(l,y,_,A);else var St=function(Be,Ge,At){var at=1&Ge,le=sc(Be);return function zt(){return(this&&this!==Wn&&this instanceof zt?le:Be).apply(at?At:this,arguments)}}(l,y,_);return gf((ot?Kp:vf)(St,ht),l,y)}function sd(l,y,_,A){return l===g||Do(l,We[_])&&!tt.call(A,_)?y:l}function ld(l,y,_,A,R,$){return Bn(l)&&Bn(y)&&($.set(y,l),ds(l,y,g,ld,$),$.delete(y)),l}function $y(l){return hu(l)?g:l}function Es(l,y,_,A,R,$){var oe=1&_,fe=l.length,Oe=y.length;if(fe!=Oe&&!(oe&&Oe>fe))return!1;var Le=$.get(l),Ne=$.get(y);if(Le&&Ne)return Le==y&&Ne==l;var Ue=-1,ot=!0,ht=2&_?new $i:g;for($.set(l,y),$.set(y,l);++Ue<fe;){var St=l[Ue],Be=y[Ue];if(A)var Ge=oe?A(Be,St,Ue,y,l,$):A(St,Be,Ue,l,y,$);if(Ge!==g){if(Ge)continue;ot=!1;break}if(ht){if(!Zu(y,function(At,at){if(!Xo(ht,at)&&(St===At||R(St,At,_,A,$)))return ht.push(at)})){ot=!1;break}}else if(St!==Be&&!R(St,Be,_,A,$)){ot=!1;break}}return $.delete(l),$.delete(y),ot}function _i(l){return ks(hf(l,g,hc),l+"")}function cf(l){return Xl(l,Gn,fr)}function sf(l){return Xl(l,Ar,js)}var lf=as?function(l){return as.get(l)}:xc;function cu(l){for(var y=l.name+"",_=tu[y],A=tt.call(tu,y)?_.length:0;A--;){var R=_[A],$=R.func;if($==null||$==l)return R.name}return y}function ba(l){return(tt.call(F,"placeholder")?F:l).placeholder}function Tt(){var l=F.iteratee||wc;return l=l===wc?Vl:l,arguments.length?l(arguments[0],arguments[1]):l}function Ss(l,y){var _,A,R=l.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function ff(l){for(var y=Gn(l),_=y.length;_--;){var A=y[_],R=l[A];y[_]=[A,R,pf(R)]}return y}function ma(l,y){var _=function(A,R){return A==null?g:A[R]}(l,y);return au(_)?_:g}var fr=zl?function(l){return l==null?[]:(l=w(l),Or(zl(l),function(y){return xr.call(l,y)}))}:Ei,js=zl?function(l){for(var y=[];l;)nr(y,fr(l)),l=pi(l);return y}:Ei,Sr=Ln;function Ps(l,y,_){for(var A=-1,R=(y=yn(y,l)).length,$=!1;++A<R;){var oe=To(y[A]);if(!($=l!=null&&_(l,oe)))break;l=l[oe]}return $||++A!=R?$:!!(R=l==null?0:l.length)&&Ws(R)&&oo(oe,R)&&(Ut(l)||_a(l))}function Oi(l){return typeof l.constructor!="function"||ke(l)?{}:nu(pi(l))}function Uy(l){return Ut(l)||_a(l)||!!(Wi&&l&&l[Wi])}function oo(l,y){var _=typeof l;return!!(y=y==null?G:y)&&(_=="number"||_!="symbol"&&ct.test(l))&&l>-1&&l%1==0&&l<y}function br(l,y,_){if(!Bn(_))return!1;var A=typeof y;return!!(A=="number"?Yr(_)&&oo(y,_.length):A=="string"&&y in _)&&Do(_[y],l)}function As(l,y){if(Ut(l))return!1;var _=typeof l;return!(_!="number"&&_!="symbol"&&_!="boolean"&&l!=null&&!zr(l))||Ft.test(l)||!dn.test(l)||y!=null&&l in w(y)}function Ms(l){var y=cu(l),_=F[y];if(typeof _!="function"||!(y in an.prototype))return!1;if(l===_)return!0;var A=lf(_);return!!A&&l===A[0]}(Ja&&Sr(new Ja(new ArrayBuffer(1)))!=rt||Qa&&Sr(new Qa)!=ue||Fl&&Sr(Fl.resolve())!=Ae||ya&&Sr(new ya)!=je||eu&&Sr(new eu)!=Me)&&(Sr=function(l){var y=Ln(l),_=y==me?l.constructor:g,A=_?Xi(_):"";if(A)switch(A){case Ny:return rt;case Rp:return ue;case Ry:return Ae;case Cy:return je;case Cp:return Me}return y});var Gy=st?go:Ec;function ke(l){var y=l&&l.constructor;return l===(typeof y=="function"&&y.prototype||We)}function pf(l){return l==l&&!Bn(l)}function df(l,y){return function(_){return _!=null&&_[l]===y&&(y!==g||l in w(_))}}function hf(l,y,_){return y=lr(y===g?l.length-1:y,0),function(){for(var A=arguments,R=-1,$=lr(A.length-y,0),oe=et($);++R<$;)oe[R]=A[y+R];R=-1;for(var fe=et(y+1);++R<y;)fe[R]=A[R];return fe[y]=_(oe),En(l,this,fe)}}function yf(l,y){return y.length<2?l:vi(l,ro(y,0,-1))}function fd(l,y){for(var _=l.length,A=Er(y.length,_),R=Hr(l);A--;){var $=y[A];l[A]=oo($,_)?R[$]:g}return l}function Ts(l,y){if((y!=="constructor"||typeof l[y]!="function")&&y!="__proto__")return l[y]}var vf=bf(Kp),su=kp||function(l,y){return Wn.setTimeout(l,y)},ks=bf(zy);function gf(l,y,_){var A=y+"";return ks(l,function(R,$){var oe=$.length;if(!oe)return R;var fe=oe-1;return $[fe]=(oe>1?"& ":"")+$[fe],$=$.join(oe>2?", ":" "),R.replace(ee,`{
/* [wrapped with `+$+`] */
`)}(A,function(R,$){return Dr(re,function(oe){var fe="_."+oe[0];$&oe[1]&&!Jr(R,fe)&&R.push(fe)}),R.sort()}(function(R){var $=R.match(he);return $?$[1].split(ae):[]}(A),_)))}function bf(l){var y=0,_=0;return function(){var A=rs(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return l.apply(g,arguments)}}function dc(l,y){var _=-1,A=l.length,R=A-1;for(y=y===g?A:y;++_<y;){var $=ql(_,R),oe=l[$];l[$]=l[_],l[_]=oe}return l.length=y,l}var mf=function(l){var y=pu(l,function(A){return _.size===500&&_.clear(),A}),_=y.cache;return y}(function(l){var y=[];return l.charCodeAt(0)===46&&y.push(""),l.replace(nn,function(_,A,R,$){y.push(R?$.replace(Ke,"$1"):A||_)}),y});function To(l){if(typeof l=="string"||zr(l))return l;var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Xi(l){if(l!=null){try{return Vt.call(l)}catch(y){}try{return l+""}catch(y){}}return""}function _f(l){if(l instanceof an)return l.clone();var y=new po(l.__wrapped__,l.__chain__);return y.__actions__=Hr(l.__actions__),y.__index__=l.__index__,y.__values__=l.__values__,y}var pd=Jt(function(l,y){return Rn(l)?yi(l,hr(y,1,Rn,!0)):[]}),dd=Jt(function(l,y){var _=zn(y);return Rn(_)&&(_=g),Rn(l)?yi(l,hr(y,1,Rn,!0),Tt(_,2)):[]}),hd=Jt(function(l,y){var _=zn(y);return Rn(_)&&(_=g),Rn(l)?yi(l,hr(y,1,Rn,!0),g,_):[]});function Of(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Gt(_);return R<0&&(R=lr(A+R,0)),Go(l,Tt(y,3),R)}function Ds(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A-1;return _!==g&&(R=Gt(_),R=_<0?lr(A+R,0):Er(R,A-1)),Go(l,Tt(y,3),R,!0)}function hc(l){return l!=null&&l.length?hr(l,1):[]}function yd(l){return l&&l.length?l[0]:g}var ko=Jt(function(l){var y=un(l,bs);return y.length&&y[0]===l[0]?fs(y):[]}),Yi=Jt(function(l){var y=zn(l),_=un(l,bs);return y===zn(_)?y=g:_.pop(),_.length&&_[0]===l[0]?fs(_,Tt(y,2)):[]}),Hy=Jt(function(l){var y=zn(l),_=un(l,bs);return(y=typeof y=="function"?y:g)&&_.pop(),_.length&&_[0]===l[0]?fs(_,g,y):[]});function zn(l){var y=l==null?0:l.length;return y?l[y-1]:g}var vd=Jt(Ns);function Ns(l,y){return l&&l.length&&y&&y.length?hs(l,y):l}var gd=_i(function(l,y){var _=l==null?0:l.length,A=ss(l,y);return Kl(l,un(y,function(R){return oo(R,_)?+R:R}).sort(af)),A});function Rs(l){return l==null?l:Dy.call(l)}var bd=Jt(function(l){return Gi(hr(l,1,Rn,!0))}),md=Jt(function(l){var y=zn(l);return Rn(y)&&(y=g),Gi(hr(l,1,Rn,!0),Tt(y,2))}),_d=Jt(function(l){var y=zn(l);return y=typeof y=="function"?y:g,Gi(hr(l,1,Rn,!0),g,y)});function yc(l){if(!l||!l.length)return[];var y=0;return l=Or(l,function(_){if(Rn(_))return y=lr(_.length,y),!0}),fa(y,function(_){return un(l,Rr(_))})}function lu(l,y){if(!l||!l.length)return[];var _=yc(l);return y==null?_:un(_,function(A){return En(y,g,A)})}var jr=Jt(function(l,y){return Rn(l)?yi(l,y):[]}),Xy=Jt(function(l){return tf(Or(l,Rn))}),Yy=Jt(function(l){var y=zn(l);return Rn(y)&&(y=g),tf(Or(l,Rn),Tt(y,2))}),wf=Jt(function(l){var y=zn(l);return y=typeof y=="function"?y:g,tf(Or(l,Rn),g,y)}),Od=Jt(yc),Xr=Jt(function(l){var y=l.length,_=y>1?l[y-1]:g;return _=typeof _=="function"?(l.pop(),_):g,lu(l,_)});function Jn(l){var y=F(l);return y.__chain__=!0,y}function Cs(l,y){return y(l)}var vo=_i(function(l){var y=l.length,_=y?l[0]:0,A=this.__wrapped__,R=function($){return ss($,l)};return!(y>1||this.__actions__.length)&&A instanceof an&&oo(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:Cs,args:[R],thisArg:g}),new po(A,this.__chain__).thru(function($){return y&&!$.length&&$.push(g),$})):this.thru(R)}),Mt=_s(function(l,y,_){tt.call(l,_)?++l[_]:qo(l,_,1)}),xf=id(Of),Ef=id(Ds);function Is(l,y){return(Ut(l)?Dr:Nn)(l,Tt(y,3))}function Sf(l,y){return(Ut(l)?Il:Fp)(l,Tt(y,3))}var wd=_s(function(l,y,_){tt.call(l,_)?l[_].push(y):qo(l,_,[y])}),Vy=Jt(function(l,y,_){var A=-1,R=typeof y=="function",$=Yr(l)?et(l.length):[];return Nn(l,function(oe){$[++A]=R?En(y,oe,_):ou(oe,y,_)}),$}),Ky=_s(function(l,y,_){qo(l,_,y)});function fu(l,y){return(Ut(l)?un:yo)(l,Tt(y,3))}var qy=_s(function(l,y,_){l[_?0:1].push(y)},function(){return[[],[]]}),jf=Jt(function(l,y){if(l==null)return[];var _=y.length;return _>1&&br(l,y[0],y[1])?y=[]:_>2&&br(y[0],y[1],y[2])&&(y=[y[0]]),Yp(l,hr(y,1),[])}),Ls=Ty||function(){return Wn.Date.now()};function xd(l,y,_){return y=_?g:y,y=l&&y==null?l.length:y,mi(l,N,g,g,g,g,y)}function Pf(l,y){var _;if(typeof y!="function")throw new K(E);return l=Gt(l),function(){return--l>0&&(_=y.apply(this,arguments)),l<=1&&(y=g),_}}var Vi=Jt(function(l,y,_){var A=1;if(_.length){var R=$r(_,ba(Vi));A|=T}return mi(l,A,y,_,R)}),Af=Jt(function(l,y,_){var A=3;if(_.length){var R=$r(_,ba(Af));A|=T}return mi(y,A,l,_,R)});function Lt(l,y,_){var A,R,$,oe,fe,Oe,Le=0,Ne=!1,Ue=!1,ot=!0;if(typeof l!="function")throw new K(E);function ht(le){var zt=A,tn=R;return A=R=g,Le=le,oe=l.apply(tn,zt)}function St(le){return Le=le,fe=su(Ge,y),Ne?ht(le):oe}function Be(le){var zt=le-Oe;return Oe===g||zt>=y||zt<0||Ue&&le-Le>=$}function Ge(){var le=Ls();if(Be(le))return At(le);fe=su(Ge,function(zt){var tn=y-(zt-Oe);return Ue?Er(tn,$-(zt-Le)):tn}(le))}function At(le){return fe=g,ot&&A?ht(le):(A=R=g,oe)}function at(){var le=Ls(),zt=Be(le);if(A=arguments,R=this,Oe=le,zt){if(fe===g)return St(Oe);if(Ue)return ms(fe),fe=su(Ge,y),ht(Oe)}return fe===g&&(fe=su(Ge,y)),oe}return y=Pr(y)||0,Bn(_)&&(Ne=!!_.leading,$=(Ue="maxWait"in _)?lr(Pr(_.maxWait)||0,y):$,ot="trailing"in _?!!_.trailing:ot),at.cancel=function(){fe!==g&&ms(fe),Le=0,A=Oe=R=fe=g},at.flush=function(){return fe===g?oe:At(Ls())},at}var Ed=Jt(function(l,y){return Hl(l,1,y)}),zs=Jt(function(l,y,_){return Hl(l,Pr(y)||0,_)});function pu(l,y){if(typeof l!="function"||y!=null&&typeof y!="function")throw new K(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],$=_.cache;if($.has(R))return $.get(R);var oe=l.apply(this,A);return _.cache=$.set(R,oe)||$,oe};return _.cache=new(pu.Cache||Ko),_}function Bs(l){if(typeof l!="function")throw new K(E);return function(){var y=arguments;switch(y.length){case 0:return!l.call(this);case 1:return!l.call(this,y[0]);case 2:return!l.call(this,y[0],y[1]);case 3:return!l.call(this,y[0],y[1],y[2])}return!l.apply(this,y)}}pu.Cache=Ko;var Sd=Fy(function(l,y){var _=(y=y.length==1&&Ut(y[0])?un(y[0],In(Tt())):un(hr(y,1),In(Tt()))).length;return Jt(function(A){for(var R=-1,$=Er(A.length,_);++R<$;)A[R]=y[R].call(this,A[R]);return En(l,this,A)})}),Fs=Jt(function(l,y){var _=$r(y,ba(Fs));return mi(l,T,g,y,_)}),Mf=Jt(function(l,y){var _=$r(y,ba(Mf));return mi(l,C,g,y,_)}),Zy=_i(function(l,y){return mi(l,L,g,g,g,y)});function Do(l,y){return l===y||l!=l&&y!=y}var Jy=xs($n),vc=xs(function(l,y){return l>=y}),_a=Yl(function(){return arguments}())?Yl:function(l){return Un(l)&&tt.call(l,"callee")&&!xr.call(l,"callee")},Ut=et.isArray,Qy=Vu?In(Vu):function(l){return Un(l)&&Ln(l)==$e};function Yr(l){return l!=null&&Ws(l.length)&&!go(l)}function Rn(l){return Un(l)&&Yr(l)}var Lr=ky||Ec,Tf=Qc?In(Qc):function(l){return Un(l)&&Ln(l)==B};function yr(l){if(!Un(l))return!1;var y=Ln(l);return y==X||y=="[object DOMException]"||typeof l.message=="string"&&typeof l.name=="string"&&!hu(l)}function go(l){if(!Bn(l))return!1;var y=Ln(l);return y==Y||y==q||y=="[object AsyncFunction]"||y=="[object Proxy]"}function du(l){return typeof l=="number"&&l==Gt(l)}function Ws(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=G}function Bn(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}function Un(l){return l!=null&&typeof l=="object"}var kf=Ku?In(Ku):function(l){return Un(l)&&Sr(l)==ue};function Df(l){return typeof l=="number"||Un(l)&&Ln(l)==Ee}function hu(l){if(!Un(l)||Ln(l)!=me)return!1;var y=pi(l);if(y===null)return!0;var _=tt.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Vt.call(_)==to}var yu=Ua?In(Ua):function(l){return Un(l)&&Ln(l)==Fe},jd=Bi?In(Bi):function(l){return Un(l)&&Sr(l)==je};function $s(l){return typeof l=="string"||!Ut(l)&&Un(l)&&Ln(l)==ve}function zr(l){return typeof l=="symbol"||Un(l)&&Ln(l)==Pe}var wi=Uo?In(Uo):function(l){return Un(l)&&Ws(l.length)&&!!vn[Ln(l)]},Pd=xs(bi),Nf=xs(function(l,y){return l<=y});function Ad(l){if(!l)return[];if(Yr(l))return $s(l)?Ur(l):Hr(l);if(di&&l[di])return function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R}(l[di]());var y=Sr(l);return(y==ue?wr:y==je?fi:qi)(l)}function Zo(l){return l?(l=Pr(l))===U||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:l===0?l:0}function Gt(l){var y=Zo(l),_=y%1;return y==y?_?y-_:y:0}function Md(l){return l?Ui(Gt(l),0,ie):0}function Pr(l){if(typeof l=="number")return l;if(zr(l))return te;if(Bn(l)){var y=typeof l.valueOf=="function"?l.valueOf():l;l=Bn(y)?y+"":y}if(typeof l!="string")return l===0?l:+l;l=Ju(l);var _=pr.test(l);return _||qn.test(l)?$o(l.slice(2),_?2:8):tr.test(l)?te:+l}function Rf(l){return Mo(l,Ar(l))}function ln(l){return l==null?"":Gr(l)}var Cf=uu(function(l,y){if(ke(y)||Yr(y))Mo(y,Gn(y),l);else for(var _ in y)tt.call(y,_)&&ru(l,_,y[_])}),Oa=uu(function(l,y){Mo(y,Ar(y),l)}),Ki=uu(function(l,y,_,A){Mo(y,Ar(y),l,A)}),gc=uu(function(l,y,_,A){Mo(y,Gn(y),l,A)}),Td=_i(ss),kd=Jt(function(l,y){l=w(l);var _=-1,A=y.length,R=A>2?y[2]:g;for(R&&br(y[0],y[1],R)&&(A=1);++_<A;)for(var $=y[_],oe=Ar($),fe=-1,Oe=oe.length;++fe<Oe;){var Le=oe[fe],Ne=l[Le];(Ne===g||Do(Ne,We[Le])&&!tt.call(l,Le))&&(l[Le]=$[Le])}return l}),Dd=Jt(function(l){return l.push(g,ld),En(Lf,g,l)});function vu(l,y,_){var A=l==null?g:vi(l,y);return A===g?_:A}function Us(l,y){return l!=null&&Ps(l,y,Up)}var If=ws(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=sn.call(y)),l[y]=_},Oc(Br)),Nd=ws(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=sn.call(y)),tt.call(l,y)?l[y].push(_):l[y]=[_]},Tt),Rd=Jt(ou);function Gn(l){return Yr(l)?Wl(l):gi(l)}function Ar(l){return Yr(l)?Wl(l,!0):Iy(l)}var Cd=uu(function(l,y,_){ds(l,y,_)}),Lf=uu(function(l,y,_,A){ds(l,y,_,A)}),zf=_i(function(l,y){var _={};if(l==null)return _;var A=!1;y=un(y,function($){return $=yn($,l),A||(A=$.length>1),$}),Mo(l,sf(l),_),A&&(_=no(_,7,$y));for(var R=y.length;R--;)vs(_,y[R]);return _}),Bf=_i(function(l,y){return l==null?{}:function(_,A){return Vp(_,A,function(R,$){return Us(_,$)})}(l,y)});function Gs(l,y){if(l==null)return{};var _=un(sf(l),function(A){return[A]});return y=Tt(y),Vp(l,_,function(A,R){return y(A,R[0])})}var Ff=cd(Gn),Hs=cd(Ar);function qi(l){return l==null?[]:Ya(l,Gn(l))}var Wf=ga(function(l,y,_){return y=y.toLowerCase(),l+(_?gu(y):y)});function gu(l){return bc(ln(l).toLowerCase())}function xi(l){return(l=ln(l))&&l.replace(_t,ec).replace(Wo,"")}var Id=ga(function(l,y,_){return l+(_?"-":"")+y.toLowerCase()}),Ld=ga(function(l,y,_){return l+(_?" ":"")+y.toLowerCase()}),$f=od("toLowerCase"),Uf=ga(function(l,y,_){return l+(_?"_":"")+y.toLowerCase()}),ev=ga(function(l,y,_){return l+(_?" ":"")+bc(y)}),zd=ga(function(l,y,_){return l+(_?" ":"")+y.toUpperCase()}),bc=od("toUpperCase");function mc(l,y,_){return l=ln(l),(y=_?g:y)===g?function(A){return Gu.test(A)}(l)?function(A){return A.match(Wa)||[]}(l):function(A){return A.match(_e)||[]}(l):l.match(y)||[]}var _c=Jt(function(l,y){try{return En(l,g,y)}catch(_){return yr(_)?_:new Zt(_)}}),Gf=_i(function(l,y){return Dr(y,function(_){_=To(_),qo(l,_,Vi(l[_],l))}),l});function Oc(l){return function(){return l}}var Bd=Hi(),Hf=Hi(!0);function Br(l){return l}function wc(l){return Vl(typeof l=="function"?l:no(l,1))}var tv=Jt(function(l,y){return function(_){return ou(_,l,y)}}),rr=Jt(function(l,y){return function(_){return ou(l,_,y)}});function bo(l,y,_){var A=Gn(y),R=ls(y,A);_!=null||Bn(y)&&(R.length||!A.length)||(_=y,y=l,l=this,R=ls(y,Gn(y)));var $=!(Bn(_)&&"chain"in _&&!_.chain),oe=go(l);return Dr(R,function(fe){var Oe=y[fe];l[fe]=Oe,oe&&(l.prototype[fe]=function(){var Le=this.__chain__;if($||Le){var Ne=l(this.__wrapped__),Ue=Ne.__actions__=Hr(this.__actions__);return Ue.push({func:Oe,args:arguments,thisArg:l}),Ne.__chain__=Le,Ne}return Oe.apply(l,nr([this.value()],arguments))})}),l}function xc(){}var Xf=fc(un),nv=fc(es),Yf=fc(Zu);function Xs(l){return As(l)?Rr(To(l)):function(y){return function(_){return vi(_,y)}}(l)}var Vf=ad(),rv=ad(!0);function Ei(){return[]}function Ec(){return!1}var Kf=lc(function(l,y){return l+y},0),Fd=uf("ceil"),Sc=lc(function(l,y){return l/y},1),jc=uf("floor"),Pc,Wd=lc(function(l,y){return l*y},1),$d=uf("round"),vr=lc(function(l,y){return l-y},0);return F.after=function(l,y){if(typeof y!="function")throw new K(E);return l=Gt(l),function(){if(--l<1)return y.apply(this,arguments)}},F.ary=xd,F.assign=Cf,F.assignIn=Oa,F.assignInWith=Ki,F.assignWith=gc,F.at=Td,F.before=Pf,F.bind=Vi,F.bindAll=Gf,F.bindKey=Af,F.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return Ut(l)?l:[l]},F.chain=Jn,F.chunk=function(l,y,_){y=(_?br(l,y,_):y===g)?1:lr(Gt(y),0);var A=l==null?0:l.length;if(!A||y<1)return[];for(var R=0,$=0,oe=et(ns(A/y));R<A;)oe[$++]=ro(l,R,R+=y);return oe},F.compact=function(l){for(var y=-1,_=l==null?0:l.length,A=0,R=[];++y<_;){var $=l[y];$&&(R[A++]=$)}return R},F.concat=function(){var l=arguments.length;if(!l)return[];for(var y=et(l-1),_=arguments[0],A=l;A--;)y[A-1]=arguments[A];return nr(Ut(_)?Hr(_):[_],hr(y,1))},F.cond=function(l){var y=l==null?0:l.length,_=Tt();return l=y?un(l,function(A){if(typeof A[1]!="function")throw new K(E);return[_(A[0]),A[1]]}):[],Jt(function(A){for(var R=-1;++R<y;){var $=l[R];if(En($[0],this,A))return En($[1],this,A)}})},F.conforms=function(l){return function(y){var _=Gn(y);return function(A){return Gl(A,y,_)}}(no(l,1))},F.constant=Oc,F.countBy=Mt,F.create=function(l,y){var _=nu(l);return y==null?_:Ul(_,y)},F.curry=function l(y,_,A){var R=mi(y,8,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.curryRight=function l(y,_,A){var R=mi(y,k,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.debounce=Lt,F.defaults=kd,F.defaultsDeep=Dd,F.defer=Ed,F.delay=zs,F.difference=pd,F.differenceBy=dd,F.differenceWith=hd,F.drop=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,(y=_||y===g?1:Gt(y))<0?0:y,A):[]},F.dropRight=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,0,(y=A-(y=_||y===g?1:Gt(y)))<0?0:y):[]},F.dropRightWhile=function(l,y){return l&&l.length?gs(l,Tt(y,3),!0,!0):[]},F.dropWhile=function(l,y){return l&&l.length?gs(l,Tt(y,3),!0):[]},F.fill=function(l,y,_,A){var R=l==null?0:l.length;return R?(_&&typeof _!="number"&&br(l,y,_)&&(_=0,A=R),function($,oe,fe,Oe){var Le=$.length;for((fe=Gt(fe))<0&&(fe=-fe>Le?0:Le+fe),(Oe=Oe===g||Oe>Le?Le:Gt(Oe))<0&&(Oe+=Le),Oe=fe>Oe?0:Md(Oe);fe<Oe;)$[fe++]=oe;return $}(l,y,_,A)):[]},F.filter=function(l,y){return(Ut(l)?Or:gn)(l,Tt(y,3))},F.flatMap=function(l,y){return hr(fu(l,y),1)},F.flatMapDeep=function(l,y){return hr(fu(l,y),U)},F.flatMapDepth=function(l,y,_){return _=_===g?1:Gt(_),hr(fu(l,y),_)},F.flatten=hc,F.flattenDeep=function(l){return l!=null&&l.length?hr(l,U):[]},F.flattenDepth=function(l,y){return l!=null&&l.length?hr(l,y=y===g?1:Gt(y)):[]},F.flip=function(l){return mi(l,512)},F.flow=Bd,F.flowRight=Hf,F.fromPairs=function(l){for(var y=-1,_=l==null?0:l.length,A={};++y<_;){var R=l[y];A[R[0]]=R[1]}return A},F.functions=function(l){return l==null?[]:ls(l,Gn(l))},F.functionsIn=function(l){return l==null?[]:ls(l,Ar(l))},F.groupBy=wd,F.initial=function(l){return l!=null&&l.length?ro(l,0,-1):[]},F.intersection=ko,F.intersectionBy=Yi,F.intersectionWith=Hy,F.invert=If,F.invertBy=Nd,F.invokeMap=Vy,F.iteratee=wc,F.keyBy=Ky,F.keys=Gn,F.keysIn=Ar,F.map=fu,F.mapKeys=function(l,y){var _={};return y=Tt(y,3),dt(l,function(A,R,$){qo(_,y(A,R,$),A)}),_},F.mapValues=function(l,y){var _={};return y=Tt(y,3),dt(l,function(A,R,$){qo(_,R,y(A,R,$))}),_},F.matches=function(l){return Gp(no(l,1))},F.matchesProperty=function(l,y){return Hp(l,no(y,1))},F.memoize=pu,F.merge=Cd,F.mergeWith=Lf,F.method=tv,F.methodOf=rr,F.mixin=bo,F.negate=Bs,F.nthArg=function(l){return l=Gt(l),Jt(function(y){return Xp(y,l)})},F.omit=zf,F.omitBy=function(l,y){return Gs(l,Bs(Tt(y)))},F.once=function(l){return Pf(2,l)},F.orderBy=function(l,y,_,A){return l==null?[]:(Ut(y)||(y=y==null?[]:[y]),Ut(_=A?g:_)||(_=_==null?[]:[_]),Yp(l,y,_))},F.over=Xf,F.overArgs=Sd,F.overEvery=nv,F.overSome=Yf,F.partial=Fs,F.partialRight=Mf,F.partition=qy,F.pick=Bf,F.pickBy=Gs,F.property=Xs,F.propertyOf=function(l){return function(y){return l==null?g:vi(l,y)}},F.pull=vd,F.pullAll=Ns,F.pullAllBy=function(l,y,_){return l&&l.length&&y&&y.length?hs(l,y,Tt(_,2)):l},F.pullAllWith=function(l,y,_){return l&&l.length&&y&&y.length?hs(l,y,g,_):l},F.pullAt=gd,F.range=Vf,F.rangeRight=rv,F.rearg=Zy,F.reject=function(l,y){return(Ut(l)?Or:gn)(l,Bs(Tt(y,3)))},F.remove=function(l,y){var _=[];if(!l||!l.length)return _;var A=-1,R=[],$=l.length;for(y=Tt(y,3);++A<$;){var oe=l[A];y(oe,A,l)&&(_.push(oe),R.push(A))}return Kl(l,R),_},F.rest=function(l,y){if(typeof l!="function")throw new K(E);return Jt(l,y=y===g?y:Gt(y))},F.reverse=Rs,F.sampleSize=function(l,y,_){return y=(_?br(l,y,_):y===g)?1:Gt(y),(Ut(l)?Lp:Zl)(l,y)},F.set=function(l,y,_){return l==null?l:ac(l,y,_)},F.setWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:ac(l,y,_,A)},F.shuffle=function(l){return(Ut(l)?zp:qp)(l)},F.slice=function(l,y,_){var A=l==null?0:l.length;return A?(_&&typeof _!="number"&&br(l,y,_)?(y=0,_=A):(y=y==null?0:Gt(y),_=_===g?A:Gt(_)),ro(l,y,_)):[]},F.sortBy=jf,F.sortedUniq=function(l){return l&&l.length?Ql(l):[]},F.sortedUniqBy=function(l,y){return l&&l.length?Ql(l,Tt(y,2)):[]},F.split=function(l,y,_){return _&&typeof _!="number"&&br(l,y,_)&&(y=_=g),(_=_===g?ie:_>>>0)?(l=ln(l))&&(typeof y=="string"||y!=null&&!yu(y))&&!(y=Gr(y))&&jo(l)?mn(Ur(l),0,_):l.split(y,_):[]},F.spread=function(l,y){if(typeof l!="function")throw new K(E);return y=y==null?0:lr(Gt(y),0),Jt(function(_){var A=_[y],R=mn(_,0,y);return A&&nr(R,A),En(l,this,R)})},F.tail=function(l){var y=l==null?0:l.length;return y?ro(l,1,y):[]},F.take=function(l,y,_){return l&&l.length?ro(l,0,(y=_||y===g?1:Gt(y))<0?0:y):[]},F.takeRight=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,(y=A-(y=_||y===g?1:Gt(y)))<0?0:y,A):[]},F.takeRightWhile=function(l,y){return l&&l.length?gs(l,Tt(y,3),!1,!0):[]},F.takeWhile=function(l,y){return l&&l.length?gs(l,Tt(y,3)):[]},F.tap=function(l,y){return y(l),l},F.throttle=function(l,y,_){var A=!0,R=!0;if(typeof l!="function")throw new K(E);return Bn(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Lt(l,y,{leading:A,maxWait:y,trailing:R})},F.thru=Cs,F.toArray=Ad,F.toPairs=Ff,F.toPairsIn=Hs,F.toPath=function(l){return Ut(l)?un(l,To):zr(l)?[l]:Hr(mf(ln(l)))},F.toPlainObject=Rf,F.transform=function(l,y,_){var A=Ut(l),R=A||Lr(l)||wi(l);if(y=Tt(y,4),_==null){var $=l&&l.constructor;_=R?A?new $:[]:Bn(l)&&go($)?nu(pi(l)):{}}return(R?Dr:dt)(l,function(oe,fe,Oe){return y(_,oe,fe,Oe)}),_},F.unary=function(l){return xd(l,1)},F.union=bd,F.unionBy=md,F.unionWith=_d,F.uniq=function(l){return l&&l.length?Gi(l):[]},F.uniqBy=function(l,y){return l&&l.length?Gi(l,Tt(y,2)):[]},F.uniqWith=function(l,y){return y=typeof y=="function"?y:g,l&&l.length?Gi(l,g,y):[]},F.unset=function(l,y){return l==null||vs(l,y)},F.unzip=yc,F.unzipWith=lu,F.update=function(l,y,_){return l==null?l:Jp(l,y,rf(_))},F.updateWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:Jp(l,y,rf(_),A)},F.values=qi,F.valuesIn=function(l){return l==null?[]:Ya(l,Ar(l))},F.without=jr,F.words=mc,F.wrap=function(l,y){return Fs(rf(y),l)},F.xor=Xy,F.xorBy=Yy,F.xorWith=wf,F.zip=Od,F.zipObject=function(l,y){return nf(l||[],y||[],ru)},F.zipObjectDeep=function(l,y){return nf(l||[],y||[],ac)},F.zipWith=Xr,F.entries=Ff,F.entriesIn=Hs,F.extend=Oa,F.extendWith=Ki,bo(F,F),F.add=Kf,F.attempt=_c,F.camelCase=Wf,F.capitalize=gu,F.ceil=Fd,F.clamp=function(l,y,_){return _===g&&(_=y,y=g),_!==g&&(_=(_=Pr(_))==_?_:0),y!==g&&(y=(y=Pr(y))==y?y:0),Ui(Pr(l),y,_)},F.clone=function(l){return no(l,4)},F.cloneDeep=function(l){return no(l,5)},F.cloneDeepWith=function(l,y){return no(l,5,y=typeof y=="function"?y:g)},F.cloneWith=function(l,y){return no(l,4,y=typeof y=="function"?y:g)},F.conformsTo=function(l,y){return y==null||Gl(l,y,Gn(y))},F.deburr=xi,F.defaultTo=function(l,y){return l==null||l!=l?y:l},F.divide=Sc,F.endsWith=function(l,y,_){l=ln(l),y=Gr(y);var A=l.length,R=_=_===g?A:Ui(Gt(_),0,A);return(_-=y.length)>=0&&l.slice(_,R)==y},F.eq=Do,F.escape=function(l){return(l=ln(l))&&lt.test(l)?l.replace(gt,Yn):l},F.escapeRegExp=function(l){return(l=ln(l))&&Tn.test(l)?l.replace(On,"\\$&"):l},F.every=function(l,y,_){var A=Ut(l)?es:Wp;return _&&br(l,y,_)&&(y=g),A(l,Tt(y,3))},F.find=xf,F.findIndex=Of,F.findKey=function(l,y){return Eo(l,Tt(y,3),dt)},F.findLast=Ef,F.findLastIndex=Ds,F.findLastKey=function(l,y){return Eo(l,Tt(y,3),An)},F.floor=jc,F.forEach=Is,F.forEachRight=Sf,F.forIn=function(l,y){return l==null?l:Kt(l,Tt(y,3),Ar)},F.forInRight=function(l,y){return l==null?l:Zn(l,Tt(y,3),Ar)},F.forOwn=function(l,y){return l&&dt(l,Tt(y,3))},F.forOwnRight=function(l,y){return l&&An(l,Tt(y,3))},F.get=vu,F.gt=Jy,F.gte=vc,F.has=function(l,y){return l!=null&&Ps(l,y,$p)},F.hasIn=Us,F.head=yd,F.identity=Br,F.includes=function(l,y,_,A){l=Yr(l)?l:qi(l),_=_&&!A?Gt(_):0;var R=l.length;return _<0&&(_=lr(R+_,0)),$s(l)?_<=R&&l.indexOf(y,_)>-1:!!R&&Fi(l,y,_)>-1},F.indexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Gt(_);return R<0&&(R=lr(A+R,0)),Fi(l,y,R)},F.inRange=function(l,y,_){return y=Zo(y),_===g?(_=y,y=0):_=Zo(_),function(A,R,$){return A>=Er(R,$)&&A<lr(R,$)}(l=Pr(l),y,_)},F.invoke=Rd,F.isArguments=_a,F.isArray=Ut,F.isArrayBuffer=Qy,F.isArrayLike=Yr,F.isArrayLikeObject=Rn,F.isBoolean=function(l){return l===!0||l===!1||Un(l)&&Ln(l)==H},F.isBuffer=Lr,F.isDate=Tf,F.isElement=function(l){return Un(l)&&l.nodeType===1&&!hu(l)},F.isEmpty=function(l){if(l==null)return!0;if(Yr(l)&&(Ut(l)||typeof l=="string"||typeof l.splice=="function"||Lr(l)||wi(l)||_a(l)))return!l.length;var y=Sr(l);if(y==ue||y==je)return!l.size;if(ke(l))return!gi(l).length;for(var _ in l)if(tt.call(l,_))return!1;return!0},F.isEqual=function(l,y){return iu(l,y)},F.isEqualWith=function(l,y,_){var A=(_=typeof _=="function"?_:g)?_(l,y):g;return A===g?iu(l,y,g,_):!!A},F.isError=yr,F.isFinite=function(l){return typeof l=="number"&&Dp(l)},F.isFunction=go,F.isInteger=du,F.isLength=Ws,F.isMap=kf,F.isMatch=function(l,y){return l===y||ps(l,y,ff(y))},F.isMatchWith=function(l,y,_){return _=typeof _=="function"?_:g,ps(l,y,ff(y),_)},F.isNaN=function(l){return Df(l)&&l!=+l},F.isNative=function(l){if(Gy(l))throw new Zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return au(l)},F.isNil=function(l){return l==null},F.isNull=function(l){return l===null},F.isNumber=Df,F.isObject=Bn,F.isObjectLike=Un,F.isPlainObject=hu,F.isRegExp=yu,F.isSafeInteger=function(l){return du(l)&&l>=-9007199254740991&&l<=G},F.isSet=jd,F.isString=$s,F.isSymbol=zr,F.isTypedArray=wi,F.isUndefined=function(l){return l===g},F.isWeakMap=function(l){return Un(l)&&Sr(l)==Me},F.isWeakSet=function(l){return Un(l)&&Ln(l)=="[object WeakSet]"},F.join=function(l,y){return l==null?"":Bl.call(l,y)},F.kebabCase=Id,F.last=zn,F.lastIndexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A;return _!==g&&(R=(R=Gt(_))<0?lr(A+R,0):Er(R,A-1)),y==y?function($,oe,fe){for(var Oe=fe+1;Oe--;)if($[Oe]===oe)return Oe;return Oe}(l,y,R):Go(l,Ho,R,!0)},F.lowerCase=Ld,F.lowerFirst=$f,F.lt=Pd,F.lte=Nf,F.max=function(l){return l&&l.length?Vn(l,Br,$n):g},F.maxBy=function(l,y){return l&&l.length?Vn(l,Tt(y,2),$n):g},F.mean=function(l){return rn(l,Br)},F.meanBy=function(l,y){return rn(l,Tt(y,2))},F.min=function(l){return l&&l.length?Vn(l,Br,bi):g},F.minBy=function(l,y){return l&&l.length?Vn(l,Tt(y,2),bi):g},F.stubArray=Ei,F.stubFalse=Ec,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Wd,F.nth=function(l,y){return l&&l.length?Xp(l,Gt(y)):g},F.noConflict=function(){return Wn._===this&&(Wn._=Dn),this},F.noop=xc,F.now=Ls,F.pad=function(l,y,_){l=ln(l);var A=(y=Gt(y))?Po(l):0;if(!y||A>=y)return l;var R=(y-A)/2;return pc(Za(R),_)+l+pc(ns(R),_)},F.padEnd=function(l,y,_){l=ln(l);var A=(y=Gt(y))?Po(l):0;return y&&A<y?l+pc(y-A,_):l},F.padStart=function(l,y,_){l=ln(l);var A=(y=Gt(y))?Po(l):0;return y&&A<y?pc(y-A,_)+l:l},F.parseInt=function(l,y,_){return _||y==null?y=0:y&&(y=+y),os(ln(l).replace(Ct,""),y||0)},F.random=function(l,y,_){if(_&&typeof _!="boolean"&&br(l,y,_)&&(y=_=g),_===g&&(typeof y=="boolean"?(_=y,y=g):typeof l=="boolean"&&(_=l,l=g)),l===g&&y===g?(l=0,y=1):(l=Zo(l),y===g?(y=l,l=0):y=Zo(y)),l>y){var A=l;l=y,y=A}if(_||l%1||y%1){var R=is();return Er(l+R*(y-l+zi("1e-"+((R+"").length-1))),y)}return ql(l,y)},F.reduce=function(l,y,_){var A=Ut(l)?Ga:sr,R=arguments.length<3;return A(l,Tt(y,4),_,R,Nn)},F.reduceRight=function(l,y,_){var A=Ut(l)?ts:sr,R=arguments.length<3;return A(l,Tt(y,4),_,R,Fp)},F.repeat=function(l,y,_){return y=(_?br(l,y,_):y===g)?1:Gt(y),ys(ln(l),y)},F.replace=function(){var l=arguments,y=ln(l[0]);return l.length<3?y:y.replace(l[1],l[2])},F.result=function(l,y,_){var A=-1,R=(y=yn(y,l)).length;for(R||(R=1,l=g);++A<R;){var $=l==null?g:l[To(y[A])];$===g&&(A=R,$=_),l=go($)?$.call(l):$}return l},F.round=$d,F.runInContext=we,F.sample=function(l){return(Ut(l)?$l:Ly)(l)},F.size=function(l){if(l==null)return 0;if(Yr(l))return $s(l)?Po(l):l.length;var y=Sr(l);return y==ue||y==je?l.size:gi(l).length},F.snakeCase=Uf,F.some=function(l,y,_){var A=Ut(l)?Zu:By;return _&&br(l,y,_)&&(y=g),A(l,Tt(y,3))},F.sortedIndex=function(l,y){return uc(l,y)},F.sortedIndexBy=function(l,y,_){return Jl(l,y,Tt(_,2))},F.sortedIndexOf=function(l,y){var _=l==null?0:l.length;if(_){var A=uc(l,y);if(A<_&&Do(l[A],y))return A}return-1},F.sortedLastIndex=function(l,y){return uc(l,y,!0)},F.sortedLastIndexBy=function(l,y,_){return Jl(l,y,Tt(_,2),!0)},F.sortedLastIndexOf=function(l,y){if(l!=null&&l.length){var _=uc(l,y,!0)-1;if(Do(l[_],y))return _}return-1},F.startCase=ev,F.startsWith=function(l,y,_){return l=ln(l),_=_==null?0:Ui(Gt(_),0,l.length),y=Gr(y),l.slice(_,_+y.length)==y},F.subtract=vr,F.sum=function(l){return l&&l.length?Xa(l,Br):0},F.sumBy=function(l,y){return l&&l.length?Xa(l,Tt(y,2)):0},F.template=function(l,y,_){var A=F.templateSettings;_&&br(l,y,_)&&(y=g),l=ln(l),y=Ki({},y,A,sd);var R,$,oe=Ki({},y.imports,A.imports,sd),fe=Gn(oe),Oe=Ya(oe,fe),Le=0,Ne=y.interpolate||jt,Ue="__p += '",ot=M((y.escape||jt).source+"|"+Ne.source+"|"+(Ne===Bt?pt:jt).source+"|"+(y.evaluate||jt).source+"|$","g"),ht="//# sourceURL="+(tt.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qc+"]")+`
`;l.replace(ot,function(Ge,At,at,le,zt,tn){return at||(at=le),Ue+=l.slice(Le,tn).replace(It,pa),At&&(R=!0,Ue+=`' +
__e(`+At+`) +
'`),zt&&($=!0,Ue+=`';
`+zt+`;
__p += '`),at&&(Ue+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),Le=tn+Ge.length,Ge}),Ue+=`';
`;var St=tt.call(y,"variable")&&y.variable;if(St){if(Ve.test(St))throw new Zt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=($?Ue.replace(ze,""):Ue).replace(Et,"$1").replace(Nt,"$1;"),Ue="function("+(St||"obj")+`) {
`+(St?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Be=_c(function(){return Pn(fe,ht+"return "+Ue).apply(g,Oe)});if(Be.source=Ue,yr(Be))throw Be;return Be},F.times=function(l,y){if((l=Gt(l))<1||l>G)return[];var _=ie,A=Er(l,ie);y=Tt(y),l-=ie;for(var R=fa(A,y);++_<l;)y(_);return R},F.toFinite=Zo,F.toInteger=Gt,F.toLength=Md,F.toLower=function(l){return ln(l).toLowerCase()},F.toNumber=Pr,F.toSafeInteger=function(l){return l?Ui(Gt(l),-9007199254740991,G):l===0?l:0},F.toString=ln,F.toUpper=function(l){return ln(l).toUpperCase()},F.trim=function(l,y,_){if((l=ln(l))&&(_||y===g))return Ju(l);if(!l||!(y=Gr(y)))return l;var A=Ur(l),R=Ur(y);return mn(A,Qr(A,R),Qu(A,R)+1).join("")},F.trimEnd=function(l,y,_){if((l=ln(l))&&(_||y===g))return l.slice(0,Cr(l)+1);if(!l||!(y=Gr(y)))return l;var A=Ur(l);return mn(A,0,Qu(A,Ur(y))+1).join("")},F.trimStart=function(l,y,_){if((l=ln(l))&&(_||y===g))return l.replace(Ct,"");if(!l||!(y=Gr(y)))return l;var A=Ur(l);return mn(A,Qr(A,Ur(y))).join("")},F.truncate=function(l,y){var _=30,A="...";if(Bn(y)){var R="separator"in y?y.separator:R;_="length"in y?Gt(y.length):_,A="omission"in y?Gr(y.omission):A}var $=(l=ln(l)).length;if(jo(l)){var oe=Ur(l);$=oe.length}if(_>=$)return l;var fe=_-Po(A);if(fe<1)return A;var Oe=oe?mn(oe,0,fe).join(""):l.slice(0,fe);if(R===g)return Oe+A;if(oe&&(fe+=Oe.length-fe),yu(R)){if(l.slice(fe).search(R)){var Le,Ne=Oe;for(R.global||(R=M(R.source,ln(Xt.exec(R))+"g")),R.lastIndex=0;Le=R.exec(Ne);)var Ue=Le.index;Oe=Oe.slice(0,Ue===g?fe:Ue)}}else if(l.indexOf(Gr(R),fe)!=fe){var ot=Oe.lastIndexOf(R);ot>-1&&(Oe=Oe.slice(0,ot))}return Oe+A},F.unescape=function(l){return(l=ln(l))&&Te.test(l)?l.replace(Pt,eo):l},F.uniqueId=function(l){var y=++wn;return ln(l)+y},F.upperCase=zd,F.upperFirst=bc,F.each=Is,F.eachRight=Sf,F.first=yd,bo(F,(Pc={},dt(F,function(l,y){tt.call(F.prototype,y)||(Pc[y]=l)}),Pc),{chain:!1}),F.VERSION="4.17.21",Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){F[l].placeholder=F}),Dr(["drop","take"],function(l,y){an.prototype[l]=function(_){_=_===g?1:lr(Gt(_),0);var A=this.__filtered__&&!y?new an(this):this.clone();return A.__filtered__?A.__takeCount__=Er(_,A.__takeCount__):A.__views__.push({size:Er(_,ie),type:l+(A.__dir__<0?"Right":"")}),A},an.prototype[l+"Right"]=function(_){return this.reverse()[l](_).reverse()}}),Dr(["filter","map","takeWhile"],function(l,y){var _=y+1,A=_==1||_==3;an.prototype[l]=function(R){var $=this.clone();return $.__iteratees__.push({iteratee:Tt(R,3),type:_}),$.__filtered__=$.__filtered__||A,$}}),Dr(["head","last"],function(l,y){var _="take"+(y?"Right":"");an.prototype[l]=function(){return this[_](1).value()[0]}}),Dr(["initial","tail"],function(l,y){var _="drop"+(y?"":"Right");an.prototype[l]=function(){return this.__filtered__?new an(this):this[_](1)}}),an.prototype.compact=function(){return this.filter(Br)},an.prototype.find=function(l){return this.filter(l).head()},an.prototype.findLast=function(l){return this.reverse().find(l)},an.prototype.invokeMap=Jt(function(l,y){return typeof l=="function"?new an(this):this.map(function(_){return ou(_,l,y)})}),an.prototype.reject=function(l){return this.filter(Bs(Tt(l)))},an.prototype.slice=function(l,y){l=Gt(l);var _=this;return _.__filtered__&&(l>0||y<0)?new an(_):(l<0?_=_.takeRight(-l):l&&(_=_.drop(l)),y!==g&&(_=(y=Gt(y))<0?_.dropRight(-y):_.take(y-l)),_)},an.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},an.prototype.toArray=function(){return this.take(ie)},dt(an.prototype,function(l,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=F[A?"take"+(y=="last"?"Right":""):y],$=A||/^find/.test(y);R&&(F.prototype[y]=function(){var oe=this.__wrapped__,fe=A?[1]:arguments,Oe=oe instanceof an,Le=fe[0],Ne=Oe||Ut(oe),Ue=function(At){var at=R.apply(F,nr([At],fe));return A&&ot?at[0]:at};Ne&&_&&typeof Le=="function"&&Le.length!=1&&(Oe=Ne=!1);var ot=this.__chain__,ht=!!this.__actions__.length,St=$&&!ot,Be=Oe&&!ht;if(!$&&Ne){oe=Be?oe:new an(this);var Ge=l.apply(oe,fe);return Ge.__actions__.push({func:Cs,args:[Ue],thisArg:g}),new po(Ge,ot)}return St&&Be?l.apply(this,fe):(Ge=this.thru(Ue),St?A?Ge.value()[0]:Ge.value():Ge)})}),Dr(["pop","push","shift","sort","splice","unshift"],function(l){var y=de[l],_=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",A=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var R=arguments;if(A&&!this.__chain__){var $=this.value();return y.apply(Ut($)?$:[],R)}return this[_](function(oe){return y.apply(Ut(oe)?oe:[],R)})}}),dt(an.prototype,function(l,y){var _=F[y];if(_){var A=_.name+"";tt.call(tu,A)||(tu[A]=[]),tu[A].push({name:y,func:_})}}),tu[Os(g,2).name]=[{name:"wrapper",func:g}],an.prototype.clone=function(){var l=new an(this.__wrapped__);return l.__actions__=Hr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Hr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Hr(this.__views__),l},an.prototype.reverse=function(){if(this.__filtered__){var l=new an(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},an.prototype.value=function(){var l=this.__wrapped__.value(),y=this.__dir__,_=Ut(l),A=y<0,R=_?l.length:0,$=function(tn,Ot,kt){for(var or=-1,Vr=kt.length;++or<Vr;){var No=kt[or],ir=No.size;switch(No.type){case"drop":tn+=ir;break;case"dropRight":Ot-=ir;break;case"take":Ot=Er(Ot,tn+ir);break;case"takeRight":tn=lr(tn,Ot-ir)}}return{start:tn,end:Ot}}(0,R,this.__views__),oe=$.start,fe=$.end,Oe=fe-oe,Le=A?fe:oe-1,Ne=this.__iteratees__,Ue=Ne.length,ot=0,ht=Er(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&ht==Oe)return ef(l,this.__actions__);var St=[];e:for(;Oe--&&ot<ht;){for(var Be=-1,Ge=l[Le+=y];++Be<Ue;){var At=Ne[Be],at=At.iteratee,le=At.type,zt=at(Ge);if(le==2)Ge=zt;else if(!zt){if(le==1)continue e;break e}}St[ot++]=Ge}return St},F.prototype.at=vo,F.prototype.chain=function(){return Jn(this)},F.prototype.commit=function(){return new po(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=Ad(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?g:this.__values__[this.__index__++]}},F.prototype.plant=function(l){for(var y,_=this;_ instanceof oc;){var A=_f(_);A.__index__=0,A.__values__=g,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=l,y},F.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof an){var y=l;return this.__actions__.length&&(y=new an(this)),(y=y.reverse()).__actions__.push({func:Cs,args:[Rs],thisArg:g}),new po(y,this.__chain__)}return this.thru(Rs)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return ef(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,di&&(F.prototype[di]=function(){return this}),F}();Wn._=Ao,(m=function(){return Ao}.call(p,o,p,h))===g||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(a))},function(a,p,o){var d=o(7),h=o(34),m=o(33),g=o(87),E=o(62),j=o(174),P=o(28),k=d.TypeError,T=P("toPrimitive");a.exports=function(C,N){if(!m(C)||g(C))return C;var L,U=E(C,T);if(U){if(N===void 0&&(N="default"),L=h(U,C,N),!m(L)||g(L))return L;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(a,p,o){var d=o(108);a.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,p,o){var d=o(36),h=o(18),m=o(91);a.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(a,p,o){var d=o(35),h=o(135),m=o(50),g=o(38);a.exports=function(E,j){for(var P=h(j),k=g.f,T=m.f,C=0;C<P.length;C++){var N=P[C];d(E,N)||k(E,N,T(j,N))}}},function(a,p,o){var d=o(46),h=o(15),m=o(74),g=o(112),E=o(32),j=h([].concat);a.exports=d("Reflect","ownKeys")||function(P){var k=m.f(E(P)),T=g.f;return T?j(k,T(P)):k}},function(a,p,o){var d=o(15),h=o(35),m=o(41),g=o(137).indexOf,E=o(72),j=d([].push);a.exports=function(P,k){var T,C=m(P),N=0,L=[];for(T in C)!h(E,T)&&h(C,T)&&j(L,T);for(;k.length>N;)h(C,T=k[N++])&&(~g(L,T)||j(L,T));return L}},function(a,p,o){var d=o(41),h=o(75),m=o(45),g=function(E){return function(j,P,k){var T,C=d(j),N=m(C),L=h(k,N);if(E&&P!=P){for(;N>L;)if((T=C[L++])!=T)return!0}else for(;N>L;L++)if((E||L in C)&&C[L]===P)return E||L||0;return!E&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,p,o){var d=o(46);a.exports=d("document","documentElement")},function(a,p,o){var d=o(51),h=o(41),m=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(j){return E&&d(j)=="Window"?function(P){try{return m(P)}catch(k){return g(E)}}(j):m(h(j))}},function(a,p,o){var d=o(28);p.f=d},function(a,p,o){var d=o(177),h=o(35),m=o(140),g=o(38).f;a.exports=function(E){var j=d.Symbol||(d.Symbol={});h(j,E)||g(j,E,{value:m.f(E)})}},function(a,p,o){var d,h,m,g=o(18),E=o(30),j=o(60),P=o(101),k=o(42),T=o(28),C=o(71),N=T("iterator"),L=!1;[].keys&&("next"in(m=[].keys())?(h=P(P(m)))!==Object.prototype&&(d=h):L=!0),d==null||g(function(){var U={};return d[N].call(U)!==U})?d={}:C&&(d=j(d)),E(d[N])||k(d,N,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:L}},function(a,p,o){var d=o(18);a.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(a,p,o){var d=o(16),h=o(15),m=o(72),g=o(33),E=o(35),j=o(38).f,P=o(74),k=o(139),T=o(183),C=o(90),N=o(185),L=!1,U=C("meta"),G=0,te=function(re){j(re,U,{value:{objectID:"O"+G++,weakData:{}}})},ie=a.exports={enable:function(){ie.enable=function(){},L=!0;var re=P.f,Q=h([].splice),Z={};Z[U]=1,re(Z).length&&(P.f=function(H){for(var B=re(H),X=0,Y=B.length;X<Y;X++)if(B[X]===U){Q(B,X,1);break}return B},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(re,Q){if(!g(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,U)){if(!T(re))return"F";if(!Q)return"E";te(re)}return re[U].objectID},getWeakData:function(re,Q){if(!E(re,U)){if(!T(re))return!0;if(!Q)return!1;te(re)}return re[U].weakData},onFreeze:function(re){return N&&L&&T(re)&&!E(re,U)&&te(re),re}};m[U]=!0},function(a,p,o){var d=o(28),h=o(80),m=d("iterator"),g=Array.prototype;a.exports=function(E){return E!==void 0&&(h.Array===E||g[m]===E)}},function(a,p,o){var d=o(7),h=o(34),m=o(56),g=o(32),E=o(88),j=o(118),P=d.TypeError;a.exports=function(k,T){var C=arguments.length<2?j(k):T;if(m(C))return g(h(C,k));throw P(E(k)+" is not iterable")}},function(a,p,o){var d=o(34),h=o(32),m=o(62);a.exports=function(g,E,j){var P,k;h(g);try{if(!(P=m(g,"return"))){if(E==="throw")throw j;return j}P=d(P,g)}catch(T){k=!0,P=T}if(E==="throw")throw j;if(k)throw P;return h(P),j}},function(a,p,o){var d=o(30),h=o(33),m=o(102);a.exports=function(g,E,j){var P,k;return m&&d(P=E.constructor)&&P!==j&&h(k=P.prototype)&&k!==j.prototype&&m(g,k),g}},function(a,p,o){var d=o(42);a.exports=function(h,m,g){for(var E in m)d(h,E,m[E],g);return h}},function(a,p,o){var d=o(46),h=o(38),m=o(28),g=o(36),E=m("species");a.exports=function(j){var P=d(j),k=h.f;g&&P&&!P[E]&&k(P,E,{configurable:!0,get:function(){return this}})}},function(a,p,o){var d=o(15),h=o(59),m=o(39),g=o(44),E=d("".charAt),j=d("".charCodeAt),P=d("".slice),k=function(T){return function(C,N){var L,U,G=m(g(C)),te=h(N),ie=G.length;return te<0||te>=ie?T?"":void 0:(L=j(G,te))<55296||L>56319||te+1===ie||(U=j(G,te+1))<56320||U>57343?T?E(G,te):L:T?P(G,te,te+2):U-56320+(L-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,p){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,p,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;a.exports=h===Object.prototype?void 0:h},function(a,p,o){var d=o(32);a.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(a,p,o){var d=o(18),h=o(7).RegExp,m=d(function(){var j=h("a","y");return j.lastIndex=2,j.exec("abcd")!=null}),g=m||d(function(){return!h("a","y").sticky}),E=m||d(function(){var j=h("^r","gy");return j.lastIndex=2,j.exec("str")!=null});a.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(a,p,o){var d=o(16),h=o(79).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),d({target:"Array",proto:!0,forced:E},{find:function(j){return h(this,j,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(a,p,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(a,p,o){var d=o(16),h=o(15),m=o(197),g=o(44),E=o(39),j=o(198),P=h("".indexOf);d({target:"String",proto:!0,forced:!j("includes")},{includes:function(k){return!!~P(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(33),h=o(51),m=o(28)("match");a.exports=function(g){var E;return d(g)&&((E=g[m])!==void 0?!!E:h(g)=="RegExp")}},function(a,p,o){var d=o(15);a.exports=d(1 .valueOf)},function(a,p,o){var d=o(15),h=o(44),m=o(39),g=o(162),E=d("".replace),j="["+g+"]",P=RegExp("^"+j+j+"*"),k=RegExp(j+j+"*$"),T=function(C){return function(N){var L=m(h(N));return 1&C&&(L=E(L,P,"")),2&C&&(L=E(L,k,"")),L}};a.exports={start:T(1),end:T(2),trim:T(3)}},function(a,p){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,p){var o,d,h=a.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(G){if(o===setTimeout)return setTimeout(G,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(G,0);try{return o(G,0)}catch(te){try{return o.call(null,G,0)}catch(ie){return o.call(this,G,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch(G){o=m}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch(G){d=g}})();var j,P=[],k=!1,T=-1;function C(){k&&j&&(k=!1,j.length?P=j.concat(P):T=-1,P.length&&N())}function N(){if(!k){var G=E(C);k=!0;for(var te=P.length;te;){for(j=P,P=[];++T<te;)j&&j[T].run();T=-1,te=P.length}j=null,k=!1,function(ie){if(d===clearTimeout)return clearTimeout(ie);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(ie);try{d(ie)}catch(re){try{return d.call(null,ie)}catch(Q){return d.call(this,ie)}}}(G)}}function L(G,te){this.fun=G,this.array=te}function U(){}h.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)te[ie-1]=arguments[ie];P.push(new L(G,te)),P.length!==1||k||E(N)},L.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=U,h.addListener=U,h.once=U,h.off=U,h.removeListener=U,h.removeAllListeners=U,h.emit=U,h.prependListener=U,h.prependOnceListener=U,h.listeners=function(G){return[]},h.binding=function(G){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(G){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,p,o){var d=o(32),h=o(165),m=o(28)("species");a.exports=function(g,E){var j,P=d(g).constructor;return P===void 0||(j=d(P)[m])==null?E:h(j)}},function(a,p,o){var d=o(7),h=o(99),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a constructor")}},function(a,p,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(a,p,o){var d=o(34),h=o(123),m=o(32),g=o(94),E=o(39),j=o(44),P=o(62),k=o(124),T=o(125);h("match",function(C,N,L){return[function(U){var G=j(this),te=U==null?void 0:P(U,C);return te?d(te,U,G):new RegExp(U)[C](E(G))},function(U){var G=m(this),te=E(U),ie=L(N,G,te);if(ie.done)return ie.value;if(!G.global)return T(G,te);var re=G.unicode;G.lastIndex=0;for(var Q,Z=[],H=0;(Q=T(G,te))!==null;){var B=E(Q[0]);Z[H]=B,B===""&&(G.lastIndex=k(te,g(G.lastIndex),re)),H++}return H===0?null:Z}]})},function(a,p,o){var d,h,m,g,E=o(7),j=o(76),P=o(64),k=o(30),T=o(35),C=o(18),N=o(138),L=o(98),U=o(91),G=o(169),te=o(128),ie=E.setImmediate,re=E.clearImmediate,Q=E.process,Z=E.Dispatch,H=E.Function,B=E.MessageChannel,X=E.String,Y=0,q={},ue="onreadystatechange";try{d=E.location}catch(je){}var Ee=function(je){if(T(q,je)){var ve=q[je];delete q[je],ve()}},me=function(je){return function(){Ee(je)}},Ae=function(je){Ee(je.data)},Fe=function(je){E.postMessage(X(je),d.protocol+"//"+d.host)};ie&&re||(ie=function(je){var ve=L(arguments,1);return q[++Y]=function(){j(k(je)?je:H(je),void 0,ve)},h(Y),Y},re=function(je){delete q[je]},te?h=function(je){Q.nextTick(me(je))}:Z&&Z.now?h=function(je){Z.now(me(je))}:B&&!G?(g=(m=new B).port2,m.port1.onmessage=Ae,h=P(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&d&&d.protocol!=="file:"&&!C(Fe)?(h=Fe,E.addEventListener("message",Ae,!1)):h=ue in U("script")?function(je){N.appendChild(U("script")).onreadystatechange=function(){N.removeChild(this),Ee(je)}}:function(je){setTimeout(me(je),0)}),a.exports={set:ie,clear:re}},function(a,p,o){var d=o(55);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(a,p,o){var d=o(56),h=function(m){var g,E;this.promise=new m(function(j,P){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=j,E=P}),this.resolve=d(g),this.reject=d(E)};a.exports.f=function(m){return new h(m)}},function(a,p,o){p.a=function(){return!1}},function(a,p,o){(function(d){o.d(p,"a",function(){return Q});var h=o(1);function m(B){throw new Error("[mobx-utils] "+B)}function g(B,X){X===void 0&&(X="Illegal state"),B||m(X)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},j=function(B){return function(X){var Y=E(X);return Y.filter(function(q,ue){return Y.indexOf(q)===ue})}(B).filter(function(X){return X!=="constructor"&&!~X.indexOf("__")})},P="pending",k="fulfilled",T="rejected";function C(B){switch(this.state){case P:return B.pending&&B.pending(this.value);case T:return B.rejected&&B.rejected(this.value);case k:return B.fulfilled?B.fulfilled(this.value):this.value}}function N(B,X){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var Y=B;B.then(Object(h.k)("observableFromPromise-resolve",function(ue){Y.value=ue,Y.state=k}),Object(h.k)("observableFromPromise-reject",function(ue){Y.value=ue,Y.state=T})),Y.isPromiseBasedObservable=!0,Y.case=C;var q=X&&X.state===k?X.value:void 0;return Object(h.q)(Y,{value:q,state:P},{},{deep:!1}),Y}(function(B){B.reject=Object(h.k)("fromPromise.reject",function(X){var Y=B(Promise.reject(X));return Y.state=T,Y.value=X,Y}),B.resolve=Object(h.k)("fromPromise.resolve",function(X){X===void 0&&(X=void 0);var Y=B(Promise.resolve(X));return Y.state=k,Y.value=X,Y})})(N||(N={}));var L=function(B,X,Y,q){var ue,Ee=arguments.length,me=Ee<3?X:q===null?q=Object.getOwnPropertyDescriptor(X,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,q);else for(var Ae=B.length-1;Ae>=0;Ae--)(ue=B[Ae])&&(me=(Ee<3?ue(me):Ee>3?ue(X,Y,me):ue(X,Y))||me);return Ee>3&&me&&Object.defineProperty(X,Y,me),me};(function(){function B(X,Y){var q=this;Object(h.G)(function(){q.current=Y,q.subscription=X.subscribe(q)})}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(X){this.current=X},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(X){this.current=X,this.dispose()},L([h.C.ref],B.prototype,"current",void 0),L([h.k.bound],B.prototype,"next",null),L([h.k.bound],B.prototype,"complete",null),L([h.k.bound],B.prototype,"error",null)})();var U=function(){return U=Object.assign||function(B){for(var X,Y=1,q=arguments.length;Y<q;Y++)for(var ue in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,ue)&&(B[ue]=X[ue]);return B},U.apply(this,arguments)},G=function(B,X,Y,q){var ue,Ee=arguments.length,me=Ee<3?X:q===null?q=Object.getOwnPropertyDescriptor(X,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,q);else for(var Ae=B.length-1;Ae>=0;Ae--)(ue=B[Ae])&&(me=(Ee<3?ue(me):Ee>3?ue(X,Y,me):ue(X,Y))||me);return Ee>3&&me&&Object.defineProperty(X,Y,me),me},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(X){var Y=this;this.model=X,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(q){return Y.localValues.has(q)},g(Object(h.A)(X),"createViewModel expects an observable object"),j(X).forEach(function(q){if(q!==h.a&&q!=="__mobxDidRunLazyInitializers"){if(g(te.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(h.w)(X,q)){var ue=Object(h.h)(X,q).derivation;Y.localComputedValues.set(q,Object(h.m)(ue.bind(Y)))}var Ee=Object.getOwnPropertyDescriptor(X,q),me=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(Y,q,U(U({},me),{configurable:!0,get:function(){return Object(h.w)(X,q)?Y.localComputedValues.get(q).get():Y.isPropertyDirty(q)?Y.localValues.get(q):Y.model[q]},set:Object(h.k)(function(Ae){Ae!==Y.model[q]?Y.localValues.set(q,Ae):Y.localValues.delete(q)})}))}})}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var X=this;Object(h.B)(this.localValues).forEach(function(Y){var q=X.localValues.get(Y),ue=X.model[Y];Object(h.y)(ue)?ue.replace(q):Object(h.z)(ue)?(ue.clear(),ue.merge(q)):Object(h.v)(q)||(X.model[Y]=q)}),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(X){this.localValues.delete(X)},G([h.m],B.prototype,"isDirty",null),G([h.m],B.prototype,"changedValues",null),G([h.k.bound],B.prototype,"submit",null),G([h.k.bound],B.prototype,"reset",null),G([h.k.bound],B.prototype,"resetProperty",null)})();function ie(B){if(!B)return"ROOT";for(var X=[];B.parent;)X.push(B.path),B=B.parent;return X.reverse().join("/")}function re(B){return Object(h.A)(B)||Object(h.y)(B)||Object(h.z)(B)}function Q(B,X){var Y=new WeakMap;function q(me){var Ae=Y.get(me.object);(function(Fe,je){switch(Fe.type){case"add":ue(Fe.newValue,je,Fe.name);break;case"update":Ee(Fe.oldValue),ue(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":Ee(Fe.oldValue);break;case"splice":Fe.removed.map(Ee),Fe.added.forEach(function(Me,$e){return ue(Me,je,""+(Fe.index+$e))});for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(re(Fe.object[ve])){var Pe=Y.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(me,Ae),X(me,ie(Ae),B)}function ue(me,Ae,Fe){if(re(me)){var je=Y.get(me);if(je){if(je.parent!==Ae||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ie(Ae)+"/"+Fe+"', but it already exists at '"+ie(je.parent)+"/"+je.path+"'")}else{var ve={parent:Ae,path:Fe,dispose:Object(h.D)(me,q)};Y.set(me,ve),Object(h.p)(me).forEach(function(Pe){var Me=Pe[0];return ue(Pe[1],ve,Me)})}}}function Ee(me){if(re(me)){var Ae=Y.get(me);if(!Ae)return;Y.delete(me),Ae.dispose(),Object(h.L)(me).forEach(Ee)}}return ue(B,void 0,""),function(){Ee(B)}}var Z,H=(Z=function(B,X){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var ue in q)q.hasOwnProperty(ue)&&(Y[ue]=q[ue])},Z(B,X)},function(B,X){function Y(){this.constructor=B}Z(B,X),B.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});(function(B){function X(Y,q,ue){var Ee=ue===void 0?{}:ue,me=Ee.name,Ae=me===void 0?"ogm"+(1e3*Math.random()|0):me,Fe=Ee.keyToName,je=Fe===void 0?function(Me){return""+Me}:Fe,ve=B.call(this)||this;ve._keyToName=je,ve._groupBy=q,ve._ogmInfoKey=Symbol("ogmInfo"+Ae),ve._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ve._addItem(Y[Pe]);return ve._disposeBaseObserver=Object(h.D)(ve._base,function(Me){if(Me.type==="splice")Object(h.J)(function(){for(var $e=0,rt=Me.removed;$e<rt.length;$e++){var xt=rt[$e];ve._removeItem(xt)}for(var Ye=0,Je=Me.added;Ye<Je.length;Ye++){var bt=Je[Ye];ve._addItem(bt)}});else{if(Me.type!=="update")throw new Error("illegal state");Object(h.J)(function(){ve._removeItem(Me.oldValue),ve._addItem(Me.newValue)})}}),ve}H(X,B),X.prototype.clear=function(){throw new Error("not supported")},X.prototype.delete=function(Y){throw new Error("not supported")},X.prototype.set=function(Y,q){throw new Error("not supported")},X.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var q=this._base[Y];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},X.prototype._getGroupArr=function(Y){var q=B.prototype.get.call(this,Y);return q===void 0&&(q=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),B.prototype.set.call(this,Y,q)),q},X.prototype._removeFromGroupArr=function(Y,q){var ue=B.prototype.get.call(this,Y);ue.length===1?B.prototype.delete.call(this,Y):(q===ue.length-1||(ue[q]=ue[ue.length-1],ue[q][this._ogmInfoKey].groupArrIndex=q),ue.length--)},X.prototype._addItem=function(Y){var q=this,ue=this._groupBy(Y),Ee=this._getGroupArr(ue),me={groupByValue:ue,groupArrIndex:Ee.length,reaction:Object(h.F)(function(){return q._groupBy(Y)},function(Ae,Fe){var je=Y[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=q._getGroupArr(Ae),Pe=ve.length;ve.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:me}),Ee.push(Y)},X.prototype._removeItem=function(Y){var q=Y[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete Y[this._ogmInfoKey]}})(h.b),function(){function B(X,Y){this.base=X,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=X,ue=0;ue<this.args.length-1&&(q=q.get(Y[ue]));ue++)this.closest=q;this.closestIdx=ue}return B.prototype.exists=function(){this.assertNotDisposed();var X=this.args.length;return this.closestIdx>=X-1&&this.closest.has(this.args[X-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(X){this.assertNotDisposed();for(var Y=this.args.length,q=this.closest,ue=this.closestIdx;ue<Y-1;ue++){var Ee=new Map;q.set(this.args[ue],Ee),q=Ee}this.closestIdx=Y-1,this.closest=q,q.set(this.args[Y-1],X)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var X=this.args.length;this.closest.delete(this.args[X-1]);for(var Y=this.root,q=[Y],ue=0;ue<X-1;ue++)Y=Y.get(this.args[ue]),q.push(Y);for(ue=q.length-1;ue>0;ue--)q[ue].size===0&&q[ue-1].delete(this.args[ue-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B}(),Promise.resolve(),typeof queueMicrotask!="undefined"||d!==void 0&&d.nextTick}).call(this,o(163))},function(a,p,o){var d;(function(h,m,g){if(h){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();re.prototype.bind=function(Q,Z,H){var B=this;return Q=Q instanceof Array?Q:[Q],B._bindMultiple.call(B,Q,Z,H),B},re.prototype.unbind=function(Q,Z){return this.bind.call(this,Q,function(){},Z)},re.prototype.trigger=function(Q,Z){var H=this;return H._directMap[Q+":"+Z]&&H._directMap[Q+":"+Z]({},Q),H},re.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},re.prototype.stopCallback=function(Q,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||ie(Z,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var H=Q.composedPath()[0];H!==Q.target&&(Z=H)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},re.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},re.addKeycodes=function(Q){for(var Z in Q)Q.hasOwnProperty(Z)&&(j[Z]=Q[Z]);E=null},re.init=function(){var Q=re(m);for(var Z in Q)Z.charAt(0)!=="_"&&(re[Z]=function(H){return function(){return Q[H].apply(Q,arguments)}}(Z))},re.init(),h.Mousetrap=re,a.exports&&(a.exports=re),(d=function(){return re}.call(p,o,p,a))===void 0||(a.exports=d)}function N(Q,Z,H){Q.addEventListener?Q.addEventListener(Z,H,!1):Q.attachEvent("on"+Z,H)}function L(Q){if(Q.type=="keypress"){var Z=String.fromCharCode(Q.which);return Q.shiftKey||(Z=Z.toLowerCase()),Z}return j[Q.which]?j[Q.which]:P[Q.which]?P[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function U(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function G(Q,Z,H){return H||(H=function(){if(!E)for(var B in E={},j)B>95&&B<112||j.hasOwnProperty(B)&&(E[j[B]]=B);return E}()[Q]?"keydown":"keypress"),H=="keypress"&&Z.length&&(H="keydown"),H}function te(Q,Z){var H,B,X,Y=[];for(H=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(Q),X=0;X<H.length;++X)B=H[X],T[B]&&(B=T[B]),Z&&Z!="keypress"&&k[B]&&(B=k[B],Y.push("shift")),U(B)&&Y.push(B);return{key:B,modifiers:Y,action:Z=G(B,Y,Z)}}function ie(Q,Z){return Q!==null&&Q!==m&&(Q===Z||ie(Q.parentNode,Z))}function re(Q){var Z=this;if(Q=Q||m,!(Z instanceof re))return new re(Q);Z.target=Q,Z._callbacks={},Z._directMap={};var H,B={},X=!1,Y=!1,q=!1;function ue(ve){ve=ve||{};var Pe,Me=!1;for(Pe in B)ve[Pe]?Me=!0:B[Pe]=0;Me||(q=!1)}function Ee(ve,Pe,Me,$e,rt,xt){var Ye,Je,bt,se,ce=[],ye=Me.type;if(!Z._callbacks[ve])return[];for(ye=="keyup"&&U(ve)&&(Pe=[ve]),Ye=0;Ye<Z._callbacks[ve].length;++Ye)if(Je=Z._callbacks[ve][Ye],($e||!Je.seq||B[Je.seq]==Je.level)&&ye==Je.action&&(ye=="keypress"&&!Me.metaKey&&!Me.ctrlKey||(bt=Pe,se=Je.modifiers,bt.sort().join(",")===se.sort().join(",")))){var De=!$e&&Je.combo==rt,He=$e&&Je.seq==$e&&Je.level==xt;(De||He)&&Z._callbacks[ve].splice(Ye,1),ce.push(Je)}return ce}function me(ve,Pe,Me,$e){Z.stopCallback(Pe,Pe.target||Pe.srcElement,Me,$e)||ve(Pe,Me)===!1&&(function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1}(Pe),function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0}(Pe))}function Ae(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=L(ve);Pe&&(ve.type!="keyup"||X!==Pe?Z.handleKey(Pe,function(Me){var $e=[];return Me.shiftKey&&$e.push("shift"),Me.altKey&&$e.push("alt"),Me.ctrlKey&&$e.push("ctrl"),Me.metaKey&&$e.push("meta"),$e}(ve),ve):X=!1)}function Fe(ve,Pe,Me,$e){function rt(bt){return function(){q=bt,++B[ve],clearTimeout(H),H=setTimeout(ue,1e3)}}function xt(bt){me(Me,bt,ve),$e!=="keyup"&&(X=L(bt)),setTimeout(ue,10)}B[ve]=0;for(var Ye=0;Ye<Pe.length;++Ye){var Je=Ye+1===Pe.length?xt:rt($e||te(Pe[Ye+1]).action);je(Pe[Ye],Je,$e,ve,Ye)}}function je(ve,Pe,Me,$e,rt){Z._directMap[ve+":"+Me]=Pe;var xt,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?Fe(ve,Ye,Pe,Me):(xt=te(ve,Me),Z._callbacks[xt.key]=Z._callbacks[xt.key]||[],Ee(xt.key,xt.modifiers,{type:xt.action},$e,ve,rt),Z._callbacks[xt.key][$e?"unshift":"push"]({callback:Pe,modifiers:xt.modifiers,action:xt.action,seq:$e,level:rt,combo:ve}))}Z._handleKey=function(ve,Pe,Me){var $e,rt=Ee(ve,Pe,Me),xt={},Ye=0,Je=!1;for($e=0;$e<rt.length;++$e)rt[$e].seq&&(Ye=Math.max(Ye,rt[$e].level));for($e=0;$e<rt.length;++$e)if(rt[$e].seq){if(rt[$e].level!=Ye)continue;Je=!0,xt[rt[$e].seq]=1,me(rt[$e].callback,Me,rt[$e].combo,rt[$e].seq)}else Je||me(rt[$e].callback,Me,rt[$e].combo);var bt=Me.type=="keypress"&&Y;Me.type!=q||U(ve)||bt||ue(xt),Y=Je&&Me.type=="keydown"},Z._bindMultiple=function(ve,Pe,Me){for(var $e=0;$e<ve.length;++$e)je(ve[$e],Pe,Me)},N(Q,"keypress",Ae),N(Q,"keydown",Ae),N(Q,"keyup",Ae)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(a,p,o){var d=o(7),h=o(34),m=o(30),g=o(33),E=d.TypeError;a.exports=function(j,P){var k,T;if(P==="string"&&m(k=j.toString)&&!g(T=h(k,j))||m(k=j.valueOf)&&!g(T=h(k,j))||P!=="string"&&m(k=j.toString)&&!g(T=h(k,j)))return T;throw E("Can't convert object to primitive value")}},function(a,p,o){var d=o(7),h=o(30),m=o(92),g=d.WeakMap;a.exports=h(g)&&/native code/.test(m(g))},function(a,p,o){var d=o(36),h=o(38),m=o(32),g=o(41),E=o(77);a.exports=d?Object.defineProperties:function(j,P){m(j);for(var k,T=g(P),C=E(P),N=C.length,L=0;N>L;)h.f(j,k=C[L++],T[k]);return j}},function(a,p,o){var d=o(7);a.exports=d},function(a,p,o){var d=o(7),h=o(96),m=o(99),g=o(33),E=o(28)("species"),j=d.Array;a.exports=function(P){var k;return h(P)&&(k=P.constructor,(m(k)&&(k===j||h(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?j:k}},function(a,p,o){var d=o(113),h=o(97);a.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(a,p,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),g=o(78),E=o(80),j=function(){return this};a.exports=function(P,k,T,C){var N=k+" Iterator";return P.prototype=h(d,{next:m(+!C,T)}),g(P,N,!1,!0),E[N]=j,P}},function(a,p,o){var d=o(7),h=o(30),m=d.String,g=d.TypeError;a.exports=function(E){if(typeof E=="object"||h(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(a,p,o){var d=o(16),h=o(7),m=o(15),g=o(95),E=o(42),j=o(144),P=o(117),k=o(119),T=o(30),C=o(33),N=o(18),L=o(120),U=o(78),G=o(148);a.exports=function(te,ie,re){var Q=te.indexOf("Map")!==-1,Z=te.indexOf("Weak")!==-1,H=Q?"set":"add",B=h[te],X=B&&B.prototype,Y=B,q={},ue=function(ve){var Pe=m(X[ve]);E(X,ve,ve=="add"?function(Me){return Pe(this,Me===0?0:Me),this}:ve=="delete"?function(Me){return!(Z&&!C(Me))&&Pe(this,Me===0?0:Me)}:ve=="get"?function(Me){return Z&&!C(Me)?void 0:Pe(this,Me===0?0:Me)}:ve=="has"?function(Me){return!(Z&&!C(Me))&&Pe(this,Me===0?0:Me)}:function(Me,$e){return Pe(this,Me===0?0:Me,$e),this})};if(g(te,!T(B)||!(Z||X.forEach&&!N(function(){new B().entries().next()}))))Y=re.getConstructor(ie,te,Q,H),j.enable();else if(g(te,!0)){var Ee=new Y,me=Ee[H](Z?{}:-0,1)!=Ee,Ae=N(function(){Ee.has(1)}),Fe=L(function(ve){new B(ve)}),je=!Z&&N(function(){for(var ve=new B,Pe=5;Pe--;)ve[H](Pe,Pe);return!ve.has(-0)});Fe||((Y=ie(function(ve,Pe){k(ve,X);var Me=G(new B,ve,Y);return Pe!=null&&P(Pe,Me[H],{that:Me,AS_ENTRIES:Q}),Me})).prototype=X,X.constructor=Y),(Ae||je)&&(ue("delete"),ue("has"),Q&&ue("get")),(je||me)&&ue(H),Z&&X.clear&&delete X.clear}return q[te]=Y,d({global:!0,forced:Y!=B},q),U(Y,te),Z||re.setStrong(Y,te,Q),Y}},function(a,p,o){var d=o(18),h=o(33),m=o(51),g=o(184),E=Object.isExtensible,j=d(function(){});a.exports=j||g?function(P){return!!h(P)&&(!g||m(P)!="ArrayBuffer")&&(!E||E(P))}:E},function(a,p,o){var d=o(18);a.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(a,p,o){var d=o(18);a.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,p,o){var d=o(38).f,h=o(60),m=o(149),g=o(64),E=o(119),j=o(117),P=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),L=N.set,U=N.getterFor;a.exports={getConstructor:function(G,te,ie,re){var Q=G(function(Y,q){E(Y,Z),L(Y,{type:te,index:h(null),first:void 0,last:void 0,size:0}),T||(Y.size=0),q!=null&&j(q,Y[re],{that:Y,AS_ENTRIES:ie})}),Z=Q.prototype,H=U(te),B=function(Y,q,ue){var Ee,me,Ae=H(Y),Fe=X(Y,q);return Fe?Fe.value=ue:(Ae.last=Fe={index:me=C(q,!0),key:q,value:ue,previous:Ee=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=Fe),Ee&&(Ee.next=Fe),T?Ae.size++:Y.size++,me!=="F"&&(Ae.index[me]=Fe)),Y},X=function(Y,q){var ue,Ee=H(Y),me=C(q);if(me!=="F")return Ee.index[me];for(ue=Ee.first;ue;ue=ue.next)if(ue.key==q)return ue};return m(Z,{clear:function(){for(var Y=H(this),q=Y.index,ue=Y.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete q[ue.index],ue=ue.next;Y.first=Y.last=void 0,T?Y.size=0:this.size=0},delete:function(Y){var q=this,ue=H(q),Ee=X(q,Y);if(Ee){var me=Ee.next,Ae=Ee.previous;delete ue.index[Ee.index],Ee.removed=!0,Ae&&(Ae.next=me),me&&(me.previous=Ae),ue.first==Ee&&(ue.first=me),ue.last==Ee&&(ue.last=Ae),T?ue.size--:q.size--}return!!Ee},forEach:function(Y){for(var q,ue=H(this),Ee=g(Y,arguments.length>1?arguments[1]:void 0);q=q?q.next:ue.first;)for(Ee(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(Y){return!!X(this,Y)}}),m(Z,ie?{get:function(Y){var q=X(this,Y);return q&&q.value},set:function(Y,q){return B(this,Y===0?0:Y,q)}}:{add:function(Y){return B(this,Y=Y===0?0:Y,Y)}}),T&&d(Z,"size",{get:function(){return H(this).size}}),Q},setStrong:function(G,te,ie){var re=te+" Iterator",Q=U(te),Z=U(re);P(G,te,function(H,B){L(this,{type:re,target:H,state:Q(H),kind:B,last:void 0})},function(){for(var H=Z(this),B=H.kind,X=H.last;X&&X.removed;)X=X.previous;return H.target&&(H.last=X=X?X.next:H.state.first)?B=="keys"?{value:X.key,done:!1}:B=="values"?{value:X.value,done:!1}:{value:[X.key,X.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})},ie?"entries":"values",!ie,!0),k(te)}}},function(a,p,o){var d=o(79).forEach,h=o(121)("forEach");a.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(a,p,o){var d=o(7),h=o(64),m=o(34),g=o(40),E=o(189),j=o(145),P=o(99),k=o(45),T=o(63),C=o(146),N=o(118),L=d.Array;a.exports=function(U){var G=g(U),te=P(this),ie=arguments.length,re=ie>1?arguments[1]:void 0,Q=re!==void 0;Q&&(re=h(re,ie>2?arguments[2]:void 0));var Z,H,B,X,Y,q,ue=N(G),Ee=0;if(!ue||this==L&&j(ue))for(Z=k(G),H=te?new this(Z):L(Z);Z>Ee;Ee++)q=Q?re(G[Ee],Ee):G[Ee],T(H,Ee,q);else for(Y=(X=C(G,ue)).next,H=te?new this:[];!(B=m(Y,X)).done;Ee++)q=Q?E(X,re,[B.value,Ee],!0):B.value,T(H,Ee,q);return H.length=Ee,H}},function(a,p,o){var d=o(32),h=o(147);a.exports=function(m,g,E,j){try{return j?g(d(E)[0],E[1]):g(E)}catch(P){h(m,"throw",P)}}},function(a,p,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(a,p,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(a,p,o){var d=o(16),h=o(15),m=o(56),g=o(40),E=o(45),j=o(39),P=o(18),k=o(193),T=o(121),C=o(194),N=o(195),L=o(70),U=o(196),G=[],te=h(G.sort),ie=h(G.push),re=P(function(){G.sort(void 0)}),Q=P(function(){G.sort(null)}),Z=T("sort"),H=!P(function(){if(L)return L<70;if(!(C&&C>3)){if(N)return!0;if(U)return U<603;var B,X,Y,q,ue="";for(B=65;B<76;B++){switch(X=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(q=0;q<47;q++)G.push({k:X+q,v:Y})}for(G.sort(function(Ee,me){return me.v-Ee.v}),q=0;q<G.length;q++)X=G[q].k.charAt(0),ue.charAt(ue.length-1)!==X&&(ue+=X);return ue!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:re||!Q||!Z||!H},{sort:function(B){B!==void 0&&m(B);var X=g(this);if(H)return B===void 0?te(X):te(X,B);var Y,q,ue=[],Ee=E(X);for(q=0;q<Ee;q++)q in X&&ie(ue,X[q]);for(k(ue,function(me){return function(Ae,Fe){return Fe===void 0?-1:Ae===void 0?1:me!==void 0?+me(Ae,Fe)||0:j(Ae)>j(Fe)?1:-1}}(B)),Y=ue.length,q=0;q<Y;)X[q]=ue[q++];for(;q<Ee;)delete X[q++];return X}})},function(a,p,o){var d=o(114),h=Math.floor,m=function(j,P){var k=j.length,T=h(k/2);return k<8?g(j,P):E(j,m(d(j,0,T),P),m(d(j,T),P),P)},g=function(j,P){for(var k,T,C=j.length,N=1;N<C;){for(T=N,k=j[N];T&&P(j[T-1],k)>0;)j[T]=j[--T];T!==N++&&(j[T]=k)}return j},E=function(j,P,k,T){for(var C=P.length,N=k.length,L=0,U=0;L<C||U<N;)j[L+U]=L<C&&U<N?T(P[L],k[U])<=0?P[L++]:k[U++]:L<C?P[L++]:k[U++];return j};a.exports=m},function(a,p,o){var d=o(55).match(/firefox\/(\d+)/i);a.exports=!!d&&+d[1]},function(a,p,o){var d=o(55);a.exports=/MSIE|Trident/.test(d)},function(a,p,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);a.exports=!!d&&+d[1]},function(a,p,o){var d=o(7),h=o(159),m=d.TypeError;a.exports=function(g){if(h(g))throw m("The method doesn't accept regular expressions");return g}},function(a,p,o){var d=o(28)("match");a.exports=function(h){var m=/./;try{"/./"[h](m)}catch(g){try{return m[d]=!1,"/./"[h](m)}catch(E){}}return!1}},function(a,p,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(a,p,o){var d=o(73).PROPER,h=o(18),m=o(162);a.exports=function(g){return h(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||d&&m[g].name!==g})}},function(a,p,o){var d=o(15),h=o(40),m=Math.floor,g=d("".charAt),E=d("".replace),j=d("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(T,C,N,L,U,G){var te=N+T.length,ie=L.length,re=k;return U!==void 0&&(U=h(U),re=P),E(G,re,function(Q,Z){var H;switch(g(Z,0)){case"$":return"$";case"&":return T;case"`":return j(C,0,N);case"'":return j(C,te);case"<":H=U[j(Z,1,-1)];break;default:var B=+Z;if(B===0)return Q;if(B>ie){var X=m(B/10);return X===0?Q:X<=ie?L[X-1]===void 0?g(Z,1):L[X-1]+g(Z,1):Q}H=L[B-1]}return H===void 0?"":H})}},function(a,p,o){var d=o(36),h=o(15),m=o(34),g=o(18),E=o(77),j=o(112),P=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,L=h([].concat);a.exports=!C||g(function(){if(d&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},G={},te=Symbol(),ie="abcdefghijklmnopqrst";return U[te]=7,ie.split("").forEach(function(re){G[re]=re}),C({},U)[te]!=7||E(C({},G)).join("")!=ie})?function(U,G){for(var te=k(U),ie=arguments.length,re=1,Q=j.f,Z=P.f;ie>re;)for(var H,B=T(arguments[re++]),X=Q?L(E(B),Q(B)):E(B),Y=X.length,q=0;Y>q;)H=X[q++],d&&!m(Z,B,H)||(te[H]=B[H]);return te}:C},function(a,p,o){var d=o(7),h=o(15),m=o(56),g=o(33),E=o(35),j=o(98),P=d.Function,k=h([].concat),T=h([].join),C={},N=function(L,U,G){if(!E(C,U)){for(var te=[],ie=0;ie<U;ie++)te[ie]="a["+ie+"]";C[U]=P("C,a","return new C("+T(te,",")+")")}return C[U](L,G)};a.exports=P.bind||function(L){var U=m(this),G=U.prototype,te=j(arguments,1),ie=function(){var re=k(te,j(arguments));return this instanceof ie?N(U,re.length,re):U.apply(L,re)};return g(G)&&(ie.prototype=G),ie}},function(a,p,o){var d=o(35);a.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(a,p,o){var d=o(15),h=o(44),m=o(39),g=/"/g,E=d("".replace);a.exports=function(j,P,k,T){var C=m(h(j)),N="<"+P;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+P+">"}},function(a,p,o){var d=o(18);a.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(a,p,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(a,p,o){var d,h,m,g,E=o(16),j=o(71),P=o(7),k=o(46),T=o(34),C=o(209),N=o(42),L=o(149),U=o(102),G=o(78),te=o(150),ie=o(56),re=o(30),Q=o(33),Z=o(119),H=o(92),B=o(117),X=o(120),Y=o(164),q=o(168).set,ue=o(210),Ee=o(213),me=o(214),Ae=o(170),Fe=o(215),je=o(58),ve=o(95),Pe=o(28),Me=o(216),$e=o(128),rt=o(70),xt=Pe("species"),Ye="Promise",Je=je.getterFor(Ye),bt=je.set,se=je.getterFor(Ye),ce=C&&C.prototype,ye=C,De=ce,He=P.TypeError,ze=P.document,Et=P.process,Nt=Ae.f,Pt=Nt,gt=!!(ze&&ze.createEvent&&P.dispatchEvent),Te=re(P.PromiseRejectionEvent),lt="unhandledrejection",pe=!1,ut=ve(Ye,function(){var ae=H(ye),_e=ae!==String(ye);if(!_e&&rt===66||j&&!De.finally)return!0;if(rt>=51&&/native code/.test(ae))return!1;var Ve=new ye(function(pt){pt(1)}),Ke=function(pt){pt(function(){},function(){})};return(Ve.constructor={})[xt]=Ke,!(pe=Ve.then(function(){})instanceof Ke)||!_e&&Me&&!Te}),Bt=ut||!X(function(ae){ye.all(ae).catch(function(){})}),dn=function(ae){var _e;return!(!Q(ae)||!re(_e=ae.then))&&_e},Ft=function(ae,_e){if(!ae.notified){ae.notified=!0;var Ve=ae.reactions;ue(function(){for(var Ke=ae.value,pt=ae.state==1,Xt=0;Ve.length>Xt;){var tr,pr,Xn,qn=Ve[Xt++],ct=pt?qn.ok:qn.fail,_t=qn.resolve,jt=qn.reject,It=qn.domain;try{ct?(pt||(ae.rejection===2&&Ct(ae),ae.rejection=1),ct===!0?tr=Ke:(It&&It.enter(),tr=ct(Ke),It&&(It.exit(),Xn=!0)),tr===qn.promise?jt(He("Promise-chain cycle")):(pr=dn(tr))?T(pr,tr,_t,jt):_t(tr)):jt(Ke)}catch(bn){It&&!Xn&&It.exit(),jt(bn)}}ae.reactions=[],ae.notified=!1,_e&&!ae.rejection&&On(ae)})}},nn=function(ae,_e,Ve){var Ke,pt;gt?((Ke=ze.createEvent("Event")).promise=_e,Ke.reason=Ve,Ke.initEvent(ae,!1,!0),P.dispatchEvent(Ke)):Ke={promise:_e,reason:Ve},!Te&&(pt=P["on"+ae])?pt(Ke):ae===lt&&me("Unhandled promise rejection",Ve)},On=function(ae){T(q,P,function(){var _e,Ve=ae.facade,Ke=ae.value;if(Tn(ae)&&(_e=Fe(function(){$e?Et.emit("unhandledRejection",Ke,Ve):nn(lt,Ve,Ke)}),ae.rejection=$e||Tn(ae)?2:1,_e.error))throw _e.value})},Tn=function(ae){return ae.rejection!==1&&!ae.parent},Ct=function(ae){T(q,P,function(){var _e=ae.facade;$e?Et.emit("rejectionHandled",_e):nn("rejectionhandled",_e,ae.value)})},Hn=function(ae,_e,Ve){return function(Ke){ae(_e,Ke,Ve)}},ee=function(ae,_e,Ve){ae.done||(ae.done=!0,Ve&&(ae=Ve),ae.value=_e,ae.state=2,Ft(ae,!0))},he=function(ae,_e,Ve){if(!ae.done){ae.done=!0,Ve&&(ae=Ve);try{if(ae.facade===_e)throw He("Promise can't be resolved itself");var Ke=dn(_e);Ke?ue(function(){var pt={done:!1};try{T(Ke,_e,Hn(he,pt,ae),Hn(ee,pt,ae))}catch(Xt){ee(pt,Xt,ae)}}):(ae.value=_e,ae.state=1,Ft(ae,!1))}catch(pt){ee({done:!1},pt,ae)}}};if(ut&&(De=(ye=function(ae){Z(this,De),ie(ae),T(d,this);var _e=Je(this);try{ae(Hn(he,_e),Hn(ee,_e))}catch(Ve){ee(_e,Ve)}}).prototype,(d=function(ae){bt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(De,{then:function(ae,_e){var Ve=se(this),Ke=Ve.reactions,pt=Nt(Y(this,ye));return pt.ok=!re(ae)||ae,pt.fail=re(_e)&&_e,pt.domain=$e?Et.domain:void 0,Ve.parent=!0,Ke[Ke.length]=pt,Ve.state!=0&&Ft(Ve,!1),pt.promise},catch:function(ae){return this.then(void 0,ae)}}),h=function(){var ae=new d,_e=Je(ae);this.promise=ae,this.resolve=Hn(he,_e),this.reject=Hn(ee,_e)},Ae.f=Nt=function(ae){return ae===ye||ae===m?new h(ae):Pt(ae)},!j&&re(C)&&ce!==Object.prototype)){g=ce.then,pe||(N(ce,"then",function(ae,_e){var Ve=this;return new ye(function(Ke,pt){T(g,Ve,Ke,pt)}).then(ae,_e)},{unsafe:!0}),N(ce,"catch",De.catch,{unsafe:!0}));try{delete ce.constructor}catch(ae){}U&&U(ce,De)}E({global:!0,wrap:!0,forced:ut},{Promise:ye}),G(ye,Ye,!1,!0),te(Ye),m=k(Ye),E({target:Ye,stat:!0,forced:ut},{reject:function(ae){var _e=Nt(this);return T(_e.reject,void 0,ae),_e.promise}}),E({target:Ye,stat:!0,forced:j||ut},{resolve:function(ae){return Ee(j&&this===m?ye:this,ae)}}),E({target:Ye,stat:!0,forced:Bt},{all:function(ae){var _e=this,Ve=Nt(_e),Ke=Ve.resolve,pt=Ve.reject,Xt=Fe(function(){var tr=ie(_e.resolve),pr=[],Xn=0,qn=1;B(ae,function(ct){var _t=Xn++,jt=!1;qn++,T(tr,_e,ct).then(function(It){jt||(jt=!0,pr[_t]=It,--qn||Ke(pr))},pt)}),--qn||Ke(pr)});return Xt.error&&pt(Xt.value),Ve.promise},race:function(ae){var _e=this,Ve=Nt(_e),Ke=Ve.reject,pt=Fe(function(){var Xt=ie(_e.resolve);B(ae,function(tr){T(Xt,_e,tr).then(Ve.resolve,Ke)})});return pt.error&&Ke(pt.value),Ve.promise}})},function(a,p,o){var d=o(7);a.exports=d.Promise},function(a,p,o){var d,h,m,g,E,j,P,k,T=o(7),C=o(64),N=o(50).f,L=o(168).set,U=o(169),G=o(211),te=o(212),ie=o(128),re=T.MutationObserver||T.WebKitMutationObserver,Q=T.document,Z=T.process,H=T.Promise,B=N(T,"queueMicrotask"),X=B&&B.value;X||(d=function(){var Y,q;for(ie&&(Y=Z.domain)&&Y.exit();h;){q=h.fn,h=h.next;try{q()}catch(ue){throw h?g():m=void 0,ue}}m=void 0,Y&&Y.enter()},U||ie||te||!re||!Q?!G&&H&&H.resolve?((P=H.resolve(void 0)).constructor=H,k=C(P.then,P),g=function(){k(d)}):ie?g=function(){Z.nextTick(d)}:(L=C(L,T),g=function(){L(d)}):(E=!0,j=Q.createTextNode(""),new re(d).observe(j,{characterData:!0}),g=function(){j.data=E=!E})),a.exports=X||function(Y){var q={fn:Y,next:void 0};m&&(m.next=q),h||(h=q,g()),m=q}},function(a,p,o){var d=o(55),h=o(7);a.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(a,p,o){var d=o(55);a.exports=/web0s(?!.*chrome)/i.test(d)},function(a,p,o){var d=o(32),h=o(33),m=o(170);a.exports=function(g,E){if(d(g),h(E)&&E.constructor===g)return E;var j=m.f(g);return(0,j.resolve)(E),j.promise}},function(a,p,o){var d=o(7);a.exports=function(h,m){var g=d.console;g&&g.error&&(arguments.length==1?g.error(h):g.error(h,m))}},function(a,p){a.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(a,p){a.exports=typeof window=="object"},function(a,p,o){var d=o(40),h=o(75),m=o(45);a.exports=function(g){for(var E=d(this),j=m(E),P=arguments.length,k=h(P>1?arguments[1]:void 0,j),T=P>2?arguments[2]:void 0,C=T===void 0?j:h(T,j);C>k;)E[k++]=g;return E}},function(a,p,o){var d=o(16),h=o(7),m=o(15),g=o(59),E=o(160),j=o(219),P=o(18),k=h.RangeError,T=h.String,C=Math.floor,N=m(j),L=m("".slice),U=m(1 .toFixed),G=function(Q,Z,H){return Z===0?H:Z%2==1?G(Q,Z-1,H*Q):G(Q*Q,Z/2,H)},te=function(Q,Z,H){for(var B=-1,X=H;++B<6;)X+=Z*Q[B],Q[B]=X%1e7,X=C(X/1e7)},ie=function(Q,Z){for(var H=6,B=0;--H>=0;)B+=Q[H],Q[H]=C(B/Z),B=B%Z*1e7},re=function(Q){for(var Z=6,H="";--Z>=0;)if(H!==""||Z===0||Q[Z]!==0){var B=T(Q[Z]);H=H===""?B:H+N("0",7-B.length)+B}return H};d({target:"Number",proto:!0,forced:P(function(){return U(8e-5,3)!=="0.000"||U(.9,0)!=="1"||U(1.255,2)!=="1.25"||U(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!P(function(){U({})})},{toFixed:function(Q){var Z,H,B,X,Y=E(this),q=g(Q),ue=[0,0,0,0,0,0],Ee="",me="0";if(q<0||q>20)throw k("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return T(Y);if(Y<0&&(Ee="-",Y=-Y),Y>1e-21)if(H=(Z=function(Ae){for(var Fe=0,je=Ae;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe}(Y*G(2,69,1))-69)<0?Y*G(2,-Z,1):Y/G(2,Z,1),H*=4503599627370496,(Z=52-Z)>0){for(te(ue,0,H),B=q;B>=7;)te(ue,1e7,0),B-=7;for(te(ue,G(10,B,1),0),B=Z-1;B>=23;)ie(ue,1<<23),B-=23;ie(ue,1<<B),te(ue,1,1),ie(ue,2),me=re(ue)}else te(ue,0,H),te(ue,1<<-Z,0),me=re(ue)+N("0",q);return me=q>0?Ee+((X=me.length)<=q?"0."+N("0",q-X)+me:L(me,0,X-q)+"."+L(me,X-q)):Ee+me}})},function(a,p,o){var d=o(7),h=o(59),m=o(39),g=o(44),E=d.RangeError;a.exports=function(j){var P=m(g(this)),k="",T=h(j);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(P+=P))1&T&&(k+=P);return k}},function(a,p,o){var d=o(36),h=o(15),m=o(77),g=o(41),E=h(o(84).f),j=h([].push),P=function(k){return function(T){for(var C,N=g(T),L=m(N),U=L.length,G=0,te=[];U>G;)C=L[G++],d&&!E(N,C)||j(te,k?[C,N[C]]:N[C]);return te}};a.exports={entries:P(!0),values:P(!1)}},function(a,p){a.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(a,p,o){o.r(p),o.d(p,"observer",function(){return ki}),o.d(p,"LogicFlow",function(){return Cb}),o.d(p,"h",function(){return pe.g}),o.d(p,"LogicFlowUtil",function(){return d}),o.d(p,"BaseNode",function(){return Aa}),o.d(p,"RectNode",function(){return jg}),o.d(p,"CircleNode",function(){return Tg}),o.d(p,"PolygonNode",function(){return Cg}),o.d(p,"DiamondNode",function(){return Bg}),o.d(p,"EllipseNode",function(){return Gg}),o.d(p,"TextNode",function(){return Yg}),o.d(p,"HtmlNode",function(){return Zg}),o.d(p,"BaseEdge",function(){return up}),o.d(p,"LineEdge",function(){return fb}),o.d(p,"PolylineEdge",function(){return vb}),o.d(p,"BezierEdge",function(){return _b}),o.d(p,"Arrow",function(){return qP}),o.d(p,"BaseEdgeModel",function(){return xf}),o.d(p,"BezierEdgeModel",function(){return Dv}),o.d(p,"LineEdgeModel",function(){return zs}),o.d(p,"PolylineEdgeModel",function(){return go}),o.d(p,"BaseNodeModel",function(){return Pa}),o.d(p,"CircleNodeModel",function(){return zv}),o.d(p,"DiamondNodeModel",function(){return Uv}),o.d(p,"EllipseNodeModel",function(){return Yv}),o.d(p,"PolygonNodeModel",function(){return Qv}),o.d(p,"RectNodeModel",function(){return rg}),o.d(p,"TextNodeModel",function(){return ug}),o.d(p,"HtmlNodeModel",function(){return lg}),o.d(p,"EditConfigModel",function(){return Xl}),o.d(p,"GraphModel",function(){return Qm}),o.d(p,"SnaplineModel",function(){return I_}),o.d(p,"Keyboard",function(){return w1}),o.d(p,"get",function(){return w0}),o.d(p,"defaults",function(){return E0}),o.d(p,"ElementState",function(){return gn}),o.d(p,"ModelType",function(){return Kt}),o.d(p,"ElementType",function(){return Zn}),o.d(p,"EventType",function(){return dt}),o.d(p,"formateAnchorConnectValidateData",function(){return lu});var d={};o.r(d),o.d(d,"createUuid",function(){return Oi}),o.d(d,"refreshGraphId",function(){return Uy}),o.d(d,"StepDrag",function(){return bo}),o.d(d,"setupEdgeModel",function(){return Ad}),o.d(d,"isBboxOverLapping",function(){return Zo}),o.d(d,"filterRepeatPoints",function(){return Gt}),o.d(d,"getSimplePolyline",function(){return Md}),o.d(d,"getExpandedBBox",function(){return Pr}),o.d(d,"pointDirection",function(){return Rf}),o.d(d,"getExpandedBBoxPoint",function(){return ln}),o.d(d,"mergeBBox",function(){return Cf}),o.d(d,"getBBoxOfPoints",function(){return Oa}),o.d(d,"getPointsFromBBox",function(){return Ki}),o.d(d,"isPointOutsideBBox",function(){return gc}),o.d(d,"getBBoxXCrossPoints",function(){return Td}),o.d(d,"getBBoxYCrossPoints",function(){return kd}),o.d(d,"getBBoxCrossPointsByPoint",function(){return Dd}),o.d(d,"estimateDistance",function(){return vu}),o.d(d,"costByPoints",function(){return Us}),o.d(d,"heuristicCostEstimate",function(){return If}),o.d(d,"rebuildPath",function(){return Nd}),o.d(d,"removeClosePointFromOpenList",function(){return Rd}),o.d(d,"isSegmentsIntersected",function(){return Gn}),o.d(d,"isSegmentCrossingBBox",function(){return Ar}),o.d(d,"getNextNeighborPoints",function(){return Cd}),o.d(d,"pathFinder",function(){return Lf}),o.d(d,"getBoxByOriginNode",function(){return zf}),o.d(d,"pointFilter",function(){return Bf}),o.d(d,"getPolylinePoints",function(){return Gs}),o.d(d,"getLongestEdge",function(){return Ff}),o.d(d,"isSegmentsInNode",function(){return Hs}),o.d(d,"isSegmentsCrossNode",function(){return qi}),o.d(d,"getCrossPointInRect",function(){return Wf}),o.d(d,"segmentDirection",function(){return gu}),o.d(d,"points2PointsList",function(){return xi}),o.d(d,"getSimplePoints",function(){return Id}),o.d(d,"getBytesLength",function(){return $f}),o.d(d,"getTextWidth",function(){return ev}),o.d(d,"getAppendAttributes",function(){return zd}),o.d(d,"getBezierControlPoints",function(){return bc}),o.d(d,"getBezierPoints",function(){return mc}),o.d(d,"getEndTangent",function(){return Gf}),o.d(d,"getClosestPointOfPolyline",function(){return Oc}),o.d(d,"pickEdgeConfig",function(){return Bd}),o.d(d,"twoPointDistance",function(){return Hf}),o.d(d,"createEdgeGenerator",function(){return Br}),o.d(d,"snapToGrid",function(){return Hi}),o.d(d,"getGridOffset",function(){return Os}),o.d(d,"sampleCubic",function(){return Bn}),o.d(d,"getThetaOfVector",function(){return kf}),o.d(d,"degrees",function(){return Df}),o.d(d,"Vector",function(){return vr}),o.d(d,"Point",function(){return l}),o.d(d,"Matrix",function(){return Qo}),o.d(d,"RotateMatrix",function(){return Zi}),o.d(d,"ScaleMatrix",function(){return qf}),o.d(d,"TranslateMatrix",function(){return mu});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function j(t){t()}var P=!1;function k(){return P}function T(t){return Object(h.t)(t)}var C,N=1e4,L=new Set;function U(){C===void 0&&(C=setTimeout(G,1e4))}function G(){C=void 0;var t=Date.now();L.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))}),L.size>0&&U()}var te=!1,ie=[],re={};function Q(t){return"observer"+t}function Z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),k();var r,s=function(x){return function(){te?ie.push(x):x()}}((n.useForceUpdate||g.d)()),c=m.d.useRef(null);if(!c.current){var f=new h.c(Q(e),function(){v.mounted?s():(f.dispose(),c.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(f);c.current=v,r=c,L.add(r),U()}var b=c.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect(function(){var x;return x=c,L.delete(x),c.current?c.current.mounted=!0:(c.current={reaction:new h.c(Q(e),function(){s()}),cleanAt:1/0},s()),function(){c.current.reaction.dispose(),c.current=null}},[]),function(x){te=!0,ie=[];try{var S=x();te=!1;var D=ie.length>0?ie:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(I){return I()})},[D]),S}finally{te=!1}}(function(){var x,S;if(b.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},H.apply(this,arguments)};function B(t,e){var n,r,s,c=H({forwardRef:!1},e),f=t.displayName||t.name,v=function(b,x){return Z(function(){return t(b,x)},f)};return v.displayName=f,n=c.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,s=n,Object.keys(r).forEach(function(b){X[b]||Object.defineProperty(s,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=f,n}var X={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Z(r)}function q(t,e,n,r,s){var c=e==="children"?"render":"children",f=typeof t[e]=="function",v=typeof t[c]=="function";return f&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):f||v?null:new Error("Invalid prop `"+s+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:q,render:q},Y.displayName="Observer";var ue;(ue=m.g)||(ue=j),Object(h.n)({reactionScheduler:ue}),Object(g.a)()[E]=!0;var Ee=0,me={};function Ae(t){return me[t]||(me[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n}(t)),me[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Object.hasOwnProperty.call(e,n[s])||!je(t[n[s]],e[n[s]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Me=Ae("patchedDefinition");function $e(t,e){for(var n=this,r=arguments.length,s=new Array(r>2?r-2:0),c=2;c<r;c++)s[c-2]=arguments[c];e.locks++;try{var f;return t!=null&&(f=t.apply(this,s)),f}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,s)})}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];$e.call.apply($e,[this,t,e].concat(r))}}function xt(t,e,n){var r=function(v,b){var x=v[Pe]=v[Pe]||{},S=x[b]=x[b]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var s=Object.getOwnPropertyDescriptor(t,e);if(!s||!s[Me]){var c=t[e],f=Ye(t,e,s?s.enumerable:void 0,r,c);Object.defineProperty(t,e,f)}}function Ye(t,e,n,r,s){var c,f=rt(s,r);return(c={})[Me]=!0,c.get=function(){return f},c.set=function(v){if(this===t)f=rt(v,r);else{var b=Ye(this,e,n,r,v);Object.defineProperty(this,e,b)}},c.configurable=!0,c.enumerable=n,c}var Je=h.a||"$mobx",bt=Ae("isMobXReactObserver"),se=Ae("isUnmounted"),ce=Ae("skipRender"),ye=Ae("isForcingUpdate");function De(t){var e=t.prototype;if(t[bt]?He(e):t[bt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Et)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Et;Nt(e,"props"),Nt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},xt(e,"componentWillUnmount",function(){var r;(r=this.render[Je])===null||r===void 0||r.dispose(),this[se]=!0,!this.render[Je]&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,ce,!1),ve(this,ye,!1);var n=He(this),r=t.bind(this),s=!1,c=new h.c(n+".render()",function(){if(!s&&(s=!0,e[se]!==!0)){var v=!0;try{ve(e,ye,!0),e[ce]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,ye,!1),v&&c.dispose()}}});function f(){s=!1;var v=void 0,b=void 0;if(c.track(function(){try{b=Object(h.d)(!1,r)}catch(x){v=x}}),v)throw v;return b}return c.reactComponent=this,f[Je]=c,this.render=f,f.call(this)}function Et(t,e){return this.state!==e||!Fe(this.props,t)}function Nt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function s(){return this[r]||ve(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var c=!1;return h.f&&h.e&&(c=Object(h.f)(!0)),s.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(c),this[n]},set:function(c){this[ye]||Fe(this[n],c)?ve(this,n,c):(ve(this,n,c),ve(this,ce,!0),s.call(this).reportChanged(),ve(this,ce,!1))}})}var Pt=typeof Symbol=="function"&&Symbol.for,gt=Pt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Te=Pt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function lt(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(gt&&t.$$typeof===gt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?De(t):B(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var ut=function(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s},Bt=function(){this.__data__=[],this.size=0},dn=function(t,e){return t===e||t!=t&&e!=e},Ft=function(t,e){for(var n=t.length;n--;)if(dn(t[n][0],e))return n;return-1},nn=Array.prototype.splice,On=function(t){var e=this.__data__,n=Ft(e,t);return!(n<0)&&(n==e.length-1?e.pop():nn.call(e,n,1),--this.size,!0)},Tn=function(t){var e=this.__data__,n=Ft(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return Ft(this.__data__,t)>-1},Hn=function(t,e){var n=this.__data__,r=Ft(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function ee(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ee.prototype.clear=Bt,ee.prototype.delete=On,ee.prototype.get=Tn,ee.prototype.has=Ct,ee.prototype.set=Hn;var he=ee,ae=function(){this.__data__=new he,this.size=0},_e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},pt=o(31),Xt=pt.a.Symbol,tr=Object.prototype,pr=tr.hasOwnProperty,Xn=tr.toString,qn=Xt?Xt.toStringTag:void 0,ct=function(t){var e=pr.call(t,qn),n=t[qn];try{t[qn]=void 0;var r=!0}catch(c){}var s=Xn.call(t);return r&&(e?t[qn]=n:delete t[qn]),s},_t=Object.prototype.toString,jt=function(t){return _t.call(t)},It=Xt?Xt.toStringTag:void 0,bn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":It&&It in Object(t)?ct(t):jt(t)},Cn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Bo,xo=function(t){if(!Cn(t))return!1;var e=bn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Fo=pt.a["__core-js_shared__"],Li=(Bo=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||""))?"Symbol(src)_1."+Bo:"",kl=function(t){return!!Li&&Li in t},Iu=Function.prototype.toString,qr=function(t){if(t!=null){try{return Iu.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ca=/^\[object .+?Constructor\]$/,ft=Function.prototype,Dl=Object.prototype,Lu=ft.toString,zu=Dl.hasOwnProperty,kr=RegExp("^"+Lu.call(zu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=function(t){return!(!Cn(t)||kl(t))&&(xo(t)?kr:ca).test(qr(t))},Fa=function(t,e){return t==null?void 0:t[e]},lo=function(t,e){var n=Fa(t,e);return Wr(n)?n:void 0},Zr=lo(pt.a,"Map"),fo=lo(Object,"create"),Bu=function(){this.__data__=fo?fo(null):{},this.size=0},Fu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yc=Object.prototype.hasOwnProperty,sa=function(t){var e=this.__data__;if(fo){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Yc.call(e,t)?e[t]:void 0},Vc=Object.prototype.hasOwnProperty,Wu=function(t){var e=this.__data__;return fo?e[t]!==void 0:Vc.call(e,t)},Nl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fo&&e===void 0?"__lodash_hash_undefined__":e,this};function li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}li.prototype.clear=Bu,li.prototype.delete=Fu,li.prototype.get=sa,li.prototype.has=Wu,li.prototype.set=Nl;var Kc=li,Wo=function(){this.size=0,this.__data__={hash:new Kc,map:new(Zr||he),string:new Kc}},$u=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Wa=function(t,e){var n=t.__data__;return $u(e)?n[typeof e=="string"?"string":"hash"]:n.map},Uu=function(t){var e=Wa(this,t).delete(t);return this.size-=e?1:0,e},Gu=function(t){return Wa(this,t).get(t)},Rl=function(t){return Wa(this,t).has(t)},qc=function(t,e){var n=Wa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function vn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vn.prototype.clear=Wo,vn.prototype.delete=Uu,vn.prototype.get=Gu,vn.prototype.has=Rl,vn.prototype.set=qc;var hn=vn,Zc=function(t,e){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!Zr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hn(r)}return n.set(t,e),this.size=n.size,this};function zi(t){var e=this.__data__=new he(t);this.size=e.size}zi.prototype.clear=ae,zi.prototype.delete=_e,zi.prototype.get=Ve,zi.prototype.has=Ke,zi.prototype.set=Zc;var $o=zi,Hu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Jc=function(t){return this.__data__.has(t)};function Wn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hn;++e<n;)this.add(t[e])}Wn.prototype.add=Wn.prototype.push=Hu,Wn.prototype.has=Jc;var Xu=Wn,la=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Yu=function(t,e){return t.has(e)},$a=function(t,e,n,r,s,c){var f=1&n,v=t.length,b=e.length;if(v!=b&&!(f&&b>v))return!1;var x=c.get(t),S=c.get(e);if(x&&S)return x==e&&S==t;var D=-1,I=!0,V=2&n?new Xu:void 0;for(c.set(t,e),c.set(e,t);++D<v;){var J=t[D],ne=e[D];if(r)var be=f?r(ne,J,D,e,t,c):r(J,ne,D,t,e,c);if(be!==void 0){if(be)continue;I=!1;break}if(V){if(!la(e,function(ge,xe){if(!Yu(V,xe)&&(J===ge||s(J,ge,n,r,c)))return V.push(xe)})){I=!1;break}}else if(J!==ne&&!s(J,ne,n,r,c)){I=!1;break}}return c.delete(t),c.delete(e),I},dr=pt.a.Uint8Array,Vu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n},Qc=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Ku=Xt?Xt.prototype:void 0,Ua=Ku?Ku.valueOf:void 0,Bi=function(t,e,n,r,s,c,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new dr(t),new dr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=Vu;case"[object Set]":var b=1&r;if(v||(v=Qc),t.size!=e.size&&!b)return!1;var x=f.get(t);if(x)return x==e;r|=2,f.set(t,e);var S=$a(v(t),v(e),r,s,c,f);return f.delete(t),S;case"[object Symbol]":if(Ua)return Ua.call(t)==Ua.call(e)}return!1},Uo=function(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t},En=Array.isArray,Cl=function(t,e,n){var r=e(t);return En(t)?r:Uo(r,n(t))},Dr=function(t,e){for(var n=-1,r=t==null?0:t.length,s=0,c=[];++n<r;){var f=t[n];e(f,n,t)&&(c[s++]=f)}return c},Il=function(){return[]},es=Object.prototype.propertyIsEnumerable,Or=Object.getOwnPropertySymbols,Jr=Or?function(t){return t==null?[]:(t=Object(t),Dr(Or(t),function(e){return es.call(t,e)}))}:Il,qu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},un=function(t){return t!=null&&typeof t=="object"},nr=function(t){return un(t)&&bn(t)=="[object Arguments]"},Ga=Object.prototype,ts=Ga.hasOwnProperty,Zu=Ga.propertyIsEnumerable,Ha=nr(function(){return arguments}())?nr:function(t){return un(t)&&ts.call(t,"callee")&&!Zu.call(t,"callee")},Eo=Ha,Go=o(48),Fi=/^(?:0|[1-9]\d*)$/,Nr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Fi.test(t))&&t>-1&&t%1==0&&t<e},Ho=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},rn={};rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Arguments]"]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object Boolean]"]=rn["[object DataView]"]=rn["[object Date]"]=rn["[object Error]"]=rn["[object Function]"]=rn["[object Map]"]=rn["[object Number]"]=rn["[object Object]"]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object WeakMap]"]=!1;var Rr=function(t){return un(t)&&Ho(t.length)&&!!rn[bn(t)]},So=function(t){return function(e){return t(e)}},sr=o(49),Xa=sr.a&&sr.a.isTypedArray,fa=Xa?So(Xa):Rr,Ju=Object.prototype.hasOwnProperty,In=function(t,e){var n=En(t),r=!n&&Eo(t),s=!n&&!r&&Object(Go.a)(t),c=!n&&!r&&!s&&fa(t),f=n||r||s||c,v=f?qu(t.length,String):[],b=v.length;for(var x in t)!e&&!Ju.call(t,x)||f&&(x=="length"||s&&(x=="offset"||x=="parent")||c&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Nr(x,b))||v.push(x);return v},Ya=Object.prototype,Xo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Ya)},Qr=function(t,e){return function(n){return t(e(n))}},Qu=Qr(Object.keys,Object),Ll=Object.prototype.hasOwnProperty,ec=function(t){if(!Xo(t))return Qu(t);var e=[];for(var n in Object(t))Ll.call(t,n)&&n!="constructor"&&e.push(n);return e},Yn=function(t){return t!=null&&Ho(t.length)&&!xo(t)},pa=function(t){return Yn(t)?In(t):ec(t)},jo=function(t){return Cl(t,pa,Jr)},wr=Object.prototype.hasOwnProperty,tc=function(t,e,n,r,s,c){var f=1&n,v=jo(t),b=v.length;if(b!=jo(e).length&&!f)return!1;for(var x=b;x--;){var S=v[x];if(!(f?S in e:wr.call(e,S)))return!1}var D=c.get(t),I=c.get(e);if(D&&I)return D==e&&I==t;var V=!0;c.set(t,e),c.set(e,t);for(var J=f;++x<b;){var ne=t[S=v[x]],be=e[S];if(r)var ge=f?r(be,ne,S,e,t,c):r(ne,be,S,t,e,c);if(!(ge===void 0?ne===be||s(ne,be,n,r,c):ge)){V=!1;break}J||(J=S=="constructor")}if(V&&!J){var xe=t.constructor,Ce=e.constructor;xe==Ce||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ce=="function"&&Ce instanceof Ce||(V=!1)}return c.delete(t),c.delete(e),V},$r=lo(pt.a,"DataView"),fi=lo(pt.a,"Promise"),Va=lo(pt.a,"Set"),Po=lo(pt.a,"WeakMap"),Ur="[object Map]",Cr="[object Promise]",eo="[object Set]",Ao="[object WeakMap]",we="[object DataView]",Re=qr($r),Ie=qr(Zr),et=qr(fi),Wt=qr(Va),Zt=qr(Po),Pn=bn;($r&&Pn(new $r(new ArrayBuffer(1)))!=we||Zr&&Pn(new Zr)!=Ur||fi&&Pn(fi.resolve())!=Cr||Va&&Pn(new Va)!=eo||Po&&Pn(new Po)!=Ao)&&(Pn=function(t){var e=bn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?qr(n):"";if(r)switch(r){case Re:return we;case Ie:return Ur;case et:return Cr;case Wt:return eo;case Zt:return Ao}return e});var O=Pn,w="[object Arguments]",M="[object Array]",z="[object Object]",K=Object.prototype.hasOwnProperty,de=function(t,e,n,r,s,c){var f=En(t),v=En(e),b=f?M:O(t),x=v?M:O(e),S=(b=b==w?z:b)==z,D=(x=x==w?z:x)==z,I=b==x;if(I&&Object(Go.a)(t)){if(!Object(Go.a)(e))return!1;f=!0,S=!1}if(I&&!S)return c||(c=new $o),f||fa(t)?$a(t,e,n,r,s,c):Bi(t,e,b,n,r,s,c);if(!(1&n)){var V=S&&K.call(t,"__wrapped__"),J=D&&K.call(e,"__wrapped__");if(V||J){var ne=V?t.value():t,be=J?e.value():e;return c||(c=new $o),s(ne,be,n,r,c)}}return!!I&&(c||(c=new $o),tc(t,e,n,r,s,c))},Se=function t(e,n,r,s,c){return e===n||(e==null||n==null||!un(e)&&!un(n)?e!=e&&n!=n:de(e,n,r,s,t,c))},We=function(t,e,n,r){var s=n.length,c=s;if(t==null)return!c;for(t=Object(t);s--;){var f=n[s];if(f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++s<c;){var v=(f=n[s])[0],b=t[v],x=f[1];if(f[2]){if(b===void 0&&!(v in t))return!1}else{var S=new $o,D;if(!(D===void 0?Se(x,b,3,r,S):D))return!1}}return!0},st=function(t){return t==t&&!Cn(t)},Vt=function(t){for(var e=pa(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,st(s)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},wn=function(t){var e=Vt(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||We(n,t,e)}},$t=function(t){return typeof t=="symbol"||un(t)&&bn(t)=="[object Symbol]"},sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,Dn=function(t,e){if(En(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!$t(t))||to.test(t)||!sn.test(t)||e!=null&&t in Object(e)};function Ir(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],c=n.cache;if(c.has(s))return c.get(s);var f=t.apply(this,r);return n.cache=c.set(s,f)||c,f};return n.cache=new(Ir.Cache||hn),n}Ir.Cache=hn;var Yo=Ir,Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,da=/\\(\\)?/g,nc=function(t){var e=Yo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vo,function(n,r,s,c){e.push(s?c.replace(da,"$1"):r||n)}),e}),pi=Xt?Xt.prototype:void 0,Ka=pi?pi.toString:void 0,xr=function t(e){if(typeof e=="string")return e;if(En(e))return ut(e,t)+"";if($t(e))return Ka?Ka.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},ha=function(t){return t==null?"":xr(t)},Wi=function(t,e){return En(t)?t:Dn(t,e)?[t]:nc(ha(t))},di=function(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},hi=function(t,e){for(var n=0,r=(e=Wi(e,t)).length;t!=null&&n<r;)t=t[di(e[n++])];return n&&n==r?t:void 0},qa=function(t,e,n){var r=t==null?void 0:hi(t,e);return r===void 0?n:r},My=function(t,e){return t!=null&&e in Object(t)},Ty=function(t,e,n){for(var r=-1,s=(e=Wi(e,t)).length,c=!1;++r<s;){var f=di(e[r]);if(!(c=t!=null&&n(t,f)))break;t=t[f]}return c||++r!=s?c:!!(s=t==null?0:t.length)&&Ho(s)&&Nr(f,s)&&(En(t)||Eo(t))},kp=function(t,e){return t!=null&&Ty(t,e,My)},ns=function(t,e){return Dn(t)&&st(e)?tt(di(t),e):function(n){var r=qa(n,t);return r===void 0&&r===e?kp(n,t):Se(e,r,3)}},Za=function(t){return t},zl=function(t){return function(e){return e==null?void 0:e[t]}},ky=function(t){return function(e){return hi(e,t)}},Dp=function(t){return Dn(t)?zl(di(t)):ky(t)},Bl=function(t){return typeof t=="function"?t:t==null?Za:typeof t=="object"?En(t)?ns(t[0],t[1]):wn(t):Dp(t)},Np=function(t){return function(e,n,r){for(var s=-1,c=Object(e),f=r(e),v=f.length;v--;){var b=f[++s];if(n(c[b],b,c)===!1)break}return e}}(),lr=function(t,e){return function(n,r){if(n==null)return n;if(!Yn(n))return t(n,r);for(var s=n.length,c=-1,f=Object(n);++c<s&&r(f[c],c,f)!==!1;);return n}}(function(t,e){return t&&Np(t,e,pa)}),Er=function(t,e){var n=-1,r=Yn(t)?Array(t.length):[];return lr(t,function(s,c,f){r[++n]=e(s,c,f)}),r},rs=function(t,e){return(En(t)?ut:Er)(t,Bl(e))};Object(h.n)({isolateGlobalState:!0});var os=function(){try{var t=lo(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),is=function(t,e,n){e=="__proto__"&&os?os(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Dy=Object.prototype.hasOwnProperty,Ja=function(t,e,n){var r=t[e];Dy.call(t,e)&&dn(r,n)&&(n!==void 0||e in t)||is(t,e,n)},Qa=function(t,e,n,r){var s=!n;n||(n={});for(var c=-1,f=e.length;++c<f;){var v=e[c],b=void 0;b===void 0&&(b=t[v]),s?is(n,v,b):Ja(n,v,b)}return n},Fl=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ya=Math.max,eu=function(t,e,n){return e=ya(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,c=ya(r.length-e,0),f=Array(c);++s<c;)f[s]=r[e+s];s=-1;for(var v=Array(e+1);++s<e;)v[s]=r[s];return v[e]=n(f),Fl(t,this,v)}},rc=function(t){return function(){return t}},as=os?function(t,e){return os(t,"toString",{configurable:!0,enumerable:!1,value:rc(e),writable:!0})}:Za,tu=Date.now,Ny=function(t){var e=0,n=0;return function(){var r=tu(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Rp=Ny(as),Ry=function(t,e){return Rp(eu(t,e,Za),t+"")},Cy=function(t,e,n){if(!Cn(n))return!1;var r=typeof e;return!!(r=="number"?Yn(n)&&Nr(e,n.length):r=="string"&&e in n)&&dn(n[e],t)},Cp=function(t){return Ry(function(e,n){var r=-1,s=n.length,c=s>1?n[s-1]:void 0,f=s>2?n[2]:void 0;for(c=t.length>3&&typeof c=="function"?(s--,c):void 0,f&&Cy(n[0],n[1],f)&&(c=s<3?void 0:c,s=1),e=Object(e);++r<s;){var v=n[r];v&&t(e,v,r,c)}return e})},us=Object.prototype.hasOwnProperty,gr=Cp(function(t,e){if(Xo(e)||Yn(e))Qa(e,pa(e),t);else for(var n in e)us.call(e,n)&&Ja(t,n,e[n])}),Ip=function(t,e,n,r){if(!Cn(t))return t;for(var s=-1,c=(e=Wi(e,t)).length,f=c-1,v=t;v!=null&&++s<c;){var b=di(e[s]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(s!=f){var S=v[b];(x=void 0)==void 0&&(x=Cn(S)?S:Nr(e[s+1])?[]:{})}Ja(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,s=e.length,c={};++r<s;){var f=e[r],v=hi(t,f);n(v,f)&&Ip(c,Wi(f,t),v)}return c},nu=function(t,e){return F(t,e,function(n,r){return kp(t,r)})},oc=Xt?Xt.isConcatSpreadable:void 0,po=function(t){return En(t)||Eo(t)||!!(oc&&t&&t[oc])},an=function(e,n,r,s,c){var f=-1,v=e.length;for(r||(r=po),c||(c=[]);++f<v;){var b=e[f];r(b)?Uo(c,b):c[c.length]=b}return c},va=function(t){return t!=null&&t.length?an(t):[]},xn,Ko,$i,ho,Wl,$l,Lp,zp,cs,ru,ic,Bp,Ul,qo,ss,Ui,no,Gl,Hl,yi=function(t){return Rp(eu(t,void 0,va),t+"")}(function(t,e){return t==null?{}:nu(t,e)});function Nn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var gn,hr,Kt,Zn,dt,An,ls={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},vi=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Xl=(Ko=Vn((xn=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Nn(this,"isSilentMode",Ko,this),Nn(this,"stopZoomGraph",$i,this),Nn(this,"stopScrollGraph",ho,this),Nn(this,"stopMoveGraph",Wl,this),Nn(this,"adjustEdge",$l,this),Nn(this,"adjustEdgeMiddle",Lp,this),Nn(this,"adjustEdgeStartAndEnd",zp,this),Nn(this,"adjustNodePosition",cs,this),Nn(this,"hideAnchors",ru,this),Nn(this,"allowRotation",ic,this),Nn(this,"hoverOutline",Bp,this),Nn(this,"nodeSelectedOutline",Ul,this),Nn(this,"edgeSelectedOutline",qo,this),Nn(this,"nodeTextEdit",ss,this),Nn(this,"edgeTextEdit",Ui,this),Nn(this,"nodeTextDraggable",no,this),Nn(this,"edgeTextDraggable",Gl,this),Nn(this,"autoExpand",Hl,this),Wp(this,"multipleSelectKey",""),Wp(this,"defaultConfig",{}),gr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var s=this.getConfigDetail(r);gr(this,s)}},{key:"getConfigDetail",value:function(r){var s=r.isSilentMode,c=r.textEdit,f={};if(s===!1&&gr(f,this.defaultConfig),s===!0&&s!==this.isSilentMode){var v=yi(ls,vi);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},gr(f,v)}c===!1&&gr(f,{nodeTextEdit:!1,edgeTextEdit:!1});var b=yi(r,vi);return gr(f,b)}},{key:"getConfig",value:function(){return yi(this,vi)}}])&&Fp(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$i=Vn(xn.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ho=Vn(xn.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wl=Vn(xn.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$l=Vn(xn.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lp=Vn(xn.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zp=Vn(xn.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=Vn(xn.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ru=Vn(xn.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic=Vn(xn.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bp=Vn(xn.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ul=Vn(xn.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qo=Vn(xn.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ss=Vn(xn.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ui=Vn(xn.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),no=Vn(xn.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gl=Vn(xn.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hl=Vn(xn.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vn(xn.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateEditConfig"),xn.prototype),xn);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(gn||(gn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(hr||(hr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Kt||(Kt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Zn||(Zn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(dt||(dt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(An||(An={}));var Ln,$n,$p,Up,fs,ou,Yl,iu,ps;function au(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Vl(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Vl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Ln||(Ln={}));var Gp={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Hp=($n=function(){function t(r,s){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),bi(this,"MINI_SCALE_SIZE",.2),bi(this,"MAX_SCALE_SIZE",16),gi(this,"SCALE_X",$p,this),gi(this,"SKEW_Y",Up,this),gi(this,"SKEW_X",fs,this),gi(this,"SCALE_Y",ou,this),gi(this,"TRANSLATE_X",Yl,this),gi(this,"TRANSLATE_Y",iu,this),gi(this,"ZOOM_SIZE",ps,this),bi(this,"eventCenter",void 0),bi(this,"translateLimitMinX",void 0),bi(this,"translateLimitMinY",void 0),bi(this,"translateLimitMaxX",void 0),bi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var c=s.stopMoveGraph,f=c!==void 0&&c;this.updateTranslateLimits(f)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var s=au(r,2),c=s[0],f=s[1];return[(c-this.TRANSLATE_X)/this.SCALE_X,(f-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var s=au(r,2),c=s[0],f=s[1];return[c*this.SCALE_X+this.TRANSLATE_X,f*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,s,c){var f=au(r,2),v=f[0],b=f[1];return[v+s/this.SCALE_X,b+c/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,s){return[r/this.SCALE_X,s/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1?arguments[1]:void 0,c=this.SCALE_X,f=this.SCALE_Y;return r===!0?(c+=this.ZOOM_SIZE,f+=this.ZOOM_SIZE):r===!1?(c-=this.ZOOM_SIZE,f-=this.ZOOM_SIZE):typeof r=="number"&&(c=r,f=r),c<this.MINI_SCALE_SIZE||c>this.MAX_SCALE_SIZE||(s&&(this.TRANSLATE_X-=(c-this.SCALE_X)*s[0],this.TRANSLATE_Y-=(f-this.SCALE_Y)*s[1]),this.SCALE_X=c,this.SCALE_Y=f,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(dt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,s){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+s<=this.translateLimitMaxY&&this.TRANSLATE_Y+s>=this.translateLimitMinY&&(this.TRANSLATE_Y+=s),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,s,c,f){var v=au(this.CanvasPointToHtmlPoint([r,s]),2),b=c/2-v[0],x=f/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var s=au(Array.isArray(r)&&r.length===4?r:Gp[r.toString()],4);this.translateLimitMinX=s[0],this.translateLimitMinY=s[1],this.translateLimitMaxX=s[2],this.translateLimitMaxY=s[3]}}],n&&Iy(e.prototype,n),t}(),$p=yo($n.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Up=yo($n.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fs=yo($n.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ou=yo($n.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yl=yo($n.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),iu=yo($n.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ps=yo($n.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),yo($n.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor($n.prototype,"zoom"),$n.prototype),yo($n.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor($n.prototype,"resetZoom"),$n.prototype),yo($n.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor($n.prototype,"translate"),$n.prototype),yo($n.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor($n.prototype,"focusOn"),$n.prototype),$n),ds=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Xp=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Yp=Object.prototype.hasOwnProperty,Vp=function(t){if(!Cn(t))return Xp(t);var e=Xo(t),n=[];for(var r in t)(r!="constructor"||!e&&Yp.call(t,r))&&n.push(r);return n},hs=function(t){return Yn(t)?In(t,!0):Vp(t)},Kl=o(107),ql=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},ys=Qr(Object.getPrototypeOf,Object),Jt=Object.prototype.hasOwnProperty,Ly=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Jt.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Zl=function(t){var e=new t.constructor(t.byteLength);return new dr(e).set(new dr(t)),e},ac=function(t,e){var n=Zl(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},Kp=/\w*$/,zy=function(t){var e=new t.constructor(t.source,Kp.exec(t));return e.lastIndex=t.lastIndex,e},qp=Xt?Xt.prototype:void 0,ro=qp?qp.valueOf:void 0,By=function(t){return ro?Object(ro.call(t)):{}},uc=function(t,e){var n=e?Zl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Jl=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Zl(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ac(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return uc(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return zy(t);case"[object Symbol]":return By(t)}},Ql=Object.create,Zp=function(){function t(){}return function(e){if(!Cn(e))return{};if(Ql)return Ql(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Gr=function(t){return typeof t.constructor!="function"||Xo(t)?{}:Zp(ys(t))},Gi=function(t){return un(t)&&O(t)=="[object Map]"},vs=sr.a&&sr.a.isMap,Jp=vs?So(vs):Gi,gs=function(t){return un(t)&&O(t)=="[object Set]"},ef=sr.a&&sr.a.isSet,tf=ef?So(ef):gs,nf="[object Arguments]",bs="[object Function]",rf="[object Object]",yn={};yn[nf]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object DataView]"]=yn["[object Boolean]"]=yn["[object Date]"]=yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object Symbol]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Error]"]=yn[bs]=yn["[object WeakMap]"]=!1;var Fy=function t(e,n,r,s,c,f){var v,b=1&n;if(v!==void 0)return v;if(!Cn(e))return e;var x=En(e);if(x)v=Ly(e);else{var S=O(e),D=S==bs||S=="[object GeneratorFunction]";if(Object(Go.a)(e))return Object(Kl.a)(e,b);if(S==rf||S==nf||D&&!c)v=D?{}:Gr(e);else{if(!yn[S])return c?e:{};v=Jl(e,S,b)}}f||(f=new $o);var I=f.get(e);if(I)return I;f.set(e,v),tf(e)?e.forEach(function(J){v.add(t(J,n,r,J,e,f))}):Jp(e)&&e.forEach(function(J,ne){v.set(ne,t(J,n,r,ne,e,f))});var V=x?void 0:jo(e);return ds(V||e,function(J,ne){V&&(J=e[ne=J]),Ja(v,ne,t(J,n,r,ne,e,f))}),v},mn=function(t){return Fy(t,5)},ms=function(t,e,n){(n!==void 0&&!dn(t[e],n)||n===void 0&&!(e in t))&&is(t,e,n)},Qp=function(t){return un(t)&&Yn(t)},of=Function.prototype,ed=Object.prototype,af=of.toString,td=ed.hasOwnProperty,nd=af.call(Object),Hr=function(t){if(!un(t)||bn(t)!="[object Object]")return!1;var e=ys(t);if(e===null)return!0;var n=td.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&af.call(n)==nd},Mo=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},_s=function(t){return Qa(t,hs(t))},uu=function(t,e,n,r,s,c,f){var v=Mo(t,n),b=Mo(e,n),x=f.get(b);if(x)ms(t,n,x);else{var S=void 0,D=S===void 0;if(D){var I=En(b),V=!I&&Object(Go.a)(b),J=!I&&!V&&fa(b);S=b,I||V||J?En(v)?S=v:Qp(v)?S=ql(v):V?(D=!1,S=Object(Kl.a)(b,!0)):J?(D=!1,S=uc(b,!0)):S=[]:Hr(b)||Eo(b)?(S=v,Eo(v)?S=_s(v):Cn(v)&&!xo(v)||(S=Gr(b))):D=!1}D&&(f.set(b,S),s(S,b,r,c,f),f.delete(b)),ms(t,n,S)}},rd=function t(e,n,r,s,c){e!==n&&Np(n,function(f,v){if(c||(c=new $o),Cn(f))uu(e,n,v,r,t,s,c);else{var b=void 0;b===void 0&&(b=f),ms(e,v,b)}},hs)},cc=Cp(function(t,e,n){rd(t,e,n)}),od={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},ga=function(t){var e=mn(od);return t&&(e=cc(e,t)),e};o(82),o(166);function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var id=function(){function t(){var r,s,c;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),c={},(s="_events")in(r=this)?Object.defineProperty(r,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[s]=c}var e,n;return e=t,(n=[{key:"on",value:function(r,s,c){var f=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),f._events[v]||(f._events[v]=[]),f._events[v].push({callback:s,once:!!c})}),this}},{key:"once",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(f){return f=f.trim(),c.on(f,s,!0)})}},{key:"emit",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(f){var v=c._events[f]||[],b=c._events["*"]||[],x=function(S){for(var D=S.length,I=0;I<D;I++)if(S[I]){var V=S[I],J=V.callback;V.once&&(S.splice(I,1),S.length===0&&delete c._events[f],D--,I--),J.apply(c,[s])}};x(v),x(b)})}},{key:"off",value:function(r,s){var c=this;return r||(this._events={}),r.split(",").forEach(function(f){if(s){for(var v=c._events[f]||[],b=v.length,x=0;x<b;x++)v[x].callback===s&&(v.splice(x,1),b--,x--);v.length===0&&delete c._events[f]}else delete c._events[f]}),this}},{key:"getEvents",value:function(){return this._events}}])&&sc(e.prototype,n),t}();function Hi(t,e){return e*Math.round(t/e)||t}function Os(t,e){return t%e}function ws(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return lc(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return lc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fc=function(t,e,n){var r=ws(t,2),s=r[0],c=r[1],f=ws(e,2),v=f[0],b=f[1],x=ws(n,2),S=x[0],D=x[1];return s>v&&s<S&&c>b&&c<D},pc=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var ad=function(t){return function(e,n,r){var s=Object(e);if(!Yn(e)){var c=Bl(n);e=pa(e),n=function(v){return c(s[v],v,s)}}var f=t(e,n,r);return f>-1?s[c?e[f]:f]:void 0}},xs=function(t,e,n,r){for(var s=t.length,c=n+-1;++c<s;)if(e(t[c],c,t))return c;return-1},ud=/\s/,uf=function(t){for(var e=t.length;e--&&ud.test(t.charAt(e)););return e},Wy=/^\s+/,cd=function(t){return t&&t.slice(0,uf(t)+1).replace(Wy,"")},mi=/^[-+]0x[0-9a-f]+$/i,sd=/^0b[01]+$/i,ld=/^0o[0-7]+$/i,$y=parseInt,Es=function(t){if(typeof t=="number")return t;if($t(t))return NaN;if(Cn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cd(t);var n=sd.test(t);return n||ld.test(t)?$y(t.slice(2),n?2:8):mi.test(t)?NaN:+t},_i=1/0,cf=function(t){return t?(t=Es(t))===_i||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},sf=function(t){var e=cf(t),n=e%1;return e==e?n?e-n:e:0},lf=Math.max,cu,ba=ad(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:sf(n);return s<0&&(s=lf(r+s,0)),xs(t,Bl(e),s)}),Tt=new Uint8Array(16);function Ss(){if(!cu&&!(cu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cu(Tt)}for(var ff=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ma=function(t){return typeof t=="string"&&ff.test(t)},fr=[],js=0;js<256;++js)fr.push((js+256).toString(16).substr(1));var Sr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(fr[t[e+0]]+fr[t[e+1]]+fr[t[e+2]]+fr[t[e+3]]+"-"+fr[t[e+4]]+fr[t[e+5]]+"-"+fr[t[e+6]]+fr[t[e+7]]+"-"+fr[t[e+8]]+fr[t[e+9]]+"-"+fr[t[e+10]]+fr[t[e+11]]+fr[t[e+12]]+fr[t[e+13]]+fr[t[e+14]]+fr[t[e+15]]).toLowerCase();if(!ma(n))throw TypeError("Stringified UUID is invalid");return n},Ps=function(t,e,n){var r=(t=t||{}).random||(t.rng||Ss)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,Sr(r)},Oi=function(){return Ps()},Uy=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,s){return r[s.id]=e+Ps(),s.id=r[s.id],r},{});return t.edges.forEach(function(r){r.id=e+Ps(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},oo=(o(105),o(127),o(207),function(t,e,n){var r=t.x,s=t.y,c=e.x,f=e.y,v=n.x,b=n.y,x=(b-f)/(v-c),S=f-x*c;return r>=c&&r<=v&&s>=f&&s<=b&&Math.abs(s-x*r+S)<Number.EPSILON});function br(t){return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}function As(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?As(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,pf,df,hf,yf,fd,Ts,vf,su,ks,gf,bf,dc,mf,To,Xi,_f,pd,dd,hd,Of,Ds=function(t){return t.anchors},hc=function(t,e){for(var n,r=e.nodes,s=r.length-1;s>=0;s--){var c=r[s];if(Hy(t,c)){var f=c.getTargetAnchor(t);if(f){var v={node:c,anchorIndex:f.index,anchor:f.anchor};n&&!yd(c,n.node,e)||(n=v)}}}return n},yd=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},ko=function(t,e,n,r){return Math.hypot(t-n,e-r)},Yi=function(t,e){var n=!1,r=zn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Hy=function(t,e){var n=!1,r=zn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},zn=function(t){var e=t.x,n=t.y,r=t.width,s=t.height;return{minX:e-r/2,minY:n-s/2,maxX:e+r/2,maxY:n+s/2,x:e,y:n,width:r,height:s,centerX:e,centerY:n}},vd=function(t,e,n){var r,s=function(f){var v=f,b=v.x,x=v.y,S=v.width,D=v.height,I=v.radius;return[{x:b-S/2+I,y:x-D/2+I,r:I},{x:b+S/2-I,y:x-D/2+I,r:I},{x:b-S/2+I,y:x+D/2-I,r:I},{x:b+S/2-I,y:x+D/2-I,r:I}]}(n),c=Number.MAX_SAFE_INTEGER;return s.forEach(function(f){var v=ko(t.x,t.y,f.x,f.y);v<c&&(c=v,r=f)}),Ns(t,e,r)},Ns=function(t,e,n){var r,s=n,c=s.x,f=s.y,v=s.r;if(e===An.HORIZONTAL){var b=c-Math.sqrt(v*v-(t.y-f)*(t.y-f)),x=c+Math.sqrt(v*v-(t.y-f)*(t.y-f));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===An.VERTICAL){var S=f-Math.sqrt(v*v-(t.x-c)*(t.x-c)),D=f+Math.sqrt(v*v-(t.x-c)*(t.x-c)),I=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:I}}return r},gd=function(t,e){var n=e,r=!1,s=n.x-n.width/2+n.radius,c=n.x+n.width/2-n.radius,f=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>s&&t.x<c:t.x!==b+S/2&&t.x!==b-S/2||(r=t.y>f&&t.y<v),r},Rs=function(t,e,n){var r,s=n,c=s.x,f=s.y,v=s.rx,b=s.ry;if(e===An.HORIZONTAL){var x=c-Math.sqrt(v*v-(t.y-f)*(t.y-f)*v*v/(b*b)),S=c+Math.sqrt(v*v-(t.y-f)*(t.y-f)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===An.VERTICAL){var D=f-Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),I=f+Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),V=Math.abs(D-t.y)<Math.abs(I-t.y)?D:I;r={x:t.x,y:V}}return r},bd=function(t,e,n){for(var r,s=n.pointsPosition,c=Number.MAX_SAFE_INTEGER,f=[],v=0;v<s.length;v++)f.push({start:s[v],end:s[(v+1)%s.length]});return f.forEach(function(b){var x=b.start,S=b.end,D=x,I=S;x.x>S.x&&(D=S,I=x);var V={x:t.x,y:t.y};if(D.x===I.x&&e===An.HORIZONTAL&&(V={x:D.x,y:t.y}),D.y===I.y&&e===An.VERTICAL&&(V={x:t.x,y:D.y}),D.x!==I.x&&D.y!==I.y){var J=(I.y-D.y)/(I.x-D.x),ne=(D.x*I.y-I.x*D.y)/(D.x-I.x);e===An.HORIZONTAL?V={x:(t.y-ne)/J,y:t.y}:e===An.VERTICAL&&(V={x:t.x,y:J*t.x+ne})}if(oo(V,x,S)){var be=ko(V.x,V.y,t.x,t.y);be<c&&(c=be,r=V)}}),r},md=function(t,e,n,r){var s=t.x,c=t.y;return e.x>t.x?s=t.x+n/2:e.x<t.x&&(s=t.x-n/2),e.y>t.y?c=t.y+r/2:e.y<t.y&&(c=t.y-r/2),{x:s,y:c}},_d=function(t){var e=t.rows,n=t.style,r=t.rowsLength,s=t.className,c=document.createElement("div");c.style.fontSize=n.fontSize,c.style.width=n.width,c.className=s,c.style.lineHeight=n.lineHeight,c.style.padding=n.padding,n.fontFamily&&(c.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,c.appendChild(b)}):c.textContent=e,document.body.appendChild(c);var f=c.clientHeight;return document.body.removeChild(c),f},yc=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,s=0;return e&&e.forEach(function(c){var f=$f(c);s=f>s?f:s}),{width:Math.ceil(s/2)*r+r/4,height:n*(r+2)+r/4}},lu=function(t){return br(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},jr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Xy=1e3,Yy=999,wf=function(){return++Xy};function Od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Od(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var xf=(ke=function(){function t(r,s){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),vo(this,"id",""),Jn(this,"type",pf,this),Jn(this,"sourceNodeId",df,this),Jn(this,"targetNodeId",hf,this),Jn(this,"startPoint",yf,this),Jn(this,"endPoint",fd,this),Jn(this,"text",Ts,this),Jn(this,"properties",vf,this),Jn(this,"points",su,this),Jn(this,"pointsList",ks,this),Jn(this,"isSelected",gf,this),Jn(this,"isHovered",bf,this),Jn(this,"isHitable",dc,this),Jn(this,"draggable",mf,this),Jn(this,"visible",To,this),vo(this,"virtual",!1),Jn(this,"isAnimation",Xi,this),Jn(this,"isShowAdjustPoint",_f,this),vo(this,"graphModel",void 0),Jn(this,"zIndex",pd,this),vo(this,"BaseType",Zn.EDGE),vo(this,"modelType",Kt.EDGE),Jn(this,"state",dd,this),vo(this,"additionStateData",void 0),vo(this,"sourceAnchorId",""),vo(this,"targetAnchorId",""),vo(this,"menu",void 0),vo(this,"customTextPosition",!1),Jn(this,"style",hd,this),Jn(this,"arrowConfig",Of,this),this.graphModel=s,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),f=this.createId();r.id=f||c||Oi()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,gr(this,Bd(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||wf()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Xr(Xr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Xr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return mn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return mn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),s=this.getEdgeAnimationStyle(),c=this.graphModel.theme.arrow,f=this.isAnimation?s.stroke:r.stroke;return Xr(Xr({},r),{},{fill:f,stroke:f},c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return mn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.sourceNodeId])===null||s===void 0?void 0:s.model}},{key:"targetNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.targetNodeId])===null||s===void 0?void 0:s.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,s,c){var f,v,b=Ds(r);return c&&(f=ba(b,function(x){return x.id===c}))||b.forEach(function(x){var S=Hf(x,s);(v===void 0||S<v)&&(v=S,f=x)}),f}},{key:"getEndAnchor",value:function(r,s){var c,f,v=this,b=Ds(r);return s&&(c=ba(b,function(x){return x.id===s}))||b.forEach(function(x){var S=Hf(x,v.startPoint);(f===void 0||S<f)&&(f=S,c=x)}),c}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,f=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return f&&(v.text={x:s,y:c,value:f}),this.graphModel.overlapMode===Ln.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,s){this.properties[r]=jr(s),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Xr(Xr({},Object(h.I)(this.properties)),jr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var s=this.arrowConfig,c=s.markerEnd,f=s.markerStart;f&&f==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),c&&c==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,s){this.style=Xr(Xr({},this.style),{},vo({},r,jr(s)))}},{key:"setStyles",value:function(r){this.style=Xr(Xr({},this.style),jr(r))}},{key:"updateStyles",value:function(r){this.style=Xr({},jr(r))}},{key:"formatText",value:function(r){var s=this.textPosition,c=s.x,f=s.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||c,y:r.text.y||f,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:c,y:f,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,s=r.x,c=r.y;this.text.x=s,this.text.y=c}},{key:"moveText",value:function(r,s){if(this.text){var c=this.text,f=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,draggable:x,x:f+r,y:v+s,editable:S}}}},{key:"setText",value:function(r){r&&gr(this.text,r)}},{key:"updateText",value:function(r){this.text=Xr(Xr({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var s=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!s)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:s.x,y:s.y}),this.targetAnchorId||(this.targetAnchorId=s.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,s){this.startPoint.x+=r,this.startPoint.y+=s}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,s){this.endPoint.x+=r,this.endPoint.y+=s}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){gr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var s=r.startPoint,c=r.endPoint;this.updateStartPoint({x:s.x,y:s.y}),this.updateEndPoint({x:c.x,y:c.y})}}],n&&Cs(e.prototype,n),t}(),pf=Mt(ke.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),df=Mt(ke.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hf=Mt(ke.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yf=Mt(ke.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fd=Mt(ke.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ts=Mt(ke.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),vf=Mt(ke.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),su=Mt(ke.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ks=Mt(ke.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gf=Mt(ke.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bf=Mt(ke.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dc=Mt(ke.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mf=Mt(ke.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),To=Mt(ke.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xi=Mt(ke.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_f=Mt(ke.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pd=Mt(ke.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dd=Mt(ke.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hd=Mt(ke.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Of=Mt(ke.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Mt(ke.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Mt(ke.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Mt(ke.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Mt(ke.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Mt(ke.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Mt(ke.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Mt(ke.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Mt(ke.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Mt(ke.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Mt(ke.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Mt(ke.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Mt(ke.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Mt(ke.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Mt(ke.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Mt(ke.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Mt(ke.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Mt(ke.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Mt(ke.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Mt(ke.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Mt(ke.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Mt(ke.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Mt(ke.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Mt(ke.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Mt(ke.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Mt(ke.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Mt(ke.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Mt(ke.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Mt(ke.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Mt(ke.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Mt(ke.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Mt(ke.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Mt(ke.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),Ef=xf;function Is(t){return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sf(Object(n),!0).forEach(function(r){Af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fu(){return fu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=qy(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},fu.apply(this,arguments)}function qy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vi(t))!==null;);return t}function jf(t,e){return jf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jf(t,e)}function Ls(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vi(t);if(e){var s=Vi(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return xd(this,n)}}function xd(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pf(t)}function Pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(t)}function Af(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt,Ed,zs=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&jf(c,f)})(s,t);var e,n,r=Ls(s);function s(){var c;Vy(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return Af(Pf(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.LINE_EDGE),c}return e=s,(n=[{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.line;return wd(wd({},fu(Vi(s.prototype),"getEdgeStyle",this).call(this)),mn(c))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Ky(e.prototype,n),s}(Ef);function pu(t){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Bs(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Sd(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Sd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fs(Object(n),!0).forEach(function(r){Tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Do(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vc(){return vc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_a(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},vc.apply(this,arguments)}function _a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Lr(t))!==null;);return t}function Ut(t,e){return Ut=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ut(t,e)}function Qy(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lr(t);if(e){var s=Lr(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(t)}function Tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yr(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var go=(Lt=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Ut(c,f)})(s,t);var e,n,r=Qy(s);function s(){var c;Do(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return Tf(Rn(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYLINE_EDGE),Tf(Rn(c),"draggingPointList",void 0),Zy(Rn(c),"dbClickPosition",Ed,Rn(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=30,vc(Lr(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.polyline;return Mf(Mf({},vc(Lr(s.prototype),"getEdgeStyle",this).call(this)),mn(c))}},{key:"getTextPosition",value:function(){var c,f=(c=this.text)===null||c===void 0?void 0:c.value;if(this.dbClickPosition&&!f){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=xi(this.points),x=Bs(Ff(b),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(c,f,v){var b,x;return v.forEach(function(S){var D;c===An.HORIZONTAL?D=Math.abs(f.y-S.y):c===An.VERTICAL&&(D=Math.abs(f.x-S.x)),(!x||x>D)&&(x=D,b=S)}),b}},{key:"getCrossPoint",value:function(c,f,v){var b;return c===An.HORIZONTAL?b={x:v.x,y:f.y}:c===An.VERTICAL&&(b={x:f.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(c,f,v){var b=v.map(function(ge){return ge});if(c===1){var x=b[c],S=b[f],D=b[c-1];if(Hs(D,x,this.sourceNode)){if(qi(x,S,this.sourceNode)){var I=Wf(x,S,this.sourceNode);I&&(b[c]=I,b.splice(c-1,1),c--,f--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===D.x&&ge.x===x.x||ge.y===D.y&&ge.y===x.y)&&ko(ge.x,ge.y,x.x,x.y)<ko(D.x,D.y,x.x,x.y)&&(b[c-1]=ge)})}if(f===v.length-2){var V=b[c],J=b[f],ne=b[f+1];if(Hs(J,ne,this.targetNode)){if(qi(V,J,this.targetNode)){var be=Wf(V,J,this.targetNode);be&&(b[f]=be,b.splice(f+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===ne.x&&ge.x===J.x||ge.y===ne.y&&ge.y===J.y)&&ko(ge.x,ge.y,J.x,J.y)<ko(ne.x,ne.y,J.x,J.y)&&(b[f+1]=ge)})}return b}},{key:"getDraggingPoints",value:function(c,f,v,b,x){var S=x.map(function(V){return V}),D=this.getAfterAnchor(c,v,b),I=this.getCrossPoint(c,v,D);return f==="start"?(S.unshift(I),S.unshift(D)):(S.push(I),S.push(D)),S}},{key:"updateCrossPoints",value:function(c){var f=c.map(function(Ce){return Ce}),v=c[0],b=c[1],x=c[f.length-2],S=c[f.length-1],D=this.sourceNode,I=this.targetNode,V=D.modelType,J=I.modelType,ne=gu(v,b),be=f[0];switch(V){case Kt.RECT_NODE:D.radius!==0&&(gd(v,D)||(be=vd(v,ne,D)));break;case Kt.CIRCLE_NODE:be=Ns(v,ne,D);break;case Kt.ELLIPSE_NODE:be=Rs(v,ne,D);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:be=bd(v,ne,D)}be&&(f[0]=be);var ge=gu(x,S),xe=f[f.length-1];switch(J){case Kt.RECT_NODE:I.radius!==0&&(gd(S,I)||(xe=vd(S,ge,I)));break;case Kt.CIRCLE_NODE:xe=Ns(S,ge,I);break;case Kt.ELLIPSE_NODE:xe=Rs(S,ge,I);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:xe=bd(S,ge,I)}return xe&&(f[f.length-1]=xe),f}},{key:"getData",value:function(){var c=vc(Lr(s.prototype),"getData",this).call(this),f=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},c,{pointsList:f})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var c=Gs({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=c,this.points=c.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,f){this.startPoint.x+=c,this.startPoint.y+=f,this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveEndPoint",value:function(c,f){this.endPoint.x+=c,this.endPoint.y+=f,this.updatePoints()}},{key:"updatePointsList",value:function(c,f){this.pointsList.forEach(function(x){x.x+=c,x.y+=f});var v=this.pointsList[0];this.startPoint=Object.assign({},v);var b=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},b),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(c){return c})}},{key:"dragAppendSimple",value:function(c,f){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,I=this.pointsList,V=I;return D===An.HORIZONTAL?(I[x]={x:v.x,y:v.y+f.y},I[S]={x:b.x,y:b.y+f.y},V=this.pointsList.map(function(J){return J})):D===An.VERTICAL&&(I[x]={x:v.x+f.x,y:v.y},I[S]={x:b.x+f.x,y:b.y},V=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrag(V),this.draggingPointList=V,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(c,f){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,I=this.pointsList;if(D===An.HORIZONTAL){I[x]={x:v.x,y:v.y+f.y},I[S]={x:b.x,y:b.y+f.y};var V=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(V=this.removeCrossPoints(x,S,V)),x===0){var J={x:v.x,y:v.y+f.y};if(!Yi(J,this.sourceNode)){var ne=this.sourceNode.anchors;V=this.getDraggingPoints(D,"start",J,ne,V)}}if(S===this.pointsList.length-1){var be={x:b.x,y:b.y+f.y};if(!Yi(be,this.targetNode)){var ge=this.targetNode.anchors;V=this.getDraggingPoints(D,"end",be,ge,V)}}this.updatePointsAfterDrag(V),this.draggingPointList=V}else if(D===An.VERTICAL){I[x]={x:v.x+f.x,y:v.y},I[S]={x:b.x+f.x,y:b.y};var xe=this.pointsList.map(function(qe){return qe});if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Ce={x:v.x+f.x,y:v.y};if(!Yi(Ce,this.sourceNode)){var Qe=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Ce,Qe,xe)}}if(S===this.pointsList.length-1){var Ze={x:b.x+f.x,y:b.y};if(!Yi(Ze,this.targetNode)){var mt=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",Ze,mt,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var c=Bf(xi(this.points));this.pointsList=c.map(function(b){return b}),this.draggingPointList=[];var f=c[0];this.startPoint=Object.assign({},f);var v=c[c.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(c){var f=this.updateCrossPoints(c);this.points=f.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var f=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=Gs({x:f.x,y:f.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&Jy(e.prototype,n),s}(Ef),Ed=yr(Lt.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr(Lt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"initPoints"),Lt.prototype),yr(Lt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePoints"),Lt.prototype),yr(Lt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateStartPoint"),Lt.prototype),yr(Lt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"moveStartPoint"),Lt.prototype),yr(Lt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEndPoint"),Lt.prototype),yr(Lt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"moveEndPoint"),Lt.prototype),yr(Lt.prototype,"updatePointsList",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePointsList"),Lt.prototype),yr(Lt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendStart"),Lt.prototype),yr(Lt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendSimple"),Lt.prototype),yr(Lt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppend"),Lt.prototype),yr(Lt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendEnd"),Lt.prototype),yr(Lt.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePointsAfterDrag"),Lt.prototype),yr(Lt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"getAdjustStart"),Lt.prototype),yr(Lt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"getAdjustEnd"),Lt.prototype),yr(Lt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateAfterAdjustStartAndEnd"),Lt.prototype),Lt),du=function(t){var e=t.start,n=t.end,r=t.offset,s=t.verticalLength,c=t.type,f={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/s),x=Math.sqrt(s*s+r*r);return c==="start"?n.x>=e.x?(f.leftX=e.x+x*Math.sin(v+b),f.leftY=e.y-x*Math.cos(v+b),f.rightX=e.x-x*Math.sin(v-b),f.rightY=e.y+x*Math.cos(v-b)):(f.leftX=e.x-x*Math.sin(v+b),f.leftY=e.y+x*Math.cos(v+b),f.rightX=e.x+x*Math.sin(v-b),f.rightY=e.y-x*Math.cos(v-b)):c==="end"&&(n.x>=e.x?(f.leftX=n.x+x*Math.sin(v-b),f.leftY=n.y-x*Math.cos(v-b),f.rightX=n.x-x*Math.sin(v+b),f.rightY=n.y+x*Math.cos(v+b)):(f.leftX=n.x-x*Math.sin(v-b),f.leftY=n.y+x*Math.cos(v-b),f.rightX=n.x+x*Math.sin(v+b),f.rightY=n.y-x*Math.cos(v+b))),f},Ws={x:1,y:0,z:0};function Bn(t,e,n,r,s){for(var c=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},f=0,v=2,b=r.x,x=r.y,S=r;f<s&&v<50;){var D=S=c(1-v/100),I=D.x,V=D.y;f=ko(b,x,I,V),v++}return S}function Un(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function kf(t){return r=function(c,f){return c.x*f.y-c.y*f.x}(e=Ws,n=t),s=Math.acos(function(c,f){var v=[c.x,c.y,c.z];return[f.x,f.y,f.z].reduce(function(b,x,S){return b+x*v[S]})}(Un(e),Un(n))),r>=0?s:-s;var e,n,r,s}function Df(t){return t*(180/Math.PI)}function hu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hu(Object(n),!0).forEach(function(r){jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $s(t){return function(e){if(Array.isArray(e))return Nf(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Pd(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zr(t){return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}function wi(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||Pd(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pd(t,e){if(t){if(typeof t=="string")return Nf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nf(t,e):void 0}}function Nf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ad=function(t,e){var n;switch(t.type){case"line":default:n=new zs(t,e);break;case"polyline":n=new go(t,e)}return n},Zo=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Gt=function(t){var e=[],n={};return t.forEach(function(r){var s="".concat(r.x,"-").concat(r.y);r.id=s,n[s]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Md=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Gt(n)},Pr=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Rf=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?An.HORIZONTAL:An.VERTICAL},ln=function(t,e,n){return Rf(n,e)===An.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Cf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),s=Math.max(t.maxX,e.maxX),c=Math.max(t.maxY,e.maxY);return{centerX:(n+s)/2,centerY:(r+c)/2,minX:n,minY:r,maxX:s,maxY:c,height:c-r,width:s-n}},Oa=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var s=Math.min.apply(Math,n),c=Math.max.apply(Math,n),f=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=c-s,x=v-f;return e&&(b+=e,x+=e),{centerX:(s+c)/2,centerY:(f+v)/2,maxX:c,maxY:v,minX:s,minY:f,x:(s+c)/2,y:(f+v)/2,height:x,width:b}},Ki=function(t){var e=t.minX,n=t.minY,r=t.maxX,s=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:s},{x:e,y:s}]},gc=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Td=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},kd=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Dd=function(t,e){return Td(t,e.x).concat(kd(t,e.y))},vu=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Us=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},If=function(t,e,n,r,s){return vu(t,e)+vu(t,n)+Us(t,[e,n,r,s])},Nd=function t(e,n,r,s,c){c||(c=0),e.unshift(n[s]),r[s]&&r[s]!==s&&c<=100&&t(e,n,r,r[s],c+1)},Rd=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Gn=function(t,e,n,r){var s=e.x-t.x,c=e.y-t.y,f=r.x-n.x,v=r.y-n.y,b=(-c*(t.x-n.x)+s*(t.y-n.y))/(-f*c+s*v),x=(f*(t.y-n.y)-v*(t.x-n.x))/(-f*c+s*v);return b>=0&&b<=1&&x>=0&&x<=1},Ar=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=wi(Ki(n),4),s=r[0],c=r[1],f=r[2],v=r[3];return Gn(t,e,s,c)||Gn(t,e,s,v)||Gn(t,e,c,f)||Gn(t,e,f,v)},Cd=function(t,e,n,r){var s=[];return t.forEach(function(c){c!==e&&(c.x!==e.x&&c.y!==e.y||Ar(c,e,n)||Ar(c,e,r)||s.push(c))}),Gt(s)},Lf=function(t,e,n,r,s,c,f){var v=[],b=[e],x={},S={},D={};S[e.id]=0,D[e.id]=If(e,n,e);var I={};t.forEach(function(ne){I[ne.id]=ne});for(var V=function(){var ne=void 0,be=1/0;if(b.forEach(function(xe){D[xe.id]<be&&(be=D[xe.id],ne=xe)}),ne===n){var ge=[];return Nd(ge,I,x,n.id),{v:ge}}Rd(b,ne),v.push(ne),Cd(t,ne,r,s).forEach(function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Ce=D[ne.id]+vu(ne,xe);S[xe.id]&&Ce>=S[xe.id]||(x[xe.id]=ne.id,S[xe.id]=Ce,D[xe.id]=S[xe.id]+If(xe,n,e,c,f))}})};b.length;){var J=V();if(zr(J)==="object")return J.v}return[e,n]},zf=function(t){return zn(t)},Bf=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],s=t[e+1];n.x===r.x&&r.x===s.x||n.y===r.y&&r.y===s.y?t.splice(e,1):e++}return t},Gs=function(t,e,n,r,s){var c=zf(n),f=zf(r),v=Pr(c,s),b=Pr(f,s),x=ln(v,c,t),S=ln(b,f,e);if(Zo(v,b)){var D=Id(t,e,x,S);return[t,x].concat($s(D),[S,e])}var I=Oa([x,S]),V=Cf(v,I),J=Cf(b,I),ne=[];ne=(ne=ne.concat(Ki(V))).concat(Ki(J));var be={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[I,V,J].forEach(function(xe){ne=ne.concat(Dd(xe,be).filter(function(Ce){return gc(Ce,v)&&gc(Ce,b)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(xe){gc(xe,v)&&gc(xe,b)&&ne.push(xe)}),ne.unshift(x),ne.push(S),ne=Gt(ne);var ge=Lf(ne,x,S,c,f,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=Bf(ge)),Gt(ge)},Ff=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],s=ko(n.x,n.y,r.x,r.y),c=1;c<t.length-1;c++){var f=t[c],v=t[c+1],b=ko(f.x,f.y,v.x,v.y);b>s&&(s=b,n=f,r=v)}e=[n,r]}return e},Hs=function(t,e,n){var r=Yi(t,n),s=Yi(e,n);return r&&s},qi=function(t,e,n){var r=Yi(t,n),s=Yi(e,n);return!(r&&s)&&(r||s)},Wf=function(t,e,n){for(var r,s,c=zn(n),f=Ki(c),v=0;v<f.length;v++)Gn(t,e,f[v],f[(v+1)%f.length])&&(s=[f[v],f[(v+1)%f.length]]);return s&&(r=function(b,x,S,D){var I=(x.y-b.y)*(D.x-S.x)-(b.x-x.x)*(S.y-D.y);if(I===0)return!1;var V=((x.x-b.x)*(D.x-S.x)*(S.y-b.y)+(x.y-b.y)*(D.x-S.x)*b.x-(D.y-S.y)*(x.x-b.x)*S.x)/I,J=-((x.y-b.y)*(D.y-S.y)*(S.x-b.x)+(x.x-b.x)*(D.y-S.y)*b.y-(D.x-S.x)*(x.y-b.y)*S.y)/I;return(V-b.x)*(V-x.x)<=0&&(J-b.y)*(J-x.y)<=0&&(V-S.x)*(V-D.x)<=0&&(J-S.y)*(J-D.y)<=0&&{x:V,y:J}}(t,e,s[0],s[1])),r},gu=function(t,e){var n;return t.x===e.x?n=An.VERTICAL:t.y===e.y&&(n=An.HORIZONTAL),n},xi=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var s=wi(r.split(","),2),c=s[0],f=s[1];n.push({x:Number(c),y:Number(f)})}),n},Id=function(t,e,n,r){var s=[];if(gu(t,n)===gu(e,r))t.y===n.y?(s.push({x:n.x,y:(n.y+r.y)/2}),s.push({x:r.x,y:(n.y+r.y)/2})):(s.push({x:(n.x+r.x)/2,y:n.y}),s.push({x:(n.x+r.x)/2,y:r.y}));else{var c={x:n.x,y:r.y},f=oo(c,t,n),v=oo(c,e,r);if(f||v)c={x:r.x,y:n.y};else{var b=Ld(c,t,n),x=Ld(c,e,r);b&&x&&(c={x:r.x,y:n.y})}s.push(c)}return s},Ld=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},$f=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Uf=null,ev=function(t,e){Uf||(Uf=document.createElement("canvas"));var n=Uf.getContext("2d");return n.font=e,n.measureText(t).width},zd=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var s={start:n,end:r,offset:10,verticalLength:5},c=du(yu(yu({},s),{},{type:"start"})),f=du(yu(yu({},s),{},{type:"end"}));e="M".concat(c.leftX," ").concat(c.leftY,` 
    L`).concat(c.rightX," ").concat(c.rightY,` 
    L`).concat(f.rightX," ").concat(f.rightY,`
    L`).concat(f.leftX," ").concat(f.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},bc=function(t){var e=t.start,n=t.end,r=t.sourceNode,s=t.targetNode,c=t.offset,f=zn(r),v=zn(s),b=Pr(f,c),x=Pr(v,c);return{sNext:ln(b,f,e),ePre:ln(x,v,n)}},mc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[_c(e[0]),_c(e[1]),_c(e[2]),_c(e[3])]},_c=function(t){var e=wi(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Gf=function(t,e){var n=wi(t,4);return[Bn(n[0],n[1],n[2],n[3],e),t[3]]},Oc=function(t,e){for(var n,r=t.x,s=t.y,c=xi(e),f=Number.MAX_SAFE_INTEGER,v=[],b=0;b<c.length;b++)v.push({start:c[b],end:c[(b+1)%c.length]});if(v.forEach(function(I){var V=I.start,J=I.end;if(V.x===J.x){var ne={x:V.x,y:s};if(oo(ne,V,J)){var be=Math.abs(V.x-r);be<f&&(f=be,n=ne)}}else if(V.y===J.y){var ge={x:r,y:V.y};if(oo(ge,V,J)){var xe=Math.abs(V.y-s);xe<f&&(f=xe,n=ge)}}}),!n){var x=v[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Bd=function(t){return yi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Br(t,e){return typeof e!="function"?function(n,r,s){return Object.assign({type:t.edgeType},s)}:function(n,r,s){var c=e(n,r,s);return c?typeof c=="string"?Object.assign({},s,{type:c}):Object.assign({type:c},s):{type:t.edgeType}}}o(208);var wc=function(){};function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bo=function(){function t(r){var s=this,c=r.onDragStart,f=c===void 0?wc:c,v=r.onDragging,b=v===void 0?wc:v,x=r.onDragEnd,S=x===void 0?wc:x,D=r.eventType,I=D===void 0?"":D,V=r.eventCenter,J=V===void 0?null:V,ne=r.step,be=ne===void 0?1:ne,ge=r.isStopPropagation,xe=ge===void 0||ge,Ce=r.model,Qe=Ce===void 0?null:Ce,Ze=r.data,mt=Ze===void 0?null:Ze;(function(qe,yt){if(!(qe instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,t),rr(this,"onDragStart",void 0),rr(this,"onDragging",void 0),rr(this,"onDragEnd",void 0),rr(this,"step",void 0),rr(this,"isStopPropagation",void 0),rr(this,"isDragging",!1),rr(this,"isStartDragging",!1),rr(this,"startX",0),rr(this,"startY",0),rr(this,"sumDeltaX",0),rr(this,"sumDeltaY",0),rr(this,"eventType",void 0),rr(this,"eventCenter",void 0),rr(this,"model",void 0),rr(this,"data",void 0),rr(this,"startTime",void 0),rr(this,"handleMouseDown",function(qe){var yt,nt,Qt,on=(yt=window)===null||yt===void 0?void 0:yt.document;if(qe.button===0){s.isStopPropagation&&qe.stopPropagation(),s.isStartDragging=!0,s.startX=qe.clientX,s.startY=qe.clientY,on.addEventListener("mousemove",s.handleMouseMove,!1),on.addEventListener("mouseup",s.handleMouseUp,!1);var Rt=(nt=s.model)===null||nt===void 0?void 0:nt.getData();(Qt=s.eventCenter)===null||Qt===void 0||Qt.emit(dt["".concat(s.eventType,"_MOUSEDOWN")],{e:qe,data:s.data||Rt}),s.startTime=new Date().getTime()}}),rr(this,"handleMouseMove",function(qe){if(s.isStopPropagation&&qe.stopPropagation(),s.isStartDragging&&(s.sumDeltaX+=qe.clientX-s.startX,s.sumDeltaY+=qe.clientY-s.startY,s.startX=qe.clientX,s.startY=qe.clientY,s.step<=1||Math.abs(s.sumDeltaX)>s.step||Math.abs(s.sumDeltaY)>s.step)){var yt,nt=s.sumDeltaX%s.step,Qt=s.sumDeltaY%s.step,on=s.sumDeltaX-nt,Rt=s.sumDeltaY-Qt;s.sumDeltaX=nt,s.sumDeltaY=Qt;var fn,Qn=(yt=s.model)===null||yt===void 0?void 0:yt.getData();s.isDragging||((fn=s.eventCenter)===null||fn===void 0||fn.emit(dt["".concat(s.eventType,"_DRAGSTART")],{e:qe,data:s.data||Qn}),s.onDragStart({event:qe})),s.isDragging=!0,Promise.resolve().then(function(){var er,Fr;s.onDragging({deltaX:on,deltaY:Rt,event:qe}),(er=s.eventCenter)===null||er===void 0||er.emit(dt["".concat(s.eventType,"_MOUSEMOVE")],{e:qe,data:s.data||Qn}),(Fr=s.eventCenter)===null||Fr===void 0||Fr.emit(dt["".concat(s.eventType,"_DRAG")],{e:qe,data:s.data||Qn})})}}),rr(this,"handleMouseUp",function(qe){var yt=window.document;s.isStartDragging=!1,s.isStopPropagation&&qe.stopPropagation(),Promise.resolve().then(function(){var nt,Qt,on;yt.removeEventListener("mousemove",s.handleMouseMove,!1),yt.removeEventListener("mouseup",s.handleMouseUp,!1);var Rt=(nt=s.model)===null||nt===void 0?void 0:nt.getData();(Qt=s.eventCenter)===null||Qt===void 0||Qt.emit(dt["".concat(s.eventType,"_MOUSEUP")],{e:qe,data:s.data||Rt}),s.isDragging&&(s.isDragging=!1,s.onDragEnd({event:qe}),(on=s.eventCenter)===null||on===void 0||on.emit(dt["".concat(s.eventType,"_DROP")],{e:qe,data:s.data||Rt}))})}),rr(this,"cancelDrag",function(){var qe,yt=(qe=window)===null||qe===void 0?void 0:qe.document;yt.removeEventListener("mousemove",s.handleMouseMove,!1),yt.removeEventListener("mouseup",s.handleMouseUp,!1),s.onDragEnd({event:null}),s.isDragging=!1}),this.onDragStart=f,this.onDragging=b,this.onDragEnd=S,this.step=be,this.isStopPropagation=xe,this.eventType=I,this.eventCenter=J,this.model=Qe,this.data=mt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&tv(e.prototype,n),t}();function xc(t){return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yf(t,e,n){return e&&nv(t.prototype,e),t}function Xs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sc(t,e)}function Vf(t){var e=Fd();return function(){var n,r=jc(t);if(e){var s=jc(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return rv(this,n)}}function rv(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ei(t)}function Ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ec(t){var e=typeof Map=="function"?new Map:void 0;return Ec=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return Kf(n,arguments,jc(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Sc(s,n)},Ec(t)}function Kf(t,e,n){return Kf=Fd()?Reflect.construct:function(r,s,c){var f=[null];f.push.apply(f,s);var v=new(Function.bind.apply(r,f));return c&&Sc(v,c.prototype),v},Kf.apply(null,arguments)}function Fd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Sc(t,e){return Sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sc(t,e)}function jc(t){return jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jc(t)}function Pc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wd(t,e){return t instanceof vr&&e instanceof vr}var $d=function(t){Xs(n,t);var e=Vf(n);function n(r,s,c){var f;return Xf(this,n),Pc(Ei(f=e.call(this,3)),"x",void 0),Pc(Ei(f),"y",void 0),Pc(Ei(f),"z",void 0),f[0]=r,f[1]=s,f[2]=c,f.x=r,f.y=s,f.z=c,Object.setPrototypeOf(Ei(f),n.prototype),f}return Yf(n,[{key:"add",value:function(r){if(Wd(this,r))return new vr(this.x+r.x,this.y+r.y);var s=this.z+r.z;return new l((this.x+r.x)/s,(this.y+r.y)/s)}},{key:"subtract",value:function(r){if(Wd(this,r))return new vr(this.x-r.x,this.y-r.y);var s=this.z-r.z;return s===0?new vr(this.x-r.x,this.y-r.y):new l((this.x-r.x)/s,(this.y-r.y)/s)}}]),n}(Ec(Array)),vr=function(t){Xs(n,t);var e=Vf(n);function n(r,s,c){var f;return Xf(this,n),f=e.call(this,r,s,c!=null?c:0),Object.setPrototypeOf(Ei(f),n.prototype),f}return Yf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var s=this;return r.reduce(function(c,f,v){return c+f*s[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var s=this.crossZ(r),c=Math.acos(this.normalize().dot(r.normalize()));return s>=0?c:-c}}]),n}($d),l=function(t){Xs(n,t);var e=Vf(n);function n(r,s){var c;return Xf(this,n),c=e.call(this,r,s,1),Object.setPrototypeOf(Ei(c),n.prototype),c}return Yf(n,[{key:"toString",value:function(){return"Point"}}]),n}($d);o(67),o(218);function y(t){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(t)}function _(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||R(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(t){return function(e){if(Array.isArray(e))return $(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||R(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R(t,e){if(t){if(typeof t=="string")return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function $(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return e&&fe(t.prototype,e),t}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}function Ne(t){var e=Be();return function(){var n,r=At(t);if(e){var s=At(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(t,e){if(e&&(y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}function ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){var e=typeof Map=="function"?new Map:void 0;return ht=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return St(n,arguments,At(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Ge(s,n)},ht(t)}function St(t,e,n){return St=Be()?Reflect.construct:function(r,s,c){var f=[null];f.push.apply(f,s);var v=new(Function.bind.apply(r,f));return c&&Ge(v,c.prototype),v},St.apply(null,arguments)}function Be(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ge(t,e){return Ge=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ge(t,e)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(t)}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var le,zt,tn,Ot,kt,or,Vr,No,ir,Jo,Si,bu,Ac,Qo=function(t){Le(n,t);var e=Ne(n);function n(){var r;oe(this,n);for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];return at(ot(r=e.call(this,c.length)),"rows",void 0),at(ot(r),"columns",void 0),r.fill(new Array(3)),c.forEach(function(v,b){r[b]=v}),r.columns=c[0].length,r.rows=c.length,Object.setPrototypeOf(ot(r),n.prototype),r}return Oe(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return A(this.map(function(s){return s[r]}))}},{key:"transpose",value:function(){for(var r=[],s=0;s<this.columns;s++)r.push(this.getColumn(s));return St(n,r)}},{key:"cross",value:function(r){var s=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var c=0;c<this.rows;c++)for(var f=this.getRow(c),v=function(x){var S=r.getColumn(x);s[c][x]=f.reduce(function(D,I,V){return D+I*S[V]},0)},b=0;b<r.columns;b++)v(b);return St(n,A(s))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new l(r[0],r[1])})}},{key:"toString",value:function(){var r=_(this[0],2),s=r[0],c=r[1],f=_(this[1],2),v=f[0],b=f[1],x=_(this[2],2),S=x[0],D=x[1];return"matrix(".concat(s," ").concat(c," ").concat(v," ").concat(b," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,s){return this.cross(new mu(r,s))}},{key:"rotate",value:function(r){return this.cross(new Zi(r))}},{key:"scale",value:function(r,s){return this.cross(new qf(r,s))}}]),n}(ht(Array)),Zi=function(t){Le(n,t);var e=Ne(n);function n(r){var s;return oe(this,n),s=e.call(this,new vr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new vr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new vr(0,0,1)),Object.setPrototypeOf(ot(s),n.prototype),s}return Oe(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(Qo),qf=function(t){Le(n,t);var e=Ne(n);function n(r,s){var c;return oe(this,n),at(ot(c=e.call(this,new vr(r,0,0),new vr(0,s,0),new vr(0,0,1))),"sx",void 0),at(ot(c),"sy",void 0),c.sx=r,c.sy=s,Object.setPrototypeOf(ot(c),n.prototype),c}return Oe(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(Qo),mu=function(t){Le(n,t);var e=Ne(n);function n(r,s){var c;return oe(this,n),at(ot(c=e.call(this,new vr(1,0,0),new vr(0,1,0),new vr(r,s,1))),"tx",void 0),at(ot(c),"ty",void 0),c.tx=r,c.ty=s,Object.setPrototypeOf(ot(c),n.prototype),c}return Oe(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(Qo),Mc={node:!1,edge:!1},Zf={node:!0,edge:!0};function Tc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tc(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||kc(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ji(t){return function(e){if(Array.isArray(e))return ov(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||kc(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kc(t,e){if(t){if(typeof t=="string")return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ov(t,e):void 0}}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ud(t){return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function ei(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Zm,Jm=200,Qm=(le=function(){function t(r){(function(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),Pi(this,"rootEl",void 0),ei(this,"width",zt,this),ei(this,"height",tn,this),Pi(this,"theme",void 0),Pi(this,"eventCenter",void 0),Pi(this,"modelMap",new Map),Pi(this,"topElement",void 0),Pi(this,"animation",void 0),Pi(this,"idGenerator",void 0),Pi(this,"edgeGenerator",void 0),Pi(this,"nodeMoveRules",[]),Pi(this,"customTrajectory",void 0),ei(this,"edgeType",Ot,this),ei(this,"nodes",kt,this),ei(this,"edges",or,this),ei(this,"overlapMode",Vr,this),ei(this,"background",No,this),ei(this,"transformModel",ir,this),ei(this,"editConfigModel",Jo,this),ei(this,"gridSize",Si,this),ei(this,"partial",bu,this),ei(this,"fakerNode",Ac,this);var s,c=r.container,f=r.background,v=f===void 0?{}:f,b=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,I=r.customTrajectory;this.background=v,Ud(b)==="object"&&(this.gridSize=b.size),this.rootEl=c,this.editConfigModel=new Xl(r),this.eventCenter=new id,this.transformModel=new Hp(this.eventCenter,r),this.theme=ga(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(s=D)&&typeof s!="boolean"?cc(mn(Mc),s):mn(s===!0?Zf:Mc),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=I,this.edgeGenerator=Br(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Oi()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"modelsMap",get:function(){return[].concat(ji(this.nodes),ji(this.edges)).reduce(function(r,s){return r[s.id]=s,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var s=[],c=[-200,-200],f=[this.width+Jm,this.height+Jm],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,c,f,!1,!1))&&s.push(b)}return s}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(c){return c.state===gn.TEXT_EDIT}),s=this.edges.find(function(c){return c.state===gn.TEXT_EDIT});return r||s}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(s){s.isSelected&&r.set(s.id,s)}),this.edges.forEach(function(s){s.isSelected&&r.set(s.id,s)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(s){s.isSelected&&r.push(s)}),r}},{key:"getAreaElement",value:function(r,s){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(I){return x.push(I)}),this.edges.forEach(function(I){return x.push(I)});for(var S=0;S<x.length;S++){var D=x[S];v&&!D.visible||!this.isElementInArea(D,r,s,c,f)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var s;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(s=this.nodesMap[r])===null||s===void 0?void 0:s.model}},{key:"getPointByClient",value:function(r){var s=r.x,c=r.y,f=this.rootEl.getBoundingClientRect(),v={x:s-f.left,y:c-f.top},b=xa(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,s,c){var f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Zn.NODE){for(var b=zn(r=r),x=b.minX,S=b.minY,D=b.maxX,I=b.maxY,V=[{x,y:S},{x:D,y:S},{x:D,y:I},{x,y:I}],J=v,ne=0;ne<V.length;ne++){var be=V[ne],ge=be.x,xe=be.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,xe]),Qe=xa(Ce,2);if(ge=Qe[0],xe=Qe[1],fc([ge,xe],s,c)!==v){J=!v;break}}return J}if(r.BaseType===Zn.EDGE){var Ze=r=r,mt=Ze.startPoint,qe=Ze.endPoint,yt=this.transformModel.CanvasPointToHtmlPoint([mt.x,mt.y]),nt=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),Qt=fc(yt,s,c),on=fc(nt,s,c);return f?Qt&&on:Qt||on}return!1}},{key:"graphDataToModel",value:function(r){var s=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=rs(r.nodes,function(c){return s.getModelAfterSnapToGrid(c)}):this.nodes=[],r.edges?this.edges=rs(r.edges,function(c){var f=s.getModel(c.type);if(!f)throw new Error("找不到".concat(c.type,"对应的边。"));return new f(c,s)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(c){var f=c.getData();f&&!c.virtual&&r.push(f)});var s=[];return this.nodes.forEach(function(c){var f=c.getData();f&&!c.virtual&&s.push(f)}),{nodes:s,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,s=[],c=0;c<this.nodes.length;c++){var f=this.nodes[c];if(f.isDragging){r=!0;break}s.push(f.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){v=!0;break}b.push(S.getHistoryData())}return!v&&{nodes:s,edges:b}}},{key:"getEdgeModelById",value:function(r){var s;return(s=this.edgesMap[r])===null||s===void 0?void 0:s.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var s=[],c=0;c<this.edges.length;c++){var f=this.edges[c],v=this.edges[c].sourceNodeId===r,b=this.edges[c].targetNodeId===r;(v||b)&&s.push(f)}return s}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=this.selectElements,c={nodes:[],edges:[]};return s.forEach(function(f){if(f.BaseType===Zn.NODE&&c.nodes.push(f.getData()),f.BaseType===Zn.EDGE){var v=f.getData(),b=s.get(v.sourceNodeId)&&s.get(v.targetNodeId);(r||b)&&c.edges.push(v)}}),c}},{key:"updateAttributes",value:function(r,s){this.getElement(r).updateAttributes(s)}},{key:"changeNodeId",value:function(r,s){return s||(s=Oi()),this.nodesMap[s]?"":this.nodesMap[r]?(this.edges.forEach(function(c){c.sourceNodeId===r&&(c.sourceNodeId=s),c.targetNodeId===r&&(c.targetNodeId=s)}),this.nodesMap[r].model.id=s,this.nodesMap[s]=this.nodesMap[r],s):""}},{key:"changeEdgeId",value:function(r,s){return s||(s=Oi()),this.edgesMap[s]?"":this.edgesMap[r]?(this.edges.forEach(function(c){c.id===r&&c.changeEdgeId(s)}),s):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,s){return this.modelMap.set(r,s)}},{key:"toFront",value:function(r){var s,c,f,v=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);v&&(this.overlapMode===Ln.DEFAULT&&((f=this.topElement)===null||f===void 0||f.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===Ln.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,s){var c,f,v,b=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((f=this.edgesMap[r])===null||f===void 0?void 0:f.model);b&&(typeof s=="number"&&(v=s),s==="top"&&(v=wf()),s==="bottom"&&(v=--Yy),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var s=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(dt.NODE_DELETE,{data:s})}},{key:"addNode",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0,f=jr(r);f.id&&this.nodesMap[r.id]&&delete f.id;var v=this.getModelAfterSnapToGrid(f);this.nodes.push(v);var b=v.getData(),x={data:b};return c&&(x.e=c),this.eventCenter.emit(s,x),v}},{key:"getModelAfterSnapToGrid",value:function(r){var s=this.getModel(r.type);if(!s)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var c=r.x,f=r.y;return c&&f&&(r.x=Hi(c,this.gridSize),r.y=Hi(f,this.gridSize),Ud(r.text)==="object"&&(r.text.x+=r.x-c,r.text.y+=r.y-f)),new s(r,this)}},{key:"cloneNode",value:function(r){var s=this.getNodeModelById(r),c=s.getData();c.x+=30,c.y+=30,delete c.id,c.text&&(c.text.x+=30,c.text.y+=30);var f=this.addNode(c);return f.setSelected(!0),s.setSelected(!1),f.getData()}},{key:"moveNode",value:function(r,s,c){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(s,c,f),S=xa(x,2);s=S[0],c=S[1],this.moveEdge(r,s,c)}}},{key:"moveNode2Coordinate",value:function(r,s,c){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,S=b.y,D=s-x,I=c-S;this.moveNode(r,D,I,f)}}},{key:"editText",value:function(r){this.setElementStateById(r,gn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var s=jr(r),c=s.type;c||(c=this.edgeType),s.id&&this.edgesMap[s.id]&&delete s.id;var f=this.getModel(c);if(!f)throw new Error("找不到".concat(c,"对应的边，请确认是否已注册此类型边。"));var v=new f(wa(wa({},s),{},{type:c}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(dt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,s,c){for(var f=0;f<this.edges.length;f++){var v=this.edges[f],b=v.textPosition,x=b.x,S=b.y,D=this.edges[f].sourceNodeId===r,I=this.edges[f].targetNodeId===r;D&&v.moveStartPoint(s,c),I&&v.moveEndPoint(s,c),(D||I)&&this.handleEdgeTextMove(v,x,S)}}},{key:"handleEdgeTextMove",value:function(r,s,c){var f;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Kt.POLYLINE_EDGE&&(f=r.text)!==null&&f!==void 0&&f.value){var v=r.text,b=Oc(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-s,D-c)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,s){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r&&this.edges[c].targetNodeId===s){var f=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(dt.EDGE_DELETE,{data:f})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var s=this.edgesMap[r].index,c=this.edgesMap[r].model.getData();this.edges.splice(s,1),this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeBySource",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeByTarget",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].targetNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"setElementStateById",value:function(r,s,c){this.nodes.forEach(function(f){f.id===r?f.setElementState(s,c):f.setElementState(gn.DEFAULT)}),this.edges.forEach(function(f){f.id===r?f.setElementState(s,c):f.setElementState(gn.DEFAULT)})}},{key:"updateText",value:function(r,s){this.nodes.forEach(function(c){c.id===r&&c.updateText(s)}),this.edges.forEach(function(c){c.id===r&&c.updateText(s)})}},{key:"selectNodeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var f=(s=this.nodesMap[r])===null||s===void 0?void 0:s.model;f==null||f.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var f=(s=this.edgesMap[r])===null||s===void 0?void 0:s.model;f==null||f.setSelected(!0)}},{key:"selectElementById",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var c=this.getElement(r);c==null||c.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(s){s==null||s.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Ln.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,s,c){for(var f=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(Ze,mt){var qe=f.nodesMap[mt].model.getMoveDistance(s,c,v);return Ze[mt]=qe,Ze},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,I=D.x,V=D.y,J=b[S.sourceNodeId],ne=b[S.targetNodeId],be=void 0,ge=void 0;if(J&&ne&&S.modelType===Kt.POLYLINE_EDGE){var xe=xa(J,2);be=xe[0],ge=xe[1],S.updatePointsList(be,ge)}else{if(J){var Ce=xa(J,2);be=Ce[0],ge=Ce[1],S.moveStartPoint(be,ge)}if(ne){var Qe=xa(ne,2);be=Qe[0],ge=Qe[1],S.moveEndPoint(be,ge)}}(J||ne)&&this.handleEdgeTextMove(S,I,V)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,s){var c=this.getNodeModelById(r);if(c){var f=c.getData();f.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(f,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=md(b,x.startPoint,b.width,b.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=md(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,s){var c=this.getEdgeModelById(r);if(c&&c.type!==s){var f=c.getData();f.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));delete f.pointsList;var b=new v(f,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.targetNodeId===r&&s.push(c)}),s}},{key:"getNodeOutgoingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&s.push(c)}),s}},{key:"getAnchorIncomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.targetAnchorId===r&&s.push(c)}),s}},{key:"getAnchorOutcomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.sourceAnchorId===r&&s.push(c)}),s}},{key:"getNodeIncomingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(f){f.targetNodeId===r&&c.push(s.nodesMap[f.sourceNodeId].model)}),c}},{key:"getNodeOutgoingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(f){f.sourceNodeId===r&&c.push(s.nodesMap[f.targetNodeId].model)}),c}},{key:"setTheme",value:function(r){this.theme=ga(wa(wa({},this.theme),r))}},{key:"resize",value:function(r,s){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=s||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,s=[],c=[];r.forEach(function(D){var I=D.x,V=D.y,J=D.width,ne=D.height,be=D.getNodeStyle().strokeWidth,ge=be===void 0?0:be,xe=I+J/2+ge,Ce=I-J/2-ge,Qe=V+ne/2+ge,Ze=V-ne/2-ge;s=s.concat([xe,Ce].filter(function(mt){return!Number.isNaN(mt)})),c=c.concat([Qe,Ze].filter(function(mt){return!Number.isNaN(mt)}))});var f=Math.min.apply(Math,ji(s)),v=Math.max.apply(Math,ji(s)),b=Math.min.apply(Math,ji(c)),x=v-f||0,S=Math.max.apply(Math,ji(c))-b||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:f+x/2,virtualRectCenterPositionY:b+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,s=this.width,c=this.height,f=this.rootEl,v=this.transformModel;if(r.length){var b=s||f.clientWidth,x=c||f.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,I=S.virtualRectCenterPositionY;v.focusOn(D,I,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,c=this.nodes,f=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(c.length){var S=f||b.clientWidth,D=v||b.clientHeight,I=this.getVirtualRectSize(),V=I.virtualRectWidth,J=I.virtualRectHeight,ne=I.virtualRectCenterPositionX,be=I.virtualRectCenterPositionY,ge=(V+s)/S,xe=(J+r)/D,Ce=0;Ce=1/Math.max(ge,xe);var Qe=[S/2,D/2];x.zoom(Ce,Qe),x.focusOn(ne,be,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&wE(e.prototype,n),t}(),zt=wt(le.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=wt(le.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=wt(le.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=wt(le.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),or=wt(le.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vr=wt(le.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ln.DEFAULT}}),No=wt(le.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=wt(le.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=wt(le.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=wt(le.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bu=wt(le.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ac=wt(le.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt(le.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),wt(le.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),wt(le.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),wt(le.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),wt(le.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),wt(le.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),wt(le.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectNodes"),le.prototype),wt(le.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),wt(le.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),wt(le.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),wt(le.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),wt(le.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),wt(le.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),wt(le.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),wt(le.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),wt(le.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),wt(le.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),wt(le.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),wt(le.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),wt(le.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),wt(le.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),wt(le.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),wt(le.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),wt(le.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),wt(le.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),wt(le.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),wt(le.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),wt(le.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),wt(le.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),wt(le.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),wt(le.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),wt(le.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),wt(le.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),wt(le.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),wt(le.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),wt(le.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),wt(le.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorIncomingEdge"),le.prototype),wt(le.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorOutcomingEdge"),le.prototype),wt(le.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),wt(le.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),wt(le.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),wt(le.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),wt(le.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),wt(le.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),wt(le.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),wt(le.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"openEdgeAnimation"),le.prototype),wt(le.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"closeEdgeAnimation"),le.prototype),le),xE=Qm;function iv(t){return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function av(){return av=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function EE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uv(t,e){return uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},uv(t,e)}function SE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gd(t);if(e){var s=Gd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return jE(this,n)}}function jE(t,e){if(e&&(iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ji(t)}function Ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gd(t)}function Ea(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e0,PE=ki(Zm=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&uv(c,f)})(s,t);var e,n,r=SE(s);function s(c){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Ea(Ji(f=r.call(this)),"stepDrag",void 0),Ea(Ji(f),"stepScrollX",0),Ea(Ji(f),"stepScrollY",0),Ea(Ji(f),"onDragging",function(S){var D=S.deltaX,I=S.deltaY;f.setState({isDragging:!0});var V=f.props.graphModel,J=V.transformModel;V.editConfigModel.stopMoveGraph!==!0&&J.translate(D,I)}),Ea(Ji(f),"onDragEnd",function(){f.setState({isDragging:!1})}),Ea(Ji(f),"zoomHandler",function(S){var D=f.props,I=D.graphModel,V=I.editConfigModel,J=I.transformModel,ne=I.gridSize,be=D.graphModel,ge=S.deltaX,xe=S.deltaY;if(V.stopScrollGraph||S.ctrlKey===!0){if(!V.stopZoomGraph){S.preventDefault();var Ce=be.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y;J.zoom(S.deltaY<0,[Qe,Ze])}}else{if(S.preventDefault(),f.stepScrollX+=ge,f.stepScrollY+=xe,Math.abs(f.stepScrollX)>=ne){var mt=f.stepScrollX%ne,qe=f.stepScrollX-mt;J.translate(-qe*J.SCALE_X,0),f.stepScrollX=mt}if(Math.abs(f.stepScrollY)>=ne){var yt=f.stepScrollY%ne,nt=f.stepScrollY-yt;J.translate(0,-nt*J.SCALE_Y),f.stepScrollY=yt}}}),Ea(Ji(f),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=f.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(dt.BLANK_CLICK,{e:S})}}),Ea(Ji(f),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=f.props.graphModel,I=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(dt.BLANK_CONTEXTMENU,{e:S,position:I})}}),Ea(Ji(f),"mouseDownHandler",function(S){var D=f.props.graphModel,I=D.eventCenter,V=D.editConfigModel,J=D.transformModel.SCALE_X,ne=D.gridSize,be=S.target,ge=!V.adjustEdge&&!V.adjustNodePosition;(be.getAttribute("name")==="canvas-overlay"||ge)&&(V.stopMoveGraph!==!0?(f.stepDrag.setStep(ne*J),f.stepDrag.handleMouseDown(S)):I.emit(dt.BLANK_MOUSEDOWN,{e:S}),f.clickHandler(S))});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return f.stepDrag=new bo({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),f.state={isDragging:!1},f}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props,v=f.children,b=f.dnd,x=this.state.isDragging;return Object(pe.g)("svg",av({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:c},v))}}])&&EE(e.prototype,n),s}(pe.a))||Zm;function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function AE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ME(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function TE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hd(t);if(e){var s=Hd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return kE(this,n)}}function kE(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hd(t)}var DE=ki(e0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&sv(c,f)})(s,t);var e,n,r=TE(s);function s(){return AE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var c=this.props,f=c.tool,v=c.graphModel,b=f.getTools().map(function(x){return Object(pe.g)(x,{graphModel:v,logicFlow:f.instance})});return f.components=b,b}},{key:"triggerToolRender",value:function(){var c=this.props,f=c.tool,v=c.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=f.getInstance();x.components.forEach(function(S){return S(x,b)}),x.components=[]}},{key:"render",value:function(){var c=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(c.flowId)},this.getTools())}}])&&ME(e.prototype,n),s}(pe.a))||e0;function lv(t){return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function NE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fv(t,e){return fv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fv(t,e)}function CE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xd(t);if(e){var s=Xd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return IE(this,n)}}function IE(t,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xd(t)}var t0,LE=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&fv(c,f)})(s,t);var e,n,r=CE(s);function s(){return NE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:c,className:"lf-background-area"}))}}])&&RE(e.prototype,n),s}(pe.a);function pv(t){return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dv(t,e){return dv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dv(t,e)}function FE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yd(t);if(e){var s=Yd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return WE(this,n)}}function WE(t,e){if(e&&(pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n0(t)}function n0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yd(t)}function $E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r0=ki(t0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&dv(c,f)})(s,t);var e,n,r=FE(s);function s(){var c;zE(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return $E(n0(c=r.call.apply(r,[this].concat(v))),"id",Oi()),c}return e=s,(n=[{key:"renderDot",value:function(){var c=this.props,f=c.config,v=f.color,b=f.thickness,x=b===void 0?2:b,S=c.size,D=c.visible,I=Math.min(Math.max(2,x),S/2),V=1;return D||(V=0),Object(pe.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:v,opacity:V})}},{key:"renderMesh",value:function(){var c=this.props,f=c.config,v=f.color,b=f.thickness,x=b===void 0?1:b,S=c.size,D=c.visible,I=Math.min(Math.max(1,x),S/2),V="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),J=1;return D||(J=0),Object(pe.g)("path",{d:V,stroke:v,strokeWidth:I,opacity:J})}},{key:"render",value:function(){var c=this.props,f=c.type,v=c.size,b=c.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:v,height:v},f==="dot"&&this.renderDot(),f==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&BE(e.prototype,n),s}(pe.a))||t0;r0.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function UE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return o0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i0,Ys=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=UE(n,2),s=r[0],c=r[1];(s==="style"||hv(c)!=="object")&&(e[s]=c)}),Object(pe.g)("line",e)};function yv(t){return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function a0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a0(Object(n),!0).forEach(function(r){GE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vv(t,e){return vv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vv(t,e)}function YE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kd(t);if(e){var s=Kd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return VE(this,n)}}function VE(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Kd(t){return Kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kd(t)}var u0,KE=ki(i0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&vv(c,f)})(s,t);var e,n,r=YE(s);function s(){return HE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.snaplineModel,f=c.position,v=c.isShowHorizontal,b=c.isShowVertical,x=c.getStyle(),S=f.x,D=S===void 0?0:S,I=f.y,V=I===void 0?0:I,J=Vd(Vd({x1:-1e5,y1:V,x2:1e5,y2:V},x),{},{stroke:v?x.stroke:"none"}),ne=Vd(Vd({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(Ys,J),Object(pe.g)(Ys,ne))}}])&&XE(e.prototype,n),s}(pe.a))||i0;function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function qE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return c0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _u(t){var e=t.x,n=t.y,r=t.width,s=t.height,c=t.className,f=t.radius,v=e-r/2,b=n-s/2,x={};return Object.entries(t).forEach(function(S){var D=qE(S,2),I=D[0],V=D[1];gv(V)!=="object"&&(x[I]=V)}),x.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",f&&(x.rx=f,x.ry=f),x.x=v,x.y=b,Object(pe.g)("rect",x)}function bv(t){return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function Vs(){return Vs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vs.apply(this,arguments)}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function l0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mv(t,e){return mv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mv(t,e)}function eS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qd(t);if(e){var s=qd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return tS(this,n)}}function tS(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(t)}_u.defaultProps={className:"",radius:""};var f0,nS=ki(u0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&mv(c,f)})(s,t);var e,n,r=eS(s);function s(){return JE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getNodesOutline",value:function(){var c=this.props.graphModel,f=c.nodes,v=c.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,S=[];return f.forEach(function(D){if(D.isHovered||D.isSelected){var I=D.isHovered,V=D.isSelected,J=D.x,ne=D.y,be=D.width,ge=D.height;if(x&&V||b&&I){var xe=D.getOutlineStyle(),Ce={};if(Object.keys(xe).forEach(function(Ze){Ze!=="hover"&&(Ce[Ze]=xe[Ze])}),I){var Qe=xe.hover;Ce=l0(l0({},Ce),Qe)}S.push(Object(pe.g)(_u,Vs({transform:D.transform,className:"lf-outline-node",x:J,y:ne,width:be+10,height:ge+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var c=this.props.graphModel,f=c.edges,v=c.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,S=[],D=0;D<f.length;D++){var I=f[D];(b&&I.isSelected||x&&I.isHovered)&&(I.modelType===Kt.LINE_EDGE?S.push(this.getLineOutline(I)):I.modelType===Kt.POLYLINE_EDGE?S.push(this.getPolylineOutline(I)):I.modelType===Kt.BEZIER_EDGE&&S.push(this.getBezierOutline(I)))}return S}},{key:"getLineOutline",value:function(c){var f=c.startPoint,v=c.endPoint,b=(f.x+v.x)/2,x=(f.y+v.y)/2,S=Math.abs(f.x-v.x)+10,D=Math.abs(f.y-v.y)+10,I=c.getOutlineStyle();return Object(pe.g)(_u,Vs({className:"lf-outline-edge",x:b,y:x,width:S,height:D},I))}},{key:"getPolylineOutline",value:function(c){var f=c.points,v=xi(f),b=Oa(v,8),x=b.x,S=b.y,D=b.width,I=b.height,V=c.getOutlineStyle();return Object(pe.g)(_u,Vs({className:"lf-outline",x,y:S,width:D,height:I},V))}},{key:"getBezierOutline",value:function(c){var f=c.path,v=mc(f),b=Oa(v,8),x=b.x,S=b.y,D=b.width,I=b.height,V=c.getOutlineStyle();return Object(pe.g)(_u,Vs({className:"lf-outline",x,y:S,width:D,height:I},V))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&QE(e.prototype,n),s}(pe.a))||u0;function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function rS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return p0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ks(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.r,f=c===void 0?4:c,v=t.className,b={cx:n,cy:s,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=rS(x,2),D=S[0],I=S[1];_v(I)!=="object"&&(b[D]=I)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function Ov(t){return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function oS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return d0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return d0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jf(){return Jf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}function h0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y0(t,e,n){return e&&iS(t.prototype,e),t}function v0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wv(t,e)}function g0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jd(t);if(e){var s=Jd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zd(t)}function Zd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(t)}function xv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b0,m0=function(t){v0(n,t);var e=g0(n);function n(){var r;return h0(this,n),xv(Zd(r=e.call(this)),"dragHandler",void 0),xv(Zd(r),"onDragging",function(s){var c=s.event,f=r.props,v=f.graphModel,b=f.bezierModel,x=f.type,S=v.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,D=S.x,I=S.y;b.updateAdjustAnchor({x:D,y:I},x),v.eventCenter.emit(dt.EDGE_ADJUST,{data:b.getData()})}),xv(Zd(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new bo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return y0(n,[{key:"render",value:function(){var r=this,s=this.props.position,c=s.x,f=s.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(Ks,Jf({className:"lf-bezier-adjust-anchor",x:c,y:f},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(pe.a),uS=ki(f0=function(t){v0(n,t);var e=g0(n);function n(){return h0(this,n),e.apply(this,arguments)}return y0(n,[{key:"getBezierAdjust",value:function(r,s){var c=r.path,f=r.id,v=oS(mc(c),4),b=v[0],x=v[1],S=v[2],D=v[3],I=r.getEdgeStyle().adjustLine,V=[];return V.push(Object(pe.g)(Ys,Jf({x1:b.x,y1:b.y,x2:x.x,y2:x.y},I))),V.push(Object(pe.g)(m0,{position:x,bezierModel:r,graphModel:s,key:"".concat(f,"_ePre"),type:"sNext"})),V.push(Object(pe.g)(Ys,Jf({x1:D.x,y1:D.y,x2:S.x,y2:S.y},I))),V.push(Object(pe.g)(m0,{position:S,bezierModel:r,graphModel:s,key:"".concat(f,"_sNext"),type:"ePre"})),V}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,s=r.edges,c=[],f=0;f<s.length;f++){var v=s[f];v.isSelected&&v.modelType===Kt.BEZIER_EDGE&&v.draggable&&c.push(this.getBezierAdjust(v,r))}return c}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(pe.a))||f0;function Ev(t){return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function cS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sv(t,e){return Sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sv(t,e)}function lS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qd(t);if(e){var s=Qd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return fS(this,n)}}function fS(t,e){if(e&&(Ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qd(t)}var _0,pS=ki(b0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Sv(c,f)})(s,t);var e,n,r=lS(s);function s(){return cS(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:c},f))}}])&&sS(e.prototype,n),s}(pe.a))||b0;function jv(t){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Pv(){return Pv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function dS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Av(t,e)}function yS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eh(t);if(e){var s=eh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return vS(this,n)}}function vS(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eh(t)}var gS=ki(_0=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Av(c,f)})(s,t);var e,n,r=yS(s);function s(){return dS(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getComponent",value:function(c,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(c.type);return Object(pe.g)(x,{key:c.id,model:c,graphModel:f,overlay:v})}},{key:"render",value:function(){var c=this,f=this.props,v=f.graphModel,b=f.tool,x=f.options,S=f.dnd,D=f.snaplineModel,I={};x.width&&(I.width="".concat(v.width,"px")),x.height&&(I.height="".concat(v.height,"px"));var V=x.grid,J=v.fakerNode,ne=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:I},Object(pe.g)(PE,{graphModel:v,dnd:S},Object(pe.g)("g",{className:"lf-base"},rs(v.sortElements,function(be){return c.getComponent(be,v)})),J?this.getComponent(J,v):""),Object(pe.g)(pS,{graphModel:v},Object(pe.g)(nS,{graphModel:v}),ne?Object(pe.g)(uS,{graphModel:v}):"",x.snapline!==!1?Object(pe.g)(KE,{snaplineModel:D}):""),Object(pe.g)(DE,{graphModel:v,tool:b}),x.background&&Object(pe.g)(LE,{background:x.background}),x.grid&&Object(pe.g)(r0,Pv({},V,{graphModel:v})))}}],n&&hS(e.prototype,n),s}(pe.a))||_0,bS=gS;function O0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(n),!0).forEach(function(r){Sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _S=function(){function t(r){var s=this;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),Sa(this,"nodeConfig",void 0),Sa(this,"lf",void 0),Sa(this,"fakerNode",void 0),Sa(this,"stopDrag",function(){s.nodeConfig=null,window.document.removeEventListener("mouseup",s.stopDrag)}),Sa(this,"dragEnter",function(f){s.nodeConfig&&!s.fakerNode&&(s.fakerNode=s.lf.createFakerNode(th(th({},s.nodeConfig),s.clientToLocalPoint({x:f.clientX,y:f.clientY}))))}),Sa(this,"onDragOver",function(f){if(f.preventDefault(),s.fakerNode){var v=s.clientToLocalPoint({x:f.clientX,y:f.clientY}),b=v.x,x=v.y;s.fakerNode.moveTo(b,x);var S=s.fakerNode.getData();s.lf.setNodeSnapLine(S),s.lf.graphModel.eventCenter.emit(dt.NODE_DND_DRAG,{data:S})}return!1}),Sa(this,"onDragLeave",function(){s.fakerNode&&(s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)}),Sa(this,"onDrop",function(f){s.lf.graphModel&&f&&s.nodeConfig&&(s.lf.addNode(th(th({},s.nodeConfig),s.clientToLocalPoint({x:f.clientX,y:f.clientY})),dt.NODE_DND_ADD,f),f.preventDefault(),f.stopPropagation(),s.nodeConfig=null,s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)});var c=r.lf;this.lf=c}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var s=r.x,c=r.y,f=qa(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:s,y:c}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Hi(b,f),y:Hi(x,f)}}},{key:"startDrag",value:function(r){var s=this.lf.graphModel.editConfigModel;s!=null&&s.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&mS(e.prototype,n),t}();function w0(t){var e=t.container,n=t.grid,r=t.width,s=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof s=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=cc({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),cc({},E0,t)}var _n,x0,E0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Mv(t){return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function Tv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return S0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return S0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j0(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(){return Qf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ES(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Qf.apply(this,arguments)}function ES(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ou(t))!==null;);return t}function kv(t,e){return kv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kv(t,e)}function SS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ou(t);if(e){var s=Ou(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return jS(this,n)}}function jS(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rh(t)}function rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ou(t){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(t)}function P0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ai(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Dv=(_n=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&kv(c,f)})(s,t);var e,n,r=SS(s);function s(){var c;wS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return P0(rh(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.BEZIER_EDGE),OS(rh(c),"path",x0,rh(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=100,Qf(Ou(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.bezier;return nh(nh({},Qf(Ou(s.prototype),"getEdgeStyle",this).call(this)),mn(c))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var c=0,f=0;return this.pointsList.forEach(function(v){var b=v.x,x=v.y;c+=b,f+=x}),{x:c/this.pointsList.length,y:f/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var c=Qf(Ou(s.prototype),"getData",this).call(this),f=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return nh(nh({},c),{},{pointsList:f})}},{key:"getControls",value:function(){var c=this.startPoint,f=this.endPoint;return bc({start:c,end:f,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(c){var f=Tv(c,4),v=f[0],b=f[1],x=f[2],S=f[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var c=this.getControls(),f=c.sNext,v=c.ePre;this.updatePath(f,v)}},{key:"updatePath",value:function(c,f){c=mn(c),f=mn(f);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!c||!f){var x=this.getControls();c=x.sNext,f=x.ePre}this.pointsList=[v,c,f,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,f){this.startPoint.x+=c,this.startPoint.y+=f;var v=Tv(this.pointsList,3),b=v[1],x=v[2];b.x+=c,b.y+=f,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(c,f){this.endPoint.x+=c,this.endPoint.y+=f;var v=Tv(this.pointsList,3),b=v[1],x=v[2];x.x+=c,x.y+=f,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(c,f){f==="sNext"?this.pointsList[1]=c:f==="ePre"&&(this.pointsList[2]=c),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var f=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=bc({start:f,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=S.sNext,I=S.ePre;this.pointsList=[f,D,I,v],this.initPoints()}}])&&xS(e.prototype,n),s}(Ef),x0=Ai(_n.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ai(_n.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"initPoints"),_n.prototype),Ai(_n.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updatePoints"),_n.prototype),Ai(_n.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateStartPoint"),_n.prototype),Ai(_n.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateEndPoint"),_n.prototype),Ai(_n.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"moveStartPoint"),_n.prototype),Ai(_n.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"moveEndPoint"),_n.prototype),Ai(_n.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateAdjustAnchor"),_n.prototype),Ai(_n.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"getAdjustStart"),_n.prototype),Ai(_n.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"getAdjustEnd"),_n.prototype),Ai(_n.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateAfterAdjustStartAndEnd"),_n.prototype),_n),Xe,A0,M0,T0,k0,D0,N0,R0,C0,I0,L0,z0,B0,F0,W0,$0,U0,G0,H0,X0,Y0,V0,K0,PS=function(t){return t==null};function AS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||q0(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function q0(t,e){if(t){if(typeof t=="string")return Z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z0(t,e):void 0}}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ar(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ja,Q0,Pa=(Xe=function(){function t(r,s){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"id",""),ar(this,"type",A0,this),ar(this,"x",M0,this),ar(this,"y",T0,this),ar(this,"text",k0,this),ar(this,"properties",D0,this),ar(this,"_width",N0,this),ar(this,"_height",R0,this),ar(this,"anchorsOffset",C0,this),ar(this,"isSelected",I0,this),ar(this,"isHovered",L0,this),ar(this,"isShowAnchor",z0,this),ar(this,"isDragging",B0,this),ar(this,"isHitable",F0,this),ar(this,"draggable",W0,this),ar(this,"visible",$0,this),ar(this,"enableRotate",U0,this),mo(this,"virtual",!1),mo(this,"graphModel",void 0),ar(this,"zIndex",G0,this),ar(this,"state",H0,this),ar(this,"autoToFront",X0,this),ar(this,"style",Y0,this),ar(this,"transform",V0,this),ar(this,"_rotate",K0,this),mo(this,"BaseType",Zn.NODE),mo(this,"modelType",Kt.NODE),mo(this,"additionStateData",void 0),mo(this,"targetRules",[]),mo(this,"sourceRules",[]),mo(this,"moveRules",[]),mo(this,"hasSetTargetRules",!1),mo(this,"hasSetSourceRules",!1),this.graphModel=s,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var s=this.x,c=s===void 0?0:s,f=this.y,v=f===void 0?0:f;this.transform=new mu(-c,-v).rotate(r).translate(c,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),f=this.createId();r.id=f||c||Oi()}this.formatText(r),gr(this,function(v){return yi(v,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||wf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,f=r.value,v=this.properties;Object(h.x)(v)&&(v=Object(h.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Ln.INCREASE&&(b.zIndex=this.zIndex),f&&(b.text={x:s,y:c,value:f}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return io(io({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return mn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return mn(r)}},{key:"getAnchorStyle",value:function(r){var s=this.graphModel.theme.anchor;return mn(s)}},{key:"getAnchorLineStyle",value:function(r){var s=this.graphModel.theme.anchorLine;return mn(s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return mn(r)}},{key:"isAllowConnectedAsSource",value:function(r,s,c,f){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,this,r,s,c,f)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,s,c,f){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,r,this,s,c,f)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,s){var c,f=!0,v=!0,b=function(D,I){var V=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!V){if(Array.isArray(D)||(V=q0(D))||I){V&&(D=V);var J=0,ne=function(){};return{s:ne,n:function(){return J>=D.length?{done:!0}:{done:!1,value:D[J++]}},e:function(Ce){throw Ce},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var be,ge=!0,xe=!1;return{s:function(){V=V.call(D)},n:function(){var Ce=V.next();return ge=Ce.done,Ce},e:function(Ce){xe=!0,be=Ce},f:function(){try{ge||V.return==null||V.return()}finally{if(xe)throw be}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(c=b.n()).done;){var x=(0,c.value)(this,r,s);if(!x)return!1;if(Nv(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;f=f&&S.x,v=v&&S.y}}}catch(D){b.e(D)}finally{b.f()}return{x:f,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,s=this.id,c=this.x,f=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(s,"_").concat(b),x:c+v[0],y:f+v[1]}):io(io({},v=v),{},{x:c+v.x,y:f+v.y,id:v.id||"".concat(s,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(s,c){for(var f,v=Ds(c),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var S=ko(s.x,s.y,v[x].x,v[x].y);S<b&&(b=S,f={index:x,anchor:Ms(Ms({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return f}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),s=this.x,c=this.y,f=this.rotate;return r.forEach(function(v){var b=v.x,x=v.y,S=AS(new Qo([b,x,1]).translate(-s,-c).rotate(f).translate(s,c)[0],2),D=S[0],I=S[1];v.x=D,v.y=I}),r}},{key:"getAnchorInfo",value:function(r){if(!PS(r))for(var s=0;s<this.anchors.length;s++){var c=this.anchors[s];if(c.id===r)return c}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,v=!1;if(c)f=!0,v=!0;else{var b=this.isAllowMoveNode(r,s);typeof b=="boolean"?(f=b,v=b):(f=b.x,v=b.y)}if(f){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var S=this.y+s;this.y=S,this.text&&this.moveText(0,s)}return f||v}},{key:"getMoveDistance",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,v=!1,b=0,x=0;if(c)f=!0,v=!0;else{var S=this.isAllowMoveNode(r,s);typeof S=="boolean"?(f=S,v=S):(f=S.x,v=S.y)}if(f&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&s){var I=this.y+s;this.y=I,this.text&&this.moveText(0,s),x=s}return[b,x]}},{key:"moveTo",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=r-this.x,v=s-this.y;return!(!c&&!this.isAllowMoveNode(f,v)||(this.text&&this.text&&this.moveText(f,v),this.x=r,this.y=s,0))}},{key:"moveText",value:function(r,s){var c=this.text,f=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,editable:S,draggable:x,x:f+r,y:v+s}}},{key:"updateText",value:function(r){this.text=io(io({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"setProperty",value:function(r,s){this.properties=io(io({},Object(h.I)(this.properties)),{},mo({},r,jr(s))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=io(io({},Object(h.I)(this.properties)),jr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,s){this.style=io(io({},this.style),{},mo({},r,jr(s)))}},{key:"setStyles",value:function(r){this.style=io(io({},this.style),jr(r))}},{key:"updateStyles",value:function(r){this.style=io({},jr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){gr(this,r)}}],n&&MS(e.prototype,n),t}(),A0=Yt(Xe.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M0=Yt(Xe.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T0=Yt(Xe.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k0=Yt(Xe.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),D0=Yt(Xe.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),N0=Yt(Xe.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),R0=Yt(Xe.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),C0=Yt(Xe.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I0=Yt(Xe.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L0=Yt(Xe.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z0=Yt(Xe.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B0=Yt(Xe.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F0=Yt(Xe.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W0=Yt(Xe.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$0=Yt(Xe.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U0=Yt(Xe.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),G0=Yt(Xe.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H0=Yt(Xe.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X0=Yt(Xe.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Y0=Yt(Xe.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V0=Yt(Xe.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K0=Yt(Xe.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yt(Xe.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"incoming"),Xe.prototype),Yt(Xe.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"outgoing"),Xe.prototype),Yt(Xe.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"addNodeMoveRules"),Xe.prototype),Yt(Xe.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"move"),Xe.prototype),Yt(Xe.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getMoveDistance"),Xe.prototype),Yt(Xe.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveTo"),Xe.prototype),Yt(Xe.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveText"),Xe.prototype),Yt(Xe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateText"),Xe.prototype),Yt(Xe.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setSelected"),Xe.prototype),Yt(Xe.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHovered"),Xe.prototype),Yt(Xe.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setIsShowAnchor"),Xe.prototype),Yt(Xe.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setEnableRotate"),Xe.prototype),Yt(Xe.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHitable"),Xe.prototype),Yt(Xe.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setElementState"),Xe.prototype),Yt(Xe.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperty"),Xe.prototype),Yt(Xe.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperties"),Xe.prototype),Yt(Xe.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"deleteProperty"),Xe.prototype),Yt(Xe.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyle"),Xe.prototype),Yt(Xe.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyles"),Xe.prototype),Yt(Xe.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateStyles"),Xe.prototype),Yt(Xe.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setZIndex"),Xe.prototype),Yt(Xe.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAttributes"),Xe.prototype),Xe);function Rv(t){return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){n_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cv(){return Cv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=NS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Cv.apply(this,arguments)}function NS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=qs(t))!==null;);return t}function Iv(t,e){return Iv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iv(t,e)}function RS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qs(t);if(e){var s=qs(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return CS(this,n)}}function CS(t,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oh(t)}function oh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qs(t){return qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qs(t)}function n_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lv(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Kr,r_,o_,zv=(ja=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Iv(c,f)})(s,t);var e,n,r=RS(s);function s(){var c;kS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return n_(oh(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.CIRCLE_NODE),TS(oh(c),"r",Q0,oh(c)),c}return e=s,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var c=Cv(qs(s.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.circle;return t_(t_({},c),mn(f))}},{key:"getDefaultAnchor",value:function(){var c=this.x,f=this.y,v=this.r;return[{x:c,y:f-v,id:"".concat(this.id,"_0")},{x:c+v,y:f,id:"".concat(this.id,"_1")},{x:c,y:f+v,id:"".concat(this.id,"_2")},{x:c-v,y:f,id:"".concat(this.id,"_3")}]}}])&&DS(e.prototype,n),s}(Pa),Q0=Lv(ja.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Lv(ja.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ja.prototype,"width"),ja.prototype),Lv(ja.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ja.prototype,"height"),ja.prototype),ja);o(129);function Bv(t){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function Fv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return i_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function u_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){s_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function IS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wv(){return Wv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=zS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Wv.apply(this,arguments)}function zS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Js(t))!==null;);return t}function $v(t,e){return $v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$v(t,e)}function BS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Js(t);if(e){var s=Js(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return FS(this,n)}}function FS(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zs(t)}function Zs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Js(t)}function s_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qs(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Qi,l_,f_,Uv=(Kr=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&$v(c,f)})(s,t);var e,n,r=BS(s);function s(){var c;IS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return s_(Zs(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.DIAMOND_NODE),c_(Zs(c),"rx",r_,Zs(c)),c_(Zs(c),"ry",o_,Zs(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Wv(Js(s.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.diamond;return u_(u_({},c),mn(f))}},{key:"points",get:function(){var c=this.x,f=this.y,v=this.rx,b=this.ry;return[[c,f-b],[c+v,f],[c,f+b],[c-v,f]]}},{key:"pointsPosition",get:function(){return this.points.map(function(c){return{x:c[0],y:c[1]}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Fv(v,1)[0];b<c&&(c=b),b>f&&(f=b)}),f-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Fv(v,2)[1];b<c&&(c=b),b>f&&(f=b)}),f-c}},{key:"getDefaultAnchor",value:function(){var c=this;return this.points.map(function(f,v){var b=Fv(f,2);return{x:b[0],y:b[1],id:"".concat(c.id,"_").concat(v)}})}}])&&LS(e.prototype,n),s}(Pa),r_=Qs(Kr.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),o_=Qs(Kr.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qs(Kr.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"points"),Kr.prototype),Qs(Kr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"pointsPosition"),Kr.prototype),Qs(Kr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"width"),Kr.prototype),Qs(Kr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"height"),Kr.prototype),Kr);function Gv(t){return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function d_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function WS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hv(){return Hv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=US(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Hv.apply(this,arguments)}function US(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=tl(t))!==null;);return t}function Xv(t,e){return Xv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xv(t,e)}function GS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=tl(t);if(e){var s=tl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return HS(this,n)}}function HS(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return el(t)}function el(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tl(t)}function y_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ih(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ti,v_,Yv=(Qi=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Xv(c,f)})(s,t);var e,n,r=GS(s);function s(){var c;WS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return y_(el(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.ELLIPSE_NODE),h_(el(c),"rx",l_,el(c)),h_(el(c),"ry",f_,el(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Hv(tl(s.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.ellipse;return d_(d_({},c),mn(f))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var c=this.x,f=this.y,v=this.rx,b=this.ry;return[{x:c,y:f-b,id:"".concat(this.id,"_0")},{x:c+v,y:f,id:"".concat(this.id,"_1")},{x:c,y:f+b,id:"".concat(this.id,"_2")},{x:c-v,y:f,id:"".concat(this.id,"_3")}]}}])&&$S(e.prototype,n),s}(Pa),l_=ih(Qi.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),f_=ih(Qi.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),ih(Qi.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Qi.prototype,"width"),Qi.prototype),ih(Qi.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Qi.prototype,"height"),Qi.prototype),Qi);function Vv(t){return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function Kv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return g_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return g_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(r){__(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function YS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qv(){return qv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=KS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},qv.apply(this,arguments)}function KS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nl(t))!==null;);return t}function Zv(t,e){return Zv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zv(t,e)}function qS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nl(t);if(e){var s=nl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ZS(this,n)}}function ZS(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ah(t)}function ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(t)}function __(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uh(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Jv,O_,Qv=(ti=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Zv(c,f)})(s,t);var e,n,r=qS(s);function s(){var c;YS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return __(ah(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYGON_NODE),XS(ah(c),"points",v_,ah(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=qv(nl(s.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.polygon;return m_(m_({},c),mn(f))}},{key:"pointsPosition",get:function(){var c=this.x,f=this.y,v=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+c-v/2,y:x[1]+f-b/2}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Kv(v,1)[0];b<c&&(c=b),b>f&&(f=b)}),f-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Kv(v,2)[1];b<c&&(c=b),b>f&&(f=b)}),f-c}},{key:"getDefaultAnchor",value:function(){var c=this,f=this.x,v=this.y,b=this.width,x=this.height;return this.points.map(function(S,D){var I=Kv(S,2),V=I[0],J=I[1];return{x:f+V-b/2,y:v+J-x/2,id:"".concat(c.id,"_").concat(D)}})}}])&&VS(e.prototype,n),s}(Pa),v_=uh(ti.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),uh(ti.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"pointsPosition"),ti.prototype),uh(ti.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"width"),ti.prototype),uh(ti.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"height"),ti.prototype),ti);function eg(t){return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function x_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function QS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tg(){return tg=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=tj(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},tg.apply(this,arguments)}function tj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rl(t))!==null;);return t}function ng(t,e){return ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ng(t,e)}function nj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rl(t);if(e){var s=rl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return rj(this,n)}}function rj(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ch(t)}function ch(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rl(t)}function E_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wu,rg=(Jv=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&ng(c,f)})(s,t);var e,n,r=nj(s);function s(){var c;QS(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return E_(ch(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.RECT_NODE),JS(ch(c),"radius",O_,ch(c)),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,f=this.y,v=this.width,b=this.height;return[{x:c,y:f-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:f,id:"".concat(this.id,"_1")},{x:c,y:f+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:f,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var c=tg(rl(s.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.rect;return x_(x_({},c),mn(f))}}])&&ej(e.prototype,n),s}(Pa),O_=function(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(Jv.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jv);function og(t){return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ig(){return ig=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=aj(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},ig.apply(this,arguments)}function aj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ol(t))!==null;);return t}function ag(t,e){return ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ag(t,e)}function uj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ol(t);if(e){var s=ol(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return cj(this,n)}}function cj(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P_(t)}function P_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(t)}function A_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M_(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ug=(wu=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&ag(c,f)})(s,t);var e,n,r=uj(s);function s(){var c;oj(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return A_(P_(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.TEXT_NODE),c}return e=s,(n=[{key:"getTextStyle",value:function(){var c=ig(ol(s.prototype),"getTextStyle",this).call(this),f=this.graphModel.theme.text;return j_(j_({},c),mn(f))}},{key:"width",get:function(){var c=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return yc({rows:c,fontSize:f,rowsLength:c.length}).width}},{key:"height",get:function(){var c=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return yc({rows:c,fontSize:f,rowsLength:c.length}).height}}])&&ij(e.prototype,n),s}(Pa),M_(wu.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(wu.prototype,"width"),wu.prototype),M_(wu.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(wu.prototype,"height"),wu.prototype),wu);function cg(t){return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function sj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sg(t,e){return sg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sg(t,e)}function fj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sh(t);if(e){var s=sh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return pj(this,n)}}function pj(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T_(t)}function T_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(t)}function dj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mi,k_,D_,N_,lg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&sg(c,f)})(s,t);var e,n,r=fj(s);function s(){var c;sj(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return dj(T_(c=r.call.apply(r,[this].concat(v))),"modelType",Kt.HTML_NODE),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,f=this.y,v=this.width,b=this.height;return[{x:c,y:f-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:f,id:"".concat(this.id,"_1")},{x:c,y:f+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:f,id:"".concat(this.id,"_3")}]}}])&&lj(e.prototype,n),s}(Pa);function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ep(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(f){c[f]=r[f]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(f,v){return v(t,e,f)||f},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var I_=(Mi=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),C_(this,"graphModel",void 0),fg(this,"isShowHorizontal",k_,this),fg(this,"isShowVertical",D_,this),fg(this,"position",N_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?R_(Object(c),!0).forEach(function(f){C_(r,f,c[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):R_(Object(c)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(c,f))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,s){for(var c=r.x,f=r.y,v=!1,b=!1,x=0;x<s.length;x++){var S=s[x];if(S.id!==r.id&&(c===S.x&&(v=!0),f===S.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:c,y:f}}}},{key:"getHorizontalSnapline",value:function(r,s){var c,f,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)f=zn(x);else{var S=this.graphModel.getNodeModelById(b);f=zn(S)}}for(var D=0;D<s.length;D++){var I=s[D];if(I.id!==r.id){var V=zn(I);if(V.minY===f.minY||V.maxY===f.minY){v=!0,c=f.minY;break}if(V.minY===f.maxY||V.maxY===f.maxY){v=!0,c=f.maxY;break}}}return gr({isShowHorizontal:v,position:{y:c}})}},{key:"getVerticalSnapline",value:function(r,s){var c,f,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)f=zn(x);else{var S=this.graphModel.getNodeModelById(b);f=zn(S)}}for(var D=0;D<s.length;D++){var I=s[D];if(I.id!==r.id){var V=zn(I);if(V.minX===f.minX||V.maxX===f.minX){v=!0,c=f.minX;break}if(V.minX===f.maxX||V.maxX===f.maxX){v=!0,c=f.maxX;break}}}return gr({isShowVertical:v,position:{x:c}})}},{key:"getSnapLinePosition",value:function(r,s){var c=this.getCenterSnapLine(r,s),f=c.isShowHorizontal,v=c.isShowVertical;if(!f){var b=this.getHorizontalSnapline(r,s);b.isShowHorizontal&&(c.isShowHorizontal=b.isShowHorizontal,c.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,s);x.isShowVertical&&(c.isShowVertical=x.isShowVertical,c.position.x=x.position.x)}return c}},{key:"setSnaplineInfo",value:function(r){var s=r.isShowHorizontal,c=r.isShowVertical,f=r.position;this.position=f,this.isShowHorizontal=s,this.isShowVertical=c}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var s=this.graphModel.nodes,c=this.getSnapLinePosition(r,s);this.setSnaplineInfo(c)}}],n&&hj(e.prototype,n),t}(),k_=ep(Mi.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D_=ep(Mi.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N_=ep(Mi.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep(Mi.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Mi.prototype,"clearSnapline"),Mi.prototype),ep(Mi.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Mi.prototype,"setNodeSnapLine"),Mi.prototype),Mi),tp=new Map,L_=function(t){var e=Oi(),n=window.requestAnimationFrame(function r(){if(t(),tp.get(e)){var s=window.requestAnimationFrame(r);tp.set(e,s)}});return tp.set(e,n),e},lh=function(t){var e=tp.get(t);e&&(window.cancelAnimationFrame(e),tp.delete(t))};function pg(t){return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function np(){return np=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return B_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return B_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dg(t,e){return dg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dg(t,e)}function gj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fh(t);if(e){var s=fh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return bj(this,n)}}function bj(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ea(t)}function ea(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}function ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mj=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&dg(c,f)})(s,t);var e,n,r=gj(s);function s(){var c;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),ta(ea(c=r.call(this)),"preTargetNode",void 0),ta(ea(c),"sourceRuleResults",void 0),ta(ea(c),"targetRuleResults",void 0),ta(ea(c),"dragHandler",void 0),ta(ea(c),"t",void 0),ta(ea(c),"onDragStart",function(f){var v=f.event,b=c.props,x=b.anchorData,S=b.nodeModel,D=b.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(dt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:S}),c.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),ta(ea(c),"onDragging",function(f){var v=f.event,b=c.props,x=b.graphModel,S=b.nodeModel,D=b.anchorData,I=x.transformModel,V=x.eventCenter,J=x.width,ne=x.height,be=x.editConfigModel,ge=be.autoExpand,xe=be.stopMoveGraph,Ce=v.clientX,Qe=v.clientY,Ze=x.getPointByClient({x:Ce,y:Qe}),mt=Ze.domOverlayPosition,qe=mt.x,yt=mt.y,nt=Ze.canvasOverlayPosition,Qt=nt.x,on=nt.y;c.t&&lh(c.t);var Rt=[];qe<10?Rt=[10,0]:qe+10>J?Rt=[-10,0]:yt<10?Rt=[0,10]:yt+10>ne&&(Rt=[0,-10]),c.setState({endX:Qt,endY:on,dragging:!0}),c.moveAnchorEnd(Qt,on),Rt.length>0&&!xe&&ge&&(c.t=L_(function(){var fn=yj(Rt,2),Qn=fn[0],er=fn[1];I.translate(Qn,er);var Fr=c.state,Io=Fr.endX,Lo=Fr.endY;c.setState({endX:Io-Qn,endY:Lo-er}),c.moveAnchorEnd(Io-Qn,Lo-er)})),V.emit(dt.ANCHOR_DRAG,{data:D,e:v,nodeModel:S})}),ta(ea(c),"onDragEnd",function(f){var v=f.event;c.t&&lh(c.t);var b=c.checkEnd(v);c.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),c.sourceRuleResults.clear(),c.targetRuleResults.clear();var x=c.props,S=x.graphModel,D=x.nodeModel,I=x.anchorData;S.eventCenter.emit(dt.ANCHOR_DRAGEND,{data:I,e:v,nodeModel:D,edgeModel:b})}),ta(ea(c),"checkEnd",function(f){var v=c.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=S.x,I=S.y,V=S.id,J=(b.edgeType,c.state),ne=J.endX,be=J.endY,ge=J.dragging,xe=hc({x:ne,y:be},b);if(c.preTargetNode&&c.preTargetNode.state!==gn.DEFAULT&&c.preTargetNode.setElementState(gn.DEFAULT),ge&&xe&&xe.node){var Ce=xe.node,Qe=xe.anchor.id,Ze="".concat(x.id,"_").concat(Ce.id,"_").concat(Qe,"_").concat(V),mt=c.sourceRuleResults.get(Ze)||{},qe=mt.isAllPass,yt=mt.msg,nt=c.targetRuleResults.get(Ze)||{},Qt=nt.isAllPass,on=nt.msg;if(qe&&Qt){Ce.setElementState(gn.DEFAULT);var Rt=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),fn=b.addEdge(rp(rp({},Rt),{},{sourceNodeId:x.id,sourceAnchorId:V,startPoint:{x:D,y:I},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),Qn=c.props.anchorData;return b.eventCenter.emit(dt.ANCHOR_DROP,{data:Qn,e:f,nodeModel:x,edgeModel:fn}),fn}var er=Ce.getData();return b.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:er,msg:on||yt||"不允许添加连线"}),null}}),c.sourceRuleResults=new Map,c.targetRuleResults=new Map,c.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},c.dragHandler=new bo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd}),c}return e=s,(n=[{key:"getAnchorShape",value:function(){var c=this.props,f=c.anchorData,v=c.style,b=c.node.getAnchorShape(f);if(b)return b;var x=f.x,S=f.y,D=rp(rp({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(Ks,np({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(pe.g)(Ks,np({className:"lf-node-anchor"},v,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var c=this.props,f=c.graphModel,v=f.getAnchorIncomingEdge,b=f.getAnchorOutcomingEdge,x=c.anchorData.id;return{incomingEdgeList:v(x),outcomingEdgeList:b(x)}}},{key:"moveAnchorEnd",value:function(c,f){var v=this.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=hc({x:c,y:f},b);if(D){var I=D.node,V=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(gn.DEFAULT),S.id===V)return;this.preTargetNode=I;var J="".concat(x.id,"_").concat(I.id,"_").concat(V,"_").concat(S.id);if(!this.targetRuleResults.has(J)){var ne=D.anchor,be=x.isAllowConnectedAsSource(I,S,ne),ge=I.isAllowConnectedAsTarget(x,S,ne);this.sourceRuleResults.set(J,lu(be)),this.targetRuleResults.set(J,lu(ge))}var xe=this.sourceRuleResults.get(J).isAllPass,Ce=this.targetRuleResults.get(J).isAllPass;xe&&Ce?I.setElementState(gn.ALLOW_CONNECT):I.setElementState(gn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==gn.DEFAULT&&this.preTargetNode.setElementState(gn.DEFAULT)}},{key:"isShowLine",value:function(){var c=this.state,f=c.startX,v=c.startY,b=c.endX,x=c.endY;return ko(f,v,b,x)>10}},{key:"render",value:function(){var c=this,f=this.state,v=f.startX,b=f.startY,x=f.endX,S=f.endY,D=this.props,I=D.anchorData.edgeAddable,V=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(J){I!==!1&&c.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(rp({sourcePoint:{x:v,y:b},targetPoint:{x,y:S}},V)):Object(pe.g)(Ys,np({x1:v,y1:b,x2:x,y2:S},V,{"pointer-events":"none"}))))}}])&&vj(e.prototype,n),s}(pe.a);function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){Oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function wj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return W_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return W_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $_(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.value,f=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,I=D===void 0?"":D,V=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:s,fill:b};if(Object.entries(t).forEach(function(Qe){var Ze=wj(Qe,2),mt=Ze[0],qe=Ze[1];hg(qe)!=="object"&&(J[mt]=qe)}),c){var ne=String(c).split(/[\r\n]/g),be=ne.length;if(S!=="default"){var ge=V.BaseType,xe=V.modelType;if(ge===Zn.NODE&&xe!==Kt.TEXT_NODE||ge===Zn.EDGE&&I)return function(Qe){var Ze=Qe.value,mt=Qe.fontSize,qe=Qe.model,yt=Qe.fontFamily,nt=yt===void 0?"":yt,Qt=Qe.lineHeight,on=Qe.wrapPadding,Rt=on===void 0?"0, 0":on,fn=Qe.overflowMode,Qn=Qe.x,er=Qe.y,Fr=qe.width,Io=qe.textHeight,Lo=Qe.textWidth||Fr,oa=String(Ze).split(/[\r\n]/g),Ic=oa.length,Ih=_d({rows:oa,style:{fontSize:"".concat(mt,"px"),width:"".concat(Lo,"px"),fontFamily:nt,lineHeight:Qt,padding:Rt},rowsLength:Ic,className:"lf-get-text-height"}),Lc=qe.height>Ih?qe.height:Ih;Io&&(Lc=Io);var Su=fn==="ellipsis";return Su&&(Lc=mt+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:Lo,height:Lc,x:Qn-Lo/2,y:er-Lc/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Lc,width:Lo,padding:Rt}},Object(pe.g)("div",{className:Su?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Su?oa.join(""):"",style:_j({},Qe)},oa.map(function(ju){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},ju)})))))}(t)}if(be>1){var Ce=ne.map(function(Qe,Ze){var mt=(Ze-(be-1)/2)*(f+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:s+mt},Qe)});return Object(pe.g)("text",J,Ce)}return Object(pe.g)("text",J,c)}}function yg(t){return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function vg(){return vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function xj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return U_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return U_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gg(t,e){return gg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gg(t,e)}function Sj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ph(t);if(e){var s=ph(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return jj(this,n)}}function jj(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xu(t)}function xu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(t)}function Dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G_=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&gg(c,f)})(s,t);var e,n,r=Sj(s);function s(c){var f;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,s),Dc(xu(f=r.call(this)),"dragHandler",void 0),Dc(xu(f),"sumDeltaX",0),Dc(xu(f),"sumDeltaY",0),Dc(xu(f),"stepDrag",void 0),Dc(xu(f),"onDragging",function(b){var x=b.deltaX,S=b.deltaY,D=f.props,I=D.model,V=xj(D.graphModel.transformModel.fixDeltaXY(x,S),2),J=V[0],ne=V[1];I.moveText(J,ne)}),Dc(xu(f),"dblClickHandler",function(){f.props.editable&&f.props.model.setElementState(gn.TEXT_EDIT)}),Dc(xu(f),"mouseDownHandle",function(b){var x=f.props,S=x.draggable,D=x.model,I=x.graphModel.editConfigModel.nodeTextDraggable;(S||I)&&(f.stepDrag.model=D,f.stepDrag.handleMouseDown(b))}),c.model;var v=c.draggable;return f.stepDrag=new bo({onDragging:f.onDragging,step:1,isStopPropagation:v}),f}return e=s,(n=[{key:"getShape",value:function(){var c=this.props,f=c.model,v=c.graphModel,b=f.text,x=v.editConfigModel,S=b.value,D=b.x,I=b.y,V=b.editable,J=b.draggable,ne={x:D,y:I,className:"",value:S};V?ne.className="lf-element-text":J||x.nodeTextDraggable?ne.className="lf-text-draggable":ne.className="lf-text-disabled";var be=f.getTextStyle();return Object(pe.g)($_,vg({},ne,be,{model:f}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Ej(e.prototype,n),s}(pe.a),Pj=qa(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,H_=o(130);function bg(t){return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function mg(){return mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function Aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _g(t,e){return _g=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_g(t,e)}function Mj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=dh(t);if(e){var s=dh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Tj(this,n)}}function Tj(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return il(t)}function il(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}function op(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kj=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&_g(c,f)})(s,t);var e,n,r=Mj(s);function s(c){var f;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),op(il(f=r.call(this,c)),"style",{}),op(il(f),"defaultAngle",void 0),op(il(f),"normal",void 0),op(il(f),"stepperDrag",void 0),op(il(f),"onDragging",function(v){var b,x=v.event,S=f.props,D=S.graphModel,I=S.nodeModel,V=S.eventCenter,J=D.selectNodes,ne=I.x,be=I.y,ge=x.clientX,xe=x.clientY,Ce=D.getPointByClient({x:ge,y:xe}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,mt=new vr(Qe-ne,Ze-be),qe=((b=f.normal)===null||b===void 0?void 0:b.angle(mt))-f.defaultAngle,yt=new mu(-ne,-be).rotate(qe).translate(ne,be).toString();I.transform=yt,I.rotate=qe;var nt=Object(H_.map)(J,function(on){return on.id});nt.indexOf(I.id)===-1&&(nt=[I.id]);var Qt=Object(H_.reduce)(nt,function(on,Rt){var fn=D.getNodeModelById(Rt);return on[Rt]=fn==null?void 0:fn.getMoveDistance(0,0,!1),on},{});nt.forEach(function(on){D.getNodeEdges(on).forEach(function(Rt){if(Qt[Rt.sourceNodeId]){var fn=D.getNodeModelById(Rt.sourceNodeId).anchors.find(function(er){return er.id===Rt.sourceAnchorId});Rt.updateStartPoint(fn)}if(Qt[Rt.targetNodeId]){var Qn=D.getNodeModelById(Rt.targetNodeId).anchors.find(function(er){return er.id===Rt.targetAnchorId});Rt.updateEndPoint(Qn)}})}),V.emit(dt.NODE_ROTATE,{e:x,nodeModel:I})}),f.style=c.style,f.stepperDrag=new bo({onDragging:f.onDragging}),f}return e=s,(n=[{key:"render",value:function(){var c=this,f=this.props.nodeModel,v=f.x,b=f.y,x=v+f.width/2+20,S=b-f.height/2-20;return this.normal=new vr(1,0),this.defaultAngle=this.normal.angle(new vr(x-v,S-b)),f.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){c.stepperDrag.handleMouseDown(D)}},Object(pe.g)(Ks,mg({},this.style,{cx:x,cy:S}))))}}])&&Aj(e.prototype,n),s}(pe.a);function Og(t){return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var Dj=["className"];function hh(){return hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function Nj(t,e){if(t==null)return{};var n,r,s=function(f,v){if(f==null)return{};var b,x,S={},D=Object.keys(f);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=f[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return X_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return X_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wg(t,e){return wg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wg(t,e)}function Rj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vh(t);if(e){var s=vh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Cj(this,n)}}function Cj(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(t)}function mr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Aa=function(t){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),v&&wg(f,v)})(c,t);var e,n,r,s=Rj(c);function c(f){var v;(function(I,V){if(!(I instanceof V))throw new TypeError("Cannot call a class as a function")})(this,c),Mr(mr(v=s.call(this)),"t",void 0),Mr(mr(v),"moveOffset",void 0),Mr(mr(v),"stepDrag",void 0),Mr(mr(v),"contextMenuTime",void 0),Mr(mr(v),"mouseUpDrag",void 0),Mr(mr(v),"startTime",void 0),Mr(mr(v),"clickTimer",void 0),Mr(mr(v),"modelDisposer",void 0),Mr(mr(v),"onDragStart",function(I){var V=I.event,J=V.clientX,ne=V.clientY,be=v.props,ge=be.model,xe=be.graphModel.getPointByClient({x:J,y:ne}).canvasOverlayPosition,Ce=xe.x,Qe=xe.y;v.moveOffset={x:ge.x-Ce,y:ge.y-Qe}}),Mr(mr(v),"onDragging",function(I){var V=I.event,J=v.props,ne=J.model,be=J.graphModel,ge=be.editConfigModel,xe=ge.stopMoveGraph,Ce=ge.autoExpand,Qe=be.transformModel,Ze=be.selectNodes,mt=be.width,qe=be.height,yt=be.gridSize;ne.isDragging=!0;var nt=V.clientX,Qt=V.clientY,on=be.getPointByClient({x:nt,y:Qt}).canvasOverlayPosition,Rt=on.x,fn=on.y,Qn=yh(Qe.CanvasPointToHtmlPoint([Rt,fn]),2),er=Qn[0],Fr=Qn[1];if(Rt+=v.moveOffset.x,fn+=v.moveOffset.y,Rt=Hi(Rt,yt),fn=Hi(fn,yt),mt&&qe){if(!Ce||xe||!(er<0||Fr<0||er>mt||Fr>qe)){var Io=yh(Qe.CanvasPointToHtmlPoint([Rt-ne.width/2,fn-ne.height/2]),2),Lo=Io[0],oa=Io[1],Ic=yh(Qe.CanvasPointToHtmlPoint([Rt+ne.width/2,fn+ne.height/2]),2),Ih=Ic[0],Lc=Ic[1],Su=Math.max(yt,20),ju=[];Lo<0?ju=[Su,0]:Ih>be.width?ju=[-Su,0]:oa<0?ju=[0,Su]:Lc>be.height&&(ju=[0,-Su]),v.t&&lh(v.t);var bA=new mu(-Rt,-fn).rotate(ne.rotate).translate(Rt,fn).toString();ne.transform=bA;var Lh=Ze.map(function(zh){return zh.id});Lh.indexOf(ne.id)===-1&&(Lh=[ne.id]),ju.length>0&&!xe&&Ce?v.t=L_(function(){var zh=yh(ju,2),P1=zh[0],A1=zh[1];Qe.translate(P1,A1);var mA=-P1/Qe.SCALE_X,_A=-A1/Qe.SCALE_X;be.moveNodes(Lh,mA,_A)}):be.moveNodes(Lh,Rt-ne.x,fn-ne.y)}}else be.moveNode2Coordinate(ne.id,Rt,fn)}),Mr(mr(v),"onDragEnd",function(){v.t&&lh(v.t),v.props.model.isDragging=!1}),Mr(mr(v),"handleMouseUp",function(){var I=v.props.model;v.mouseUpDrag=I.isDragging}),Mr(mr(v),"handleClick",function(I){var V=v.mouseUpDrag===!1;if(v.startTime){var J=v.props,ne=J.model,be=J.graphModel;if(V){var ge={data:ne.getData(),e:I,position:be.getPointByClient({x:I.clientX,y:I.clientY}),isSelected:!1,isMultiple:!1},xe=I.button===2,Ce=I.detail===2;if(!xe){var Qe=be.editConfigModel,Ze=pc(I,Qe);ge.isMultiple=Ze,ne.isSelected&&!Ce&&Ze?(ge.isSelected=!1,ne.setSelected(!1)):(be.selectNodeById(ne.id,Ze),ge.isSelected=!0,v.toFront()),Ce?(Qe.nodeTextEdit&&ne.text.editable&&(ne.setSelected(!1),be.setElementStateById(ne.id,gn.TEXT_EDIT)),be.eventCenter.emit(dt.NODE_DBCLICK,ge)):(be.eventCenter.emit(dt.ELEMENT_CLICK,ge),be.eventCenter.emit(dt.NODE_CLICK,ge))}}}}),Mr(mr(v),"handleContextMenu",function(I){I.preventDefault();var V=v.props,J=V.model,ne=V.graphModel,be=J.getData(),ge=ne.getPointByClient({x:I.clientX,y:I.clientY});ne.setElementStateById(J.id,gn.SHOW_MENU,ge.domOverlayPosition),J.isSelected||ne.selectNodeById(J.id),ne.eventCenter.emit(dt.NODE_CONTEXTMENU,{data:be,e:I,position:ge}),v.toFront()}),Mr(mr(v),"handleMouseDown",function(I){var V=v.props,J=V.model,ne=V.graphModel;v.startTime=new Date().getTime(),ne.editConfigModel.adjustNodePosition&&J.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(I)}),Mr(mr(v),"setHoverON",function(I){var V=v.props,J=V.model,ne=V.graphModel;if(!J.isHovered){var be=J.getData();J.setHovered(!0),ne.eventCenter.emit(dt.NODE_MOUSEENTER,{data:be,e:I})}}),Mr(mr(v),"setHoverOFF",function(I){var V=v.props,J=V.model,ne=V.graphModel,be=J.getData();J.isHovered&&(J.setHovered(!1),ne.eventCenter.emit(dt.NODE_MOUSELEAVE,{data:be,e:I}))}),Mr(mr(v),"onMouseOut",function(I){Pj&&v.setHoverOFF(I)});var b=f.graphModel,x=b.gridSize,S=b.eventCenter,D=f.model;return v.stepDrag=new bo({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),v.modelDisposer=Object(h.F)(function(){return v.props},function(I){I&&I.model&&v.stepDrag.setModel(I.model)}),v}return e=c,r=[{key:"getModel",value:function(f){return f}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(f){return null}},{key:"getAnchors",value:function(){var f=this,v=this.props,b=v.model,x=v.graphModel,S=b.isSelected,D=b.isHitable,I=b.isDragging,V=b.isShowAnchor;return D&&(S||V)&&!I?rs(b.anchors,function(J,ne){var be=b.getAnchorLineStyle(J),ge=b.getAnchorStyle(J);return Object(pe.g)(mj,{anchorData:J,node:f,style:ge,edgeStyle:be,anchorIndex:ne,nodeModel:b,graphModel:x,setHoverOFF:f.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var f=this.props,v=f.model,b=f.graphModel,x=v.isSelected,S=v.isHitable,D=v.enableRotate,I=v.isHovered,V=v.getRotateControlStyle().style;if(S&&(x||I)&&D)return Object(pe.g)(kj,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:V})}},{key:"getText",value:function(){var f=this.props,v=f.model,b=f.graphModel;if(v.state===gn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,S=!1;return(v.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(pe.g)(G_,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:S})}}},{key:"getStateClassName",value:function(){var f=this.props.model,v=f.state,b=f.isDragging,x=f.isSelected,S="lf-node";switch(v){case gn.ALLOW_CONNECT:S+=" lf-node-allow";break;case gn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return b&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var f=this.props,v=f.model,b=f.graphModel;v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var f,v=this.props,b=v.model,x=v.graphModel,S=x.editConfigModel,D=S.hideAnchors,I=S.adjustNodePosition,V=S.allowRotation,J=x.gridSize,ne=x.transformModel.SCALE_X,be=b.isHitable,ge=b.draggable,xe=b.transform,Ce=b.getOuterGAttributes(),Qe=Ce.className,Ze=Qe===void 0?"":Qe,mt=Nj(Ce,Dj),qe=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),V&&this.getRotateControl()),!D&&this.getAnchors());return be?(I&&ge&&this.stepDrag.setStep(J*ne),f=Object(pe.g)("g",hh({className:"".concat(this.getStateClassName()," ").concat(Ze),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},mt),qe)):f=Object(pe.g)("g",hh({className:"".concat(this.getStateClassName()," ").concat(Ze)},mt),qe),f}}])&&Y_(e.prototype,n),r&&Y_(e,r),c}(pe.a);function xg(t){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function Eg(){return Eg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function Ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sg(t,e){return Sg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sg(t,e)}function zj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gh(t);if(e){var s=gh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Bj(this,n)}}function Bj(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}var jg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Sg(c,f)})(s,t);var e,n,r=zj(s);function s(){return Ij(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,f=c.getNodeStyle();return Object(pe.g)(_u,Eg({},f,{x:c.x,y:c.y,width:c.width,height:c.height,radius:c.radius}))}}])&&Lj(e.prototype,n),s}(Aa);function Pg(t){return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function Ag(){return Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function Fj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mg(t,e){return Mg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mg(t,e)}function $j(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bh(t);if(e){var s=bh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Uj(this,n)}}function Uj(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}var Tg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Mg(c,f)})(s,t);var e,n,r=$j(s);function s(){return Fj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,f=c.x,v=c.y,b=c.r,x=c.getNodeStyle();return Object(pe.g)(Ks,Ag({},x,{x:f,y:v,r:b}))}}])&&Wj(e.prototype,n),s}(Aa);function kg(t){return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function Gj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return V_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K_(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(s){var c=Gj(s,2),f=c[0],v=c[1];kg(v)!=="object"&&(r[f]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(s){return s.join(",")}).join(" "),Object(pe.g)("polygon",r)}function Dg(t){return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function Ng(){return Ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function Hj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rg(t,e){return Rg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rg(t,e)}function Yj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mh(t);if(e){var s=mh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Vj(this,n)}}function Vj(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(t)}var Cg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Rg(c,f)})(s,t);var e,n,r=Yj(s);function s(){return Hj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,f=c.x,v=c.y,b=c.width,x=c.height,S=c.points,D=c.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(f-b/2," ").concat(v-x/2,")")};return Object(pe.g)("g",I,Object(pe.g)(K_,Ng({},D,{points:S,x:f,y:v})))}}])&&Xj(e.prototype,n),s}(Aa);function Ig(t){return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function Lg(){return Lg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function Kj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zg(t,e){return zg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},zg(t,e)}function Zj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_h(t);if(e){var s=_h(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Jj(this,n)}}function Jj(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}var Bg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&zg(c,f)})(s,t);var e,n,r=Zj(s);function s(){return Kj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,f=c.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(K_,Lg({},f,{points:c.points,x:c.x,y:c.y})))}}])&&qj(e.prototype,n),s}(Aa);function Fg(t){return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function Qj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return q_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eP(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.rx,f=c===void 0?4:c,v=t.ry,b=v===void 0?4:v,x=t.className,S={cx:n,cy:s,rx:f,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var I=Qj(D,2),V=I[0],J=I[1];Fg(J)!=="object"&&(S[V]=J)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",S)}function Wg(t){return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function $g(){return $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function tP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ug(t,e){return Ug=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ug(t,e)}function rP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oh(t);if(e){var s=Oh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return oP(this,n)}}function oP(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}var Gg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Ug(c,f)})(s,t);var e,n,r=rP(s);function s(){return tP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,f=c.getNodeStyle();return Object(pe.g)(eP,$g({},f,{x:c.x,y:c.y,rx:c.rx,ry:c.ry}))}}])&&nP(e.prototype,n),s}(Aa);function Hg(t){return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function Z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function J_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z_(Object(n),!0).forEach(function(r){iP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xg(t,e){return Xg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xg(t,e)}function cP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wh(t);if(e){var s=wh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sP(this,n)}}function sP(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}var Yg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Xg(c,f)})(s,t);var e,n,r=cP(s);function s(){return aP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,f=c.getTextStyle(),v=c.width,b=c.height,x=c.x,S=c.y,D=J_(J_({},f.background),{},{x,y:S-1,width:v,height:b});return Object(pe.g)(_u,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&uP(e.prototype,n),s}(Aa);function Vg(t){return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Kg(){return Kg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function lP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qg(t,e){return qg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qg(t,e)}function pP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xh(t);if(e){var s=xh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return dP(this,n)}}function dP(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}function Eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zg=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&qg(c,f)})(s,t);var e,n,r=pP(s);function s(){var c;lP(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return Eh(ip(c=r.call.apply(r,[this].concat(v))),"ref",void 0),Eh(ip(c),"currentProperties",void 0),Eh(ip(c),"preProperties",void 0),Eh(ip(c),"setRef",function(x){c.ref=x}),c}return e=s,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(c){c.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var c=this.props.model,f=c.x,v=c.y,b=c.height,x=c.width,S=c.getNodeStyle();return this.currentProperties=JSON.stringify(c.properties),Object(pe.g)("foreignObject",Kg({},S,{x:f-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&fP(e.prototype,n),s}(Aa);function Jg(t){return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function Qg(){return Qg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){nb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eb(t,e){return eb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},eb(t,e)}function yP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sh(t);if(e){var s=Sh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return vP(this,n)}}function vP(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tb(t)}function tb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function nb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gP=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&eb(c,f)})(s,t);var e,n,r=yP(s);function s(c){var f;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),nb(tb(f=r.call(this,c)),"setHoverON",function(){f.setState({isHovered:!0})}),nb(tb(f),"setHoverOFF",function(){f.setState({isHovered:!1})}),f.state={isHovered:!1},f}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,f=c.getTextStyle(),v=c.text,b=c.width,x=f.background||{};if(this.state.isHovered&&f.hover&&f.hover.background&&(x=Nc(Nc({},x),f.hover.background)),v&&v.value&&x.fill!=="transparent"){var S,D=f.fontSize,I=f.overflowMode,V=f.lineHeight,J=f.wrapPadding,ne=f.textWidth,be=v.value,ge=v.x,xe=v.y,Ce=String(be).split(/[\r\n]/g),Qe=Ce.length;if(I==="autoWrap"&&ne){var Ze=_d({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(ne,"px"),lineHeight:V,padding:J},rowsLength:Qe,className:"lf-get-text-height"});S=Nc(Nc({},x),{},{x:ge-1,y:xe-1,width:ne,height:Ze})}else{Ce&&Ce.forEach(function(Qt){$f(Qt)});var mt=yc({rows:Ce,fontSize:D,rowsLength:Qe}),qe=mt.width,yt=mt.height;if(I==="ellipsis"&&(qe=ne||b,yt=D+2),typeof x.wrapPadding=="string"){var nt=x.wrapPadding.split(",").filter(function(Qt){return Qt.trim()}).map(function(Qt){return parseFloat(Qt.trim())});nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),qe+=nt[1]+nt[3],yt+=nt[0]+nt[2],ge+=(nt[1]-nt[3])/2,xe+=(nt[2]-nt[0])/2)}S=Nc(Nc({},x),{},{x:ge-1,y:xe-1,width:qe,height:yt})}return Object(pe.g)(_u,S)}}},{key:"getShape",value:function(){var c=this.props.model,f=c.text,v=f.value,b=f.x,x=f.y;if(v){var S=Nc({x:b,y:x,className:"lf-element-text",value:v},c.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)($_,Qg({},S,{model:c})))}}}])&&hP(e.prototype,n),s}(G_);function rb(t){return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}var na,bP=["text","sourceAnchorId","targetAnchorId"];function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){Co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mP(t,e){if(t==null)return{};var n,r,s=function(f,v){if(f==null)return{};var b,x,S={},D=Object.keys(f);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=f[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function _P(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return t1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return t1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ob(t,e){return ob=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ob(t,e)}function wP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jh(t);if(e){var s=jh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return xP(this,n)}}function xP(t,e){if(e&&(rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(t)}function Ro(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}function Co(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(na||(na={}));var n1=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&ob(c,f)})(s,t);var e,n,r=wP(s);function s(c){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Co(Ro(f=r.call(this)),"stepDragData",void 0),Co(Ro(f),"stepDrag",void 0),Co(Ro(f),"oldEdge",void 0),Co(Ro(f),"preTargetNode",void 0),Co(Ro(f),"targetRuleResults",void 0),Co(Ro(f),"sourceRuleResults",void 0),Co(Ro(f),"handleMouseDown",function(S){f.stepDrag&&f.stepDrag.handleMouseDown(S)}),Co(Ro(f),"onDragStart",function(){var S=f.props,D=S.x,I=S.y,V=S.edgeModel,J=V.startPoint,ne=V.endPoint,be=V.pointsList;f.oldEdge={startPoint:J,endPoint:ne,pointsList:be},f.setState({endX:D,endY:I,dragging:!0})}),Co(Ro(f),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,V=f.state,J=V.endX,ne=V.endY,be=f.props,ge=be.graphModel,xe=be.type,Ce=ge.transformModel,Qe=ge.editConfigModel,Ze=_P(Ce.moveCanvasPointByHtml([J,ne],D,I),2),mt=Ze[0],qe=Ze[1];f.setState({endX:mt,endY:qe,dragging:!0});var yt=f.props.edgeModel,nt=hc({x:J,y:ne},ge);if(nt&&nt.node&&f.isAllowAdjust(nt).pass){var Qt,on=yt.startPoint,Rt=yt.endPoint,fn=yt.sourceNode,Qn=yt.targetNode;xe===na.SOURCE?Qt={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Rt.x,y:Rt.y},sourceNode:nt.node,targetNode:Qn}:xe===na.TARGET&&(Qt={startPoint:{x:on.x,y:on.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:fn,targetNode:nt.node}),yt.updateAfterAdjustStartAndEnd(Qt)}else xe===na.SOURCE?yt.updateStartPoint({x:mt,y:qe}):xe===na.TARGET&&yt.updateEndPoint({x:mt,y:qe});yt.text.value&&Qe.adjustEdge&&yt.setText(Object.assign({},yt.text,yt.textPosition))}),Co(Ro(f),"onDragEnd",function(S){var D=S.event;try{var I;f.setState({dragging:!1});var V=f.props,J=V.graphModel,ne=V.edgeModel,be=V.type,ge=f.state,xe=ge.endX,Ce=ge.endY,Qe=ge.dragging,Ze=hc({x:xe,y:Ce},J);if(!Qe)return;var mt,qe=!1;if(Ze&&Ze.node){var yt=f.isAllowAdjust(Ze),nt=yt.pass,Qt=yt.msg,on=yt.newTargetNode;if(nt){var Rt=ne.getData(),fn=Rt.text,Qn=Rt.sourceAnchorId,er=Qn===void 0?"":Qn,Fr=Rt.targetAnchorId;mt=Ma(Ma({sourceAnchorId:er,targetAnchorId:Fr===void 0?"":Fr},mP(Rt,bP)),{},{text:(fn==null?void 0:fn.value)||""}),be===na.SOURCE?(mt=Ma(Ma({},J.edgeGenerator(J.getNodeModelById(Ze.node.id).getData(),J.getNodeModelById(ne.targetNodeId).getData(),mt)),{},{sourceNodeId:Ze.node.id,sourceAnchorId:Ze.anchor.id,startPoint:{x:Ze.anchor.x,y:Ze.anchor.y},targetNodeId:ne.targetNodeId,endPoint:Ma({},ne.endPoint)}),ne.sourceNodeId===Ze.node.id&&ne.sourceAnchorId===Ze.anchor.id&&(qe=!0)):be===na.TARGET&&(mt=Ma(Ma({},J.edgeGenerator(J.getNodeModelById(ne.sourceNodeId).getData(),J.getNodeModelById(Ze.node.id).getData(),mt)),{},{sourceNodeId:ne.sourceNodeId,startPoint:Ma({},ne.startPoint),targetNodeId:Ze.node.id,targetAnchorId:Ze.anchor.id,endPoint:{x:Ze.anchor.x,y:Ze.anchor.y}}),ne.targetNodeId===Ze.node.id&&ne.targetAnchorId===Ze.anchor.id&&(qe=!0))}else{qe=!0;var Io=on.getData();J.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:Io,msg:Qt})}}else qe=!0;if(qe)f.recoveryEdge();else{var Lo=ne.getData();J.deleteEdgeById(ne.id);var oa=J.addEdge(Ma({},mt));J.eventCenter.emit(dt.EDGE_EXCHANGE_NODE,{data:{newEdge:oa.getData(),oldEdge:Lo}})}(I=f.preTargetNode)===null||I===void 0||I.setElementState(gn.DEFAULT)}finally{f.props.graphModel.eventCenter.emit(dt.ADJUST_POINT_DRAGEND,{e:D,data:f.stepDragData})}}),Co(Ro(f),"recoveryEdge",function(){var S=f.props.edgeModel,D=f.oldEdge,I=D.startPoint,V=D.endPoint,J=D.pointsList;S.updateStartPoint(I),S.updateEndPoint(V),S.modelType!==Kt.LINE_EDGE&&(S.pointsList=J,S.initPoints())}),Co(Ro(f),"getAdjustPointStyle",function(){var S=f.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),f.state={dragging:!1,endX:0,endY:0},f.targetRuleResults=new Map,f.sourceRuleResults=new Map;var v=c.type,b=c.edgeModel,x=c.graphModel.eventCenter;return f.stepDragData={type:v,edgeData:b.getData()},f.stepDrag=new bo({onDragStart:f.onDragStart,onDragging:f.onDragging,onDragEnd:f.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:f.stepDragData}),f}return e=s,(n=[{key:"isAllowAdjust",value:function(c){var f=this.props,v=f.edgeModel,b=v.id,x=v.sourceNode,S=v.targetNode,D=v.sourceAnchorId,I=v.targetAnchorId,V=f.type,J=null,ne=null,be=null,ge=null;if(V===na.SOURCE?(J=c.node,ne=S,be=c.anchor,ge=S.getAnchorInfo(I)):(J=x,ne=c.node,ge=c.anchor,be=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==c.node&&this.preTargetNode.setElementState(gn.DEFAULT),this.preTargetNode=c.node,ge.id===be.id)return{pass:!1,msg:"",newTargetNode:ne};var xe="".concat(J.id,"_").concat(ne.id,"_").concat(be.id,"_").concat(ge.id);if(!this.targetRuleResults.has(xe)){var Ce=J.isAllowConnectedAsSource(ne,be,ge,b),Qe=ne.isAllowConnectedAsTarget(J,be,ge,b);this.sourceRuleResults.set(xe,lu(Ce)),this.targetRuleResults.set(xe,lu(Qe))}var Ze=this.sourceRuleResults.get(xe),mt=Ze.isAllPass,qe=Ze.msg,yt=this.targetRuleResults.get(xe),nt=yt.isAllPass,Qt=yt.msg,on=mt&&nt?gn.ALLOW_CONNECT:gn.NOT_ALLOW_CONNECT;return V===na.SOURCE?J.setElementState(on):ne.setElementState(on),{pass:mt&&nt,msg:Qt||qe,newTargetNode:ne}}},{key:"render",value:function(){var c=this.props,f=c.x,v=c.y,b=c.getAdjustPointShape,x=c.edgeModel,S=this.state.dragging;return Object(pe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":b(f,v,x))}}])&&OP(e.prototype,n),s}(pe.a);function ib(t){return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function ap(){return ap=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function EP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return r1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ab(t,e){return ab=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ab(t,e)}function PP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ph(t);if(e){var s=Ph(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return AP(this,n)}}function AP(t,e){if(e&&(ib(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}function Ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}function ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var up=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&ab(c,f)})(s,t);var e,n,r=PP(s);function s(){var c;SP(this,s);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return ra(Ti(c=r.call.apply(r,[this].concat(v))),"startTime",void 0),ra(Ti(c),"contextMenuTime",void 0),ra(Ti(c),"clickTimer",void 0),ra(Ti(c),"textRef",Object(pe.f)()),ra(Ti(c),"handleHover",function(x,S){var D=c.props,I=D.model,V=D.graphModel.eventCenter;I.setHovered(x);var J=x?dt.EDGE_MOUSEENTER:dt.EDGE_MOUSELEAVE,ne=I.getData();V.emit(J,{data:ne,e:S})}),ra(Ti(c),"setHoverON",function(x){c.props.model.isHovered||(c.textRef&&c.textRef.current&&c.textRef.current.setHoverON(),c.handleHover(!0,x))}),ra(Ti(c),"setHoverOFF",function(x){c.props.model.isHovered&&(c.textRef&&c.textRef.current&&c.textRef.current.setHoverOFF(),c.handleHover(!1,x))}),ra(Ti(c),"handleContextMenu",function(x){x.preventDefault(),c.contextMenuTime=new Date().getTime(),c.clickTimer&&clearTimeout(c.clickTimer);var S=c.props,D=S.model,I=S.graphModel,V=I.getPointByClient({x:x.clientX,y:x.clientY});I.setElementStateById(D.id,gn.SHOW_MENU,V.domOverlayPosition),c.toFront(),D.isSelected||I.selectEdgeById(D.id);var J=D==null?void 0:D.getData();I.eventCenter.emit(dt.EDGE_CONTEXTMENU,{data:J,e:x,position:V})}),ra(Ti(c),"handleMouseDown",function(x){x.stopPropagation(),c.startTime=new Date().getTime()}),ra(Ti(c),"handleMouseUp",function(x){if(c.startTime&&!(new Date().getTime()-c.startTime>200||x.button===2)){var S=x.detail===2,D=c.props,I=D.model,V=D.graphModel,J=I==null?void 0:I.getData(),ne=V.getPointByClient({x:x.clientX,y:x.clientY});if(S){var be=V.editConfigModel,ge=V.textEditElement;if(ge&&ge.id===I.id&&V.setElementStateById(I.id,gn.DEFAULT),be.edgeTextEdit&&I.text.editable&&V.setElementStateById(I.id,gn.TEXT_EDIT),I.modelType===Kt.POLYLINE_EDGE){var xe=I,Ce=V.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,mt=Oc({x:Qe,y:Ze},xe.points);xe.dbClickPosition=mt}V.eventCenter.emit(dt.EDGE_DBCLICK,{data:J,e:x,position:ne})}else V.eventCenter.emit(dt.ELEMENT_CLICK,{data:J,e:x,position:ne}),V.eventCenter.emit(dt.EDGE_CLICK,{data:J,e:x,position:ne});var qe=V.editConfigModel;V.selectEdgeById(I.id,pc(x,qe)),c.toFront()}}),c}return e=s,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var c=this.props,f=c.model,v=c.graphModel;if(f.state===gn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(f.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(gP,{ref:this.textRef,editable:x.edgeTextEdit&&f.text.editable,model:f,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var c=this.props.model,f=c.startPoint,v=c.endPoint,b=c.isSelected;return{start:f,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model;return[c.startPoint,c.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var c=this.props.model,f=c.id,v=c.getArrowStyle(),b=v.refY,x=b===void 0?0:b,S=v.refX,D=S===void 0?2:S,I=EP(this.getLastTwoPoints(),2),V=I[0],J=I[1],ne="auto";return V!==null&&J!==null&&(ne=Df(kf({x:J.x-V.x,y:J.y-V.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(f),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(f),refX:D,refY:x,overflow:"visible",orient:ne,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var c=this.props.model.getArrowStyle();return c.stroke,c.strokeWidth,c.offset,c.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var c=this.props.model.getArrowStyle(),f=c.stroke,v=c.strokeWidth,b=c.offset,x=c.verticalLength;return Object(pe.g)("path",{stroke:f,fill:f,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(c,f,v){var b=v.getAdjustPointStyle();return Object(pe.g)(Ks,ap({className:"lf-edge-adjust-point"},b,{x:c,y:f}))}},{key:"getAdjustPoints",value:function(){var c=this.props,f=c.model,v=c.graphModel,b=f.getAdjustStart(),x=f.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(n1,ap({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:v})),Object(pe.g)(n1,ap({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var c=this.props,f=c.graphModel,v=c.model;f.toFront(v.id)}},{key:"render",value:function(){var c=this.props,f=c.model,v=f.isSelected,b=f.isHitable,x=f.isShowAdjustPoint;return c.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&jP(e.prototype,n),s}(pe.a);function ub(t){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function MP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return o1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=MP(n,2),s=r[0],c=r[1],f=ub(c);s!=="style"&&f==="object"||(e[s]=c)}),Object(pe.g)("path",e)};function cb(t){return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(t)}function sb(){return sb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function TP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lb(t,e){return lb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lb(t,e)}function DP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ah(t);if(e){var s=Ah(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return NP(this,n)}}function NP(t,e){if(e&&(cb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}var fb=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&lb(c,f)})(s,t);var e,n,r=DP(s);function s(){return TP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,f=c.startPoint,v=c.endPoint,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeStyle(),D=c.getEdgeAnimationStyle(),I=D.strokeDasharray,V=D.stroke,J=D.strokeDashoffset,ne=D.animationName,be=D.animationDuration,ge=D.animationIterationCount,xe=D.animationTimingFunction,Ce=D.animationDirection;return Object(pe.g)(Ys,sb({},S,{x1:f.x,y1:f.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:I,stroke:V,style:{strokeDashoffset:J,animationName:ne,animationDuration:be,animationIterationCount:ge,animationTimingFunction:xe,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model,f=c.startPoint,v=c.endPoint,b=zd({start:f,end:v}),x=b.d,S=b.strokeWidth,D=b.fill,I=b.strokeDasharray,V=b.stroke;return Object(pe.g)(cp,{d:x,fill:D,strokeWidth:S,stroke:V,strokeDasharray:I})}}])&&kP(e.prototype,n),s}(up);function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function RP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return i1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CP=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=RP(n,2),s=r[0],c=r[1];(s==="style"||pb(c)!=="object")&&(e[s]=c)}),Object(pe.g)("polyline",e)};function db(t){return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hb(){return hb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}function IP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return u1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yb(t,e){return yb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yb(t,e)}function zP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Th(t);if(e){var s=Th(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return BP(this,n)}}function BP(t,e){if(e&&(db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ta(t)}function Ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}function ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vb=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&yb(c,f)})(s,t);var e,n,r=zP(s);function s(){var c;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),ka(Ta(c=r.call(this)),"drag",void 0),ka(Ta(c),"isDragging",void 0),ka(Ta(c),"isShowAdjustPointTemp",void 0),ka(Ta(c),"appendInfo",void 0),ka(Ta(c),"onDragStart",function(){var f=c.props.model;f.dragAppendStart(),c.isShowAdjustPointTemp=f.isShowAdjustPoint,f.isShowAdjustPoint=!1}),ka(Ta(c),"onDragging",function(f){var v=f.deltaX,b=f.deltaY,x=c.props,S=x.model,D=x.graphModel;c.isDragging=!0;var I=D.transformModel,V=D.editConfigModel,J=IP(I.fixDeltaXY(v,b),2),ne=J[0],be=J[1],ge=S,xe=V.adjustEdgeMiddle;c.appendInfo=xe?ge.dragAppendSimple(c.appendInfo,{x:ne,y:be}):ge.dragAppend(c.appendInfo,{x:ne,y:be})}),ka(Ta(c),"onDragEnd",function(){var f=c.props,v=f.model,b=f.graphModel.eventCenter,x=v;x.dragAppendEnd(),c.isDragging=!1,x.isShowAdjustPoint=c.isShowAdjustPointTemp,c.appendInfo=void 0,b.emit(dt.EDGE_ADJUST,{data:x.getData()})}),ka(Ta(c),"beforeDragStart",function(f,v){v.dragAble&&c.drag.handleMouseDown(f),c.appendInfo=v}),c.drag=new bo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,isStopPropagation:!1}),c}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,f=c.points,v=c.isAnimation,b=c.arrowConfig,x=c.getEdgeStyle(),S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,V=S.strokeDashoffset,J=S.animationName,ne=S.animationDuration,be=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(CP,hb({points:f},x,b,v?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:V,animationName:J,animationDuration:ne,animationIterationCount:be,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var c=this.props.model,f=c.points,v=c.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=xi(f);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var c=this.props.model.points,f=xi(c);return f.length>=2?[f[f.length-2],f[f.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(c){var f,v=c.start,b=c.end;if(v.x===b.x&&v.y===b.y)f="";else{var x={start:v,end:b,offset:10,verticalLength:5},S=du(Mh(Mh({},x),{},{type:"start"})),D=du(Mh(Mh({},x),{},{type:"end"}));f="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:f,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(c){var f=this.getAppendAttributes(c),v=f.d,b=f.strokeWidth,x=f.fill,S=f.strokeDasharray,D=f.stroke;return Object(pe.g)(cp,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var c=this,f=this.props,v=f.model,b=f.graphModel,x=v.pointsList,S=v.draggable,D=[],I=x.length,V=function(ne){var be="lf-polyline-append",ge={start:{x:x[ne].x,y:x[ne].y},end:{x:x[ne+1].x,y:x[ne+1].y},startIndex:ne,endIndex:ne+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:be},c.getAppendShape(ge)),Ce=b.editConfigModel,Qe=Ce.adjustEdge,Ze=Ce.adjustEdgeMiddle;if(Qe&&S){var mt=ge.startIndex,qe=ge.endIndex,yt=Ze&&(mt===0||qe===I-1);ge.dragAble=!yt,ge.start.x===ge.end.x?(ge.dragAble&&(be+="-ew-resize"),ge.direction=An.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(be+="-ns-resize"),ge.direction=An.HORIZONTAL),xe=Object(pe.g)("g",{className:c.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return c.beforeDragStart(nt,ge)}},Object(pe.g)("g",{className:be},c.getAppendShape(ge)))}D.push(xe)},J=0;J<I-1;J++)V(J);return Object(pe.g)("g",null,D)}}])&&LP(e.prototype,n),s}(up);function gb(t){return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function FP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return c1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bb(){return bb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bb.apply(this,arguments)}function WP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mb(t,e){return mb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mb(t,e)}function UP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kh(t);if(e){var s=kh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return GP(this,n)}}function GP(t,e){if(e&&(gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}var _b=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&mb(c,f)})(s,t);var e,n,r=UP(s);function s(){return WP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,f=c.getEdgeStyle(),v=c.path,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,V=S.strokeDashoffset,J=S.animationName,ne=S.animationDuration,be=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(cp,bb({d:v},f,x,b?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:V,animationName:J,animationDuration:ne,animationIterationCount:be,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model.path;return Object(pe.g)(cp,{d:c,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var c=this.props.model,f=this.state.hover,v=c.isSelected,b=c.getArrowStyle().offset,x=c.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=FP(Gf(x,b),2);return{start:S[0],end:S[1],hover:f,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model,f=c.getArrowStyle().offset,v=c.pointsList.map(function(b){return{x:b.x,y:b.y}});return Gf(v,f)}}])&&$P(e.prototype,n),s}(up);function Ob(t){return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wb(t,e){return wb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wb(t,e)}function VP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dh(t);if(e){var s=Dh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return KP(this,n)}}function KP(t,e){if(e&&(Ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}var qP=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&wb(c,f)})(s,t);var e,n,r=VP(s);function s(){return XP(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getArrowAttributes",value:function(){var c=this.props,f=c.arrowInfo,v=c.style,b=f.start,x=f.end,S={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=du(S),I=D.leftX,V=D.leftY,J=D.rightX,ne=D.rightY;return function(be){for(var ge=1;ge<arguments.length;ge++){var xe=arguments[ge]!=null?arguments[ge]:{};ge%2?s1(Object(xe),!0).forEach(function(Ce){HP(be,Ce,xe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(xe)):s1(Object(xe)).forEach(function(Ce){Object.defineProperty(be,Ce,Object.getOwnPropertyDescriptor(xe,Ce))})}return be}({d:"M".concat(I," ").concat(V," L").concat(x.x," ").concat(x.y," L").concat(J," ").concat(ne," z")},v)}},{key:"getShape",value:function(){var c=this.getArrowAttributes(),f=c.d,v=c.strokeWidth,b=c.stroke,x=c.fill;return Object(pe.g)(cp,{d:f,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&YP(e.prototype,n),s}(pe.a),l1=function(t,e){return Se(t,e)},ZP=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},xb=function(){return pt.a.Date.now()},JP=Math.max,QP=Math.min,eA=function(t,e,n){var r,s,c,f,v,b,x=0,S=!1,D=!1,I=!0;if(typeof t!="function")throw new TypeError("Expected a function");function V(Ce){var Qe=r,Ze=s;return r=s=void 0,x=Ce,f=t.apply(Ze,Qe)}function J(Ce){return x=Ce,v=setTimeout(be,e),S?V(Ce):f}function ne(Ce){var Qe=Ce-b;return b===void 0||Qe>=e||Qe<0||D&&Ce-x>=c}function be(){var Ce=xb();if(ne(Ce))return ge(Ce);v=setTimeout(be,function(Qe){var Ze=e-(Qe-b);return D?QP(Ze,c-(Qe-x)):Ze}(Ce))}function ge(Ce){return v=void 0,I&&r?V(Ce):(r=s=void 0,f)}function xe(){var Ce=xb(),Qe=ne(Ce);if(r=arguments,s=this,b=Ce,Qe){if(v===void 0)return J(b);if(D)return clearTimeout(v),v=setTimeout(be,e),V(b)}return v===void 0&&(v=setTimeout(be,e)),f}return e=Es(e)||0,Cn(n)&&(S=!!n.leading,c=(D="maxWait"in n)?JP(Es(n.maxWait)||0,e):c,I="trailing"in n?!!n.trailing:I),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=s=v=void 0},xe.flush=function(){return v===void 0?f:ge(xb())},xe},tA=o(172);function nA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f1,p1,d1,rA=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Eu(this,"undos",[]),Eu(this,"redos",[]),Eu(this,"callbacks",[]),Eu(this,"stopWatch",null),Eu(this,"curData",null),Eu(this,"maxSize",50),Eu(this,"waitTime",100),Eu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){l1(ZP(this.undos),r)||(this.undos.push(r),l1(this.curData,r)||(this.redos=[]),this.eventCenter.emit(dt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var s=this.undos.pop();return this.curData=mn(s),s}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=mn(r),r}}},{key:"watch",value:function(r){var s=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(tA.a)(r,eA(function(){var c=r.modelToHistoryData();c&&s.add(c)},this.waitTime))}}])&&nA(e.prototype,n),t}();function Eb(t){return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function oA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return h1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return h1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sb(t,e){return Sb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sb(t,e)}function iA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nh(t);if(e){var s=Nh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return aA(this,n)}}function aA(t,e){if(e&&(Eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return al(t)}function al(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(t)}function Cc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g1,b1,m1,jb=ki((d1=p1=function(t){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),v&&Sb(f,v)})(c,t);var e,n,r,s=iA(c);function c(){var f;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),Cc(al(f=s.call(this)),"ref",Object(pe.f)()),Cc(al(f),"__prevText",{type:"",text:"",id:""}),Cc(al(f),"keyupHandler",function(v){var b=f.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Cc(al(f),"inputHandler",function(v){var b=v.target.innerText,x=f.props.graphModel.textEditElement;f.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Cc(al(f),"keydownHandler",function(v){v.stopPropagation()}),f.state={style:{left:0,top:0}},f}return e=c,r=[{key:"getDerivedStateFromProps",value:function(f){var v,b=f.graphModel,x=b.transformModel,S=b.theme,D=S.inputText,I=b.textEditElement;if(I){var V;if((V=I.text)===null||V===void 0||!V.value)if(I.BaseType===Zn.EDGE){var J=(I=I).text,ne=I.textPosition,be=ne.x,ge=ne.y;J.x=be,J.y=ge,I.setText(J)}else I=I;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(I.BaseType===Zn.EDGE){var Ce=S.edgeText,Qe=Ce.overflowMode,Ze=Ce.lineHeight,mt=Ce.wrapPadding,qe=Ce.textWidth;qe&&Qe==="autoWrap"&&(v=Rc(Rc({},xe),{},{width:qe,minWidth:qe,lineHeight:Ze,padding:mt}))}else if(I.BaseType===Zn.NODE){var yt=S.nodeText,nt=yt.overflowMode,Qt=yt.lineHeight,on=yt.wrapPadding,Rt=yt.textWidth,fn=I,Qn=fn.width,er=fn.modelType,Fr=fn.textWidth||Rt||Qn;(er!==Kt.TEXT_NODE&&nt==="autoWrap"||er===Kt.TEXT_NODE&&Rt)&&(v=Rc(Rc({},xe),{},{width:Fr,minWidth:Fr,lineHeight:Qt,padding:on}))}var Io=I.text,Lo=Io.x,oa=Io.y,Ic=oA(x.CanvasPointToHtmlPoint([Lo,oa]),2);return{style:Rc(Rc({left:Ic[0],top:Ic[1]},v),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var f=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;f.updateText(x,b),f.eventCenter.emit(dt.TEXT_UPDATE,Rc({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(f){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(f),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var f,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(f=v.text)===null||f===void 0?void 0:f.value):null}}])&&v1(e.prototype,n),r&&v1(e,r),c}(pe.a),Cc(p1,"toolName","textEdit"),f1=d1))||f1,uA=function(t){return t.modelType===Kt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,s=(n.x+r.x)/2,c=(n.y+r.y)/2,f=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:s-f/2,y:c-v/2,x1:s+f/2,y1:c+v/2}}(t):t.modelType===Kt.POLYLINE_EDGE?function(e){var n=e.points,r=xi(n),s=Oa(r,8),c=s.x,f=s.y,v=s.width,b=s.height;return{x:c-v/2,y:f-b/2,x1:c+v/2,y1:f+b/2}}(t):t.modelType===Kt.BEZIER_EDGE?function(e){var n=e.path,r=mc(n),s=Oa(r,8),c=s.x,f=s.y,v=s.width,b=s.height;return{x:c-v/2,y:f-b/2,x1:c+v/2,y1:f+b/2}}(t):void 0};function Pb(t){return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function _1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,f,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw f}}return v}}(t,e)||O1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cA(t){return function(e){if(Array.isArray(e))return Ab(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||O1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O1(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ab(t,e):void 0}}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mb(t,e){return Mb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Mb(t,e)}function lA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Rh(t);if(e){var s=Rh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return fA(this,n)}}function fA(t,e){if(e&&(Pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ul(t)}function ul(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(t)}function cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tb=ki((m1=b1=function(t){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),f&&Mb(c,f)})(s,t);var e,n,r=lA(s);function s(c){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),cl(ul(f=r.call(this)),"stepDrag",void 0),cl(ul(f),"handleMouseDown",function(S){f.stepDrag.handleMouseDown(S)}),cl(ul(f),"handleWheelEvent",function(S){var D,I;S.preventDefault();var V=S.deltaX,J=S.deltaY,ne=S.clientX,be=S.clientY,ge=S.ctrlKey,xe=new WheelEvent("wheel",{deltaX:V,deltaY:J,clientX:ne,clientY:be,ctrlKey:ge});(D=f.props.logicFlow.container)===null||D===void 0||(I=D.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||I===void 0||I.dispatchEvent(xe)}),cl(ul(f),"onDragging",function(S){var D=S.deltaX,I=S.deltaY,V=f.props.graphModel,J=V.getSelectElements(!0);V.moveNodes(J.nodes.map(function(ne){return ne.id}),D,I)}),cl(ul(f),"handleContextMenu",function(S){S.preventDefault();var D=f.props,I=D.graphModel,V=D.graphModel,J=V.eventCenter,ne=V.selectElements,be=I.getPointByClient({x:S.clientX,y:S.clientY}),ge={nodes:[],edges:[]};cA(ne.values()).forEach(function(xe){xe.BaseType===Zn.NODE&&ge.nodes.push(xe.getData()),xe.BaseType===Zn.EDGE&&ge.edges.push(xe.getData())}),J.emit(dt.SELECTION_CONTEXTMENU,{data:ge,e:S,position:be})});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return f.stepDrag=new bo({onDragging:f.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),f}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel,f=c.selectElements,v=c.transformModel;if(!(f.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;f.forEach(function(ne){var be={x:0,y:0,x1:0,y1:0};ne.BaseType===Zn.NODE&&(be=function(ge){var xe=ge.x,Ce=ge.y,Qe=ge.width,Ze=ge.height;return{x:xe-Qe/2,y:Ce-Ze/2,x1:xe+Qe/2,y1:Ce+Ze/2}}(ne)),ne.BaseType===Zn.EDGE&&(be=uA(ne)),b=Math.min(b,be.x),x=Math.min(x,be.y),S=Math.max(S,be.x1),D=Math.max(D,be.y1)});var I=_1(v.CanvasPointToHtmlPoint([b,x]),2);b=I[0],x=I[1];var V=_1(v.CanvasPointToHtmlPoint([S,D]),2);S=V[0],D=V[1];var J={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&sA(e.prototype,n),s}(pe.a),cl(b1,"toolName","multipleSelect"),g1=m1))||g1;function pA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dA=function(){function t(r){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),Ch(this,"tools",void 0),Ch(this,"components",void 0),Ch(this,"toolMap",new Map),Ch(this,"instance",void 0),this.instance=r,this.isDisabledTool(jb.toolName)||this.registerTool(jb.toolName,jb),this.isDisabledTool(Tb.toolName)||this.registerTool(Tb.toolName,Tb);var s=r.graphModel;s.eventCenter.on("".concat(dt.GRAPH_TRANSFORM,",").concat(dt.NODE_CLICK,",").concat(dt.BLANK_CLICK," "),function(){var c=s.textEditElement,f=s.editConfigModel,v=f.edgeTextEdit,b=f.nodeTextEdit;(v||b)&&c&&s.textEditElement.setElementState(gn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,s){this.toolMap.set(r,s)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&pA(e.prototype,n),t}(),hA=o(173),yA=o.n(hA);function vA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w1=function(){function t(r){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),kb(this,"mousetrap",void 0),kb(this,"options",void 0),kb(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var s=r.lf;this.target=s.container,this.mousetrap=new yA.a(this.target),r.keyboard.enabled&&!s.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,s=this.options.keyboard.shortcuts;if(s)if(En(s))s.forEach(function(b){var x=b.keys,S=b.callback,D=b.action;return r.on(x,S,D)});else{var c=s.keys,f=s.callback,v=s.action;this.on(c,f,v)}}},{key:"on",value:function(r,s,c){this.mousetrap.bind(this.getKeys(r),s,c)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,s){this.mousetrap.unbind(this.getKeys(r),s)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var s=this;return(Array.isArray(r)?r:[r]).map(function(c){return s.formatKey(c)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&vA(e.prototype,n),t}(),gA=w1,Da=null;function x1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function E1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var sl=40,Db=40;function Nb(t){return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rb=Symbol("plugin register by Logicflow.use"),Cb=function(){function t(s){var c,f,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Kn(this,"container",void 0),Kn(this,"width",void 0),Kn(this,"height",void 0),Kn(this,"graphModel",void 0),Kn(this,"history",void 0),Kn(this,"viewMap",new Map),Kn(this,"tool",void 0),Kn(this,"keyboard",void 0),Kn(this,"dnd",void 0),Kn(this,"options",void 0),Kn(this,"snaplineModel",void 0),Kn(this,"components",[]),Kn(this,"plugins",void 0),Kn(this,"extension",{}),Kn(this,"adapterIn",void 0),Kn(this,"adapterOut",void 0),Kn(this,"getView",function(b){return v.viewMap.get(b)}),s=w0(s),this.options=s,this.container=this.initContainer(s.container),this.plugins=s.plugins,this.graphModel=new xE(sp({},s)),this.tool=new dA(this),this.history=new rA(this.graphModel.eventCenter),this.dnd=new _S({lf:this}),this.keyboard=new gA({lf:this,keyboard:s.keyboard}),s.snapline!==!1&&(this.snaplineModel=new I_(this.graphModel),c=this.graphModel.eventCenter,f=this.snaplineModel,c.on("node:mousemove",function(b){var x=b.data;f.setNodeSnapLine(x)}),c.on("node:mouseup",function(){f.clearSnapline()})),function(b,x){var S=b.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(Db=sl,!D.enabled||x.textEditElement)return!0;var I=b.options.guards,V=x.getSelectElements(!1);return I&&I.beforeClone&&!I.beforeClone(V)||V.nodes.length===0&&V.edges.length===0?(Da=null,!0):((Da=V).nodes.forEach(function(J){return x1(J,sl)}),Da.edges.forEach(function(J){return E1(J,sl)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(Da&&(Da.nodes||Da.edges)){b.clearSelectElements();var I=b.addElements(Da,Db);if(!I)return!0;I.nodes.forEach(function(V){return b.selectElementById(V.id,!0)}),I.edges.forEach(function(V){return b.selectElementById(V.id,!0)}),Da.nodes.forEach(function(V){return x1(V,sl)}),Da.edges.forEach(function(V){return E1(V,sl)}),Db+=sl}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var I=x.getSelectElements(!0);return b.clearSelectElements(),I.edges.forEach(function(V){return b.deleteEdge(V.id)}),I.nodes.forEach(function(V){return b.deleteNode(V.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(s.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(s,c){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof s=="string"){var v={BaseEdge:up,BaseEdgeModel:xf,BaseNode:Aa,BaseNodeModel:Pa,RectNode:jg,RectNodeModel:rg,CircleNode:Tg,CircleNodeModel:zv,PolygonNode:Cg,PolygonNodeModel:Qv,TextNode:Yg,TextNodeModel:ug,LineEdge:fb,LineEdgeModel:zs,DiamondNode:Bg,DiamondNodeModel:Uv,PolylineEdge:vb,PolylineEdgeModel:go,BezierEdge:_b,BezierEdgeModel:Dv,EllipseNode:Gg,EllipseNodeModel:Yv,HtmlNode:Zg,HtmlNodeModel:lg,h:pe.g,type:s};this.viewMap.forEach(function(I){var V=I.extendKey;V&&(v[V]=I)}),this.graphModel.modelMap.forEach(function(I){var V=I.extendKey;V&&(v[V]=I)});var b=c(v),x=b.view,S=b.model,D=x;f&&!D.isObervered&&(D.isObervered=!0,D=lt(D)),this.setView(s,D),this.graphModel.setModel(s,S)}else this.registerElement(s)}},{key:"registerElement",value:function(s){var c=s.view;s.isObserverView===!1||c.isObervered||(c.isObervered=!0,c=lt(c)),this.setView(s.type,c),this.graphModel.setModel(s.type,s.model)}},{key:"batchRegister",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(f){s.registerElement(f)})}},{key:"defaultRegister",value:function(){this.registerElement({view:jg,model:rg,type:"rect"}),this.registerElement({type:"circle",view:Tg,model:zv}),this.registerElement({type:"polygon",view:Cg,model:Qv}),this.registerElement({type:"line",view:fb,model:zs}),this.registerElement({type:"polyline",view:vb,model:go}),this.registerElement({type:"bezier",view:_b,model:Dv}),this.registerElement({type:"text",view:Yg,model:ug}),this.registerElement({type:"ellipse",view:Gg,model:Yv}),this.registerElement({type:"diamond",view:Bg,model:Uv}),this.registerElement({type:"html",view:Zg,model:lg})}},{key:"selectElementById",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(s,c),!c&&f&&this.graphModel.toFront(s)}},{key:"focusOn",value:function(s){var c=this.graphModel.transformModel,f=s.coordinate,v=s.id;if(!f){var b=this.getNodeModelById(v);b&&(f=b.getData());var x=this.getEdgeModelById(v);x&&(f=x.textPosition)}var S=f,D=S.x,I=S.y;c.focusOn(D,I,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(s){this.graphModel.setTheme(s)}},{key:"resize",value:function(s,c){this.graphModel.resize(s,c),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(s){this.graphModel.setDefaultEdgeType(s)}},{key:"updateText",value:function(s,c){this.graphModel.updateText(s,c)}},{key:"deleteElement",value:function(s){var c,f,v,b=this.getModelById(s);return!!b&&(f=(v=(Kn(c={},Zn.NODE,this.deleteNode),Kn(c,Zn.EDGE,this.deleteEdge),c)[b.BaseType])===null||v===void 0?void 0:v.call(this,s))!==null&&f!==void 0&&f}},{key:"getModelById",value:function(s){return this.graphModel.getElement(s)}},{key:"getDataById",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getData()}},{key:"changeNodeType",value:function(s,c){this.graphModel.changeNodeType(s,c)}},{key:"changeEdgeType",value:function(s,c){this.graphModel.changeEdgeType(s,c)}},{key:"getNodeEdges",value:function(s){return this.graphModel.getNodeEdges(s)}},{key:"addNode",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,f=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(s,c,f)}},{key:"deleteNode",value:function(s){var c=this.graphModel.getNodeModelById(s);if(!c)return!1;var f=c.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(f);return b&&this.graphModel.deleteNode(s),b}},{key:"cloneNode",value:function(s){var c=this.graphModel.getNodeModelById(s).getData(),f=this.options.guards;if(!f||!f.beforeClone||f.beforeClone(c))return this.graphModel.cloneNode(s)}},{key:"changeNodeId",value:function(s,c){return this.graphModel.changeNodeId(s,c)}},{key:"getNodeModelById",value:function(s){return this.graphModel.getNodeModelById(s)}},{key:"getNodeDataById",value:function(s){var c;return(c=this.graphModel.getNodeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"addEdge",value:function(s){return this.graphModel.addEdge(s)}},{key:"deleteEdge",value:function(s){var c=this.options.guards,f=this.graphModel.edgesMap[s];if(!f)return!1;var v=f.model.getData(),b=!c||!c.beforeDelete||c.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(s),b}},{key:"deleteEdgeByNodeId",value:function(s){var c=s.sourceNodeId,f=s.targetNodeId;c&&f?this.graphModel.deleteEdgeBySourceAndTarget(c,f):c?this.graphModel.deleteEdgeBySource(c):f&&this.graphModel.deleteEdgeByTarget(f)}},{key:"changeEdgeId",value:function(s,c){return this.graphModel.changeEdgeId(s,c)}},{key:"getEdgeModelById",value:function(s){var c;return(c=this.graphModel.edgesMap[s])===null||c===void 0?void 0:c.model}},{key:"getEdgeModels",value:function(s){var c=this.graphModel.edges,f=s.sourceNodeId,v=s.targetNodeId;if(f&&v){var b=[];return c.forEach(function(D){D.sourceNodeId===f&&D.targetNodeId===v&&b.push(D)}),b}if(f){var x=[];return c.forEach(function(D){D.sourceNodeId===f&&x.push(D)}),x}if(v){var S=[];return c.forEach(function(D){D.targetNodeId===v&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(s){var c;return(c=this.getEdgeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"getNodeIncomingEdge",value:function(s){return this.graphModel.getNodeIncomingEdge(s)}},{key:"getNodeOutgoingEdge",value:function(s){return this.graphModel.getNodeOutgoingEdge(s)}},{key:"getNodeIncomingNode",value:function(s){return this.graphModel.getNodeIncomingNode(s)}},{key:"getNodeOutgoingNode",value:function(s){return this.graphModel.getNodeOutgoingNode(s)}},{key:"editText",value:function(s){this.graphModel.editText(s)}},{key:"setProperties",value:function(s,c){var f;(f=this.graphModel.getElement(s))===null||f===void 0||f.setProperties(jr(c))}},{key:"deleteProperty",value:function(s,c){var f;(f=this.graphModel.getElement(s))===null||f===void 0||f.deleteProperty(c)}},{key:"getProperties",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getProperties()}},{key:"toFront",value:function(s){this.graphModel.toFront(s)}},{key:"setElementZIndex",value:function(s,c){return this.graphModel.setElementZIndex(s,c)}},{key:"addElements",value:function(s){for(var c=this,f=s.nodes,v=s.edges,b={},x={nodes:[],edges:[]},S=0;S<f.length;S++){var D=f[S],I=D.id,V=this.addNode(D);if(!V)return;I&&(b[I]=V.id),x.nodes.push(V)}return v.forEach(function(J){var ne=J.sourceNodeId,be=J.targetNodeId;b[ne]&&(ne=b[ne]),b[be]&&(be=b[be]);var ge=c.graphModel.addEdge(sp(sp({},J),{},{sourceNodeId:ne,targetNodeId:be}));x.edges.push(ge)}),x}},{key:"getAreaElement",value:function(s,c){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(s,c,f,v,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(s)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var s=this.graphModel.modelToGraphData();if(this.adapterOut){for(var c=arguments.length,f=new Array(c),v=0;v<c;v++)f[v]=arguments[v];return this.adapterOut.apply(this,[s].concat(f))}return s}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(s){var c=this.graphModel,f=c.editConfigModel,v=c.transformModel;f.updateEditConfig(s),(s==null?void 0:s.stopMoveGraph)!==void 0&&v.updateTranslateLimits(s.stopMoveGraph),s!=null&&s.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(s,c){return this.graphModel.getPointByClient({x:s,y:c})}},{key:"undo",value:function(){if(this.history.undoAble()){var s=jr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"redo",value:function(){if(this.history.redoAble()){var s=jr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"zoom",value:function(s,c){return this.graphModel.transformModel.zoom(s,c)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(s){this.graphModel.transformModel.setZoomMiniSize(s)}},{key:"setZoomMaxSize",value:function(s){this.graphModel.transformModel.setZoomMaxSize(s)}},{key:"getTransform",value:function(){var s=this.graphModel.transformModel;return{SCALE_X:s.SCALE_X,SCALE_Y:s.SCALE_Y,TRANSLATE_X:s.TRANSLATE_X,TRANSLATE_Y:s.TRANSLATE_Y}}},{key:"translate",value:function(s,c){this.graphModel.transformModel.translate(s,c)}},{key:"resetTranslate",value:function(){var s=this.graphModel.transformModel,c=s.TRANSLATE_X,f=s.TRANSLATE_Y;this.translate(-c,-f)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(s,c){c===void 0&&(c=s),this.graphModel.fitView(s,c)}},{key:"openEdgeAnimation",value:function(s){this.graphModel.openEdgeAnimation(s)}},{key:"closeEdgeAnimation",value:function(s){this.graphModel.closeEdgeAnimation(s)}},{key:"on",value:function(s,c){this.graphModel.eventCenter.on(s,c)}},{key:"off",value:function(s,c){this.graphModel.eventCenter.off(s,c)}},{key:"once",value:function(s,c){this.graphModel.eventCenter.once(s,c)}},{key:"emit",value:function(s,c){this.graphModel.eventCenter.emit(s,c)}},{key:"initContainer",value:function(s){var c=document.createElement("div");return c.style.position="relative",c.style.width="100%",c.style.height="100%",s.innerHTML="",s.appendChild(c),c}},{key:"installPlugins",value:function(){var s,c=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(s=this.plugins)!==null&&s!==void 0?s:t.extensions;v.forEach(function(b){var x=null,S=null;b[Rb]?(x=b.extension,S=b.props):x=b;var D=x.pluginName||x.name;f.indexOf(D)===-1&&c.installPlugin(x,S)})}},{key:"installPlugin",value:function(s,c){if(Nb(s)==="object"){var f=s.install,v=s.render;return f&&f.call(s,this,t),v&&this.components.push(v.bind(s)),void(this.extension[s.pluginName]=s)}var b=s,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:c});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(s,c){this.graphModel.updateAttributes(s,c)}},{key:"createFakerNode",value:function(s){var c=this.graphModel.modelMap.get(s.type);if(c){var f=new c(sp(sp({},s),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(f),f}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(s){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(s)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(s,c){this.viewMap.set(s,c)}},{key:"renderRawData",value:function(s){this.graphModel.graphDataToModel(jr(s)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(bS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(dt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(s=this.adapterIn(s)),this.renderRawData(s)}}],r=[{key:"use",value:function(s,c){var f,v,b=s.pluginName;b||(b=s.name);var x=(f=this.extensions.get(b))===null||f===void 0?void 0:f.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Kn(v={},Rb,Rb),Kn(v,"extension",s),Kn(v,"props",c),v))}}],n&&j1(e.prototype,n),r&&j1(e,r),t}();function ki(t){return lt(t)}Kn(Cb,"extensions",new Map),p.default=Cb}])})}(Wh,Wh.exports)),Wh.exports}var it=oL();const $h=m2(it),iL=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];var aL=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),uL=(globalThis==null?void 0:globalThis._ids)||new aL;function Ml(){return uL.next()}var Kx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),cL=function(i){Kx(u,i);function u(a,p){var o=this;return a.id||(a.id="Event_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedTargetRules=function(){var a=i.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(p),a},u.extendKey="StartEventModel",u}(it.CircleNodeModel),sL=function(i){Kx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="StartEventNode",u}(it.CircleNode),lL={type:"bpmn:startEvent",view:sL,model:cL},qx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),Qh=function(){return Qh=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Qh.apply(this,arguments)},fL=function(i){qx(u,i);function u(a,p){var o=this;return a.id||(a.id="Event_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedSourceRules=function(){var a=i.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(p),a},u.extendKey="EndEventModel",u}(it.CircleNodeModel),pL=function(i){qx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},u.prototype.getShape=function(){var a=this.props.model,p=a.getNodeStyle(),o=a.x,d=a.y,h=a.r,m=i.prototype.getShape.call(this);return it.h("g",{},m,it.h("circle",Qh(Qh({},p),{cx:o,cy:d,r:h-5})))},u.extendKey="EndEventView",u}(it.CircleNode),dL={type:"bpmn:endEvent",view:pL,model:fL},Zx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),yp=function(){return yp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},yp.apply(this,arguments)},hL=function(i){Zx(u,i);function u(a,p){var o=this;return a.id||(a.id="Gateway_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return u.extendKey="ExclusiveGatewayModel",u}(it.PolygonNodeModel),yL=function(i){Zx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.points,g=a.getNodeStyle();return it.h("g",{transform:"matrix(1 0 0 1 "+(p-d/2)+" "+(o-h/2)+")"},it.h("polygon",yp(yp({},g),{x:p,y:o,points:m})),it.h("path",yp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},u.extendKey="ExclusiveGatewayNode",u}(it.PolygonNode),vL={type:"bpmn:exclusiveGateway",view:yL,model:hL},Jx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),ey=function(){return ey=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ey.apply(this,arguments)},gL=function(i){Jx(u,i);function u(a,p){var o=this;return a.id||(a.id="Activity_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="UserTaskModel",u}(it.RectNodeModel),bL=function(i){Jx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:p-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",ey(ey({},g),{x:p-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},u.extendKey="UserTaskNode",u}(it.RectNode),mL={type:"bpmn:userTask",view:bL,model:gL},Qx=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),em=function(){return em=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},em.apply(this,arguments)},_L=function(i){Qx(u,i);function u(a,p){var o=this;return a.id||(a.id="Activity_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="ServiceTaskModel",u}(it.RectNodeModel),OL=function(i){Qx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:p-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",em({x:p-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},g)),this.getLabelShape()])},u.extendKey="ServiceTaskNode",u}(it.RectNode),wL={type:"bpmn:serviceTask",view:OL,model:_L},eE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),xL=function(i){eE(u,i);function u(a,p){var o=this;return a.id||(a.id="Flow_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="SequenceFlowModel",u}(it.PolylineEdgeModel),EL=function(i){eE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="SequenceFlowEdge",u}(it.PolylineEdge),SL={type:"bpmn:sequenceFlow",view:EL,model:xL},hO={width:40,height:40},yO={width:40,height:40},vO={width:40,height:40},gO={width:100,height:80},bO={width:100,height:80},jL={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},PL=function(){function i(u){var a=u.lf;a.setTheme(jL),a.register(lL),a.register(dL),a.register(vL),a.register(mL),a.register(wL),a.options.customBpmnEdge||(a.register(SL),a.setDefaultEdgeType("bpmn:sequenceFlow"))}return i.pluginName="bpmnElement",i}(),AL=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),ML=(globalThis==null?void 0:globalThis._ids)||new AL;function mO(){return ML.next()}function tE(i){return Object.prototype.toString.call(i)}function TL(i){return"  ".repeat(i)}function ty(i){var u=i;return tE(i)==="[object Object]"?(u={},Object.keys(i).forEach(function(a){var p=a;a.charAt(0)==="-"&&(p=a.substring(1)),u[p]=ty(i[a])})):Array.isArray(i)&&(u=[],i.forEach(function(a,p){u[p]=ty(a)})),u}function kL(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(ty(i)).replace(/"/g,"'")}return u}var fl=`	
`;function Xh(i,u,a){var p=TL(a),o="";if(u==="#text")return fl+p+i;if(u==="#cdata-section")return fl+p+"<![CDATA["+i+"]]>";if(u==="#comment")return fl+p+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+kL(i)+'"';if(Array.isArray(i))i.forEach(function(g){o+=Xh(g,u,a+1)});else if(tE(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(a===0?"":fl+p)+"<"+u,d.forEach(function(g){g.charAt(0)==="-"?h+=Xh(i[g],g,a+1):m+=Xh(i[g],g,a+1)}),o+=h+(m!==""?">"+m+(fl+p)+"</"+u+">":" />")}else o+=fl+p+("<"+u+">"+i.toString()+"</"+u+">");return o}function DL(i){var u="";for(var a in i)u+=Xh(i[a],a,0);return u}var co=function(){};co.ObjTree=function(){return this};co.ObjTree.VERSION="0.23";co.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;co.ObjTree.prototype.attr_prefix="-";co.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,p=a.parseFromString(i,"application/xml");if(!p)return;u=p.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u)return this.parseDOM(u)};co.ObjTree.prototype.parseHTTP=function(i,u,a){var p={};for(var o in u)p[o]=u[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),a){p.asynchronous=!0;var d=this,h=a,m=p.onComplete;p.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=d.parseDOM(j.responseXML.documentElement)),h(P,j),m&&m(j)}}else p.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=i;var E=new HTTP.Request(p);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,p);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};co.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!=11){var p={};p[i.nodeName]=a,a=p}return a}};co.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,p={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}}else a===null&&(a={});return a}};co.ObjTree.prototype.addNode=function(i,u,a,p){this.__force_array[u]?(a==1&&(i[u]=[]),i[u][i[u].length]=p):a==1?i[u]=p:a==2?i[u]=[i[u],p]:i[u][i[u].length]=p};co.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};co.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],p=[];for(var o in u)if(u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!=this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=p.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};co.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],p=0;p<u.length;p++){var o=u[p];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};co.ObjTree.prototype.scalar_to_xml=function(i,u){return i=="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};co.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var NL=function(i){return new co.ObjTree().parseXML(i)},RL=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),tm=function(){return tm=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},tm.apply(this,arguments)},jy=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},ia;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(ia||(ia={}));var nE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],_O=["properties","startPoint","endPoint","pointsList"];function OO(i){var u=i?_O.concat(i):_O;return function(a){function p(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return p(h)}):(Object.entries(o).forEach(function(h){var m=jy(h,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?d[g]=E:d["-"+g]=E:u.includes(g)?d["-"+g]=p(E):d[g]=p(E)}),d)}return p(a)}}function ny(i){var u={};return Object.entries(i).forEach(function(a){var p=jy(a,2),o=p[0],d=p[1];o.indexOf("-")===0?u[o.substring(1)]=ty(d):typeof d=="string"?u[o]=d:Object.prototype.toString.call(d)==="[object Object]"?u[o]=ny(d):Array.isArray(d)?u[o]=d.map(function(h){return ny(h)}):u[o]=d}),u}function CL(i,u,a){var p=new Map;u.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var g=OO(a)(d.properties);Object.assign(m,g)}p.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=u.edges.map(function(d){var h,m,g=p.get(d.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(d.id):g["bpmn:incoming"]=[g["bpmn:incoming"],d.id]:g["bpmn:incoming"]=d.id;var E={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(E["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var j=OO(a)(d.properties);Object.assign(E,j)}return E});u.edges.forEach(function(d){var h=p.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[ia.FLOW]=o}function IL(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var p,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((p=a.text)===null||p===void 0)&&p.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var p,o=a.id,d=100,h=80,m=a.x,g=a.y,E=Cu.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((p=a.text)===null||p===void 0)&&p.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}function LL(i){var u=[],a=[],p=i["bpmn:definitions"];if(p){var o=p["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===ia.FLOW){var m=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=BL(h,m)}else{var g=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];u=u.concat(zL(h,g,d))}}})}return{nodes:u,edges:a}}function zL(i,u,a){var p=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=wO(m,a,h);p.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=wO(o,a,i);p.push(d)}return p}function wO(i,u,a){var p=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-name"],h=Cu.shapeConfigMap.get(u);h&&(p+=h.width/2,o+=h.height/2);var m;Object.entries(a).forEach(function(P){var k=jy(P,2),T=k[0],C=k[1];nE.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=ny(m));var g;if(d&&(g={x:p,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=i["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:i["-bpmnElement"],type:u,x:p,y:o,properties:m};return g&&(j.text=g),j}function BL(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(xO(d,o))});else{var p=void 0;Array.isArray(u)?p=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):p=u,a.push(xO(p,i))}return a}function xO(i,u){var a,p=u["-name"];if(p){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;p.split(`
`).forEach(function(g){d<g.length&&(d=g.length)}),a={value:p,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(u).forEach(function(g){var E=jy(g,2),j=E[0],P=E[1];nE.indexOf(j)===-1&&(h||(h={}),h[j]=P)}),h&&(h=ny(h));var m={id:u["-id"],type:ia.FLOW,pointsList:i["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(m.text=a),m}var Cu=function(){function i(u){var a=this,p=u.lf;this.adapterOut=function(o,d){var h=tm({},a.processAttributes);CL(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};IL(m,o);var g=a.definitionAttributes;g["bpmn:process"]=h,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return LL(o)},p.adapterIn=function(o){return a.adapterIn(o)},p.adapterOut=function(o,d){return a.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+mO()},this.definitionAttributes={"-id":"Definitions_"+mO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();Cu.shapeConfigMap.set(ia.START,{width:hO.width,height:hO.height});Cu.shapeConfigMap.set(ia.END,{width:yO.width,height:yO.height});Cu.shapeConfigMap.set(ia.GATEWAY,{width:vO.width,height:vO.height});Cu.shapeConfigMap.set(ia.SYSTEM,{width:gO.width,height:gO.height});Cu.shapeConfigMap.set(ia.USER,{width:bO.width,height:bO.height});(function(i){RL(u,i);function u(a){var p=i.call(this,a)||this;p.adapterXmlIn=function(d){var h=NL(d);return p.adapterIn(h)},p.adapterXmlOut=function(d,h){var m=p.adapterOut(d,h);return DL(m)};var o=a.lf;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p}return u.pluginName="bpmnXmlAdapter",u})(Cu);var FL=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),WL=(globalThis==null?void 0:globalThis._ids)||new FL;function $L(){return WL.next()}it.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),it.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});it.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});it.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Gm,ur,rE,zc,EO,oE,nm,iE,Hm,rm,om,im={},aE=[],UL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Xm=Array.isArray;function Mu(i,u){for(var a in u)i[a]=u[a];return i}function Ym(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function vp(i,u,a){var p,o,d,h={};for(d in u)d=="key"?p=u[d]:d=="ref"?o=u[d]:h[d]=u[d];if(arguments.length>2&&(h.children=arguments.length>3?Gm.call(arguments,2):a),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return Yh(i,h,p,o,null)}function Yh(i,u,a,p,o){var d={type:i,props:u,key:a,ref:p,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o==null?++rE:o,__i:-1,__u:0};return o==null&&ur.vnode!=null&&ur.vnode(d),d}function Py(i){return i.children}function vl(i,u){this.props=i,this.context=u}function ml(i,u){if(u==null)return i.__?ml(i.__,i.__i+1):null;for(var a;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null)return a.__e;return typeof i.type=="function"?ml(i):null}function uE(i){var u,a;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,u=0;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null){i.__e=i.__c.base=a.__e;break}return uE(i)}}function SO(i){(!i.__d&&(i.__d=!0)&&zc.push(i)&&!ry.__r++||EO!==ur.debounceRendering)&&((EO=ur.debounceRendering)||oE)(ry)}function ry(){var i,u,a,p,o,d,h,m;for(zc.sort(nm);i=zc.shift();)i.__d&&(u=zc.length,p=void 0,d=(o=(a=i).__v).__e,h=[],m=[],a.__P&&((p=Mu({},o)).__v=o.__v+1,ur.vnode&&ur.vnode(p),lE(a.__P,p,o,a.__n,a.__P.namespaceURI,32&o.__u?[d]:null,h,d==null?ml(o):d,!!(32&o.__u),m),p.__v=o.__v,p.__.__k[p.__i]=p,XL(h,p,m),p.__e!=d&&uE(p)),zc.length>u&&zc.sort(nm));ry.__r=0}function cE(i,u,a,p,o,d,h,m,g,E,j){var P,k,T,C,N,L,U=p&&p.__k||aE,G=u.length;for(g=GL(a,u,U,g),P=0;P<G;P++)(T=a.__k[P])!=null&&(k=T.__i===-1?im:U[T.__i]||im,T.__i=P,L=lE(i,T,k,o,d,h,m,g,E,j),C=T.__e,T.ref&&k.ref!=T.ref&&(k.ref&&Vm(k.ref,null,T),j.push(T.ref,T.__c||C,T)),N==null&&C!=null&&(N=C),4&T.__u||k.__k===T.__k?g=sE(T,g,i):typeof T.type=="function"&&L!==void 0?g=L:C&&(g=C.nextSibling),T.__u&=-7);return a.__e=N,g}function GL(i,u,a,p){var o,d,h,m,g,E=u.length,j=a.length,P=j,k=0;for(i.__k=[],o=0;o<E;o++)(d=u[o])!=null&&typeof d!="boolean"&&typeof d!="function"?(m=o+k,(d=i.__k[o]=typeof d=="string"||typeof d=="number"||typeof d=="bigint"||d.constructor==String?Yh(null,d,null,null,null):Xm(d)?Yh(Py,{children:d},null,null,null):d.constructor===void 0&&d.__b>0?Yh(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d).__=i,d.__b=i.__b+1,h=null,(g=d.__i=HL(d,a,m,P))!==-1&&(P--,(h=a[g])&&(h.__u|=2)),h==null||h.__v===null?(g==-1&&k--,typeof d.type!="function"&&(d.__u|=4)):g!==m&&(g==m-1?k--:g==m+1?k++:(g>m?k--:k++,d.__u|=4))):d=i.__k[o]=null;if(P)for(o=0;o<j;o++)(h=a[o])!=null&&!(2&h.__u)&&(h.__e==p&&(p=ml(h)),fE(h,h));return p}function sE(i,u,a){var p,o;if(typeof i.type=="function"){for(p=i.__k,o=0;p&&o<p.length;o++)p[o]&&(p[o].__=i,u=sE(p[o],u,a));return u}i.__e!=u&&(u&&i.type&&!a.contains(u)&&(u=ml(i)),a.insertBefore(i.__e,u||null),u=i.__e);do u=u&&u.nextSibling;while(u!=null&&u.nodeType===8);return u}function HL(i,u,a,p){var o=i.key,d=i.type,h=a-1,m=a+1,g=u[a];if(g===null||g&&o==g.key&&d===g.type&&!(2&g.__u))return a;if((typeof d!="function"||d===Py||o)&&p>(g!=null&&!(2&g.__u)?1:0))for(;h>=0||m<u.length;){if(h>=0){if((g=u[h])&&!(2&g.__u)&&o==g.key&&d===g.type)return h;h--}if(m<u.length){if((g=u[m])&&!(2&g.__u)&&o==g.key&&d===g.type)return m;m++}}return-1}function jO(i,u,a){u[0]==="-"?i.setProperty(u,a==null?"":a):i[u]=a==null?"":typeof a!="number"||UL.test(u)?a:a+"px"}function Uh(i,u,a,p,o){var d;e:if(u==="style")if(typeof a=="string")i.style.cssText=a;else{if(typeof p=="string"&&(i.style.cssText=p=""),p)for(u in p)a&&u in a||jO(i.style,u,"");if(a)for(u in a)p&&a[u]===p[u]||jO(i.style,u,a[u])}else if(u[0]==="o"&&u[1]==="n")d=u!==(u=u.replace(iE,"$1")),u=u.toLowerCase()in i||u==="onFocusOut"||u==="onFocusIn"?u.toLowerCase().slice(2):u.slice(2),i.l||(i.l={}),i.l[u+d]=a,a?p?a.u=p.u:(a.u=Hm,i.addEventListener(u,d?om:rm,d)):i.removeEventListener(u,d?om:rm,d);else{if(o=="http://www.w3.org/2000/svg")u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!="width"&&u!="height"&&u!="href"&&u!="list"&&u!="form"&&u!="tabIndex"&&u!="download"&&u!="rowSpan"&&u!="colSpan"&&u!="role"&&u!="popover"&&u in i)try{i[u]=a==null?"":a;break e}catch(h){}typeof a=="function"||(a==null||a===!1&&u[4]!=="-"?i.removeAttribute(u):i.setAttribute(u,u=="popover"&&a==1?"":a))}}function PO(i){return function(u){if(this.l){var a=this.l[u.type+i];if(u.t==null)u.t=Hm++;else if(u.t<a.u)return;return a(ur.event?ur.event(u):u)}}}function lE(i,u,a,p,o,d,h,m,g,E){var j,P,k,T,C,N,L,U,G,te,ie,re,Q,Z,H,B,X,Y=u.type;if(u.constructor!==void 0)return null;128&a.__u&&(g=!!(32&a.__u),d=[m=u.__e=a.__e]),(j=ur.__b)&&j(u);e:if(typeof Y=="function")try{if(U=u.props,G="prototype"in Y&&Y.prototype.render,te=(j=Y.contextType)&&p[j.__c],ie=j?te?te.props.value:j.__:p,a.__c?L=(P=u.__c=a.__c).__=P.__E:(G?u.__c=P=new Y(U,ie):(u.__c=P=new vl(U,ie),P.constructor=Y,P.render=VL),te&&te.sub(P),P.props=U,P.state||(P.state={}),P.context=ie,P.__n=p,k=P.__d=!0,P.__h=[],P._sb=[]),G&&P.__s==null&&(P.__s=P.state),G&&Y.getDerivedStateFromProps!=null&&(P.__s==P.state&&(P.__s=Mu({},P.__s)),Mu(P.__s,Y.getDerivedStateFromProps(U,P.__s))),T=P.props,C=P.state,P.__v=u,k)G&&Y.getDerivedStateFromProps==null&&P.componentWillMount!=null&&P.componentWillMount(),G&&P.componentDidMount!=null&&P.__h.push(P.componentDidMount);else{if(G&&Y.getDerivedStateFromProps==null&&U!==T&&P.componentWillReceiveProps!=null&&P.componentWillReceiveProps(U,ie),!P.__e&&(P.shouldComponentUpdate!=null&&P.shouldComponentUpdate(U,P.__s,ie)===!1||u.__v===a.__v)){for(u.__v!==a.__v&&(P.props=U,P.state=P.__s,P.__d=!1),u.__e=a.__e,u.__k=a.__k,u.__k.some(function(q){q&&(q.__=u)}),re=0;re<P._sb.length;re++)P.__h.push(P._sb[re]);P._sb=[],P.__h.length&&h.push(P);break e}P.componentWillUpdate!=null&&P.componentWillUpdate(U,P.__s,ie),G&&P.componentDidUpdate!=null&&P.__h.push(function(){P.componentDidUpdate(T,C,N)})}if(P.context=ie,P.props=U,P.__P=i,P.__e=!1,Q=ur.__r,Z=0,G){for(P.state=P.__s,P.__d=!1,Q&&Q(u),j=P.render(P.props,P.state,P.context),H=0;H<P._sb.length;H++)P.__h.push(P._sb[H]);P._sb=[]}else do P.__d=!1,Q&&Q(u),j=P.render(P.props,P.state,P.context),P.state=P.__s;while(P.__d&&++Z<25);P.state=P.__s,P.getChildContext!=null&&(p=Mu(Mu({},p),P.getChildContext())),G&&!k&&P.getSnapshotBeforeUpdate!=null&&(N=P.getSnapshotBeforeUpdate(T,C)),m=cE(i,Xm(B=j!=null&&j.type===Py&&j.key==null?j.props.children:j)?B:[B],u,a,p,o,d,h,m,g,E),P.base=u.__e,u.__u&=-161,P.__h.length&&h.push(P),L&&(P.__E=P.__=null)}catch(q){if(u.__v=null,g||d!=null)if(q.then){for(u.__u|=g?160:128;m&&m.nodeType===8&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,u.__e=m}else for(X=d.length;X--;)Ym(d[X]);else u.__e=a.__e,u.__k=a.__k;ur.__e(q,u,a)}else d==null&&u.__v===a.__v?(u.__k=a.__k,u.__e=a.__e):m=u.__e=YL(a.__e,u,a,p,o,d,h,g,E);return(j=ur.diffed)&&j(u),128&u.__u?void 0:m}function XL(i,u,a){for(var p=0;p<a.length;p++)Vm(a[p],a[++p],a[++p]);ur.__c&&ur.__c(u,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){ur.__e(d,o.__v)}})}function YL(i,u,a,p,o,d,h,m,g){var E,j,P,k,T,C,N,L=a.props,U=u.props,G=u.type;if(G==="svg"?o="http://www.w3.org/2000/svg":G==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),d!=null){for(E=0;E<d.length;E++)if((T=d[E])&&"setAttribute"in T==!!G&&(G?T.localName===G:T.nodeType===3)){i=T,d[E]=null;break}}if(i==null){if(G===null)return document.createTextNode(U);i=document.createElementNS(o,G,U.is&&U),m&&(ur.__m&&ur.__m(u,d),m=!1),d=null}if(G===null)L===U||m&&i.data===U||(i.data=U);else{if(d=d&&Gm.call(i.childNodes),L=a.props||im,!m&&d!=null)for(L={},E=0;E<i.attributes.length;E++)L[(T=i.attributes[E]).name]=T.value;for(E in L)if(T=L[E],E!="children"){if(E=="dangerouslySetInnerHTML")P=T;else if(!(E in U)){if(E=="value"&&"defaultValue"in U||E=="checked"&&"defaultChecked"in U)continue;Uh(i,E,null,T,o)}}for(E in U)T=U[E],E=="children"?k=T:E=="dangerouslySetInnerHTML"?j=T:E=="value"?C=T:E=="checked"?N=T:m&&typeof T!="function"||L[E]===T||Uh(i,E,T,L[E],o);if(j)m||P&&(j.__html===P.__html||j.__html===i.innerHTML)||(i.innerHTML=j.__html),u.__k=[];else if(P&&(i.innerHTML=""),cE(i,Xm(k)?k:[k],u,a,p,G==="foreignObject"?"http://www.w3.org/1999/xhtml":o,d,h,d?d[0]:a.__k&&ml(a,0),m,g),d!=null)for(E=d.length;E--;)Ym(d[E]);m||(E="value",G==="progress"&&C==null?i.removeAttribute("value"):C!==void 0&&(C!==i[E]||G==="progress"&&!C||G==="option"&&C!==L[E])&&Uh(i,E,C,L[E],o),E="checked",N!==void 0&&N!==i[E]&&Uh(i,E,N,L[E],o))}return i}function Vm(i,u,a){try{if(typeof i=="function"){var p=typeof i.__u=="function";p&&i.__u(),p&&u==null||(i.__u=i(u))}else i.current=u}catch(o){ur.__e(o,a)}}function fE(i,u,a){var p,o;if(ur.unmount&&ur.unmount(i),(p=i.ref)&&(p.current&&p.current!==i.__e||Vm(p,null,u)),(p=i.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(d){ur.__e(d,u)}p.base=p.__P=null}if(p=i.__k)for(o=0;o<p.length;o++)p[o]&&fE(p[o],u,a||typeof i.type!="function");a||Ym(i.__e),i.__c=i.__=i.__e=void 0}function VL(i,u,a){return this.constructor(i,a)}Gm=aE.slice,ur={__e:function(i,u,a,p){for(var o,d,h;u=u.__;)if((o=u.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,p||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},rE=0,vl.prototype.setState=function(i,u){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Mu({},this.state),typeof i=="function"&&(i=i(Mu({},a),this.props)),i&&Mu(a,i),i!=null&&this.__v&&(u&&this._sb.push(u),SO(this))},vl.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),SO(this))},vl.prototype.render=Py,zc=[],oE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nm=function(i,u){return i.__v.__b-u.__v.__b},ry.__r=0,iE=/(PointerCapture)$|Capture$/i,Hm=0,rm=PO(!1),om=PO(!0);var gp=function(){return gp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},gp.apply(this,arguments)};function Km(i){var u=i.x,a=i.y,p=i.width,o=i.height,d=i.radius,h=i.className,m=u-p/2,g=a-o/2,E=gp(gp({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:g});return it.h("rect",gp({},E))}Km.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var dl;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(dl||(dl={}));var KL=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),Bc=function(){return Bc=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Bc.apply(this,arguments)},qL=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},ZL=it.LogicFlowUtil.StepDrag,JL=function(i){KL(u,i);function u(a){var p=i.call(this)||this;return p.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.x,E=m.y;p.nodeModel.x=g+d/2,p.nodeModel.y=E+h/2,p.nodeModel.moveText(d/2,h/2)},p.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,g=o.width,E=o.height,j=o.PCTResizeInfo,P=o.pct,k=P===void 0?1:P,T=o.freezeWidth,C=T===void 0?!1:T,N=o.freezeHeight,L=N===void 0?!1:N,U={width:g,height:E,deltaX:h,deltaY:m};if(j){var G=4,te=0,ie=0;switch(d){case 0:ie=(h*-1-m)/G;break;case 1:ie=(h-m)/G;break;case 2:ie=(h+m)/G;break;case 3:ie=(h*-1+m)/G;break}ie!==0&&(te=Math.round(ie/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var re=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),Q=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(d){case 0:h=g-re,m=E-Q;break;case 1:h=re-g,m=E-Q;break;case 2:h=re-g,m=Q-E;break;case 3:h=g-re,m=Q-E;break}return U.width=re,U.height=Q,U.deltaX=h/k,U.deltaY=m/k,U}switch(d){case 0:U.width=C?g:g-h*k,U.height=L?E:E-m*k;break;case 1:U.width=C?g:g+h*k,U.height=L?E:E-m*k;break;case 2:U.width=C?g:g+h*k,U.height=L?E:E+m*k;break;case 3:U.width=C?g:g-h*k,U.height=L?E:E+m*k;break}return U},p.updateEdgePointByAnchors=function(){var o=p.nodeModel,d=o.id,h=o.anchors,m=p.getNodeEdges(d);m.sourceEdges.forEach(function(g){var E=h.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=h.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},p.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.id,E=m.x,j=m.y,P=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=p.nodeModel,L=N.minWidth,U=N.minHeight,G=N.maxWidth,te=N.maxHeight,ie=p.index,re=L===G,Q=U===te,Z=p.getResize({index:ie,deltaX:d,deltaY:h,width:P,height:k,PCTResizeInfo:C,pct:1,freezeWidth:re,freezeHeight:Q});if(Z.width<L||Z.width>G||Z.height<U||Z.height>te){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:re?0:Z.deltaX,deltaY:Q?0:Z.deltaY}),p.nodeModel.width=Z.width,p.nodeModel.height=Z.height,p.nodeModel.setProperties({nodeSize:{width:Z.width,height:Z.height}}),p.getNodeEdges(g);var H={x:E,y:j,width:P,height:k,radius:T},B={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:T};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:H,afterNode:B})},p.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.id,E=m.rx,j=m.ry,P=m.x,k=m.y,T=m.PCTResizeInfo,C=p.index,N=p.nodeModel,L=N.minWidth,U=N.minHeight,G=N.maxWidth,te=N.maxHeight,ie=L===G,re=U===te,Q=E,Z=j,H=p.getResize({index:C,deltaX:d,deltaY:h,width:Q,height:Z,PCTResizeInfo:T,pct:1/2,freezeWidth:ie,freezeHeight:re});if(H.width<L/2||H.width>G/2||H.height<U/2||H.height>te/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:ie?0:H.deltaX,deltaY:re?0:H.deltaY}),p.nodeModel.rx=H.width,p.nodeModel.ry=H.height,p.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}}),p.getNodeEdges(g);var B={x:P,y:k},X={rx:H.width,ry:H.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:Bc(Bc({},B),{rx:E,ry:j}),afterNode:X})},p.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel;m.id;var g=m.rx,E=m.ry,j=m.x,P=m.y,k=m.PCTResizeInfo,T=p.index,C=p.nodeModel,N=C.minWidth,L=C.minHeight,U=C.maxWidth,G=C.maxHeight,te=N===U,ie=L===G,re=g,Q=E,Z=p.getResize({index:T,deltaX:d,deltaY:h,width:re,height:Q,PCTResizeInfo:k,pct:1/2,freezeWidth:te,freezeHeight:ie});if(Z.width<N/2||Z.width>U/2||Z.height<L/2||Z.height>G/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:te?0:Z.deltaX,deltaY:ie?0:Z.deltaY}),p.nodeModel.rx=Z.width,p.nodeModel.ry=Z.height,p.nodeModel.setProperties({nodeSize:{rx:Z.width,ry:Z.height}});var H={x:j,y:P,rx:g,ry:E},B={rx:Z.width,ry:Z.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:H,afterNode:B})},p.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=p.nodeModel,g=m.id,E=m.modelType,j=m.type,P=Bc({id:g,modelType:E,type:j},d),k=Bc({id:g,modelType:E,type:j},h);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:k})},p.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,g=p.graphModel.transformModel,E=p.nodeModel.modelType;d=qL(g.fixDeltaXY(h,m),2),h=d[0],m=d[1],E===dl.RECT_NODE||E===dl.HTML_NODE?p.updateRect({deltaX:h,deltaY:m}):E===dl.ELLIPSE_NODE?p.updateEllipse({deltaX:h,deltaY:m}):E===dl.DIAMOND_NODE&&p.updateDiamond({deltaX:h,deltaY:m})},p.onDragEnd=function(){var o=p.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(p.nodeModel.x/d),m=d*Math.round(p.nodeModel.y/d);p.nodeModel.moveTo(h,m),p.updateEdgePointByAnchors()},p.index=a.index,p.nodeModel=a.model,p.graphModel=a.graphModel,p.state={},p.dragHandler=new ZL({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:1}),p}return u.prototype.getNodeEdges=function(a){for(var p=this.graphModel,o=p.edges,d=[],h=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===a?d.push(g):o[m].targetNodeId===a&&h.push(g)}return{sourceEdges:d,targetEdges:h}},u.prototype.render=function(){var a=this.props,p=a.x,o=a.y,d=a.index,h=a.model,m=h.getControlPointStyle();return vp("g",{className:"lf-resize-control-"+d},vp(Km,Bc({className:"lf-node-control"},{x:p,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},u}(vl),QL=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),oy=function(){return oy=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},oy.apply(this,arguments)},Ay=function(i){QL(u,i);function u(){var a=i.call(this)||this;return a.state={},a}return u.prototype.getResizeControl=function(){var a=this.props,p=a.model,o=a.graphModel,d=p.x,h=p.y,m=p.width,g=p.height,E={minX:d-m/2,minY:h-g/2,maxX:d+m/2,maxY:h+g/2},j=E.minX,P=E.minY,k=E.maxX,T=E.maxY,C=[{x:j,y:P},{x:k,y:P},{x:k,y:T},{x:j,y:T}];return C.map(function(N,L){return vp(JL,oy({index:L},N,{model:p,graphModel:o}))})},u.prototype.getGroupSolid=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getResizeOutlineStyle();return vp(Km,oy({fill:"none"},m,{x:p,y:o,width:d,height:h}))},u.prototype.render=function(){return vp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},u}(vl),pE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),e4=function(i){pE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.resize=function(a,p){console.log(a,p)},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u}(it.RectNodeModel),t4=function(i){pE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Ay,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u}(it.RectNode),dE={type:"rect",view:t4,model:e4},hE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}();(function(i){hE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.EllipseNodeModel);(function(i){hE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Ay,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p.isSelected&&!o?this.getControlGroup():"")},u})(it.EllipseNode);var am=function(){return am=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},am.apply(this,arguments)};function n4(i){var u=i.fillOpacity,a=u===void 0?1:u,p=i.strokeWidth,o=p===void 0?1:p,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,g=m===void 0?"transparent":m,E=i.stroke,j=E===void 0?"#000":E,P=i.points,k=i.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:a,strokeWidth:o,stroke:j,strokeOpacity:h,points:"",className:T};return C.points=P.map(function(N){return N.join(",")}).join(" "),it.h("polygon",am({},C))}var yE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),um=function(){return um=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},um.apply(this,arguments)};(function(i){yE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.DiamondNodeModel);(function(i){yE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Ay,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){var a=this.props.model,p=a.points,o=a.getNodeStyle();return it.h("g",null,it.h(n4,um({},o,{points:p})))},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u})(it.DiamondNode);var vE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}();(function(i){vE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.HtmlNodeModel);(function(i){vE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Ay,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u})(it.HtmlNode);var gE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),iy=function(){return iy=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},iy.apply(this,arguments)},r4=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},o4=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(r4(arguments[u]));return i},AO=500,MO=300,i4=-1e4;(function(i){gE(u,i);function u(){var a=i!==null&&i.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=AO,a.unfoldedHight=MO,a.childrenLastFoldStatus={},a}return u.prototype.initNodeData=function(a){var p=this;i.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=AO,this.height=MO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=i4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},u.prototype.getResizeOutlineStyle=function(){var a=i.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},u.prototype.foldGroup=function(a){var p=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=p.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(a),h.isGroup&&!a){var g=p.childrenLastFoldStatus[d];g!==void 0&&g!==h.isFolded&&h.foldGroup(g)}p.childrenLastFoldStatus[d]=m,h.visible=!a,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(a,o)}},u.prototype.getAnchorStyle=function(a){var p=i.prototype.getAnchorStyle.call(this,a);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},u.prototype.foldEdge=function(a,p){var o=this;p.forEach(function(d,h){var m=d.id,g=d.sourceNodeId,E=d.targetNodeId,j=d.startPoint,P=d.endPoint,k=d.type,T=d.text,C=d.getProperties(),N={id:m+"__"+h,sourceNodeId:g,targetNodeId:E,startPoint:j,endPoint:P,type:k,properties:C,text:T==null?void 0:T.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var U=o.graphModel.group.getNodeGroup(g);U||(U=o.graphModel.getNodeModelById(g)),a&&d.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(L.id!==o.id||U.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!a&&d.visible===!1&&(L&&L.isGroup&&L.isFolded?(N.targetNodeId=L.id,N.endPoint=void 0,o.createVirtualEdge(N)):U&&U.isGroup&&U.isFolded?(N.sourceNodeId=U.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},u.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var p=this.graphModel.addEdge(a);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},u.prototype.isInRange=function(a){var p=a.x1,o=a.y1,d=a.x2,h=a.y2;return p>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},u.prototype.isAllowMoveTo=function(a){var p=a.x1,o=a.y1,d=a.x2,h=a.y2;return{x:p>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},u.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},u.prototype.addChild=function(a){this.children.add(a),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},u.prototype.removeChild=function(a){this.children.delete(a),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},u.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},u.prototype.getData=function(){var a=this,p=i.prototype.getData.call(this);p.children=[],this.children.forEach(function(d){var h=a.graphModel.getNodeModelById(d);h&&!h.virtual&&p.children.push(d)});var o=p.properties;return delete o.groupAddable,delete o.isFolded,p},u.prototype.getHistoryData=function(){var a=i.prototype.getData.call(this);a.children=o4(this.children),a.isGroup=!0;var p=a.properties;return delete p.groupAddable,p.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},u.prototype.isAllowAppendIn=function(a){return!0},u.prototype.toBack=function(){this.zIndex--},u})(dE.model);(function(i){gE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props.model,p=a.resizable,o=a.properties;return p&&!o.isFolded?i.prototype.getControlGroup.call(this):null},u.prototype.getAddableShape=function(){var a=this.props.model,p=a.width,o=a.height,d=a.x,h=a.y,m=a.radius,g=a.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),P=p+E+8,k=o+E+8;return it.h("rect",iy(iy({},j),{width:P,height:k,x:d-P/2,y:h-k/2,rx:m,ry:m}))},u.prototype.getFoldIcon=function(){var a=this.props.model,p=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var d=it.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" M"+(p+7)+","+(o+2)+" "+(p+7)+","+(o+10):"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" "});return it.h("g",{},[it.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),d])},u.prototype.getResizeShape=function(){return it.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},u})(dE.view);var TO=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),bp=function(){return bp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},bp.apply(this,arguments)};function a4(i){var u=function(p){TO(o,p);function o(d,h){var m=this;d.id||(d.id="Flow_"+$L());var g=bp(bp(bp({},{}),d.properties),{isDefaultFlow:!1});return d.properties=g,m=p.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(it.PolylineEdgeModel),a=function(p){TO(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?it.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):it.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(it.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:u}}a4();var kO={width:40,height:40},DO={width:40,height:40},NO={width:100,height:80},ay={width:100,height:80},RO={width:100,height:80},CO={width:100,height:80},IO={width:100,height:80},LO={width:100,height:80},zO={width:100,height:80},BO={width:100,height:80},so=function(){};so.ObjTree=function(){return this};so.ObjTree.VERSION="0.23";so.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;so.ObjTree.prototype.attr_prefix="-";so.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,p=a.parseFromString(i,"application/xml");if(!p)return;u=p.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u){var o=this.parseDOM(u);return o}};so.ObjTree.prototype.parseHTTP=function(i,u,a){var p={};for(var o in u)p[o]=u[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),a){p.asynchronous=!0;var d=this,h=a,m=p.onComplete;p.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=d.parseDOM(j.responseXML.documentElement)),h(P,j),m&&m(j)}}else p.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=i;var E=new HTTP.Request(p);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,p);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};so.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!==11){var p={};p[i.nodeName]=a,a=p}return a}};so.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,p={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}}else a===null&&(a={});return a}};so.ObjTree.prototype.addNode=function(i,u,a,p){this.__force_array[u]?(a===1&&(i[u]=[]),i[u][i[u].length]=p):a===1?i[u]=p:a===2?i[u]=[i[u],p]:i[u][i[u].length]=p};so.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};so.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],p=[];for(var o in u)if(u!=null&&u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!==this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=p.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};so.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],p=0;p<u.length;p++){var o=u[p];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};so.ObjTree.prototype.scalar_to_xml=function(i,u){return i==="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};so.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var u4=function(i){return new so.ObjTree().parseXML(i)};function bE(i){return Object.prototype.toString.call(i)}function FO(i){return"  ".repeat(i)}function uy(i){return bE(i)==="[object Object]"?Object.keys(i).reduce(function(u,a){var p=a;return a.charAt(0)==="-"&&(p=a.substring(1)),u[p]=uy(i[a]),u},{}):Array.isArray(i)?i.map(function(u){return uy(u)}):i}function c4(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(uy(i)).replace(/"/g,"'")}return u}var WO=`	
`;function Vh(i,u,a){var p=FO(a),o="",d=WO+p;if(u==="-json")return"";if(u==="#text")return d+i;if(u==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(u==="#comment")return d+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+c4(i)+'"';if(Array.isArray(i))o+=i.map(function(E){return Vh(E,u,a+1)}).join("");else if(bE(i)==="[object Object]"){var h=Object.keys(i),m="",g=i["-json"]?WO+FO(a+1)+i["-json"]:"";o+=(a===0?"":d)+"<"+u,h.forEach(function(E){E.charAt(0)==="-"?m+=Vh(i[E],E,a+1):g+=Vh(i[E],E,a+1)}),o+=m+(g!==""?">"+g+d+"</"+u+">":" />")}else o+=d+"<"+u+">"+i.toString()+"</"+u+">";return o}function s4(i){var u="";for(var a in i)u+=Vh(i[a],a,0);return u}var l4=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),cm=function(){return cm=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},cm.apply(this,arguments)},$O=function(i,u){var a={};for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&u.indexOf(p)<0&&(a[p]=i[p]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,p=Object.getOwnPropertySymbols(i);o<p.length;o++)u.indexOf(p[o])<0&&Object.prototype.propertyIsEnumerable.call(i,p[o])&&(a[p[o]]=i[p[o]]);return a},qm=function(i){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&i[u],p=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&p>=i.length&&(i=void 0),{value:i&&i[p++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Tl=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},gl=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(Tl(arguments[u]));return i},ao;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(ao||(ao={}));var mE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],f4=["properties","startPoint","endPoint","pointsList"],cy={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},_E=function(i,u){var a=Object.keys(u||{});return a.forEach(function(p){if(i[p]){var o=u[p],d=o.in,h=o.out;d&&(i[p].in=d),h&&(i[p].out=h)}else i[p]=u[p]}),i},ni={"bpmn:startEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var u=i.properties,a=u.expressionType,p=u.condition;return p?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+p+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+p+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var u=i.properties,a=u.timerType,p=u.timerValue,o=u.definitionId,d=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+p+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&p?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,u){var a,p,o,d,h=i,m=u["-id"],g="",E="";try{for(var j=qm(Object.keys(u)),P=j.next();!P.done;P=j.next()){var k=P.value;k.includes("bpmn:")&&(o=Tl(k.split(":"),2),g=o[1],E=(d=u[k])===null||d===void 0?void 0:d["#text"])}}catch(T){a={error:T}}finally{try{P&&!P.done&&(p=j.return)&&p.call(j)}finally{if(a)throw a.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(i,u){var a,p="",o="";return u["#cdata-section"]?(o="cdata",p=((a=/^\$\{(.*)\}$/g.exec(u["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):u["#text"]&&(o="normal",p=u["#text"]),{"-condition":p,"-expressionType":o}}}};function p4(i){var u=i!=null?i:{},a=u.retainedAttrsFields,p=u.excludeFields,o=u.transformer,d=new Set(gl(f4,a||[])),h={in:new Set(gl(cy.in,(p==null?void 0:p.in)||[])),out:new Set(gl(cy.out,(p==null?void 0:p.out)||[]))};return ni=_E(ni,o),function(m){var g=m.nodes,E=m.edges;function j(P,k){var T,C,N;if((P==null?void 0:P.flag)!==1){var L;if((L=ni[P.type])&&L.out){var U=L.out(P),G=Object.keys(U);G.length>0&&G.forEach(function(X){P[X]=U[X]})}P!=null&&P.children&&(P.children=P.children.map(function(X){var Y=g.find(function(q){return q.id===X})||E.find(function(q){return q.id===X});return Y||{}}));var te={};if(typeof P=="string")return P;if(Array.isArray(P))return P.map(function(X){return j(X,"")}).filter(function(X){return X!=null});try{for(var ie=qm(Object.entries(P)),re=ie.next();!re.done;re=ie.next()){var Q=Tl(re.value,2),Z=Q[0],H=Q[1];if(((N=H)===null||N===void 0?void 0:N.flag)===1)return;var B=[k,Z].filter(function(X){return X}).join(".");h.out.has(B)||(typeof H!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?te[Z]=H:te["-"+Z]=H:d.has(B)?te["-"+Z]=j(H,B):te[Z]=j(H,B))}}catch(X){T={error:X}}finally{try{re&&!re.done&&(C=ie.return)&&C.call(ie)}finally{if(T)throw T.error}}return te}}return j(m,"")}}function sy(i){var u,a,p={};try{for(var o=qm(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Tl(d.value,2),m=h[0],g=h[1];m.indexOf("-")===0?p[m.substring(1)]=uy(g):typeof g=="string"?p[m]=g:Object.prototype.toString.call(g)==="[object Object]"?p[m]=sy(g):Array.isArray(g)?p[m]=g.map(function(E){return sy(E)}):p[m]=g}}catch(E){u={error:E}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(u)throw u.error}}return p}function d4(i,u,a){var p,o=new Map,d=p4(a)(u);d.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],j=m.text,P=m.children,k=$O(m,["-id","-type","text","children"]),T={"-id":g};j!=null&&j["-value"]&&(T["-name"]=j["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),P&&(T.children=P),i[E]||(i[E]=[]),i[E].push(T),o.set(g,T)});var h=d.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],j=m["-targetNodeId"],P=m.text,k=$O(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(j);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":j};return P!=null&&P["-value"]&&(C["-name"]=P["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return u.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(p=i["bpmn:subProcess"])===null||p===void 0||p.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var L,U=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){U[te]&&U[te].forEach(function(ie){g[te].add(ie)})});var G=(L=i[N["-type"]])===null||L===void 0?void 0:L.findIndex(function(te){return te["-id"]===N["-id"]});G>=0&&i[N["-type"]].splice(G,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(U)});var j=g["bpmn:incoming"],P=g["bpmn:outgoing"];P.forEach(function(N){j.has(N)&&E.push(N)});for(var k=function(N){var L=h.findIndex(function(U){return U["-id"]===E[N]});L>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[L]),h.splice(L,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),i[ao.FLOW]=h,i}function h4(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var p,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((p=a.text)===null||p===void 0)&&p.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var p,o=a.id,d=100,h=80,m=a.x,g=a.y,E=wo.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((p=a.text)===null||p===void 0)&&p.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}var y4=["bpmn:incoming","bpmn:outgoing"];function v4(i,u){var a=[],p=[],o=new Map,d=u!=null?u:{},h=d.transformer,m=d.excludeFields,g={in:new Set(gl(cy.in,(m==null?void 0:m.in)||[])),out:new Set(gl(cy.out,(m==null?void 0:m.out)||[]))};ni=_E(ni,h);var E=i["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(L){console.error(L)}})}catch(N){console.error(N)}})})(j,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(L){var U;L.indexOf("bpmn:")===0&&!y4.includes(L)&&(j[L]||(j[L]=[]),!Array.isArray(j[L])&&(j[L]=[j[L]]),Array.isArray(N[L])?(U=j[L]).push.apply(U,gl(N[L])):j[L].push(N[L]),Array.isArray(N[L])?N[L].forEach(function(G){!L.includes("Flow")&&N["-children"].push(G["-id"])}):!L.includes("Flow")&&N["-children"].push(N[L]["-id"]),delete N[L])})}if(k==="bpmn:subProcess"){var C=j[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(L){var U,G;if(L.includes("bpmn:")){var te={};ni[L]&&ni[L].in?(te=(G=(U=ni[L]).in)===null||G===void 0?void 0:G.call(U,L,W.cloneDeep(N[L])),delete N[L]):C(N[L]);var ie=void 0;(ie=Reflect.ownKeys(te)).length>0&&ie.forEach(function(re){Reflect.set(N,re,te[re])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(L){C(L)}):typeof N=="object"&&T(N)}C(j[k])},function(k){if(k.indexOf("bpmn:")===0){var T=j[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];p=b4(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var L=j[k],U=function(G){var te=G["-attachedToRef"],ie=o.get(te);ie["-boundaryEvents"]||(ie["-boundaryEvents"]=[]),ie["-boundaryEvents"].push(G["-id"])};Array.isArray(L)?L.forEach(function(G){U(G)}):U(L)}a=a.concat(g4(T,N,k))}}}])}var P=function(k,T,C){Object.keys(k).forEach(function(N){var L=C?C+"."+N:N;T.has(L)?delete k[N]:typeof k[N]=="object"&&P(k[N],T,L)})};return a.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),p.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),{nodes:a,edges:p}}function g4(i,u,a){var p=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=UO(m,a,h);p.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=UO(o,a,i);p.push(d)}return p}function UO(i,u,a){var p=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-children"],h=a["-name"],m=wo.shapeConfigMap.get(u);m&&(p+=m.width/2,o+=m.height/2);var g={};Object.entries(a).forEach(function(k){var T=Tl(k,2),C=T[0],N=T[1];mE.includes(C)||(g[C]=N)}),g=sy(g);var E;if(h&&(E={x:p,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=i["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var P={id:i["-bpmnElement"],type:u,x:p,y:o,properties:g};return d&&(P.children=d),E&&(P.text=E),P}function b4(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(GO(d,o))});else{var p=void 0;Array.isArray(u)?p=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):p=u,a.push(GO(p,i))}return a}function GO(i,u){var a,p=u["-name"];if(p){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;p.split(`
`).forEach(function(E){d<E.length&&(d=E.length)}),a={value:p,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(u).forEach(function(E){var j=Tl(E,2),P=j[0],k=j[1];mE.includes(P)||(h[P]=k)}),h=sy(h);var m=i["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:u["-id"],type:ao.FLOW,pointsList:m,sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(g.text=a),g}var wo=function(){function i(u){var a=this,p=u.lf;this.adapterOut=function(o,d){var h,m,g=cm({},a.processAttributes);d4(g,o,d);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};h4(E,o);var j=a.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var P={"bpmn:definitions":j};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var k=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var L;(L=k[N])?(C[L]=W.cloneDeep(C[N]),delete C[N],T(C[L])):T(C[N])})};T(P)}return P},this.adapterIn=function(o,d){if(o)return v4(o,d)},p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();wo.shapeConfigMap.set(ao.START,{width:kO.width,height:kO.height});wo.shapeConfigMap.set(ao.END,{width:DO.width,height:DO.height});wo.shapeConfigMap.set(ao.INTERMEDIATE_CATCH,{width:ay.width,height:ay.height});wo.shapeConfigMap.set(ao.INTERMEDIATE_THROW,{width:ay.width,height:ay.height});wo.shapeConfigMap.set(ao.BOUNDARY,{width:NO.width,height:NO.height});wo.shapeConfigMap.set(ao.PARALLEL_GATEWAY,{width:RO.width,height:RO.height});wo.shapeConfigMap.set(ao.INCLUSIVE_GATEWAY,{width:CO.width,height:CO.height});wo.shapeConfigMap.set(ao.EXCLUSIVE_GATEWAY,{width:IO.width,height:IO.height});wo.shapeConfigMap.set(ao.SYSTEM,{width:LO.width,height:LO.height});wo.shapeConfigMap.set(ao.USER,{width:zO.width,height:zO.height});wo.shapeConfigMap.set(ao.SUBPROCESS,{width:BO.width,height:BO.height});(function(i){l4(u,i);function u(a){var p=i.call(this,a)||this;p.adapterXmlIn=function(h){var m=u4(h);return p.adapterIn(m,p.props)},p.adapterXmlOut=function(h){var m=p.adapterOut(h,p.props);return s4(m)};var o=a.lf,d=a.props;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p.props=d,p}return u.pluginName="BPMNAdapter",u})(wo);var m4=function(){function i(u){var a=this,p=u.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(o,d){a.getSnapshot(o,d)},p.getSnapshotBlob=function(o){return a.getSnapshotBlob(o)},p.getSnapshotBase64=function(o){return a.getSnapshotBase64(o)}}return i.prototype.getSvgRootElement=function(u){var a=u.container.querySelector(".lf-canvas-overlay");return a},i.prototype.triggerDownload=function(u){var a=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",u),p.setAttribute("target","_blank"),p.dispatchEvent(a)},i.prototype.removeAnchor=function(u){for(var a=u.childNodes,p=u.childNodes&&u.childNodes.length,o=0;o<p;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-anchor")>-1&&(u.removeChild(u.childNodes[o]),p--,o--)}},i.prototype.removeRotateControl=function(u){for(var a=u.childNodes,p=u.childNodes&&u.childNodes.length,o=0;o<p;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-rotate-control")>-1&&(u.removeChild(u.childNodes[o]),p--,o--)}},i.prototype.getSnapshot=function(u,a){var p=this;this.fileName=u||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,a).then(function(d){var h=d.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(h)})},i.prototype.getSnapshotBase64=function(u){var a=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(p,u).then(function(d){var h=d.toDataURL("image/png");o({data:h,width:d.width,height:d.height})})})},i.prototype.getSnapshotBlob=function(u){var a=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(p,u).then(function(d){d.toBlob(function(h){o({data:h,width:d.width,height:d.height})},"image/png")})})},i.prototype.getClassRules=function(){var u="";if(this.useGlobalRules)for(var a=document.styleSheets,p=0;p<a.length;p++)for(var o=a[p],d=0;d<o.cssRules.length;d++)u+=o.cssRules[d].cssText;return this.customCssRules&&(u+=this.customCssRules),u},i.prototype.getCanvasData=function(u,a){var p=this,o=u.cloneNode(!0),d=o.lastChild,h=d.childNodes&&d.childNodes.length;if(h)for(var m=0;m<h;m++){var g=d.childNodes[m],E=g.classList&&Array.from(g.classList);if(E&&E.indexOf("lf-base")<0)d.removeChild(d.childNodes[m]),h--,m--;else{var j=d.childNodes[m];j&&j.childNodes.forEach(function(Ee){var me=Ee;p.removeAnchor(me.firstChild),p.removeRotateControl(me.firstChild)})}}var P=window.devicePixelRatio||1;P<1&&(P=1);var k=document.createElement("canvas"),T=this.lf.graphModel.rootEl.querySelector(".lf-base"),C=T.getBoundingClientRect(),N=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),L=C.x-N.x,U=C.y-N.y,G=this.lf.graphModel,te=G.transformModel,ie=te.SCALE_X,re=te.SCALE_Y,Q=te.TRANSLATE_X,Z=te.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-L+Q)*(1/ie)+10)+", "+((-U+Z)*(1/re)+10)+")";var H=Math.ceil(C.width/ie),B=Math.ceil(C.height/re);k.style.width=H+"px",k.style.height=B+"px",k.width=H*P+80,k.height=B*P+80;var X=k.getContext("2d");X.clearRect(0,0,k.width,k.height),X.scale(P,P),a?(X.fillStyle=a,X.fillRect(0,0,H*P+80,B*P+80)):X.clearRect(0,0,H,B);var Y=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(q),o.appendChild(ue),new Promise(function(Ee){Y.onload=function(){var Fe=navigator.userAgent.indexOf("Firefox")>-1;try{Fe?createImageBitmap(Y,{resizeWidth:k.width,resizeHeight:k.height}).then(function(je){X.drawImage(je,0,0),Ee(k)}):(X.drawImage(Y,0,0),Ee(k))}catch(je){X.drawImage(Y,0,0),Ee(k)}};var me="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Ae=me.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Ae})},i.pluginName="snapshot",i}();var HO;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(HO||(HO={}));var _4=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},O4=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(_4(arguments[u]));return i},pp="lf:defaultNodeMenu",dp="lf:defaultEdgeMenu",hp="lf:defaultGraphMenu",XO="lf:defaultSelectionMenu",w4=function(){function i(u){var a=this,p=u.lf;this.lf=p;var o=p.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){a.setMenuConfig(d)},this.lf.addMenuConfig=function(d){a.addMenuConfig(d)},this.lf.setMenuByType=function(d){a.setMenuByType(d)})}return i.prototype.init=function(){var u=this,a=[{text:"删除",callback:function(d){u.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){u.lf.cloneNode(d.id)}}];this.menuTypeMap.set(pp,a);var p=[{text:"删除",callback:function(d){u.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(dp,p),this.menuTypeMap.set(hp,[]);var o=[{text:"删除",callback:function(d){u.lf.clearSelectElements(),d.edges.forEach(function(h){return u.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return u.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(XO,o)},i.prototype.render=function(u,a){var p=this;u.options.isSilentMode||(this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,j=g.y,P=d.id,k=p.lf.graphModel.getNodeModelById(P),T=[],C=p.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=p.menuTypeMap.get(pp),p.__currentData=d,p.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,j=g.y,P=d.id,k=p.lf.graphModel.getEdgeModelById(P),T=[],C=p.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=p.menuTypeMap.get(dp),p.__currentData=d,p.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=p.menuTypeMap.get(hp),m=d.domOverlayPosition,g=m.x,E=m.y;p.showMenu(g,E,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=p.menuTypeMap.get(XO),g=h.domOverlayPosition,E=g.x,j=g.y;p.__currentData=d,p.showMenu(E,j,m)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var u;(u=this===null||this===void 0?void 0:this.__container)===null||u===void 0||u.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(u,a,p,o){if(!(!p||!p.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,O4(this.__getMenuDom(p))),!!d.children.length){if(d.style.display="block",!o){d.style.top=a+"px",d.style.left=u+"px";return}var h=o.width,m=o.height,g=o.clientX,E=o.clientY,j=this.lf.graphModel,P=d.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=j.rootEl.getBoundingClientRect(),L=N.left+N.width;L<T&&(C=L-g),C<P&&(k=!1),k?d.style.left=u+"px":d.style.left=u-h+"px";var U=d.offsetHeight,G=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ie=te-E,re=N.top+N.height;re<te&&(ie=re-E),ie<U&&(G=!1),G?d.style.top=a+"px":d.style.top=a-m+"px"}}},i.prototype.setMenuByType=function(u){!u.type||!u.menu||this.menuTypeMap.set(u.type,u.menu)},i.prototype.__getMenuDom=function(u){var a=[];return u&&u.length>0&&u.forEach(function(p){var o=document.createElement("li");if(p.className?o.className="lf-menu-item "+p.className:o.className="lf-menu-item",p.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",p.text&&(h.innerText=p.text),o.appendChild(h),o.onclickCallback=p.callback,a.push(o)}),a},i.prototype.setMenuConfig=function(u){u&&(u.nodeMenu!==void 0&&this.menuTypeMap.set(pp,u.nodeMenu?u.nodeMenu:[]),u.edgeMenu!==void 0&&this.menuTypeMap.set(dp,u.edgeMenu?u.edgeMenu:[]),u.graphMenu!==void 0&&this.menuTypeMap.set(hp,u.graphMenu?u.graphMenu:[]))},i.prototype.addMenuConfig=function(u){if(u){if(Array.isArray(u.nodeMenu)){var a=this.menuTypeMap.get(pp);this.menuTypeMap.set(pp,a.concat(u.nodeMenu))}if(Array.isArray(u.edgeMenu)){var a=this.menuTypeMap.get(dp);this.menuTypeMap.set(dp,a.concat(u.edgeMenu))}if(Array.isArray(u.graphMenu)){var a=this.menuTypeMap.get(hp);this.menuTypeMap.set(hp,a.concat(u.graphMenu))}}},i.prototype.changeMenuItem=function(u,a){if(u==="add")this.addMenuConfig(a);else if(u==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i}(),OE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}}(),hl=function(){return hl=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},hl.apply(this,arguments)},mp=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},x4={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function E4(i){for(var u=i,a=1;a<u.length-1;){var p=mp(u[a-1],2),o=p[0],d=p[1],h=mp(u[a],2),m=h[0],g=h[1],E=mp(u[a+1],2),j=E[0],P=E[1];o===m&&m===j||d===g&&g===P?u.splice(a,1):a++}return u}function S4(i,u,a,p){var o=[i[0],i[1]],d=[i[0],i[1]];switch(a){case"tl":return u==="tr"?(o[1]+=p,d[0]+=p):u==="lb"&&(o[0]+=p,d[1]+=p),[o,d];case"tr":return u==="tl"?(o[1]+=p,d[0]-=p):u==="rb"&&(o[0]-=p,d[1]+=p),[o,d];case"bl":return u==="br"?(o[1]-=p,d[0]+=p):u==="lt"&&(o[0]+=p,d[1]-=p),[o,d];case"br":return u==="bl"?(o[1]-=p,d[0]-=p):u==="rt"&&(o[0]-=p,d[1]-=p),[o,d];default:return[]}}function j4(i,u,a,p){var o,d="",h="";i[0]===u[0]?d=i[1]>u[1]?"t":"b":i[1]===u[1]&&(d=i[0]>u[0]?"l":"r"),u[0]===a[0]?h=u[1]>a[1]?"t":"b":u[1]===a[1]&&(h=u[0]>a[0]?"l":"r");var m=Math.min(Math.hypot(u[0]-i[0],u[1]-i[1])/2,Math.hypot(a[0]-u[0],a[1]-u[1])/2,p)||1/5*p,g=""+d+h,E=x4[g]||"-",j="L "+i[0]+" "+i[1];if(E==="-")j+="L "+u[0]+" "+u[1]+" L "+a[0]+" "+a[1];else{var P=mp(S4(u,g,E,m),2),k=P[0],T=P[1];k&&T&&(j+="L "+k[0]+" "+k[1]+" Q "+u[0]+" "+u[1]+" "+T[0]+" "+T[1],o=mp(T,2),u[0]=o[0],u[1]=o[1])}return j}function P4(i,u){var a=0,p="";if(i.length===2)p+="M"+i[a][0]+" "+i[a++][1]+" L "+i[a][0]+" "+i[a][1];else{for(p+="M"+i[a][0]+" "+i[a++][1];a+1<i.length;){var o=i[a-1],d=i[a],h=i[a+++1];p+=j4(o,d,h,u)}p+="L "+i[a][0]+" "+i[a][1]}return p}(function(i){OE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getEdge=function(){var a=this.props.model,p=a.points,o=a.isAnimation,d=a.arrowConfig,h=a.radius,m=h===void 0?5:h,g=a.getEdgeStyle(),E=a.getEdgeAnimationStyle(),j=E4(p.split(" ").map(function(T){return T.split(",").map(function(C){return+C})})),P=P4(j,m),k=hl(hl(hl({style:o?E:{}},g),d),{fill:"none"});return it.h("path",hl({d:P},k))},u})(it.PolylineEdge);(function(i){OE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u})(it.PolylineEdgeModel);const A4={class:"control-container"},M4=["title","onMouseenter"],T4=["disabled","onClick"],k4=py({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(i,{emit:u}){const a=i,p=u,o=Na(),d=Na(),h=Na(-1),m=Na([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),g=(j,P)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((k,T)=>{const C=a.lf;P===1&&C.zoom(!0),P===6&&p("catData"),P===T&&C[k]()})},E=j=>{h.value=j};return yw(()=>{a.lf.on("history:change",({data:{undoAble:j,redoAble:P}})=>{zo(m)[3].disabled=zo(o).disabled=!j,zo(m)[4].disabled=zo(d).disabled=!P})}),(j,P)=>{const k=_2("tippy");return ri(),Pu("div",A4,[Au("ul",null,[(ri(!0),Pu(vw,null,gw(m.value,(T,C)=>(ri(),Pu("li",{key:C,title:T.text,class:"dark:text-bg_color",onMouseenter:R1(N=>E(C),["prevent"]),onMouseleave:P[0]||(P[0]=R1(N=>h.value=-1,["prevent"]))},[O2((ri(),Pu("button",{ref_for:!0,ref:"controlButton"+C,disabled:T.disabled,style:C1({cursor:T.disabled===!1?"pointer":"not-allowed",color:T.disabled===!1?"":"#00000040",background:"transparent"}),onClick:N=>g(T,C)},[Au("span",{class:bw("iconfont "+T.icon),style:C1({fontSize:`${T.size}px`})},null,6)],12,T4)),[[k,{content:T.text}]])],40,M4))),128))])])}}}),D4=ym(k4,[["__scopeId","data-v-3c2311f2"]]),N4={class:"node-panel"},R4=["onMousedown"],C4={key:0,class:"shape"},I4={class:"node-label"},L4=py({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(i){const u=i,a=Na({a:"efrwe",b:"wewe"}),p=o=>{u.lf.dnd.startDrag({type:o.type,properties:zo(a)})};return(o,d)=>(ri(),Pu("div",N4,[(ri(!0),Pu(vw,null,gw(o.nodeList,h=>(ri(),Pu("div",{key:h.text,class:"node-item dark:text-bg_color",onMousedown:m=>p(h)},[Au("div",{class:bw(["node-item-icon",h.class])},[h.type==="user"||h.type==="time"?(ri(),Pu("div",C4)):Hb("",!0)],2),Au("span",I4,w2(h.text),1)],40,R4))),128))]))}}),z4=ym(L4,[["__scopeId","data-v-b709e35e"]]),B4=py({__name:"DataDialog",props:{graphData:Object},setup(i){return(u,a)=>(ri(),Gh(zo(j2),{path:"res",deep:3,showLength:!0,data:i.graphData},null,8,["data"]))}}),F4=vm(D4),W4=vm(z4),$4=vm(B4),U4={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function G4(i){const{incoming:u,outgoing:a,properties:p,key:o}=i,{text:d,startPoint:h,endPoint:m,pointsList:g,logicFlowType:E}=p,j={id:o,type:E,sourceNodeId:u[0],targetNodeId:a[0],text:d,startPoint:h,endPoint:m,pointsList:g,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(i.properties).forEach(k=>{P.indexOf(k)===-1&&(j.properties[k]=i.properties[k])}),j}function H4(i){const{properties:u,key:a}=i,{x:p,y:o,text:d,logicFlowType:h}=u,m={id:a,type:h,x:p,y:o,text:d,properties:{}},g=["x","y","text","logicFlowType"];return Object.keys(i.properties).forEach(E=>{g.indexOf(E)===-1&&(m.properties[E]=i.properties[E])}),m}function X4(i){const u={nodes:[],edges:[]},a=i.flowElementList;return a&&a.length>0&&a.forEach(p=>{if(p.type===U4.SEQUENCE_FLOW){const o=G4(p);u.edges.push(o)}else{const o=H4(p);u.nodes.push(o)}}),u}const Y4={class:"card-header"},V4={class:"font-medium"},K4={class:"logic-flow-view"},q4=py({name:"FlowChart",__name:"index",setup(i){const u=Na(null),a=Na(null),p=Na(!1),o=Na({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),d=iL;function h(){$h.use(m4),$h.use(PL),$h.use(w4);const E=new $h(D1(k1({},zo(o)),{container:document.querySelector("#turbo")}));u.value=E,zo(u).setDefaultEdgeType("bpmn:sequenceFlow"),m()}function m(){const E=X4(rL);u.value.render(E)}function g(){a.value=zo(u).getGraphData(),p.value=!0}return yw(()=>{h()}),(E,j)=>{const P=Bh("el-link"),k=Bh("el-scrollbar"),T=Bh("el-dialog"),C=Bh("el-card");return ri(),Gh(C,{shadow:"never"},{header:ll(()=>[Au("div",Y4,[Au("span",V4,[j[2]||(j[2]=Ib(" 流程图组件，采用开源的 ")),lp(P,{href:"https://site.logic-flow.cn/docs/#/zh/guide/start",target:"_blank",style:{margin:"0 4px 5px","font-size":"16px"}},{default:ll(()=>j[1]||(j[1]=[Ib(" LogicFlow ")])),_:1})])]),lp(P,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/flow-chart",target:"_blank"},{default:ll(()=>j[3]||(j[3]=[Ib(" 代码位置 src/views/flow-chart ")])),_:1})]),default:ll(()=>[Au("div",K4,[u.value?(ri(),Gh(zo(F4),{key:0,class:"demo-control",lf:u.value,catTurboData:!1,onCatData:g},null,8,["lf"])):Hb("",!0),u.value?(ri(),Gh(zo(W4),{key:1,lf:u.value,nodeList:zo(d)},null,8,["lf","nodeList"])):Hb("",!0),j[4]||(j[4]=Au("div",{id:"turbo"},null,-1)),lp(T,{modelValue:p.value,"onUpdate:modelValue":j[0]||(j[0]=N=>p.value=N),class:"flow-dialog",title:"数据",width:"50%"},{default:ll(()=>[lp(k,null,{default:ll(()=>[lp(zo($4),{graphData:a.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}}),t8=ym(q4,[["__scopeId","data-v-cc282f2a"]]);export{t8 as default};
