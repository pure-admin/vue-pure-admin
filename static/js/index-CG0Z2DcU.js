import{p as n}from"./propTypes-B9jTUFW5.js";import{d as T,r as D,n as N,aZ as v,m as A,f as a,F as x,u as g,v as z,Y as R,y as w,h as r,l as y,W as F}from"./index-ChQ6eMdI.js";const q={startVal:n.number.def(0),endVal:n.number.def(2020),duration:n.number.def(1300),autoplay:n.bool.def(!0),decimals:{type:Number,required:!1,default:0,validator(l){return l>=0}},color:n.string.def(),fontSize:n.string.def(),decimal:n.string.def("."),separator:n.string.def(","),prefix:n.string.def(""),suffix:n.string.def(""),useEasing:n.bool.def(!0),easingFn:{type:Function,default(l,s,t,u){return t*(-Math.pow(2,-10*l/u)+1)*1024/1023+s}}},B=T({name:"ReNormalCountTo",props:q,emits:["mounted","callback"],setup(l,{emit:s}){const t=D({localStartVal:l.startVal,displayValue:m(l.startVal),printVal:null,paused:!1,localDuration:l.duration,startTime:null,timestamp:null,remaining:null,rAF:null,color:null,fontSize:"16px"}),u=z(()=>l.startVal>l.endVal);N([()=>l.startVal,()=>l.endVal],()=>{l.autoplay&&f()});function f(){const{startVal:o,duration:d,color:c,fontSize:e}=l;t.localStartVal=o,t.startTime=null,t.localDuration=d,t.paused=!1,t.color=c,t.fontSize=e,t.rAF=requestAnimationFrame(b)}function b(o){const{useEasing:d,easingFn:c,endVal:e}=l;t.startTime||(t.startTime=o),t.timestamp=o;const i=o-t.startTime;t.remaining=t.localDuration-i,d?g(u)?t.printVal=t.localStartVal-c(i,0,t.localStartVal-e,t.localDuration):t.printVal=c(i,t.localStartVal,e-t.localStartVal,t.localDuration):g(u)?t.printVal=t.localStartVal-(t.localStartVal-e)*(i/t.localDuration):t.printVal=t.localStartVal+(e-t.localStartVal)*(i/t.localDuration),g(u)?t.printVal=t.printVal<e?e:t.printVal:t.printVal=t.printVal>e?e:t.printVal,t.displayValue=m(t.printVal),i<t.localDuration?t.rAF=requestAnimationFrame(b):s("callback")}function m(o){const{decimals:d,decimal:c,separator:e,suffix:i,prefix:h}=l;o=Number(o).toFixed(d),o+="";const p=o.split(".");let V=p[0];const C=p.length>1?c+p[1]:"",S=/(\d+)(\d{3})/;if(e&&!v(e))for(;S.test(V);)V=V.replace(S,"$1"+e+"$2");return h+V+C+i}return A(()=>{l.autoplay&&f(),s("mounted")}),()=>a(x,null,[a("span",{style:{color:l.color,fontSize:l.fontSize}},[t.displayValue])])}}),M={delay:n.number.def(1),blur:n.number.def(2),i:{type:Number,required:!1,default:0,validator(l){return l<10&&l>=0&&Number.isInteger(l)}}},$=T({name:"ReboundCountTo",props:M,setup(l){const s=y(),t=y(null);return R(()=>{const u=navigator.userAgent.toLowerCase(),f=m=>m.test(u);f(/safari/g)&&!f(/chrome/g)&&(t.value=setTimeout(()=>{s.value.setAttribute("style",`
        animation: none;
        transform: translateY(calc(var(--i) * -9.09%))
      `)},l.delay*1e3))}),w(()=>{clearTimeout(g(t))}),()=>a(x,null,[a("div",{class:"scroll-num",style:{"--i":l.i,"--delay":l.delay}},[a("ul",{ref:"ulRef",style:{fontSize:"32px"}},[a("li",null,[r("0")]),a("li",null,[r("1")]),a("li",null,[r("2")]),a("li",null,[r("3")]),a("li",null,[r("4")]),a("li",null,[r("5")]),a("li",null,[r("6")]),a("li",null,[r("7")]),a("li",null,[r("8")]),a("li",null,[r("9")]),a("li",null,[r("0")])]),a("svg",{width:"0",height:"0"},[a("filter",{id:"blur"},[a("feGaussianBlur",{in:"SourceGraphic",stdDeviation:`0 ${l.blur}`},null)])])])])}}),G=F(B),P=F($);export{G as R,P as a};
