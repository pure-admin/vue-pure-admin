var U=(C,r,d)=>new Promise((f,s)=>{var c=t=>{try{m(d.next(t))}catch(g){s(g)}},b=t=>{try{m(d.throw(t))}catch(g){s(g)}},m=t=>t.done?f(t.value):Promise.resolve(t.value).then(c,b);m((d=d.apply(C,r)).next())});import{M as p}from"./motion-DZX-5VMi.js";import{a1 as N,k as $,e as E,g as I,d as F,Q as H,a as R,r as L,h as _,b as M,u as e,w as o,f as l,ac as w,ef as y,j as v,t as V,H as B,eE as j}from"./index-DQgaYjpP.js";import{u as P,a as A,K as G}from"./shield-keyhole-line-DqzB1OFa.js";import{u as x}from"./hooks-7xQrXcsM.js";import{L as S}from"./lock-fill-DvGw8VOQ.js";import{I as K}from"./iphone-BDRqtknW.js";const W={viewBox:"0 0 24 24",width:"1em",height:"1em"};function q(C,r){return E(),$("svg",W,[...r[0]||(r[0]=[I("path",{fill:"currentColor",d:"M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12"},null,-1)])])}const Q=N({name:"ri-user-3-fill",render:q}),J={class:"w-full flex justify-between"},ae=F({__name:"LoginRegist",setup(C){const{t:r}=H(),d=R(!1),f=R(!1),s=L({username:"",phone:"",verifyCode:"",password:"",repeatPassword:""}),c=R(),{isDisabled:b,text:m}=P(),t=[{validator:(h,a,u)=>{a===""?u(new Error(w(y("login.purePassWordSureReg")))):s.password!==a?u(new Error(w(y("login.purePassWordDifferentReg")))):u()},trigger:"blur"}],g=h=>U(null,null,function*(){f.value=!0,h&&(yield h.validate(a=>{a?d.value?setTimeout(()=>{B(w(y("login.pureRegisterSuccess")),{type:"success"}),f.value=!1},2e3):(f.value=!1,B(w(y("login.pureTickPrivacy")),{type:"warning"})):f.value=!1}))});function T(){P().end(),j().SET_CURRENTPAGE(0)}return(h,a)=>{const u=_("el-input"),i=_("el-form-item"),k=_("el-button"),z=_("el-checkbox"),D=_("el-form");return E(),M(D,{ref_key:"ruleFormRef",ref:c,model:s,rules:e(A),size:"large"},{default:o(()=>[l(e(p),null,{default:o(()=>[l(i,{rules:[{required:!0,message:e(w)(e(y)("login.pureUsernameReg")),trigger:"blur"}],prop:"username"},{default:o(()=>[l(u,{modelValue:s.username,"onUpdate:modelValue":a[0]||(a[0]=n=>s.username=n),clearable:"",placeholder:e(r)("login.pureUsername"),"prefix-icon":e(x)(e(Q))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1},8,["rules"])]),_:1}),l(e(p),{delay:100},{default:o(()=>[l(i,{prop:"phone"},{default:o(()=>[l(u,{modelValue:s.phone,"onUpdate:modelValue":a[1]||(a[1]=n=>s.phone=n),clearable:"",placeholder:e(r)("login.purePhone"),"prefix-icon":e(x)(e(K))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),l(e(p),{delay:150},{default:o(()=>[l(i,{prop:"verifyCode"},{default:o(()=>[I("div",J,[l(u,{modelValue:s.verifyCode,"onUpdate:modelValue":a[2]||(a[2]=n=>s.verifyCode=n),clearable:"",placeholder:e(r)("login.pureSmsVerifyCode"),"prefix-icon":e(x)(e(G))},null,8,["modelValue","placeholder","prefix-icon"]),l(k,{disabled:e(b),class:"ml-2!",onClick:a[3]||(a[3]=n=>e(P)().start(c.value,"phone"))},{default:o(()=>[v(V(e(m).length>0?e(m)+e(r)("login.pureInfo"):e(r)("login.pureGetVerifyCode")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),l(e(p),{delay:200},{default:o(()=>[l(i,{prop:"password"},{default:o(()=>[l(u,{modelValue:s.password,"onUpdate:modelValue":a[4]||(a[4]=n=>s.password=n),clearable:"","show-password":"",placeholder:e(r)("login.purePassword"),"prefix-icon":e(x)(e(S))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),l(e(p),{delay:250},{default:o(()=>[l(i,{rules:t,prop:"repeatPassword"},{default:o(()=>[l(u,{modelValue:s.repeatPassword,"onUpdate:modelValue":a[5]||(a[5]=n=>s.repeatPassword=n),clearable:"","show-password":"",placeholder:e(r)("login.pureSure"),"prefix-icon":e(x)(e(S))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),l(e(p),{delay:300},{default:o(()=>[l(i,null,{default:o(()=>[l(z,{modelValue:d.value,"onUpdate:modelValue":a[6]||(a[6]=n=>d.value=n)},{default:o(()=>[v(V(e(r)("login.pureReadAccept")),1)]),_:1},8,["modelValue"]),l(k,{link:"",type:"primary"},{default:o(()=>[v(V(e(r)("login.purePrivacyPolicy")),1)]),_:1})]),_:1})]),_:1}),l(e(p),{delay:350},{default:o(()=>[l(i,null,{default:o(()=>[l(k,{class:"w-full",size:"default",type:"primary",loading:f.value,onClick:a[7]||(a[7]=n=>g(c.value))},{default:o(()=>[v(V(e(r)("login.pureDefinite")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),l(e(p),{delay:400},{default:o(()=>[l(i,null,{default:o(()=>[l(k,{class:"w-full",size:"default",onClick:T},{default:o(()=>[v(V(e(r)("login.pureBack")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{Q as U,ae as _};
