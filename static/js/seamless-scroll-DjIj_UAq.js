import{d as ae,bi as Y,bj as Ae,bk as Me,a as F,i as $,s as ie,q as b,K as I,h as le,f as h,k as w,v as a,u as e,x as Oe,bl as Fe,W as $e,b as He,w as g,e as A,j as Pe,t as je,F as De,g as We,r as qe,l as H,_ as Be}from"./index-B0kKXMb0.js";const Re=()=>{window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(u){return window.clearTimeout(u)},window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return window.setTimeout(u,1e3/60)}})()};function re(){Array.isArray||(Array.isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"});let u,S,m,c,d,f,l=1,t=arguments[0]||{},i=!1,p=arguments.length;if(typeof t=="boolean"&&(i=t,t=arguments[1]||{},l++),typeof t!="object"&&typeof t!="function"&&(t={}),l===p)return t;for(;l<p;l++)if((S=arguments[l])!=null)for(u in S)m=t[u],c=S[u],d=Array.isArray(c),i&&c&&(typeof c=="object"||d)?(d?(d=!1,f=m&&Array.isArray(m)?m:[]):f=m&&typeof m=="object"?m:{},t[u]=re(i,f,c)):c!==void 0&&(t[u]=c);return t}const ze=Object.freeze(Object.defineProperty({__proto__:null,animationFrame:Re,copyObj:re},Symbol.toStringTag,{value:"Module"})),Ee=["innerHTML"],Le=ae({name:"ReSeamlessScroll",__name:"index",props:{data:{type:Array},classOption:{type:Object}},emits:["scrollEnd"],setup(u,{expose:S,emit:m}){const{animationFrame:c,copyObj:d}=ze;c();const f=u,l=m,t=w(0),i=w(0),p=w(0),x=w(0),v=w(0),k=w(0),P=w(0),j=w("");let C=null,V=null,D=null,U=null,X=null,W=!1,q="ease-in";f.classOption.key===void 0&&(f.classOption.key=0);const K=Y(`wrap${f.classOption.key}`),G=Y(`slotList${f.classOption.key}`),J=Y(`realBox${f.classOption.key}`),Q=a(()=>e(t)<0),Z=a(()=>Math.abs(e(t))<e(k)-e(v)),ce=a(()=>({step:1,limitMoveNum:5,hoverStop:!0,direction:"top",openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1})),o=a(()=>d({},e(ce),f.classOption)),ue=a(()=>e(Q)?"":e(o).switchDisabledClass),fe=a(()=>e(Z)?"":e(o).switchDisabledClass),me=a(()=>({position:"absolute",margin:`${e(x)/2}px 0 0 -${e(o).switchOffset}px`,transform:"translate(-100%,-50%)"})),de=a(()=>({position:"absolute",margin:`${e(x)/2}px 0 0 ${e(v)+e(o).switchOffset}px`,transform:"translateY(-50%)"})),B=a(()=>e(o).direction!=="bottom"&&e(o).direction!=="top"),ee=a(()=>e(B)?{float:"left",overflow:"hidden"}:{overflow:"hidden"}),pe=a(()=>({transform:`translate(${e(t)}px,${e(i)}px)`,transition:`all ${q} ${e(p)}ms`,overflow:"hidden"})),R=a(()=>e(o).navigation),z=a(()=>e(R)?!1:e(o).autoPlay),te=a(()=>f.data.length>=e(o).limitMoveNum),ne=a(()=>e(o).hoverStop&&e(z)&&e(te)),E=a(()=>e(o).openTouch),oe=a(()=>e(o).isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1),L=a(()=>e(o).singleWidth*e(oe)),N=a(()=>e(o).singleHeight*e(oe)),T=a(()=>{let n;const s=e(o).step;if(e(B)?n=e(L):n=e(N),n>0&&n%s>0)throw"如果设置了单步滚动，step需是单步大小的约数，否则无法保证单步滚动结束的位置是否准确";return s});function ve(){t.value=0,i.value=0,M(),se()}function he(){if(e(Q)){if(Math.abs(e(t))<e(o).switchSingleStep){t.value=0;return}t.value+=e(o).switchSingleStep}}function we(){if(e(Z)){if(e(k)-e(v)+e(t)<e(o).switchSingleStep){t.value=e(v)-e(k);return}t.value-=e(o).switchSingleStep}}function M(){cancelAnimationFrame(V||"")}function ye(n){if(!e(E))return;let s;const r=n.targetTouches[0],{waitTime:y,singleHeight:O,singleWidth:Ce}=e(o);D={x:r.pageX,y:r.pageY},U=e(i),X=e(t),O&&Ce?(s&&clearTimeout(s),s=setTimeout(()=>{M()},y+20)):M()}function ge(n){if(!e(E)||n.targetTouches.length>1||n.scale&&n.scale!==1)return;const s=n.targetTouches[0],{direction:r}=e(o),y={x:s.pageX-D.x,y:s.pageY-D.y};n.preventDefault();const O=Math.abs(y.x)<Math.abs(y.y)?1:0;O===1&&r==="bottom"||O===1&&r==="top"?i.value=U+y.y:(O===0&&r==="left"||O===0&&r==="right")&&(t.value=X+y.x)}function be(){if(!e(E))return;let n;const s=e(o).direction;if(p.value=50,s==="top")e(i)>0&&(i.value=0);else if(s==="bottom"){const r=e(P)/2*-1;e(i)<r&&(i.value=r)}else if(s==="left")e(t)>0&&(t.value=0);else if(s==="right"){const r=e(k)*-1;e(t)<r&&(t.value=r)}n&&clearTimeout(n),n=setTimeout(()=>{p.value=0,_()},e(p))}function Se(){e(ne)&&_e()}function ke(){e(ne)&&Te()}function _(){W||(V=requestAnimationFrame(function(){const n=e(P)/2,s=e(k)/2,{direction:r,waitTime:y}=e(o);r==="top"?(Math.abs(e(i))>=n&&(l("scrollEnd"),i.value=0),i.value-=T.value):r==="bottom"?(e(i)>=0&&(l("scrollEnd"),i.value=n*-1),i.value+=T.value):r==="left"?(Math.abs(e(t))>=s&&(l("scrollEnd"),t.value=0),t.value-=T.value):r==="right"&&(e(t)>=0&&(l("scrollEnd"),t.value=s*-1),t.value+=T.value),C&&clearTimeout(C),e(N)?Math.abs(e(i))%e(N)<e(T)?C=setTimeout(()=>{_()},y):_():e(L)&&Math.abs(e(t))%e(L)<e(T)?C=setTimeout(()=>{_()},y):_()}))}function se(){Oe(()=>{const{switchDelay:n}=e(o);if(j.value="",e(B)){x.value=e(K).offsetHeight,v.value=e(K).offsetWidth;let s=e(G).offsetWidth;e(z)&&(s=s*2+1),e(J).style.width=s+"px",k.value=s}if(e(z))q="ease-in",p.value=0;else{q="linear",p.value=n;return}e(te)?(j.value=e(G).innerHTML,setTimeout(()=>{var s;P.value=(s=e(J))==null?void 0:s.offsetHeight,_()},0)):(M(),i.value=t.value=0)})}function Te(){W=!1,_()}function _e(){W=!0,C&&clearTimeout(C),M()}function xe(n){e(o).direction==="left"||e(o).direction==="right"||Fe(()=>{n.deltaY>0?i.value-=T.value:i.value+=T.value},50)()}return Ae(()=>{se()}),Me(()=>{M(),clearTimeout(C)}),S({reset:ve}),(n,s)=>(F(),$("div",{ref:"wrap"+u.classOption.key},[R.value?(F(),$("div",{key:0,style:b(me.value),class:ie(ue.value),onClick:he},[I(n.$slots,"left-switch")],6)):le("",!0),R.value?(F(),$("div",{key:1,style:b(de.value),class:ie(fe.value),onClick:we},[I(n.$slots,"right-switch")],6)):le("",!0),h("div",{ref:"realBox"+u.classOption.key,style:b(pe.value),onMouseenter:Se,onMouseleave:ke,onTouchstartPassive:ye,onTouchmovePassive:ge,onTouchend:be,onMousewheelPassive:xe},[h("div",{ref:"slotList"+u.classOption.key,style:b(ee.value)},[I(n.$slots,"default")],4),h("div",{style:b(ee.value),innerHTML:j.value},null,12,Ee)],36)],512))}}),Ne=$e(Le),Ye={class:"card-header"},Ie={class:"item"},Ve=["textContent"],Ue=ae({name:"SeamlessScroll",__name:"seamless-scroll",setup(u){const S=w(),m=w([{title:"无缝滚动第一行无缝滚动第一行！！！！！！！！！！"},{title:"无缝滚动第二行无缝滚动第二行！！！！！！！！！！"},{title:"无缝滚动第三行无缝滚动第三行！！！！！！！！！！"},{title:"无缝滚动第四行无缝滚动第四行！！！！！！！！！！"},{title:"无缝滚动第五行无缝滚动第五行！！！！！！！！！！"},{title:"无缝滚动第六行无缝滚动第六行！！！！！！！！！！"},{title:"无缝滚动第七行无缝滚动第七行！！！！！！！！！！"},{title:"无缝滚动第八行无缝滚动第八行！！！！！！！！！！"},{title:"无缝滚动第九行无缝滚动第九行！！！！！！！！！！"}]),c=qe({direction:"top"});function d(f){e(S).reset(),e(c).direction=f}return(f,l)=>{const t=H("el-button"),i=H("el-link"),p=H("el-card"),x=H("el-space");return F(),He(x,{wrap:""},{default:g(()=>[A(p,{class:"box-card",shadow:"never"},{header:g(()=>[h("div",Ye,[l[4]||(l[4]=h("span",{class:"font-medium"},"无缝滚动",-1)),A(t,{class:"button",link:"",type:"primary",onClick:l[0]||(l[0]=v=>d("top"))},{default:g(()=>[h("span",{style:b({color:c.direction==="top"?"red":""})}," 向上滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[1]||(l[1]=v=>d("bottom"))},{default:g(()=>[h("span",{style:b({color:c.direction==="bottom"?"red":""})}," 向下滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[2]||(l[2]=v=>d("left"))},{default:g(()=>[h("span",{style:b({color:c.direction==="left"?"red":""})}," 向左滚动 ",4)]),_:1}),A(t,{class:"button",link:"",type:"primary",onClick:l[3]||(l[3]=v=>d("right"))},{default:g(()=>[h("span",{style:b({color:c.direction==="right"?"red":""})}," 向右滚动 ",4)]),_:1})]),A(i,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/components/seamless-scroll.vue",target:"_blank"},{default:g(()=>[...l[5]||(l[5]=[We(" 代码位置 src/views/components/seamless-scroll.vue ",-1)])]),_:1})]),default:g(()=>[A(e(Ne),{ref_key:"scroll",ref:S,data:m.value,"class-option":c,class:"warp"},{default:g(()=>[h("ul",Ie,[(F(!0),$(De,null,Pe(m.value,(v,k)=>(F(),$("li",{key:k},[h("span",{class:"title",textContent:je(v.title)},null,8,Ve)]))),128))])]),_:1},8,["data","class-option"])]),_:1})]),_:1})}}}),Ke=Be(Ue,[["__scopeId","data-v-ff2abade"]]);export{Ke as default};
