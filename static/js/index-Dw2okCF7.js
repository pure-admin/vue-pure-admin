var ve=Object.defineProperty,be=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var M=(r,a,n)=>a in r?ve(r,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[a]=n,O=(r,a)=>{for(var n in a||(a={}))xe.call(a,n)&&M(r,n,a[n]);if(L)for(var n of L(a))ye.call(a,n)&&M(r,n,a[n]);return r},F=(r,a)=>be(r,he(a));var Q=(r,a,n)=>new Promise((b,g)=>{var h=p=>{try{i(n.next(p))}catch(c){g(c)}},x=p=>{try{i(n.throw(p))}catch(c){g(c)}},i=p=>p.done?b(p.value):Promise.resolve(p.value).then(h,x);i((n=n.apply(r,a)).next())});import{useRole as ke}from"./hook-BjB1bhib.js";import{d as Ce,P as we}from"./refresh-C7xhpWGh.js";import{u as f}from"./hooks-BDFJughz.js";import{d as Ve,p as Re,a as v,m as Se,aQ as $e,y as Ie,aR as De,gL as Pe,h as d,B as Ue,k as X,e as H,f as l,g as m,w as s,u as e,j as _,i as Be,v as w,X as W,A as q,t as G,aE as V,_ as ze}from"./index-DGrsCPlS.js";import{d as Te}from"./delete-Ce0TSdK5.js";import{d as Ne}from"./edit-pen-Ci7W0xNM.js";import{d as je,a as Ae}from"./close-CObHKOmY.js";import{d as Ee}from"./add-circle-line-DOJqVT3s.js";import{d as Le}from"./check-CIQVCvCT.js";import"./form.vue_vue_type_script_setup_true_lang-B_TBjGeK.js";import"./hooks-_Qdysg5Y.js";import"./system-C8u5ywpG.js";import"./sortable.esm-VSgMS8pS.js";import"./epTheme-BLONHwy7.js";import"./collapse-h46jZ0LT.js";const Me={class:"main"},Oe={key:0,class:"!min-w-[calc(100vw-60vw-268px)] w-full mt-2 px-2 pb-2 bg-bg_color ml-2 overflow-auto"},Fe={class:"flex justify-between w-full px-3 pt-5 pb-4"},Qe={class:"flex"},Xe={class:"font-bold truncate"},He={class:"flex flex-wrap"},We=Ve({name:"SystemRole",__name:"index",setup(r){const a=Re(()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-none","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"]),n=v(),b=v(),g=v(),h=v(),x=v(),{form:i,isShow:p,curRow:c,loading:P,columns:J,rowStyle:K,dataList:Y,treeData:Z,treeProps:ee,isLinkage:y,pagination:oe,isExpandAll:R,isSelectAll:S,treeSearchValue:$,onSearch:U,resetForm:le,openDialog:B,handleMenu:z,handleSave:te,handleDelete:ne,filterMethod:ae,transformI18n:se,onQueryChanged:re,handleSizeChange:ie,handleCurrentChange:de,handleSelectionChange:pe}=ke(n);return Se(()=>{$e(h,()=>Q(this,null,function*(){yield Ie(),De(60).then(()=>{x.value=parseFloat(Pe(g.value.getTableDoms().tableWrapper.style.height,"px"))})}))}),(qe,o)=>{var A;const I=d("el-input"),k=d("el-form-item"),T=d("el-option"),me=d("el-select"),u=d("el-button"),ce=d("el-form"),ue=d("el-popconfirm"),fe=d("pure-table"),N=d("IconifyIconOffline"),D=d("el-checkbox"),_e=d("el-tree-v2"),j=Ue("tippy");return H(),X("div",Me,[l(ce,{ref_key:"formRef",ref:b,inline:!0,model:e(i),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:s(()=>[l(k,{label:"角色名称：",prop:"name"},{default:s(()=>[l(I,{modelValue:e(i).name,"onUpdate:modelValue":o[0]||(o[0]=t=>e(i).name=t),placeholder:"请输入角色名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),l(k,{label:"角色标识：",prop:"code"},{default:s(()=>[l(I,{modelValue:e(i).code,"onUpdate:modelValue":o[1]||(o[1]=t=>e(i).code=t),placeholder:"请输入角色标识",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),l(k,{label:"状态：",prop:"status"},{default:s(()=>[l(me,{modelValue:e(i).status,"onUpdate:modelValue":o[2]||(o[2]=t=>e(i).status=t),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:s(()=>[l(T,{label:"已启用",value:"1"}),l(T,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),l(k,null,{default:s(()=>[l(u,{type:"primary",icon:e(f)("ri:search-line"),loading:e(P),onClick:e(U)},{default:s(()=>o[9]||(o[9]=[_(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),l(u,{icon:e(f)(e(Ce)),onClick:o[3]||(o[3]=t=>e(le)(b.value))},{default:s(()=>o[10]||(o[10]=[_(" 重置 ")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),m("div",{ref_key:"contentRef",ref:h,class:w(["flex",e(W)()?"flex-wrap":""])},[l(e(we),{class:w([e(p)&&!e(W)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"角色管理（仅演示，操作后不生效）",columns:e(J),onRefresh:e(U)},{buttons:s(()=>[l(u,{type:"primary",icon:e(f)(e(Ee)),onClick:o[4]||(o[4]=t=>e(B)())},{default:s(()=>o[11]||(o[11]=[_(" 新增角色 ")])),_:1},8,["icon"])]),default:s(({size:t,dynamicColumns:ge})=>[l(fe,{ref_key:"tableRef",ref:g,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(P),size:t,adaptive:"","row-style":e(K),adaptiveConfig:{offsetBottom:108},data:e(Y),columns:ge,pagination:F(O({},e(oe)),{size:t}),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(pe),onPageSizeChange:e(ie),onPageCurrentChange:e(de)},{operation:s(({row:C})=>[l(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Ne)),onClick:E=>e(B)("修改",C)},{default:s(()=>o[12]||(o[12]=[_(" 修改 ")])),_:2},1032,["size","icon","onClick"]),l(ue,{title:`是否确认删除角色名称为${C.name}的这条数据`,onConfirm:E=>e(ne)(C)},{reference:s(()=>[l(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Te))},{default:s(()=>o[13]||(o[13]=[_(" 删除 ")])),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),l(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(je)),onClick:E=>e(z)(C)},{default:s(()=>o[14]||(o[14]=[_(" 权限 ")])),_:2},1032,["size","icon","onClick"])]),_:2},1032,["loading","size","row-style","data","columns","pagination","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["class","columns","onRefresh"]),e(p)?(H(),X("div",Oe,[m("div",Fe,[m("div",Qe,[m("span",{class:w(a.value)},[q(l(N,{class:"dark:text-white",width:"18px",height:"18px",icon:e(Ae),onClick:e(z)},null,8,["icon","onClick"]),[[j,{content:"关闭"}]])],2),m("span",{class:w([a.value,"ml-2"])},[q(l(N,{class:"dark:text-white",width:"18px",height:"18px",icon:e(Le),onClick:e(te)},null,8,["icon","onClick"]),[[j,{content:"保存菜单权限"}]])],2)]),m("p",Xe," 菜单权限 "+G(`${(A=e(c))!=null&&A.name?`（${e(c).name}）`:""}`),1)]),l(I,{modelValue:e($),"onUpdate:modelValue":o[5]||(o[5]=t=>V($)?$.value=t:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:e(re)},null,8,["modelValue","onInput"]),m("div",He,[l(D,{modelValue:e(R),"onUpdate:modelValue":o[6]||(o[6]=t=>V(R)?R.value=t:null),label:"展开/折叠"},null,8,["modelValue"]),l(D,{modelValue:e(S),"onUpdate:modelValue":o[7]||(o[7]=t=>V(S)?S.value=t:null),label:"全选/全不选"},null,8,["modelValue"]),l(D,{modelValue:e(y),"onUpdate:modelValue":o[8]||(o[8]=t=>V(y)?y.value=t:null),label:"父子联动"},null,8,["modelValue"])]),l(_e,{ref_key:"treeRef",ref:n,"show-checkbox":"",data:e(Z),props:e(ee),height:x.value,"check-strictly":!e(y),"filter-method":e(ae)},{default:s(({node:t})=>[m("span",null,G(e(se)(t.label)),1)]),_:1},8,["data","props","height","check-strictly","filter-method"])])):Be("",!0)],2)])}}}),co=ze(We,[["__scopeId","data-v-f2518908"]]);export{co as default};
