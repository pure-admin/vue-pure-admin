import{f as y}from"./mock-CNTTcJQX.js";import{a1 as V,k as C,e as _,g as c,d as L,a as p,r as B,b as H,h as i,w as a,f as l,j as f,u as R,aI as F,H as m}from"./index-Dse0HmLc.js";const U={viewBox:"0 0 24 24",width:"26",height:"26"};function Y(v,s){return _(),C("svg",U,[...s[0]||(s[0]=[c("path",{fill:"currentColor",d:"M4 19h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2zm9-10v7h-2V9H6l6-6l6 6z"},null,-1)])])}const $=V({name:"ri-upload-2-line",render:Y}),D={class:"el-upload__text"},h=L({__name:"form",setup(v){const s=p(),x=p(),o=B({fileList:[],date:""}),k=r=>{r&&r.validate(e=>{if(e){const d=F({files:o.fileList.map(t=>({raw:t.raw})),date:o.date});y(d).then(({success:t})=>{t?m("提交成功",{type:"success"}):m("提交失败")}).catch(t=>{m(`提交异常 ${t}`,{type:"error"})})}else return!1})},b=r=>{r&&r.resetFields()};return(r,e)=>{const d=i("el-upload"),t=i("el-form-item"),w=i("el-date-picker"),u=i("el-button"),g=i("el-form");return _(),H(g,{ref_key:"formRef",ref:s,model:o,"label-width":"82px"},{default:a(()=>[l(t,{label:"附件",prop:"fileList",rules:[{required:!0,message:"附件不能为空"}]},{default:a(()=>[l(d,{ref_key:"uploadRef",ref:x,"file-list":o.fileList,"onUpdate:fileList":e[0]||(e[0]=n=>o.fileList=n),drag:"",multiple:"",action:"#",class:"w-[200px]!","auto-upload":!1},{default:a(()=>[c("div",D,[l(R($),{class:"m-auto mb-2"}),e[4]||(e[4]=f(" 可点击或拖拽上传 ",-1))])]),_:1},8,["file-list"])]),_:1}),l(t,{label:"日期",prop:"date",rules:[{required:!0,message:"日期不能为空"}]},{default:a(()=>[l(w,{modelValue:o.date,"onUpdate:modelValue":e[1]||(e[1]=n=>o.date=n),type:"datetime",class:"w-[200px]!",placeholder:"请选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),l(t,null,{default:a(()=>[l(u,{type:"primary",text:"",bg:"",onClick:e[2]||(e[2]=n=>k(s.value))},{default:a(()=>[...e[5]||(e[5]=[f(" 提交 ",-1)])]),_:1}),l(u,{text:"",bg:"",onClick:e[3]||(e[3]=n=>b(s.value))},{default:a(()=>[...e[6]||(e[6]=[f("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])}}});export{h as _};
