var _=Object.defineProperty;var y=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var T=(o,l,t)=>l in o?_(o,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[l]=t,f=(o,l)=>{for(var t in l||(l={}))q.call(l,t)&&T(o,t,l[t]);if(y)for(var t of y(l))E.call(l,t)&&T(o,t,l[t]);return o};import{_ as L}from"./_plugin-vue_export-helper-BvWjx8-P.js";import{u as N,P as z}from"./plus-form-BrwD7Lm_.js";import{d as k,M as B,b as v,j as V,f as $,w as p,F as R,k as K,e as F,u as i,dv as M,a4 as m,aK as W,K as c,dw as j,aL as A,i as I,s as U,l as h,v as b}from"./index-LDZGYJqY.js";var D=k({name:"PlusStepsForm",__name:"index",props:{modelValue:{default:1},data:{default:()=>[]},submitText:{default:void 0},nextText:{default:void 0},preText:{default:void 0}},emits:["pre","next","submit","update:modelValue","change"],setup(o,{emit:l}){const t=o,r=l,{t:n}=N(),a=h();B(()=>{a.value=t.modelValue});const d=b(()=>a.value-1),g=b(()=>`step-${a.value}`),x=b(()=>{var e;return(e=t.data)==null?void 0:e.reduce((u,s)=>{var w;return f(f({},u),(w=s.form)==null?void 0:w.modelValue)},{})}),P=(e,u)=>{r("change",e,u)},S=()=>{a.value-- >t.data.length+1&&(a.value=1),r("update:modelValue",a.value),r("pre",a.value)},C=e=>{const u=a.value;a.value=Math.min(u+1,t.data.length),r("update:modelValue",a.value),r("next",a.value,e,x.value),u===t.data.length&&a.value===t.data.length&&r("submit",a.value,e,x.value)};return(e,u)=>(v(),V("div",{class:U(["plus-steps-form",e.$attrs.direction==="vertical"?"plus-steps-from-vertical":""])},[$(i(j),m({active:a.value,"finish-status":"success"},e.$attrs),{default:p(()=>[(v(!0),V(R,null,K(e.data,s=>(v(),F(i(M),m({key:s.title},s),W({_:2},[e.$slots.icon?{name:"icon",fn:p(()=>[c(e.$slots,"icon",{icon:s.icon,title:s.title,description:s.description})]),key:"0"}:void 0,e.$slots.title?{name:"title",fn:p(()=>[c(e.$slots,"title",{icon:s.icon,title:s.title,description:s.description})]),key:"1"}:void 0,e.$slots.description?{name:"description",fn:p(()=>[c(e.$slots,"description",{icon:s.icon,title:s.title,description:s.description})]),key:"2"}:void 0]),1040))),128))]),_:3},16,["active"]),$(i(z),m(e.data[d.value].form,{"has-reset":a.value!==1,"submit-text":a.value===e.data.length?e.submitText||i(n)("plus.stepsForm.submitText"):e.nextText||i(n)("plus.stepsForm.nextText"),"reset-text":e.preText||i(n)("plus.stepsForm.preText"),onSubmit:C,onReset:S,onChange:P}),{default:p(()=>[e.$slots[g.value]?c(e.$slots,g.value,A(m({key:0},e.data[d.value]))):I("v-if",!0)]),_:3},16,["has-reset","submit-text","reset-text"])],2))}}),G=L(D,[["__file","index.vue"]]);const H=G,Y=k({__name:"steps",setup(o){const l=h([{title:"第一步",form:{labelPosition:"top",style:{width:"400px",margin:"40px auto"},modelValue:{},columns:[{label:"名称",width:120,prop:"name",valueType:"copy",tooltip:"名称最多显示6个字符"},{label:"状态",width:120,prop:"status",valueType:"select",options:[{label:"未解决",value:"0",color:"red"},{label:"已解决",value:"1",color:"blue"},{label:"解决中",value:"2",color:"yellow"},{label:"失败",value:"3",color:"red"}]}],rules:{name:[{required:!0,message:"请输入名称"}]}}},{title:"第二步",form:{labelPosition:"top",style:{width:"400px",margin:"40px auto"},labelWidth:"100",modelValue:{},columns:[{label:"标签",width:120,prop:"tag"},{label:"执行进度",width:200,prop:"progress"},{label:"评分",width:200,prop:"rate",valueType:"rate"},{label:"是否显示",width:100,prop:"switch",valueType:"switch"}],rules:{tag:[{required:!0,message:"请输入标签"}],progress:[{required:!0,message:"请输入执行进度"}]}}},{title:"第三步",form:{labelPosition:"top",style:{width:"400px",margin:"40px auto"},modelValue:{},columns:[{label:"时间",prop:"time",valueType:"date-picker"},{label:"要求",prop:"demand",valueType:"checkbox",options:[{label:"四六级",value:"0"},{label:"计算机二级证书",value:"1"},{label:"普通话证书",value:"2"}]},{label:"奖励",prop:"price"},{label:"提成",prop:"percentage"},{label:"说明",prop:"desc",valueType:"textarea",fieldProps:{maxlength:10,showWordLimit:!0,autosize:{minRows:2,maxRows:4}}}],rules:{time:[{required:!0,trigger:"change",message:"请选择时间"}],demand:[{required:!0,trigger:"change",message:"请选择要求"}]}}}]),t=h(1),r=(n,a)=>{t.value=n};return(n,a)=>(v(),F(i(H),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value=d),simple:"",class:"w-[800px] m-auto",data:l.value,"align-center":"",onNext:r},null,8,["modelValue","data"]))}});export{Y as _};
