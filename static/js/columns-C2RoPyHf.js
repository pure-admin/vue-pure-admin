var Y=Object.defineProperty,x=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var b=(e,a,u)=>a in e?Y(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,s=(e,a)=>{for(var u in a||(a={}))F.call(a,u)&&b(e,u,a[u]);if(c)for(var u of c(a))M.call(a,u)&&b(e,u,a[u]);return e},m=(e,a)=>x(e,g(a));import{t as j,o as v}from"./data-Dd4sCrbk.js";import{a as f,a8 as E,f as t,eK as R,h as i,F as p,aD as U}from"./index-DJO4XqnH.js";function B(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!U(e)}function k(){const e=f({}),a=f(E(j,!0)),u=[{label:"姓名",prop:"name",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-input"),{modelValue:l.name,"onUpdate:modelValue":r=>l.name=r},null):t("p",null,[l.name])])}},{label:"性别",prop:"sex",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-switch"),{modelValue:l.sex,"onUpdate:modelValue":r=>l.sex=r,"inline-prompt":!0,"active-value":0,"inactive-value":1,"active-text":"男","inactive-text":"女"},null):t("p",null,[l.sex===0?"男":"女"])])}},{label:"爱好",prop:"hobby",cellRenderer:({row:l,index:o})=>{var r;let n;return t(p,null,[(r=e.value[o])!=null&&r.editable?t(i("el-select"),{modelValue:l.hobby,"onUpdate:modelValue":d=>l.hobby=d,clearable:!0,placeholder:"请选择爱好"},B(n=v.map(d=>t(i("el-option"),{key:d.value,label:d.label,value:d.value},null)))?n:{default:()=>[n]}):t(i("el-tag"),{type:"primary"},{default:()=>{var d;return[(d=v.filter(D=>D.value==l.hobby)[0])==null?void 0:d.label]}})])}},{label:"日期",prop:"date",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-date-picker"),{modelValue:l.date,"onUpdate:modelValue":r=>l.date=r,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null):t("p",null,[l.date])])},minWidth:110},{label:"操作",fixed:"right",slot:"operation"}];function h(l,o){e.value[o]=Object.assign(m(s({},l),{editable:!0}))}function y(l){e.value[l].editable=!1}function V(l){e.value[l].editable=!1,a.value[l]=R(e.value[l],"editable")}return{editMap:e,columns:u,dataList:a,onEdit:h,onSave:y,onCancel:V}}export{k as useColumns};
