var ol=Object.defineProperty,tl=Object.defineProperties;var sl=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var rl=Object.prototype.hasOwnProperty,nl=Object.prototype.propertyIsEnumerable;var Be=(e,o,r)=>o in e?ol(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,I=(e,o)=>{for(var r in o||(o={}))rl.call(o,r)&&Be(e,r,o[r]);if(we)for(var r of we(o))nl.call(o,r)&&Be(e,r,o[r]);return e},oe=(e,o)=>tl(e,sl(o));var be=(e,o,r)=>new Promise((t,n)=>{var i=s=>{try{g(r.next(s))}catch(f){n(f)}},V=s=>{try{g(r.throw(s))}catch(f){n(f)}},g=s=>s.done?t(s.value):Promise.resolve(s.value).then(i,V);g((r=r.apply(e,o)).next())});import{bP as Me,di as ul,u as l,aD as pe,a as S,dC as dl,n as q,bb as Pe,dD as il,p as j,dE as pl,d as Z,r as Te,du as $e,b as v,e as d,aJ as Q,l as K,w as P,U as w,aK as G,bo as ee,k as B,F as U,dF as Ve,a4 as b,j as Y,t as H,i as F,dG as je,aC as cl,dH as Ge,z as Ke,dI as ze,f as X,g as ce,dJ as Ce,v as He,dK as fl,a5 as Re,q as Ee,dL as fe,dM as ml,dN as vl,dO as bl,dP as hl,dQ as yl,dR as gl,dS as kl,dT as Ye,dU as qe,dV as Pl,dW as Vl,dX as Cl,dY as El,dZ as Il,d_ as Tl,d$ as $l,M,e0 as Sl,dz as We,e1 as Fl,e2 as Dl,e3 as wl,dv as Bl,bn as Rl,I as _l,b1 as Ll,e4 as Ol,e5 as Nl,s as Al,dn as _e,e6 as Ul,dq as Le}from"./index-DL_RpRaM.js";import{a as Se,b as re,i as T,c as Ie,t as Je,d as ne,_ as x,e as he,f as Ml}from"./_plugin-vue_export-helper-BGOXmsV2.js";const Qe="2.10.4",jl=e=>{const o=l(e);return Se(o)?{content:o}:re(o)?o:{content:""}},Gl=(e,o)=>{if(!re(e))throw new Error(`${o} expected Object but got ${Je(e)}`)},Oe=(e,o,r,t,n)=>be(null,null,function*(){try{let i={};const V={row:r,index:t};return e?pe(e)?i=e.value:re(e)?i=I({},e):T(e)?i=yield e(o,V):Ie(e)?i=yield e:i=e:i={},Gl(i,n),i}catch(i){return Promise.reject(i)}}),ue=(e,o)=>o?`plus-${e}-${o}`:`plus-${e}`,se=e=>`${ue("field",e)}`,ie=e=>`${ue("label",e)}`,ye=e=>`${ue("extra",e)}`,ge=e=>`${ue("previous",e)}`,Ne=e=>`${ue("group",e)}`,Kl=(e,o)=>Me(e,o),zl=(e,o,r)=>ul(e,o,r),Xe=(e,o)=>{const r=e.split(".").map(i=>Number(i)),t=o.split(".").map(i=>Number(i)),n=Math.max(r.length,t.length);for(let i=0;i<n;i++){if((r[i]||0)>(t[i]||0))return 1;if((r[i]||0)<(t[i]||0))return-1}return 0},Ze=Xe(Qe,"2.6.0")<0,Da=Xe(Qe,"2.9.9")<0,Hl=e=>e?l(e):"",ke=e=>{ne(e)||console.error("Uncaught TypeError: ",`options expected Array but got ${Je(e)}`)},de=(e,o)=>{const r=o.optionsMap||{};return o.valueType==="cascader"||!re(r)?e:e.map(i=>{const V=i,g=(r==null?void 0:r.label)||"label",s=(r==null?void 0:r.value)||"value",f={[g]:V[g],[s]:V[s]};return oe(I({},V),{__origin:f,label:i[g],value:i[s]})})||[]},Yl=e=>{const o=S([]),r=S(!1);if(!e.options)o.value=[],r.value=!0;else if(pe(e.options)||dl(e.options)||ne(e.options))q(()=>e.options,t=>{const n=pe(t)?t.value:t;o.value=de(n,e),r.value=!0},{immediate:!0,deep:!0});else if(T(e.options)){const t=e.options,n=t(e);Ie(n)?n.then(i=>{o.value=de(i,e),r.value=!0,ke(o.value)}).catch(i=>{throw i}):(o.value=de(n,e),r.value=!0)}else Ie(e.options)?e.options.then(n=>{o.value=de(n,e),r.value=!0,ke(o.value)}).catch(n=>{throw n}):(r.value=!0,ke(e.options));return{customOptions:o,customOptionsIsReady:r}},ql=e=>(o,r)=>Wl(o,r,l(e)),Wl=(e,o,r)=>Me(r,e,e).replace(/\{(\w+)\}/g,(t,n)=>{var i;return`${(i=o==null?void 0:o[n])!=null?i:`{${n}}`}`}),Jl=e=>{const o=j(()=>l(e).name),r=pe(e)?e:S(e);return{lang:o,locale:r,t:ql(e)}},me=e=>{const o=Pe(il,S());return Jl(j(()=>{var r;return(r=o.value)!=null&&r.plus?o.value:pl}))},Ql=Symbol("tableFormFieldRefInjectionKey"),Xl=Symbol("tableFormRowInfoInjectionKey"),Zl=["datetimerange","daterange","monthrange"],xl=["rate","input-number","slider"],ea=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var la=Z({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(e,{expose:o,emit:r}){const t=e,n=r,i=S(),V=S(),g=Te({radio:""});q(()=>t.modelValue,h=>{g.radio=h},{immediate:!0});const s=$e(),f=(h,O,p)=>{if(!(Reflect.get(s,"disabled")||p!=null&&p.disabled)){if(t.isCancel)h.preventDefault();else return;g.radio=g.radio===O?"":O,n("update:modelValue",g.radio),n("change",g.radio)}},y=h=>{t.isCancel||(n("update:modelValue",h),n("change",h))};return o({radioInstance:i,radioGroupInstance:V}),(h,O)=>(d(),v(l(je),b({ref_key:"radioGroupInstance",ref:V,modelValue:g.radio,"onUpdate:modelValue":O[0]||(O[0]=p=>g.radio=p),class:"plus-radio"},h.$attrs),Q({default:P(()=>[l(Ze)?(d(!0),B(U,{key:0},K(h.options,p=>(d(),v(l(Ve),b({key:`${p.label}${p.value}`,ref_for:!0,ref_key:"radioInstance",ref:i,label:p.value},l(T)(p.fieldItemProps)?p.fieldItemProps(p):p.fieldItemProps,{onClick:A=>f(A,p.value,l(T)(p.fieldItemProps)?p.fieldItemProps(p):p.fieldItemProps),onChange:A=>y(p.value)}),{default:P(()=>[l(T)(p.fieldSlot)?(d(),v(w(p.fieldSlot),b({key:0,"model-value":g.radio,column:t},p),null,16,["model-value"])):l(T)(h.fieldChildrenSlot)?(d(),v(w(h.fieldChildrenSlot),b({key:1,"model-value":g.radio,column:t},p),null,16,["model-value"])):(d(),B(U,{key:2},[Y(H(p==null?void 0:p.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(d(),B(U,{key:1},[F(" element-plus 版本号大于等于2.6.0 "),(d(!0),B(U,null,K(h.options,p=>(d(),v(l(Ve),b({key:`${p.label}${p.value}`,ref_for:!0,ref_key:"radioInstance",ref:i,value:p.value},l(T)(p.fieldItemProps)?p.fieldItemProps(p):p.fieldItemProps,{onClick:A=>f(A,p.value,l(T)(p.fieldItemProps)?p.fieldItemProps(p):p.fieldItemProps),onChange:A=>y(p.value)}),{default:P(()=>[l(T)(p.fieldSlot)?(d(),v(w(p.fieldSlot),b({key:0,"model-value":g.radio,column:t},p),null,16,["model-value"])):l(T)(h.fieldChildrenSlot)?(d(),v(w(h.fieldChildrenSlot),b({key:1,"model-value":g.radio,column:t},p),null,16,["model-value"])):(d(),B(U,{key:2},[Y(H(p==null?void 0:p.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[K(h.fieldSlots,(p,A)=>({name:A,fn:P(R=>[(d(),v(w(p),G(ee(R)),null,16))])}))]),1040,["modelValue"]))}}),aa=x(la,[["__file","index.vue"]]);const oa=aa;var ta=Z({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(e){const o=e,r=S();q(()=>o.callbackValue,n=>{r.value=n},{flush:"post",immediate:!0});const t=()=>{if(!o.render)return;const n=I({},o.params),i=o.renderType==="form"?o.render(r.value,o.handleChange,n):o.render(r.value,n);if(cl(i)){const V=o.renderType==="form"?I(I({modelValue:r.value},o.customFieldProps),i.props):I(I({},o.customFieldProps),i.props);return oe(I({},i),{props:V})}else if(Se(i))return i};return(n,i)=>n.renderType==="form"?(d(),v(w(t),b({key:0,modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=V=>r.value=V)},n.customFieldProps),null,16,["modelValue"])):(d(),v(w(t),G(b({key:1},n.customFieldProps)),null,16))}}),sa=x(ta,[["__file","index.vue"]]);const Ae=sa,ra={class:"plus-date-picker__middle"};var na=Z({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},disabled:{type:Boolean,default:!1},startDisabledDate:{type:Function,default:(e,o)=>o?e.getTime()>new Date(o).getTime():!1},endDisabledDate:{type:Function,default:(e,o)=>o?e.getTime()<new Date(o).getTime():!1}},emits:["change","focus","update:modelValue"],setup(e,{expose:o,emit:r}){const t=e,n=r,{t:i}=me(),V=$e(),g=j(()=>I(I({},V),t.startProps)),s=j(()=>I(I({},V),t.endProps)),f=S(),y=S(),h=Te({start:"",end:""}),O=Ge(),p=S(!1),A=D=>{p.value=!0,n("focus",D)},R=()=>{p.value=!1},E=D=>t.startDisabledDate&&T(t.startDisabledDate)?t.startDisabledDate(D,h.end):!1,k=D=>t.endDisabledDate&&T(t.endDisabledDate)?t.endDisabledDate(D,h.start):!1;q(()=>t.modelValue,D=>{const[u,C]=D;h.start=u,h.end=C},{immediate:!0});const c=()=>{const D=[h.start,h.end];n("update:modelValue",D),n("change",D)};return o({startPickerInstance:f,endPickerInstance:y}),(D,u)=>Ke((d(),B("div",{class:He(["plus-date-picker",{"is-focus":p.value,"is-disabled":l(O)}])},[X(l(Ce),b({ref_key:"startPickerInstance",ref:f,modelValue:h.start,"onUpdate:modelValue":u[0]||(u[0]=C=>h.start=C),type:D.type,"value-format":D.valueFormat,placeholder:l(i)("plus.datepicker.startPlaceholder"),"disabled-date":E,class:"plus-date-picker__start",clearable:"",disabled:l(O)},g.value,{onChange:c,onFocus:A}),null,16,["modelValue","type","value-format","placeholder","disabled"]),ce("span",ra,H(D.rangeSeparator),1),X(l(Ce),b({ref_key:"endPickerInstance",ref:y,modelValue:h.end,"onUpdate:modelValue":u[1]||(u[1]=C=>h.end=C),"value-format":D.valueFormat,type:D.type,placeholder:l(i)("plus.datepicker.endPlaceholder"),"disabled-date":k,class:"plus-date-picker__end",clearable:"",disabled:l(O)},s.value,{onChange:c,onFocus:A}),null,16,["modelValue","value-format","type","placeholder","disabled"])],2)),[[l(ze),R]])}}),ua=x(na,[["__file","index.vue"]]);const da=ua;var ia=Z({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(e,{expose:o,emit:r}){const t=e,n=r,i=S(),V=S(),g=S(),s=Te({tags:[],inputValue:"",isFocus:!1}),f=Ge(),{t:y}=me();q(()=>t.modelValue,E=>{s.tags=E.slice(0,t.limit)},{immediate:!0});const h=()=>{s.isFocus=!1},O=()=>{var E;s.isFocus=!0,(E=i.value)==null||E.focus()},p=E=>{f.value||(s.tags=s.tags.filter(k=>k!==E),n("remove",E),n("update:modelValue",s.tags),n("change",s.tags))},A=()=>{s.inputValue.trim()&&!s.tags.includes(s.inputValue.trim())&&s.tags.length<t.limit&&s.tags.push(s.inputValue.trim()),t.retainInputValue||(s.inputValue=""),n("update:modelValue",s.tags),n("change",s.tags)},R=(E,k)=>{n(k,s.inputValue,E),(ne(t.trigger)?t.trigger:Se(t.trigger)?[t.trigger]:["blur","enter","space"]).includes(k)&&A()};return o({inputInstance:i,tagInstance:V}),(E,k)=>Ke((d(),B("div",{ref_key:"plusInputTagInstance",ref:g,class:He(["plus-input-tag",{"is-focus":s.isFocus,"is-disabled":l(f)}]),onClick:O},[(d(!0),B(U,null,K(s.tags,c=>(d(),v(l(fl),b({ref_for:!0,ref_key:"tagInstance",ref:V,key:c,class:"plus-input-tag__tag"},E.tagProps,{closable:"",onClose:D=>p(c)}),{default:P(()=>[Y(H(E.formatTag&&l(T)(E.formatTag)?E.formatTag(c):c),1)]),_:2},1040,["onClose"]))),128)),s.tags.length<E.limit?(d(),v(l(fe),b({key:0,ref_key:"inputInstance",ref:i,modelValue:s.inputValue,"onUpdate:modelValue":k[0]||(k[0]=c=>s.inputValue=c),class:"plus-input-tag__input",placeholder:s.tags.length?"":l(y)("plus.inputTag.placeholder"),disabled:l(f)||s.tags.length>=E.limit},E.inputProps,{clearable:"",onBlur:k[1]||(k[1]=c=>R(c,"blur")),onKeyup:[k[2]||(k[2]=Re(Ee(c=>R(c,"enter"),["exact"]),["enter"])),k[3]||(k[3]=Re(Ee(c=>R(c,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):F("v-if",!0)],2)),[[l(ze),h]])}}),pa=x(ia,[["__file","index.vue"]]);const ca=pa,xe={"plus-radio":{component:oa,hasOptions:!0},"plus-date-picker":{component:da},"plus-input-tag":{component:ca},autocomplete:{component:$l,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:Tl,hasOptions:!0},checkbox:{component:Il,children:El,hasVersionCompatibility:!0},"color-picker":{component:Cl},"date-picker":{component:Ce,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:Vl,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:je,children:Ve,hasVersionCompatibility:!0},rate:{component:Pl},select:{component:qe,children:Ye},slider:{component:kl},switch:{component:gl},"time-picker":{component:yl},"time-select":{component:hl},transfer:{component:bl},input:{component:fe,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:fe,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:vl},"select-v2":{component:ml,hasOptions:!0}},fa=e=>Object.keys(xe).includes(e),te=e=>Reflect.get(xe,e)||{},ma={class:"el-form-item__error"},va={class:"plus-form-item__label"};var ba=Z({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},renderErrorMessage:{default:void 0},optionsMap:{default:void 0},index:{default:0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(e,{expose:o,emit:r}){const t=Bl,n=Sl,i=We,V=fe,g=qe,s=Ye,f=e,y=r,{t:h}=me(),{customOptions:O,customOptionsIsReady:p}=Yl(f),A=S(),R=S(),E=S({}),k=S({}),c=S(),D=S(!1),u=S(!1),C=j(()=>Hl(f.label)),_=Pe(Ql,{}),z=Pe(Xl,{}),L=j(()=>oe(I(I({},f),l(z)),{label:C.value,fieldProps:k.value,formItemProps:E.value,options:O.value})),le=j(()=>{var a,N,$,m,W,J;return f.valueType==="cascader"&&((N=(a=k.value)==null?void 0:a.props)==null?void 0:N.emitPath)===!1?!1:!!(ea.includes(f.valueType)||f.valueType==="select"&&(($=k.value)==null?void 0:$.multiple)===!0||f.valueType==="date-picker"&&Zl.includes((m=k.value)==null?void 0:m.type)||f.valueType==="time-picker"&&((W=k.value)==null?void 0:W.isRange)===!0||f.valueType==="tree-select"&&((J=k.value)==null?void 0:J.multiple)===!0)}),ve=j(()=>!!xl.includes(f.valueType)),el=a=>{if(le.value)if(ne(a)){const[N,$]=a;he(N)||he($)?c.value=[String(N),String($)]:c.value=a}else c.value=[];else ve.value?c.value=a==null||a===""?null:typeof a=="string"?Number(a):a:he(a)?c.value=String(a):c.value=a;u.value=!0},Fe=j(()=>{const{hasOptions:a,hasSelectEvent:N,props:$}=te(f.valueType);return I(I(oe(I(I(I({},a?{options:O.value}:null),N?{onSelect:al}:null),$),{placeholder:$!=null&&$.placeholder?h($==null?void 0:$.placeholder)+C.value:h("plus.field.pleaseSelect")+C.value}),f.valueType==="date-picker"?{startPlaceholder:$!=null&&$.startPlaceholder?h($==null?void 0:$.startPlaceholder):"",endPlaceholder:$!=null&&$.startPlaceholder?h($==null?void 0:$.endPlaceholder):""}:null),k.value)}),ll=a=>I(I({},f.valueType==="select"?{label:a.label,value:a.value}:Ze?{label:a.value}:{label:a.label,value:a.value}),T(a.fieldItemProps)?a.fieldItemProps(a):a.fieldItemProps),De=j(()=>{var a;return(a=L.value.index)!=null?a:f.index});q(()=>[f.formItemProps,c.value],()=>{Oe(f.formItemProps,c.value,l(L),l(De),"formItemProps").then(a=>{E.value=a}).catch(a=>{throw a})},{immediate:!0,deep:!0,flush:"post"}),q(()=>[f.fieldProps,c.value],()=>{Oe(f.fieldProps,c.value,l(L),l(De),"fieldProps").then(a=>{k.value=a,D.value=!0}).catch(a=>{throw a})},{immediate:!0,deep:!0,flush:"post"}),q(j(()=>[f.modelValue,D.value,p.value]),([a,N,$])=>{N&&$&&el(a)},{immediate:!0,flush:"post"});const ae=a=>{y("update:modelValue",a),y("change",a)},al=({value:a})=>{ae(a)};return q(R,()=>{_.value={fieldInstance:R.value,valueIsReady:u}}),o({formItemInstance:A,fieldInstance:R}),(a,N)=>{var $;return u.value?(d(),v(l(t),b({key:0,ref_key:"formItemInstance",ref:A,label:a.hasLabel?C.value:"",prop:a.prop,class:"plus-form-item"},E.value,{"label-width":a.hasLabel?($=E.value)==null?void 0:$.labelWidth:"0px"}),Q({default:P(()=>[a.renderField&&l(T)(a.renderField)?(d(),B(U,{key:0},[u.value?(d(),v(l(Ae),{key:0,render:a.renderField,params:L.value,"callback-value":c.value,"custom-field-props":k.value,"render-type":"form","handle-change":ae},null,8,["render","params","callback-value","custom-field-props"])):F("v-if",!0)],64)):a.$slots[l(se)(a.prop)]?M(a.$slots,l(se)(a.prop),b({key:1},L.value,{column:f})):a.valueType==="select"&&k.value.multiple===!0?(d(),v(l(g),b({key:2,ref_key:"fieldInstance",ref:R,modelValue:c.value,"onUpdate:modelValue":N[0]||(N[0]=m=>c.value=m),placeholder:l(h)("plus.field.pleaseSelect")+C.value,class:"plus-form-item-field",clearable:a.clearable},k.value,{"onUpdate:modelValue":ae}),Q({default:P(()=>[(d(!0),B(U,null,K(l(O),m=>(d(),v(l(s),b({key:m.label,label:m.label,value:m.value},l(T)(m.fieldItemProps)?m.fieldItemProps(m):m.fieldItemProps),{default:P(()=>[l(T)(m.fieldSlot)?(d(),v(w(m.fieldSlot),G(b({key:0},m)),null,16)):l(T)(a.fieldChildrenSlot)?(d(),v(w(a.fieldChildrenSlot),G(b({key:1},m)),null,16)):(d(),B(U,{key:2},[Y(H(m.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[K(a.fieldSlots,(m,W)=>({name:W,fn:P(J=>[(d(),v(w(m),G(ee(J)),null,16))])}))]),1040,["modelValue","placeholder","clearable"])):l(fa)(a.valueType)?(d(),B(U,{key:3},[F(" 统一处理 "),F(" has-children  "),l(te)(a.valueType).children?(d(),v(w(l(te)(a.valueType).component),b({key:0,ref_key:"fieldInstance",ref:R,modelValue:c.value,"onUpdate:modelValue":N[1]||(N[1]=m=>c.value=m),class:"plus-form-item-field",clearable:a.clearable},Fe.value,{"onUpdate:modelValue":ae}),Q({default:P(()=>[(d(!0),B(U,null,K(l(O),m=>(d(),v(w(l(te)(a.valueType).children),b({key:m.label},ll(m)),{default:P(()=>[l(T)(m.fieldSlot)?(d(),v(w(m.fieldSlot),b({key:0,"model-value":c.value,column:L.value},m),null,16,["model-value","column"])):l(T)(a.fieldChildrenSlot)?(d(),v(w(a.fieldChildrenSlot),b({key:1,"model-value":c.value,column:L.value},m),null,16,["model-value","column"])):(d(),B(U,{key:2},[Y(H(m.label),1)],64))]),_:2},1040))),128))]),_:2},[K(a.fieldSlots,(m,W)=>({name:W,fn:P(J=>[(d(),v(w(m),b({value:c.value,column:L.value},J),null,16,["value","column"]))])}))]),1040,["modelValue","clearable"])):(d(),B(U,{key:1},[F(" no-children  "),(d(),v(w(l(te)(a.valueType).component),b({ref_key:"fieldInstance",ref:R,modelValue:c.value,"onUpdate:modelValue":N[2]||(N[2]=m=>c.value=m),class:"plus-form-item-field",clearable:a.clearable,"field-children-slot":a.fieldChildrenSlot},Fe.value,{"onUpdate:modelValue":ae}),Q({_:2},[K(a.fieldSlots,(m,W)=>({name:W,fn:P(J=>[(d(),v(w(m),b({"model-value":c.value,column:L.value},J),null,16,["model-value","column"]))])}))]),1040,["modelValue","clearable","field-children-slot"]))],2112))],64)):a.valueType==="text"?(d(),v(l(Dl),b({key:4,ref_key:"fieldInstance",ref:R,class:"plus-form-item-field"},k.value),{default:P(()=>[Y(H(c.value),1)]),_:1},16)):a.valueType==="divider"?(d(),v(l(wl),b({key:5,ref_key:"fieldInstance",ref:R,class:"plus-form-item-field"},k.value),{default:P(()=>[Y(H(c.value),1)]),_:1},16)):(d(),v(l(V),b({key:6,ref_key:"fieldInstance",ref:R,modelValue:c.value,"onUpdate:modelValue":N[3]||(N[3]=m=>c.value=m),class:"plus-form-item-field",placeholder:l(h)("plus.field.pleaseEnter")+C.value,autocomplete:"off",clearable:a.clearable},k.value,{"onUpdate:modelValue":ae}),Q({_:2},[K(a.fieldSlots,(m,W)=>({name:W,fn:P(J=>[(d(),v(w(m),b({"model-value":c.value,column:L.value},J),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder","clearable"]))]),_:2},[l(T)(a.renderErrorMessage)?{name:"error",fn:P(({error:m})=>[ce("div",ma,[(d(),v(w(a.renderErrorMessage),b(f,{value:c.value,error:m,label:C.value}),null,16,["value","error","label"]))])]),key:"0"}:void 0,a.hasLabel?{name:"label",fn:P(({label:m})=>[ce("span",va,[a.renderLabel&&l(T)(a.renderLabel)?(d(),B(U,{key:0},[u.value?(d(),v(l(Ae),{key:0,render:a.renderLabel,params:L.value,"callback-value":m,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):F("v-if",!0)],64)):M(a.$slots,l(ie)(a.prop),G(b({key:1},L.value)),()=>[Y(H(m),1)]),a.tooltip?(d(),v(l(n),b({key:2,placement:"top"},l(jl)(a.tooltip)),{default:P(()=>[M(a.$slots,"tooltip-icon",{},()=>[X(l(i),{class:"plus-table-column__label__icon",size:16},{default:P(()=>[X(l(Fl))]),_:1})])]),_:3},16)):F("v-if",!0)])]),key:"1"}:void 0]),1040,["label","prop","label-width"])):F("v-if",!0)}}}),ha=x(ba,[["__file","index.vue"]]);const ya=ha;var ga=Z({name:"PlusCollapseTransition",__name:"collapse-transition",props:{collapseDuration:{default:300},collapseTransition:{type:Boolean,default:!0}},setup(e){const o=e,r={beforeEnter(t){t.style.opacity=0},enter(t,n){requestAnimationFrame(()=>{t.style.transition=`opacity ${o.collapseDuration}ms linear`,t.style.opacity=1,n()})},leave(t,n){t.style.opacity=0,setTimeout(()=>{n()},o.collapseDuration/3*2)}};return(t,n)=>t.collapseTransition?(d(),v(_l,b({key:0,name:"plus-collapse-transition",css:!1},Rl(r)),{default:P(()=>[M(t.$slots,"default")]),_:3},16)):M(t.$slots,"default",{key:1})}}),ka=x(ga,[["__file","collapse-transition.vue"]]);const Pa={key:0,class:"plus-form-item-previous"},Va={key:1,class:"plus-form-item-extra"};var Ca=Z({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(e,{emit:o}){const r=e,t=o,n=S({}),i=s=>{const f=l(s);return Ml(f)?f:r.hasLabel};q(()=>r.modelValue,s=>{n.value=s},{immediate:!0});const V=s=>Kl(n.value,s),g=(s,f)=>{zl(n.value,f.prop,s),t("update:modelValue",n.value),t("change",n.value,f)};return(s,f)=>(d(),v(l(Ol),b(s.rowProps,{class:"plus-form__row"}),{default:P(()=>[X(ka,{"collapse-duration":s.collapseDuration,"collapse-transition":s.collapseTransition},{default:P(()=>[(d(!0),B(U,null,K(s.columns,y=>(d(),v(l(Ll),b({key:y.prop},y.colProps||s.colProps),{default:P(()=>[F(" el-form-item上一行的内容 "),y.renderPrevious||s.$slots[l(ge)(y.prop)]?(d(),B("div",Pa,[l(T)(y.renderPrevious)?(d(),v(w(y.renderPrevious),G(b({key:0},y)),null,16)):s.$slots[l(ge)(y.prop)]?M(s.$slots,l(ge)(y.prop),G(b({key:1},y))):F("v-if",!0)])):F("v-if",!0),X(l(ya),b({"model-value":V(y.prop)},y,{clearable:s.clearable,"has-label":i(y.hasLabel),onChange:h=>g(h,y)}),Q({_:2},[s.$slots[l(ie)(y.prop)]?{name:l(ie)(y.prop),fn:P(h=>[M(s.$slots,l(ie)(y.prop),G(ee(h)))]),key:"0"}:void 0,s.$slots[l(se)(y.prop)]?{name:l(se)(y.prop),fn:P(h=>[M(s.$slots,l(se)(y.prop),G(ee(h)))]),key:"1"}:void 0,s.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:P(()=>[M(s.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","clearable","has-label","onChange"]),F(" el-form-item 下一行额外的内容 "),y.renderExtra||s.$slots[l(ye)(y.prop)]?(d(),B("div",Va,[y.renderExtra&&l(T)(y.renderExtra)?(d(),v(w(y.renderExtra),G(b({key:0},y)),null,16)):s.$slots[l(ye)(y.prop)]?M(s.$slots,l(ye)(y.prop),G(b({key:1},y))):F("v-if",!0)])):F("v-if",!0)]),_:2},1040))),128))]),_:3},8,["collapse-duration","collapse-transition"]),F(" 搜索的footer插槽  "),M(s.$slots,"search-footer")]),_:3},16))}}),Ue=x(Ca,[["__file","form-content.vue"]]);const Ea={class:"plus-form__group__item__icon"};var Ia=Z({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})},prevent:{type:Boolean,default:!1},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(e,{expose:o,emit:r}){const t=e,n=r,{t:i}=me(),V=S(null),g=S({}),s=u=>(u==null?void 0:u.filter(C=>l(C.hideInForm)!==!0))||[],f=j(()=>g.value),y=j(()=>({justifyContent:t.footerAlign==="left"?"flex-start":t.footerAlign==="center"?"center":"flex-end"})),h=j(()=>s(t.columns)),O=j(()=>{var u;return ne(t.group)?(u=t.group)==null?void 0:u.filter(C=>l(C.hideInGroup)!==!0):t.group}),p=$e(),A=j(()=>I(I({},p),t.prevent?{onSubmit:Ee((...u)=>{p!=null&&p.onSubmit&&T(p==null?void 0:p.onSubmit)&&p.onSubmit(...u)},["prevent"])}:{}));q(()=>t.modelValue,u=>{g.value=u},{immediate:!0});const R=(u,C)=>{n("update:modelValue",g.value),n("change",g.value,C)},E=()=>{var u;(u=V.value)==null||u.clearValidate()},k=()=>be(null,null,function*(){var u,C,_;try{if(yield(u=V.value)==null?void 0:u.validate())return n("submit",g.value),!0}catch(z){if(t.hasErrorTip){Le.closeAll();const L=re(z)&&Object.values(z),le=L?(_=(C=L[0])==null?void 0:C[0])==null?void 0:_.message:void 0;Le.warning(le||i("plus.form.errorTip"))}n("submitError",z)}return!1}),c=()=>{E(),g.value=I({},t.defaultValues),n("update:modelValue",g.value),n("reset",g.value)},D=(...u)=>{n("validate",...u)};return o({formInstance:V,handleSubmit:k,handleReset:c}),(u,C)=>(d(),v(l(Ul),b({ref_key:"formInstance",ref:V,rules:u.rules,"label-width":u.hasLabel?u.labelWidth:0,class:["plus-form",u.hasLabel?"":"no-has-label"],"label-position":u.labelPosition,"validate-on-rule-change":!1,"label-suffix":u.hasLabel?u.labelSuffix:""},A.value,{model:f.value,onValidate:D}),{default:P(()=>[M(u.$slots,"default",{},()=>[F(" 分组表单 "),O.value?(d(!0),B(U,{key:0},K(O.value,(_,z)=>(d(),v(l(Nl),b({key:l(_.title)},_.cardProps||u.cardProps,{class:"plus-form__group__item"}),{header:P(()=>[M(u.$slots,"group-header",{title:l(_.title),columns:_.columns,icon:_.icon,index:z},()=>[ce("div",Ea,[_.icon?(d(),v(l(We),{key:0},{default:P(()=>[(d(),v(w(_.icon)))]),_:2},1024)):F("v-if",!0),Y(" "+H(l(_.title)),1)])])]),default:P(()=>[u.$slots[l(Ne)(_.name)]?M(u.$slots,l(Ne)(_.name),b({key:0},_,{index:z})):(d(),v(Ue,{key:1,modelValue:g.value,"onUpdate:modelValue":C[0]||(C[0]=L=>g.value=L),"row-props":u.rowProps,"col-props":u.colProps,columns:s(_.columns),"has-label":u.hasLabel,"collapse-transition":u.collapseTransition,"collapse-duration":u.collapseDuration,clearable:u.clearable,onChange:R},Q({_:2},[K(u.$slots,(L,le)=>({name:le,fn:P(ve=>[M(u.$slots,le,G(ee(ve)))])}))]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration","clearable"]))]),_:2},1040))),128)):(d(),B(U,{key:1},[F(" 普通表单 "),X(Ue,{modelValue:g.value,"onUpdate:modelValue":C[1]||(C[1]=_=>g.value=_),"row-props":u.rowProps,"col-props":u.colProps,columns:h.value,"has-label":u.hasLabel,"collapse-transition":u.collapseTransition,"collapse-duration":u.collapseDuration,clearable:u.clearable,onChange:R},Q({_:2},[K(u.$slots,(_,z)=>({name:z,fn:P(L=>[M(u.$slots,z,G(ee(L)))])}))]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration","clearable"])],64))]),u.hasFooter?(d(),B("div",{key:0,class:"plus-form__footer",style:Al(y.value)},[M(u.$slots,"footer",G(ee({handleReset:c,handleSubmit:k})),()=>[u.hasReset?(d(),v(l(_e),{key:0,onClick:c},{default:P(()=>[F(" 重置 "),Y(" "+H(u.resetText||l(i)("plus.form.resetText")),1)]),_:1})):F("v-if",!0),X(l(_e),{type:"primary",loading:u.submitLoading,onClick:k},{default:P(()=>[F(" 提交 "),Y(" "+H(u.submitText||l(i)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):F("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),Ta=x(Ia,[["__file","index.vue"]]);const wa=Ta;export{wa as P,me as u,Da as v};
