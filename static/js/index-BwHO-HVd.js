var hA=Object.defineProperty,yA=Object.defineProperties;var vA=Object.getOwnPropertyDescriptors;var SO=Object.getOwnPropertySymbols;var gA=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable;var jO=(i,u,a)=>u in i?hA(i,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[u]=a,PO=(i,u)=>{for(var a in u||(u={}))gA.call(u,a)&&jO(i,a,u[a]);if(SO)for(var a of SO(u))bA.call(u,a)&&jO(i,a,u[a]);return i},AO=(i,u)=>yA(i,vA(u));import{br as Bs,bs as ki,bt as tn,bu as MO,bv as ia,bw as Op,bx as Mu,by as Ws,bz as Bw,bA as oi,bB as ui,bC as Gn,bD as mA,bE as Ci,bF as im,bG as _A,bH as wp,bI as ii,bJ as xp,bK as Fw,bL as ku,bM as uy,bN as zo,bO as Ww,bP as Ia,bQ as $w,bR as $s,bS as Du,bT as am,bU as sn,bV as sy,bW as ml,bX as Di,bY as Mn,bZ as vl,b_ as _o,b$ as _l,c0 as Ep,c1 as si,c2 as Tr,c3 as qt,c4 as Us,c5 as OA,c6 as Ol,c7 as Uw,c8 as Ca,c9 as Gw,ca as Hw,cb as Bb,cc as _r,cd as Ni,ce as wA,cf as xA,cg as wl,ch as Sp,ci as Xw,cj as Gs,ck as Yw,cl as La,cm as Vw,cn as um,co as EA,cp as xl,cq as SA,cr as Au,cs as jp,ct as Kw,cu as qw,cv as jA,cw as gl,cx as sm,cy as cm,cz as Zw,cA as Jw,cB as PA,cC as Qw,cD as e1,cE as t1,cF as AA,cG as MA,cH as TA,cI as kA,cJ as DA,cK as NA,cL as Yh,cM as RA,cN as CA,cO as n1,cP as r1,cQ as o1,cR as i1,cS as lm,cT as a1,cU as IA,cV as LA,cW as zA,cX as BA,cY as Fs,cZ as FA,c_ as WA,c$ as $A,d0 as UA,d1 as GA,d2 as HA,d3 as XA,d4 as YA,d5 as VA,d6 as KA,d7 as qA,d8 as ZA,d9 as JA,da as QA,db as e2,dc as t2,dd as n2,de as r2,df as o2,dg as i2,dh as a2,di as u2,dj as s2,dk as c2,dl as l2,dm as f2,dn as p2,dp as d2,R as h2,d as cy,a as Na,m as u1,u as Lo,A as y2,k as ju,e as ri,g as Pu,F as s1,l as c1,q as TO,z as v2,s as kO,v as l1,_ as fm,i as Fb,t as g2,b as $h,V as pm,w as sl,f as lp,h as Lh,j as Cb}from"./index-BmmVvf-p.js";import{c as b2,b as m2,o as _2}from"./orderBy-BxqP9af6.js";import{P as O2}from"./vue-json-pretty-BFYG4VKv.js";var w2=NaN;function DO(i){return typeof i=="number"?i:Bs(i)?w2:+i}function ly(i,u){return function(a,p){var o;if(a===void 0&&p===void 0)return u;if(a!==void 0&&(o=a),p!==void 0){if(o===void 0)return p;typeof a=="string"||typeof p=="string"?(a=ki(a),p=ki(p)):(a=DO(a),p=DO(p)),o=i(a,p)}return o}}var x2=ly(function(i,u){return i+u},0),E2="Expected a function";function S2(i,u){if(typeof u!="function")throw new TypeError(E2);return i=tn(i),function(){if(--i<1)return u.apply(this,arguments)}}var Vh=MO&&new MO,f1=Vh?function(i,u){return Vh.set(i,u),i}:ia;function _p(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var a=Op(i.prototype),p=i.apply(a,u);return Mu(p)?p:a}}var j2=1;function P2(i,u,a){var p=u&j2,o=_p(i);function d(){var h=this&&this!==Ws&&this instanceof d?o:i;return h.apply(p?a:this,arguments)}return d}var A2=Math.max;function p1(i,u,a,p){for(var o=-1,d=i.length,h=a.length,m=-1,g=u.length,E=A2(d-h,0),j=Array(g+E),P=!p;++m<g;)j[m]=u[m];for(;++o<h;)(P||o<d)&&(j[a[o]]=i[o]);for(;E--;)j[m++]=i[o++];return j}var M2=Math.max;function d1(i,u,a,p){for(var o=-1,d=i.length,h=-1,m=a.length,g=-1,E=u.length,j=M2(d-m,0),P=Array(j+E),k=!p;++o<j;)P[o]=i[o];for(var T=o;++g<E;)P[T+g]=u[g];for(;++h<m;)(k||o<d)&&(P[T+a[h]]=i[o++]);return P}function T2(i,u){for(var a=i.length,p=0;a--;)i[a]===u&&++p;return p}function fy(){}var k2=4294967295;function pn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k2,this.__views__=[]}pn.prototype=Op(fy.prototype);pn.prototype.constructor=pn;var dm=Vh?function(i){return Vh.get(i)}:Bw,dl={},D2=Object.prototype,N2=D2.hasOwnProperty;function Uh(i){for(var u=i.name+"",a=dl[u],p=N2.call(dl,u)?a.length:0;p--;){var o=a[p],d=o.func;if(d==null||d==i)return o.name}return u}function ai(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}ai.prototype=Op(fy.prototype);ai.prototype.constructor=ai;function h1(i){if(i instanceof pn)return i.clone();var u=new ai(i.__wrapped__,i.__chain__);return u.__actions__=oi(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}var R2=Object.prototype,C2=R2.hasOwnProperty;function W(i){if(ui(i)&&!Gn(i)&&!(i instanceof pn)){if(i instanceof ai)return i;if(C2.call(i,"__wrapped__"))return h1(i)}return new ai(i)}W.prototype=fy.prototype;W.prototype.constructor=W;function Wb(i){var u=Uh(i),a=W[u];if(typeof a!="function"||!(u in pn.prototype))return!1;if(i===a)return!0;var p=dm(a);return!!p&&i===p[0]}var y1=mA(f1),I2=/\{\n\/\* \[wrapped with (.+)\] \*/,L2=/,? & /;function z2(i){var u=i.match(I2);return u?u[1].split(L2):[]}var B2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function F2(i,u){var a=u.length;if(!a)return i;var p=a-1;return u[p]=(a>1?"& ":"")+u[p],u=u.join(a>2?", ":" "),i.replace(B2,`{
/* [wrapped with `+u+`] */
`)}var W2=1,$2=2,U2=8,G2=16,H2=32,X2=64,Y2=128,V2=256,K2=512,q2=[["ary",Y2],["bind",W2],["bindKey",$2],["curry",U2],["curryRight",G2],["flip",K2],["partial",H2],["partialRight",X2],["rearg",V2]];function Z2(i,u){return Ci(q2,function(a){var p="_."+a[0];u&a[1]&&!im(i,p)&&i.push(p)}),i.sort()}function v1(i,u,a){var p=u+"";return _A(i,F2(p,Z2(z2(p),a)))}var J2=4,Q2=8,NO=32,RO=64;function g1(i,u,a,p,o,d,h,m,g,E){var j=u&Q2,P=j?h:void 0,k=j?void 0:h,T=j?d:void 0,C=j?void 0:d;u|=j?NO:RO,u&=~(j?RO:NO),u&J2||(u&=-4);var N=[i,u,o,T,P,C,k,m,g,E],L=a.apply(void 0,N);return Wb(i)&&y1(L,N),L.placeholder=p,v1(L,i,u)}function El(i){var u=i;return u.placeholder}var eM=Math.min;function tM(i,u){for(var a=i.length,p=eM(u.length,a),o=oi(i);p--;){var d=u[p];i[p]=wp(d,a)?o[d]:void 0}return i}var CO="__lodash_placeholder__";function Tu(i,u){for(var a=-1,p=i.length,o=0,d=[];++a<p;){var h=i[a];(h===u||h===CO)&&(i[a]=CO,d[o++]=a)}return d}var nM=1,rM=2,oM=8,iM=16,aM=128,uM=512;function py(i,u,a,p,o,d,h,m,g,E){var j=u&aM,P=u&nM,k=u&rM,T=u&(oM|iM),C=u&uM,N=k?void 0:_p(i);function L(){for(var U=arguments.length,G=Array(U),te=U;te--;)G[te]=arguments[te];if(T)var ie=El(L),re=T2(G,ie);if(p&&(G=p1(G,p,o,T)),d&&(G=d1(G,d,h,T)),U-=re,T&&U<E){var Q=Tu(G,ie);return g1(i,u,py,L.placeholder,a,G,Q,m,g,E-U)}var Z=P?a:this,H=k?Z[i]:i;return U=G.length,m?G=tM(G,m):C&&U>1&&G.reverse(),j&&g<U&&(G.length=g),this&&this!==Ws&&this instanceof L&&(H=N||_p(H)),H.apply(Z,G)}return L}function sM(i,u,a){var p=_p(i);function o(){for(var d=arguments.length,h=Array(d),m=d,g=El(o);m--;)h[m]=arguments[m];var E=d<3&&h[0]!==g&&h[d-1]!==g?[]:Tu(h,g);if(d-=E.length,d<a)return g1(i,u,py,o.placeholder,void 0,h,E,void 0,void 0,a-d);var j=this&&this!==Ws&&this instanceof o?p:i;return ii(j,this,h)}return o}var cM=1;function lM(i,u,a,p){var o=u&cM,d=_p(i);function h(){for(var m=-1,g=arguments.length,E=-1,j=p.length,P=Array(j+g),k=this&&this!==Ws&&this instanceof h?d:i;++E<j;)P[E]=p[E];for(;g--;)P[E++]=arguments[++m];return ii(k,o?a:this,P)}return h}var IO="__lodash_placeholder__",Ib=1,fM=2,pM=4,LO=8,fp=128,zO=256,dM=Math.min;function hM(i,u){var a=i[1],p=u[1],o=a|p,d=o<(Ib|fM|fp),h=p==fp&&a==LO||p==fp&&a==zO&&i[7].length<=u[8]||p==(fp|zO)&&u[7].length<=u[8]&&a==LO;if(!(d||h))return i;p&Ib&&(i[2]=u[2],o|=a&Ib?0:pM);var m=u[3];if(m){var g=i[3];i[3]=g?p1(g,m,u[4]):m,i[4]=g?Tu(i[3],IO):u[4]}return m=u[5],m&&(g=i[5],i[5]=g?d1(g,m,u[6]):m,i[6]=g?Tu(i[5],IO):u[6]),m=u[7],m&&(i[7]=m),p&fp&&(i[8]=i[8]==null?u[8]:dM(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=o,i}var yM="Expected a function",BO=1,vM=2,FO=8,WO=16,$O=32,gM=64,UO=Math.max;function za(i,u,a,p,o,d,h,m){var g=u&vM;if(!g&&typeof i!="function")throw new TypeError(yM);var E=p?p.length:0;if(E||(u&=-97,p=o=void 0),h=h===void 0?h:UO(tn(h),0),m=m===void 0?m:tn(m),E-=o?o.length:0,u&gM){var j=p,P=o;p=o=void 0}var k=g?void 0:dm(i),T=[i,u,a,p,o,j,P,d,h,m];if(k&&hM(T,k),i=T[0],u=T[1],a=T[2],p=T[3],o=T[4],m=T[9]=T[9]===void 0?g?0:i.length:UO(T[9]-E,0),!m&&u&(FO|WO)&&(u&=-25),!u||u==BO)var C=P2(i,u,a);else u==FO||u==WO?C=sM(i,u,m):(u==$O||u==(BO|$O))&&!o.length?C=lM(i,u,a,p):C=py.apply(void 0,T);var N=k?f1:y1;return v1(N(C,T),i,u)}var bM=128;function b1(i,u,a){return u=a?void 0:u,u=i&&u==null?i.length:u,za(i,bM,void 0,void 0,void 0,void 0,u)}var mM=Object.prototype,_M=mM.hasOwnProperty,OM=xp(function(i,u){if(Fw(u)||ku(u)){uy(u,zo(u),i);return}for(var a in u)_M.call(u,a)&&Ww(i,a,u[a])}),wM=xp(function(i,u){uy(u,Ia(u),i)}),$b=xp(function(i,u,a,p){uy(u,Ia(u),i,p)}),xM=xp(function(i,u,a,p){uy(u,zo(u),i,p)});function hm(i,u){for(var a=-1,p=u.length,o=Array(p),d=i==null;++a<p;)o[a]=d?void 0:$w(i,u[a]);return o}var EM=$s(hm),SM="[object DOMException]",jM="[object Error]";function ym(i){if(!ui(i))return!1;var u=Du(i);return u==jM||u==SM||typeof i.message=="string"&&typeof i.name=="string"&&!am(i)}var m1=sn(function(i,u){try{return ii(i,void 0,u)}catch(a){return ym(a)?a:new Error(a)}}),PM="Expected a function";function _1(i,u){var a;if(typeof u!="function")throw new TypeError(PM);return i=tn(i),function(){return--i>0&&(a=u.apply(this,arguments)),i<=1&&(u=void 0),a}}var AM=1,MM=32,dy=sn(function(i,u,a){var p=AM;if(a.length){var o=Tu(a,El(dy));p|=MM}return za(i,p,u,a,o)});dy.placeholder={};var TM=$s(function(i,u){return Ci(u,function(a){a=sy(a),ml(i,a,dy(i[a],i))}),i}),kM=1,DM=2,NM=32,vm=sn(function(i,u,a){var p=kM|DM;if(a.length){var o=Tu(a,El(vm));p|=NM}return za(u,p,i,a,o)});vm.placeholder={};function Nu(i,u,a){var p=i.length;return a=a===void 0?p:a,!u&&a>=p?i:Di(i,u,a)}var RM="\\ud800-\\udfff",CM="\\u0300-\\u036f",IM="\\ufe20-\\ufe2f",LM="\\u20d0-\\u20ff",zM=CM+IM+LM,BM="\\ufe0e\\ufe0f",FM="\\u200d",WM=RegExp("["+FM+RM+zM+BM+"]");function Sl(i){return WM.test(i)}function $M(i){return i.split("")}var O1="\\ud800-\\udfff",UM="\\u0300-\\u036f",GM="\\ufe20-\\ufe2f",HM="\\u20d0-\\u20ff",XM=UM+GM+HM,YM="\\ufe0e\\ufe0f",VM="["+O1+"]",Ub="["+XM+"]",Gb="\\ud83c[\\udffb-\\udfff]",KM="(?:"+Ub+"|"+Gb+")",w1="[^"+O1+"]",x1="(?:\\ud83c[\\udde6-\\uddff]){2}",E1="[\\ud800-\\udbff][\\udc00-\\udfff]",qM="\\u200d",S1=KM+"?",j1="["+YM+"]?",ZM="(?:"+qM+"(?:"+[w1,x1,E1].join("|")+")"+j1+S1+")*",JM=j1+S1+ZM,QM="(?:"+[w1+Ub+"?",Ub,x1,E1,VM].join("|")+")",eT=RegExp(Gb+"(?="+Gb+")|"+QM+JM,"g");function tT(i){return i.match(eT)||[]}function Ri(i){return Sl(i)?tT(i):$M(i)}function P1(i){return function(u){u=Mn(u);var a=Sl(u)?Ri(u):void 0,p=a?a[0]:u.charAt(0),o=a?Nu(a,1).join(""):u.slice(1);return p[i]()+o}}var gm=P1("toUpperCase");function A1(i){return gm(Mn(i).toLowerCase())}function bm(i,u,a,p){var o=-1,d=i==null?0:i.length;for(p&&d&&(a=i[++o]);++o<d;)a=u(a,i[o],o,i);return a}function mm(i){return function(u){return i==null?void 0:i[u]}}var nT={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rT=mm(nT),oT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iT="\\u0300-\\u036f",aT="\\ufe20-\\ufe2f",uT="\\u20d0-\\u20ff",sT=iT+aT+uT,cT="["+sT+"]",lT=RegExp(cT,"g");function M1(i){return i=Mn(i),i&&i.replace(oT,rT).replace(lT,"")}var fT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pT(i){return i.match(fT)||[]}var dT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hT(i){return dT.test(i)}var T1="\\ud800-\\udfff",yT="\\u0300-\\u036f",vT="\\ufe20-\\ufe2f",gT="\\u20d0-\\u20ff",bT=yT+vT+gT,k1="\\u2700-\\u27bf",D1="a-z\\xdf-\\xf6\\xf8-\\xff",mT="\\xac\\xb1\\xd7\\xf7",_T="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",OT="\\u2000-\\u206f",wT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",N1="A-Z\\xc0-\\xd6\\xd8-\\xde",xT="\\ufe0e\\ufe0f",R1=mT+_T+OT+wT,C1="['’]",GO="["+R1+"]",ET="["+bT+"]",I1="\\d+",ST="["+k1+"]",L1="["+D1+"]",z1="[^"+T1+R1+I1+k1+D1+N1+"]",jT="\\ud83c[\\udffb-\\udfff]",PT="(?:"+ET+"|"+jT+")",AT="[^"+T1+"]",B1="(?:\\ud83c[\\udde6-\\uddff]){2}",F1="[\\ud800-\\udbff][\\udc00-\\udfff]",ll="["+N1+"]",MT="\\u200d",HO="(?:"+L1+"|"+z1+")",TT="(?:"+ll+"|"+z1+")",XO="(?:"+C1+"(?:d|ll|m|re|s|t|ve))?",YO="(?:"+C1+"(?:D|LL|M|RE|S|T|VE))?",W1=PT+"?",$1="["+xT+"]?",kT="(?:"+MT+"(?:"+[AT,B1,F1].join("|")+")"+$1+W1+")*",DT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",NT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",RT=$1+W1+kT,CT="(?:"+[ST,B1,F1].join("|")+")"+RT,IT=RegExp([ll+"?"+L1+"+"+XO+"(?="+[GO,ll,"$"].join("|")+")",TT+"+"+YO+"(?="+[GO,ll+HO,"$"].join("|")+")",ll+"?"+HO+"+"+XO,ll+"+"+YO,NT,DT,I1,CT].join("|"),"g");function LT(i){return i.match(IT)||[]}function U1(i,u,a){return i=Mn(i),u=a?void 0:u,u===void 0?hT(i)?LT(i):pT(i):i.match(u)||[]}var zT="['’]",BT=RegExp(zT,"g");function jl(i){return function(u){return bm(U1(M1(u).replace(BT,"")),i,"")}}var FT=jl(function(i,u,a){return u=u.toLowerCase(),i+(a?A1(u):u)}),WT=Ws.isFinite,$T=Math.min;function _m(i){var u=Math[i];return function(a,p){if(a=vl(a),p=p==null?0:$T(tn(p),292),p&&WT(a)){var o=(Mn(a)+"e").split("e"),d=u(o[0]+"e"+(+o[1]+p));return o=(Mn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-p))}return u(a)}}var UT=_m("ceil");function G1(i){var u=W(i);return u.__chain__=!0,u}var GT=Math.ceil,HT=Math.max;function XT(i,u,a){(a?_o(i,u,a):u===void 0)?u=1:u=HT(tn(u),0);var p=i==null?0:i.length;if(!p||u<1)return[];for(var o=0,d=0,h=Array(GT(p/u));o<p;)h[d++]=Di(i,o,o+=u);return h}var YT=1,VT=4;function KT(i,u){return u=typeof u=="function"?u:void 0,_l(i,YT|VT,u)}var qT=4;function ZT(i,u){return u=typeof u=="function"?u:void 0,_l(i,qT,u)}function JT(){return new ai(this.value(),this.__chain__)}function QT(i){for(var u=-1,a=i==null?0:i.length,p=0,o=[];++u<a;){var d=i[u];d&&(o[p++]=d)}return o}function ek(){var i=arguments.length;if(!i)return[];for(var u=Array(i-1),a=arguments[0],p=i;p--;)u[p-1]=arguments[p];return Ep(Gn(a)?oi(a):[a],si(u,1))}var tk="Expected a function";function nk(i){var u=i==null?0:i.length,a=qt;return i=u?Tr(i,function(p){if(typeof p[1]!="function")throw new TypeError(tk);return[a(p[0]),p[1]]}):[],sn(function(p){for(var o=-1;++o<u;){var d=i[o];if(ii(d[0],this,p))return ii(d[1],this,p)}})}function H1(i,u,a){var p=a.length;if(i==null)return!p;for(i=Object(i);p--;){var o=a[p],d=u[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function rk(i){var u=zo(i);return function(a){return H1(a,i,u)}}var ok=1;function ik(i){return rk(_l(i,ok))}function ak(i,u){return u==null||H1(i,u,zo(u))}function uk(i,u,a,p){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];u(p,h,a(h),i)}return p}function sk(i,u,a,p){return Us(i,function(o,d,h){u(p,o,a(o),h)}),p}function hy(i,u){return function(a,p){var o=Gn(a)?uk:sk,d=u?u():{};return o(a,i,qt(p),d)}}var ck=Object.prototype,lk=ck.hasOwnProperty,fk=hy(function(i,u,a){lk.call(i,a)?++i[a]:ml(i,a,1)});function pk(i,u){var a=Op(i);return u==null?a:OA(a,u)}var dk=8;function Om(i,u,a){u=a?void 0:u;var p=za(i,dk,void 0,void 0,void 0,void 0,void 0,u);return p.placeholder=Om.placeholder,p}Om.placeholder={};var hk=16;function wm(i,u,a){u=a?void 0:u;var p=za(i,hk,void 0,void 0,void 0,void 0,void 0,u);return p.placeholder=wm.placeholder,p}wm.placeholder={};function yk(i,u){return i==null||i!==i?u:i}var X1=Object.prototype,vk=X1.hasOwnProperty,gk=sn(function(i,u){i=Object(i);var a=-1,p=u.length,o=p>2?u[2]:void 0;for(o&&_o(u[0],u[1],o)&&(p=1);++a<p;)for(var d=u[a],h=Ia(d),m=-1,g=h.length;++m<g;){var E=h[m],j=i[E];(j===void 0||Ol(j,X1[E])&&!vk.call(i,E))&&(i[E]=d[E])}return i});function Y1(i,u,a,p,o,d){return Mu(i)&&Mu(u)&&(d.set(u,i),Uw(i,u,void 0,Y1,d),d.delete(u)),i}var V1=xp(function(i,u,a,p){Uw(i,u,a,p)}),bk=sn(function(i){return i.push(void 0,Y1),ii(V1,void 0,i)}),mk="Expected a function";function K1(i,u,a){if(typeof i!="function")throw new TypeError(mk);return setTimeout(function(){i.apply(void 0,a)},u)}var _k=sn(function(i,u){return K1(i,1,u)}),Ok=sn(function(i,u,a){return K1(i,vl(u)||0,a)}),wk=200;function Pp(i,u,a,p){var o=-1,d=im,h=!0,m=i.length,g=[],E=u.length;if(!m)return g;a&&(u=Tr(u,Ca(a))),p?(d=Hw,h=!1):u.length>=wk&&(d=Bb,h=!1,u=new Gw(u));e:for(;++o<m;){var j=i[o],P=a==null?j:a(j);if(j=p||j!==0?j:0,h&&P===P){for(var k=E;k--;)if(u[k]===P)continue e;g.push(j)}else d(u,P,p)||g.push(j)}return g}var xk=sn(function(i,u){return _r(i)?Pp(i,si(u,1,_r,!0)):[]}),Ek=sn(function(i,u){var a=Ni(u);return _r(a)&&(a=void 0),_r(i)?Pp(i,si(u,1,_r,!0),qt(a)):[]}),Sk=sn(function(i,u){var a=Ni(u);return _r(a)&&(a=void 0),_r(i)?Pp(i,si(u,1,_r,!0),void 0,a):[]}),jk=ly(function(i,u){return i/u},1);function Pk(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:tn(u),Di(i,u<0?0:u,p)):[]}function Ak(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:tn(u),u=p-u,Di(i,0,u<0?0:u)):[]}function yy(i,u,a,p){for(var o=i.length,d=p?o:-1;(p?d--:++d<o)&&u(i[d],d,i););return a?Di(i,p?0:d,p?d+1:o):Di(i,p?d+1:0,p?o:d)}function Mk(i,u){return i&&i.length?yy(i,qt(u),!0,!0):[]}function Tk(i,u){return i&&i.length?yy(i,qt(u),!0):[]}function aa(i){return typeof i=="function"?i:ia}function kk(i,u){var a=Gn(i)?Ci:Us;return a(i,aa(u))}function Dk(i,u){for(var a=i==null?0:i.length;a--&&u(i[a],a,i)!==!1;);return i}var q1=wA(!0);function xm(i,u){return i&&q1(i,u,zo)}var Z1=xA(xm,!0);function Nk(i,u){var a=Gn(i)?Dk:Z1;return a(i,aa(u))}function Rk(i,u,a){i=Mn(i),u=ki(u);var p=i.length;a=a===void 0?p:wl(tn(a),0,p);var o=a;return a-=u.length,a>=0&&i.slice(a,o)==u}function Ck(i,u){return Tr(u,function(a){return[a,i[a]]})}function Ik(i){var u=-1,a=Array(i.size);return i.forEach(function(p){a[++u]=[p,p]}),a}var Lk="[object Map]",zk="[object Set]";function J1(i){return function(u){var a=Sp(u);return a==Lk?Xw(u):a==zk?Ik(u):Ck(u,i(u))}}var Bk=J1(zo),Fk=J1(Ia),Wk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$k=mm(Wk),Q1=/[&<>"']/g,Uk=RegExp(Q1.source);function ex(i){return i=Mn(i),i&&Uk.test(i)?i.replace(Q1,$k):i}var tx=/[\\^$.*+?()[\]{}|]/g,Gk=RegExp(tx.source);function Hk(i){return i=Mn(i),i&&Gk.test(i)?i.replace(tx,"\\$&"):i}function nx(i,u){for(var a=-1,p=i==null?0:i.length;++a<p;)if(!u(i[a],a,i))return!1;return!0}function Xk(i,u){var a=!0;return Us(i,function(p,o,d){return a=!!u(p,o,d),a}),a}function Yk(i,u,a){var p=Gn(i)?nx:Xk;return a&&_o(i,u,a)&&(u=void 0),p(i,qt(u))}var Vk=4294967295;function rx(i){return i?wl(tn(i),0,Vk):0}function Kk(i,u,a,p){var o=i.length;for(a=tn(a),a<0&&(a=-a>o?0:o+a),p=p===void 0||p>o?o:tn(p),p<0&&(p+=o),p=a>p?0:rx(p);a<p;)i[a++]=u;return i}function qk(i,u,a,p){var o=i==null?0:i.length;return o?(a&&typeof a!="number"&&_o(i,u,a)&&(a=0,p=o),Kk(i,u,a,p)):[]}function ox(i,u){var a=[];return Us(i,function(p,o,d){u(p,o,d)&&a.push(p)}),a}function Zk(i,u){var a=Gn(i)?Gs:ox;return a(i,qt(u))}function ix(i){return function(u,a,p){var o=Object(u);if(!ku(u)){var d=qt(a);u=zo(u),a=function(m){return d(o[m],m,o)}}var h=i(u,a,p);return h>-1?o[d?u[h]:h]:void 0}}var Jk=Math.max;function ax(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=a==null?0:tn(a);return o<0&&(o=Jk(p+o,0)),Yw(i,qt(u),o)}var Qk=ix(ax);function ux(i,u,a){var p;return a(i,function(o,d,h){if(u(o,d,h))return p=d,!1}),p}function eD(i,u){return ux(i,qt(u),La)}var tD=ix(Vw);function nD(i,u){return ux(i,qt(u),xm)}function rD(i){return i&&i.length?i[0]:void 0}var oD=1/0;function iD(i,u){return si(um(i,u),oD)}function aD(i,u,a){return a=a===void 0?1:tn(a),si(um(i,u),a)}function uD(i,u){var a=i==null?0:i.length;return a?(u=u===void 0?1:tn(u),si(i,u)):[]}var sD=512;function cD(i){return za(i,sD)}var lD=_m("floor"),fD="Expected a function",pD=8,dD=32,hD=128,yD=256;function sx(i){return $s(function(u){var a=u.length,p=a,o=ai.prototype.thru;for(i&&u.reverse();p--;){var d=u[p];if(typeof d!="function")throw new TypeError(fD);if(o&&!h&&Uh(d)=="wrapper")var h=new ai([],!0)}for(p=h?p:a;++p<a;){d=u[p];var m=Uh(d),g=m=="wrapper"?dm(d):void 0;g&&Wb(g[0])&&g[1]==(hD|pD|dD|yD)&&!g[4].length&&g[9]==1?h=h[Uh(g[0])].apply(h,g[3]):h=d.length==1&&Wb(d)?h[m]():h.thru(d)}return function(){var E=arguments,j=E[0];if(h&&E.length==1&&Gn(j))return h.plant(j).value();for(var P=0,k=a?u[P].apply(this,E):j;++P<a;)k=u[P].call(this,k);return k}})}var vD=sx(),gD=sx(!0);function bD(i,u){return i==null?i:EA(i,aa(u),Ia)}function mD(i,u){return i==null?i:q1(i,aa(u),Ia)}function _D(i,u){return i&&La(i,aa(u))}function OD(i,u){return i&&xm(i,aa(u))}function vy(i,u){return Gs(u,function(a){return xl(i[a])})}function wD(i){return i==null?[]:vy(i,zo(i))}function xD(i){return i==null?[]:vy(i,Ia(i))}var ED=Object.prototype,SD=ED.hasOwnProperty,jD=hy(function(i,u,a){SD.call(i,a)?i[a].push(u):ml(i,a,[u])});function Em(i,u){return i>u}function gy(i){return function(u,a){return typeof u=="string"&&typeof a=="string"||(u=vl(u),a=vl(a)),i(u,a)}}var PD=gy(Em),AD=gy(function(i,u){return i>=u}),MD=Object.prototype,TD=MD.hasOwnProperty;function kD(i,u){return i!=null&&TD.call(i,u)}function DD(i,u){return i!=null&&SA(i,u,kD)}var ND=Math.max,RD=Math.min;function CD(i,u,a){return i>=RD(u,a)&&i<ND(u,a)}function ID(i,u,a){return u=Au(u),a===void 0?(a=u,u=0):a=Au(a),i=vl(i),CD(i,u,a)}var LD="[object String]";function by(i){return typeof i=="string"||!Gn(i)&&ui(i)&&Du(i)==LD}function Sm(i,u){return Tr(u,function(a){return i[a]})}function Pl(i){return i==null?[]:Sm(i,zo(i))}var zD=Math.max;function BD(i,u,a,p){i=ku(i)?i:Pl(i),a=a&&!p?tn(a):0;var o=i.length;return a<0&&(a=zD(o+a,0)),by(i)?a<=o&&i.indexOf(u,a)>-1:!!o&&jp(i,u,a)>-1}var FD=Math.max;function WD(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=a==null?0:tn(a);return o<0&&(o=FD(p+o,0)),jp(i,u,o)}function $D(i){var u=i==null?0:i.length;return u?Di(i,0,-1):[]}var UD=Math.min;function jm(i,u,a){for(var p=a?Hw:im,o=i[0].length,d=i.length,h=d,m=Array(d),g=1/0,E=[];h--;){var j=i[h];h&&u&&(j=Tr(j,Ca(u))),g=UD(j.length,g),m[h]=!a&&(u||o>=120&&j.length>=120)?new Gw(h&&j):void 0}j=i[0];var P=-1,k=m[0];e:for(;++P<o&&E.length<g;){var T=j[P],C=u?u(T):T;if(T=a||T!==0?T:0,!(k?Bb(k,C):p(E,C,a))){for(h=d;--h;){var N=m[h];if(!(N?Bb(N,C):p(i[h],C,a)))continue e}k&&k.push(C),E.push(T)}}return E}function Pm(i){return _r(i)?i:[]}var GD=sn(function(i){var u=Tr(i,Pm);return u.length&&u[0]===i[0]?jm(u):[]}),HD=sn(function(i){var u=Ni(i),a=Tr(i,Pm);return u===Ni(a)?u=void 0:a.pop(),a.length&&a[0]===i[0]?jm(a,qt(u)):[]}),XD=sn(function(i){var u=Ni(i),a=Tr(i,Pm);return u=typeof u=="function"?u:void 0,u&&a.pop(),a.length&&a[0]===i[0]?jm(a,void 0,u):[]});function YD(i,u,a,p){return La(i,function(o,d,h){u(p,a(o),d,h)}),p}function cx(i,u){return function(a,p){return YD(a,i,u(p),{})}}var VD=Object.prototype,KD=VD.toString,qD=cx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=KD.call(u)),i[u]=a},Kw(ia)),lx=Object.prototype,ZD=lx.hasOwnProperty,JD=lx.toString,QD=cx(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=JD.call(u)),ZD.call(i,u)?i[u].push(a):i[u]=[a]},qt);function Ap(i,u,a){u=qw(u,i),i=jA(i,u);var p=i==null?i:i[sy(Ni(u))];return p==null?void 0:ii(p,i,a)}var eN=sn(Ap),tN=sn(function(i,u,a){var p=-1,o=typeof u=="function",d=ku(i)?Array(i.length):[];return Us(i,function(h){d[++p]=o?ii(u,h,a):Ap(h,u,a)}),d}),nN="[object ArrayBuffer]";function rN(i){return ui(i)&&Du(i)==nN}var VO=gl&&gl.isArrayBuffer,oN=VO?Ca(VO):rN,iN="[object Boolean]";function aN(i){return i===!0||i===!1||ui(i)&&Du(i)==iN}var uN="[object Date]";function sN(i){return ui(i)&&Du(i)==uN}var KO=gl&&gl.isDate,cN=KO?Ca(KO):sN;function lN(i){return ui(i)&&i.nodeType===1&&!am(i)}var fN="[object Map]",pN="[object Set]",dN=Object.prototype,hN=dN.hasOwnProperty;function yN(i){if(i==null)return!0;if(ku(i)&&(Gn(i)||typeof i=="string"||typeof i.splice=="function"||sm(i)||cm(i)||Zw(i)))return!i.length;var u=Sp(i);if(u==fN||u==pN)return!i.size;if(Fw(i))return!Jw(i).length;for(var a in i)if(hN.call(i,a))return!1;return!0}function vN(i,u,a){a=typeof a=="function"?a:void 0;var p=a?a(i,u):void 0;return p===void 0?PA(i,u,void 0,a):!!p}var gN=Ws.isFinite;function bN(i){return typeof i=="number"&&gN(i)}function fx(i){return typeof i=="number"&&i==tn(i)}function mN(i,u){return i===u||Qw(i,u,e1(u))}function _N(i,u,a){return a=typeof a=="function"?a:void 0,Qw(i,u,e1(u),a)}var ON="[object Number]";function px(i){return typeof i=="number"||ui(i)&&Du(i)==ON}function wN(i){return px(i)&&i!=+i}var xN=AA?xl:t1,EN="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function SN(i){if(xN(i))throw new Error(EN);return MA(i)}var jN="[object RegExp]";function PN(i){return ui(i)&&Du(i)==jN}var qO=gl&&gl.isRegExp,Am=qO?Ca(qO):PN,ZO=9007199254740991;function AN(i){return fx(i)&&i>=-ZO&&i<=ZO}var MN="[object WeakMap]";function TN(i){return ui(i)&&Sp(i)==MN}var kN="[object WeakSet]";function DN(i){return ui(i)&&Du(i)==kN}var NN=1;function RN(i){return qt(typeof i=="function"?i:_l(i,NN))}var CN=Array.prototype,IN=CN.join;function LN(i,u){return i==null?"":IN.call(i,u)}var zN=jl(function(i,u,a){return i+(a?"-":"")+u.toLowerCase()}),BN=hy(function(i,u,a){ml(i,a,u)});function FN(i,u,a){for(var p=a+1;p--;)if(i[p]===u)return p;return p}var WN=Math.max,$N=Math.min;function UN(i,u,a){var p=i==null?0:i.length;if(!p)return-1;var o=p;return a!==void 0&&(o=tn(a),o=o<0?WN(p+o,0):$N(o,p-1)),u===u?FN(i,u,o):Yw(i,TA,o,!0)}var GN=jl(function(i,u,a){return i+(a?" ":"")+u.toLowerCase()}),HN=P1("toLowerCase");function Mm(i,u){return i<u}var XN=gy(Mm),YN=gy(function(i,u){return i<=u});function VN(i,u){var a={};return u=qt(u),La(i,function(p,o,d){ml(a,u(p,o,d),p)}),a}function KN(i,u){var a={};return u=qt(u),La(i,function(p,o,d){ml(a,o,u(p,o,d))}),a}var qN=1;function ZN(i){return kA(_l(i,qN))}var JN=1;function QN(i,u){return DA(i,_l(u,JN))}function my(i,u,a){for(var p=-1,o=i.length;++p<o;){var d=i[p],h=u(d);if(h!=null&&(m===void 0?h===h&&!Bs(h):a(h,m)))var m=h,g=d}return g}function eR(i){return i&&i.length?my(i,ia,Em):void 0}function tR(i,u){return i&&i.length?my(i,qt(u),Em):void 0}function Tm(i,u){for(var a,p=-1,o=i.length;++p<o;){var d=u(i[p]);d!==void 0&&(a=a===void 0?d:a+d)}return a}var nR=NaN;function dx(i,u){var a=i==null?0:i.length;return a?Tm(i,u)/a:nR}function rR(i){return dx(i,ia)}function oR(i,u){return dx(i,qt(u))}var iR=sn(function(i,u){return function(a){return Ap(a,i,u)}}),aR=sn(function(i,u){return function(a){return Ap(i,a,u)}});function uR(i){return i&&i.length?my(i,ia,Mm):void 0}function sR(i,u){return i&&i.length?my(i,qt(u),Mm):void 0}function cR(i,u,a){var p=zo(u),o=vy(u,p),d=!(Mu(a)&&"chain"in a)||!!a.chain,h=xl(i);return Ci(o,function(m){var g=u[m];i[m]=g,h&&(i.prototype[m]=function(){var E=this.__chain__;if(d||E){var j=i(this.__wrapped__),P=j.__actions__=oi(this.__actions__);return P.push({func:g,args:arguments,thisArg:i}),j.__chain__=E,j}return g.apply(i,Ep([this.value()],arguments))})}),i}var lR=ly(function(i,u){return i*u},1),fR="Expected a function";function _y(i){if(typeof i!="function")throw new TypeError(fR);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function pR(i){for(var u,a=[];!(u=i.next()).done;)a.push(u.value);return a}var dR="[object Map]",hR="[object Set]",Lb=Yh?Yh.iterator:void 0;function hx(i){if(!i)return[];if(ku(i))return by(i)?Ri(i):oi(i);if(Lb&&i[Lb])return pR(i[Lb]());var u=Sp(i),a=u==dR?Xw:u==hR?NA:Pl;return a(i)}function yR(){this.__values__===void 0&&(this.__values__=hx(this.value()));var i=this.__index__>=this.__values__.length,u=i?void 0:this.__values__[this.__index__++];return{done:i,value:u}}function yx(i,u){var a=i.length;if(a)return u+=u<0?a:0,wp(u,a)?i[u]:void 0}function vR(i,u){return i&&i.length?yx(i,tn(u)):void 0}function gR(i){return i=tn(i),sn(function(u){return yx(u,i)})}function vx(i,u){if(i==null)return{};var a=Tr(RA(i),function(p){return[p]});return u=qt(u),CA(i,a,function(p,o){return u(p,o[0])})}function bR(i,u){return vx(i,_y(qt(u)))}function mR(i){return _1(2,i)}function km(i){return $s(function(u){return u=Tr(u,Ca(qt)),sn(function(a){var p=this;return i(u,function(o){return ii(o,p,a)})})})}var _R=km(Tr),OR=sn,wR=Math.min,xR=OR(function(i,u){u=u.length==1&&Gn(u[0])?Tr(u[0],Ca(qt)):Tr(si(u,1),Ca(qt));var a=u.length;return sn(function(p){for(var o=-1,d=wR(p.length,a);++o<d;)p[o]=u[o].call(this,p[o]);return ii(i,this,p)})}),ER=km(nx),SR=km(n1),jR=9007199254740991,PR=Math.floor;function Hb(i,u){var a="";if(!i||u<1||u>jR)return a;do u%2&&(a+=i),u=PR(u/2),u&&(i+=i);while(u);return a}var AR=r1("length"),gx="\\ud800-\\udfff",MR="\\u0300-\\u036f",TR="\\ufe20-\\ufe2f",kR="\\u20d0-\\u20ff",DR=MR+TR+kR,NR="\\ufe0e\\ufe0f",RR="["+gx+"]",Xb="["+DR+"]",Yb="\\ud83c[\\udffb-\\udfff]",CR="(?:"+Xb+"|"+Yb+")",bx="[^"+gx+"]",mx="(?:\\ud83c[\\udde6-\\uddff]){2}",_x="[\\ud800-\\udbff][\\udc00-\\udfff]",IR="\\u200d",Ox=CR+"?",wx="["+NR+"]?",LR="(?:"+IR+"(?:"+[bx,mx,_x].join("|")+")"+wx+Ox+")*",zR=wx+Ox+LR,BR="(?:"+[bx+Xb+"?",Xb,mx,_x,RR].join("|")+")",JO=RegExp(Yb+"(?="+Yb+")|"+BR+zR,"g");function FR(i){for(var u=JO.lastIndex=0;JO.test(i);)++u;return u}function Al(i){return Sl(i)?FR(i):AR(i)}var WR=Math.ceil;function Kh(i,u){u=u===void 0?" ":ki(u);var a=u.length;if(a<2)return a?Hb(u,i):u;var p=Hb(u,WR(i/Al(u)));return Sl(u)?Nu(Ri(p),0,i).join(""):p.slice(0,i)}var $R=Math.ceil,UR=Math.floor;function GR(i,u,a){i=Mn(i),u=tn(u);var p=u?Al(i):0;if(!u||p>=u)return i;var o=(u-p)/2;return Kh(UR(o),a)+i+Kh($R(o),a)}function HR(i,u,a){i=Mn(i),u=tn(u);var p=u?Al(i):0;return u&&p<u?i+Kh(u-p,a):i}function XR(i,u,a){i=Mn(i),u=tn(u);var p=u?Al(i):0;return u&&p<u?Kh(u-p,a)+i:i}var YR=/^\s+/,VR=Ws.parseInt;function KR(i,u,a){return a||u==null?u=0:u&&(u=+u),VR(Mn(i).replace(YR,""),u||0)}var qR=32,Oy=sn(function(i,u){var a=Tu(u,El(Oy));return za(i,qR,void 0,u,a)});Oy.placeholder={};var ZR=64,Dm=sn(function(i,u){var a=Tu(u,El(Dm));return za(i,ZR,void 0,u,a)});Dm.placeholder={};var JR=hy(function(i,u,a){i[a?0:1].push(u)},function(){return[[],[]]});function QR(i){for(var u,a=this;a instanceof fy;){var p=h1(a);p.__index__=0,p.__values__=void 0,u?o.__wrapped__=p:u=p;var o=p;a=a.__wrapped__}return o.__wrapped__=i,u}function eC(i){return function(u){return i==null?void 0:o1(i,u)}}function tC(i,u,a,p){for(var o=a-1,d=i.length;++o<d;)if(p(i[o],u))return o;return-1}var nC=Array.prototype,QO=nC.splice;function Nm(i,u,a,p){var o=p?tC:jp,d=-1,h=u.length,m=i;for(i===u&&(u=oi(u)),a&&(m=Tr(i,Ca(a)));++d<h;)for(var g=0,E=u[d],j=a?a(E):E;(g=o(m,j,g,p))>-1;)m!==i&&QO.call(m,g,1),QO.call(i,g,1);return i}function xx(i,u){return i&&i.length&&u&&u.length?Nm(i,u):i}var rC=sn(xx);function oC(i,u,a){return i&&i.length&&u&&u.length?Nm(i,u,qt(a)):i}function iC(i,u,a){return i&&i.length&&u&&u.length?Nm(i,u,void 0,a):i}var aC=Array.prototype,uC=aC.splice;function Ex(i,u){for(var a=i?u.length:0,p=a-1;a--;){var o=u[a];if(a==p||o!==d){var d=o;wp(o)?uC.call(i,o,1):i1(i,o)}}return i}var sC=$s(function(i,u){var a=i==null?0:i.length,p=hm(i,u);return Ex(i,Tr(u,function(o){return wp(o,a)?+o:o}).sort(b2)),p}),cC=Math.floor,lC=Math.random;function Rm(i,u){return i+cC(lC()*(u-i+1))}var fC=parseFloat,pC=Math.min,dC=Math.random;function hC(i,u,a){if(a&&typeof a!="boolean"&&_o(i,u,a)&&(u=a=void 0),a===void 0&&(typeof u=="boolean"?(a=u,u=void 0):typeof i=="boolean"&&(a=i,i=void 0)),i===void 0&&u===void 0?(i=0,u=1):(i=Au(i),u===void 0?(u=i,i=0):u=Au(u)),i>u){var p=i;i=u,u=p}if(a||i%1||u%1){var o=dC();return pC(i+o*(u-i+fC("1e-"+((o+"").length-1))),u)}return Rm(i,u)}var yC=Math.ceil,vC=Math.max;function gC(i,u,a,p){for(var o=-1,d=vC(yC((u-i)/(a||1)),0),h=Array(d);d--;)h[p?d:++o]=i,i+=a;return h}function Sx(i){return function(u,a,p){return p&&typeof p!="number"&&_o(u,a,p)&&(a=p=void 0),u=Au(u),a===void 0?(a=u,u=0):a=Au(a),p=p===void 0?u<a?1:-1:Au(p),gC(u,a,p,i)}}var bC=Sx(),mC=Sx(!0),_C=256,OC=$s(function(i,u){return za(i,_C,void 0,void 0,void 0,u)});function jx(i,u,a,p,o){return o(i,function(d,h,m){a=p?(p=!1,d):u(a,d,h,m)}),a}function wC(i,u,a){var p=Gn(i)?bm:jx,o=arguments.length<3;return p(i,qt(u),a,o,Us)}function xC(i,u,a,p){var o=i==null?0:i.length;for(p&&o&&(a=i[--o]);o--;)a=u(a,i[o],o,i);return a}function EC(i,u,a){var p=Gn(i)?xC:jx,o=arguments.length<3;return p(i,qt(u),a,o,Z1)}function SC(i,u){var a=Gn(i)?Gs:ox;return a(i,_y(qt(u)))}function jC(i,u){var a=[];if(!(i&&i.length))return a;var p=-1,o=[],d=i.length;for(u=qt(u);++p<d;){var h=i[p];u(h,p,i)&&(a.push(h),o.push(p))}return Ex(i,o),a}function PC(i,u,a){return(a?_o(i,u,a):u===void 0)?u=1:u=tn(u),Hb(Mn(i),u)}function AC(){var i=arguments,u=Mn(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var MC="Expected a function";function TC(i,u){if(typeof i!="function")throw new TypeError(MC);return u=u===void 0?u:tn(u),sn(i,u)}function kC(i,u,a){u=qw(u,i);var p=-1,o=u.length;for(o||(o=1,i=void 0);++p<o;){var d=i==null?void 0:i[sy(u[p])];d===void 0&&(p=o,d=a),i=xl(d)?d.call(i):d}return i}var DC=Array.prototype,NC=DC.reverse;function Vb(i){return i==null?i:NC.call(i)}var RC=_m("round");function Px(i){var u=i.length;return u?i[Rm(0,u-1)]:void 0}function CC(i){return Px(Pl(i))}function IC(i){var u=Gn(i)?Px:CC;return u(i)}function wy(i,u){var a=-1,p=i.length,o=p-1;for(u=u===void 0?p:u;++a<u;){var d=Rm(a,o),h=i[d];i[d]=i[a],i[a]=h}return i.length=u,i}function LC(i,u){return wy(oi(i),wl(u,0,i.length))}function zC(i,u){var a=Pl(i);return wy(a,wl(u,0,a.length))}function BC(i,u,a){(a?_o(i,u,a):u===void 0)?u=1:u=tn(u);var p=Gn(i)?LC:zC;return p(i,u)}function FC(i,u,a,p){return p=typeof p=="function"?p:void 0,i==null?i:lm(i,u,a,p)}function WC(i){return wy(oi(i))}function $C(i){return wy(Pl(i))}function UC(i){var u=Gn(i)?WC:$C;return u(i)}var GC="[object Map]",HC="[object Set]";function XC(i){if(i==null)return 0;if(ku(i))return by(i)?Al(i):i.length;var u=Sp(i);return u==GC||u==HC?i.size:Jw(i).length}function YC(i,u,a){var p=i==null?0:i.length;return p?(a&&typeof a!="number"&&_o(i,u,a)?(u=0,a=p):(u=u==null?0:tn(u),a=a===void 0?p:tn(a)),Di(i,u,a)):[]}var VC=jl(function(i,u,a){return i+(a?"_":"")+u.toLowerCase()});function KC(i,u){var a;return Us(i,function(p,o,d){return a=u(p,o,d),!a}),!!a}function qC(i,u,a){var p=Gn(i)?n1:KC;return a&&_o(i,u,a)&&(u=void 0),p(i,qt(u))}var ZC=sn(function(i,u){if(i==null)return[];var a=u.length;return a>1&&_o(i,u[0],u[1])?u=[]:a>2&&_o(u[0],u[1],u[2])&&(u=[u[0]]),m2(i,si(u,1),[])}),JC=4294967295,QC=JC-1,eI=Math.floor,tI=Math.min;function Cm(i,u,a,p){var o=0,d=i==null?0:i.length;if(d===0)return 0;u=a(u);for(var h=u!==u,m=u===null,g=Bs(u),E=u===void 0;o<d;){var j=eI((o+d)/2),P=a(i[j]),k=P!==void 0,T=P===null,C=P===P,N=Bs(P);if(h)var L=p||C;else E?L=C&&(p||k):m?L=C&&k&&(p||!T):g?L=C&&k&&!T&&(p||!N):T||N?L=!1:L=p?P<=u:P<u;L?o=j+1:d=j}return tI(d,QC)}var nI=4294967295,rI=nI>>>1;function xy(i,u,a){var p=0,o=i==null?p:i.length;if(typeof u=="number"&&u===u&&o<=rI){for(;p<o;){var d=p+o>>>1,h=i[d];h!==null&&!Bs(h)&&(a?h<=u:h<u)?p=d+1:o=d}return o}return Cm(i,u,ia,a)}function oI(i,u){return xy(i,u)}function iI(i,u,a){return Cm(i,u,qt(a))}function aI(i,u){var a=i==null?0:i.length;if(a){var p=xy(i,u);if(p<a&&Ol(i[p],u))return p}return-1}function uI(i,u){return xy(i,u,!0)}function sI(i,u,a){return Cm(i,u,qt(a),!0)}function cI(i,u){var a=i==null?0:i.length;if(a){var p=xy(i,u,!0)-1;if(Ol(i[p],u))return p}return-1}function Ax(i,u){for(var a=-1,p=i.length,o=0,d=[];++a<p;){var h=i[a],m=u?u(h):h;if(!a||!Ol(m,g)){var g=m;d[o++]=h===0?0:h}}return d}function lI(i){return i&&i.length?Ax(i):[]}function fI(i,u){return i&&i.length?Ax(i,qt(u)):[]}var pI=4294967295;function dI(i,u,a){return a&&typeof a!="number"&&_o(i,u,a)&&(u=a=void 0),a=a===void 0?pI:a>>>0,a?(i=Mn(i),i&&(typeof u=="string"||u!=null&&!Am(u))&&(u=ki(u),!u&&Sl(i))?Nu(Ri(i),0,a):i.split(u,a)):[]}var hI="Expected a function",yI=Math.max;function vI(i,u){if(typeof i!="function")throw new TypeError(hI);return u=u==null?0:yI(tn(u),0),sn(function(a){var p=a[u],o=Nu(a,0,u);return p&&Ep(o,p),ii(i,this,o)})}var gI=jl(function(i,u,a){return i+(a?" ":"")+gm(u)});function bI(i,u,a){return i=Mn(i),a=a==null?0:wl(tn(a),0,i.length),u=ki(u),i.slice(a,a+u.length)==u}function mI(){return{}}function _I(){return""}function OI(){return!0}var wI=ly(function(i,u){return i-u},0);function xI(i){return i&&i.length?Tm(i,ia):0}function EI(i,u){return i&&i.length?Tm(i,qt(u)):0}function SI(i){var u=i==null?0:i.length;return u?Di(i,1,u):[]}function jI(i,u,a){return i&&i.length?(u=a||u===void 0?1:tn(u),Di(i,0,u<0?0:u)):[]}function PI(i,u,a){var p=i==null?0:i.length;return p?(u=a||u===void 0?1:tn(u),u=p-u,Di(i,u<0?0:u,p)):[]}function AI(i,u){return i&&i.length?yy(i,qt(u),!1,!0):[]}function MI(i,u){return i&&i.length?yy(i,qt(u)):[]}function TI(i,u){return u(i),i}var Mx=Object.prototype,kI=Mx.hasOwnProperty;function ew(i,u,a,p){return i===void 0||Ol(i,Mx[a])&&!kI.call(p,a)?u:i}var DI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function NI(i){return"\\"+DI[i]}var Tx=/<%=([\s\S]+?)%>/g,RI=/<%-([\s\S]+?)%>/g,CI=/<%([\s\S]+?)%>/g,Kb={escape:RI,evaluate:CI,interpolate:Tx,variable:"",imports:{_:{escape:ex}}},II="Invalid `variable` option passed into `_.template`",LI=/\b__p \+= '';/g,zI=/\b(__p \+=) '' \+/g,BI=/(__e\(.*?\)|\b__t\)) \+\n'';/g,FI=/[()=,{}\[\]\/\s]/,WI=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zh=/($^)/,$I=/['\n\r\u2028\u2029\\]/g,UI=Object.prototype,tw=UI.hasOwnProperty;function GI(i,u,a){var p=Kb.imports._.templateSettings||Kb;a&&_o(i,u,a)&&(u=void 0),i=Mn(i),u=$b({},u,p,ew);var o=$b({},u.imports,p.imports,ew),d=zo(o),h=Sm(o,d),m,g,E=0,j=u.interpolate||zh,P="__p += '",k=RegExp((u.escape||zh).source+"|"+j.source+"|"+(j===Tx?WI:zh).source+"|"+(u.evaluate||zh).source+"|$","g"),T=tw.call(u,"sourceURL")?"//# sourceURL="+(u.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(k,function(L,U,G,te,ie,re){return G||(G=te),P+=i.slice(E,re).replace($I,NI),U&&(m=!0,P+=`' +
__e(`+U+`) +
'`),ie&&(g=!0,P+=`';
`+ie+`;
__p += '`),G&&(P+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),E=re+L.length,L}),P+=`';
`;var C=tw.call(u,"variable")&&u.variable;if(!C)P=`with (obj) {
`+P+`
}
`;else if(FI.test(C))throw new Error(II);P=(g?P.replace(LI,""):P).replace(zI,"$1").replace(BI,"$1;"),P="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var N=m1(function(){return Function(d,T+"return "+P).apply(void 0,h)});if(N.source=P,ym(N))throw N;return N}function Ey(i,u){return u(i)}var HI=9007199254740991,zb=4294967295,XI=Math.min;function YI(i,u){if(i=tn(i),i<1||i>HI)return[];var a=zb,p=XI(i,zb);u=aa(u),i-=zb;for(var o=a1(p,u);++a<i;)u(a);return o}function VI(){return this}function kx(i,u){var a=i;return a instanceof pn&&(a=a.value()),bm(u,function(p,o){return o.func.apply(o.thisArg,Ep([p],o.args))},a)}function KI(){return kx(this.__wrapped__,this.__actions__)}function qI(i){return Mn(i).toLowerCase()}function ZI(i){return Gn(i)?Tr(i,sy):Bs(i)?[i]:oi(IA(Mn(i)))}var nw=9007199254740991;function JI(i){return i?wl(tn(i),-nw,nw):i===0?i:0}function QI(i){return Mn(i).toUpperCase()}function e3(i,u,a){var p=Gn(i),o=p||sm(i)||cm(i);if(u=qt(u),a==null){var d=i&&i.constructor;o?a=p?new d:[]:Mu(i)?a=xl(d)?Op(LA(i)):{}:a={}}return(o?Ci:La)(i,function(h,m,g){return u(a,h,m,g)}),a}function Dx(i,u){for(var a=i.length;a--&&jp(u,i[a],0)>-1;);return a}function Nx(i,u){for(var a=-1,p=i.length;++a<p&&jp(u,i[a],0)>-1;);return a}function t3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return zA(i);if(!i||!(u=ki(u)))return i;var p=Ri(i),o=Ri(u),d=Nx(p,o),h=Dx(p,o)+1;return Nu(p,d,h).join("")}function n3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return i.slice(0,BA(i)+1);if(!i||!(u=ki(u)))return i;var p=Ri(i),o=Dx(p,Ri(u))+1;return Nu(p,0,o).join("")}var r3=/^\s+/;function o3(i,u,a){if(i=Mn(i),i&&(a||u===void 0))return i.replace(r3,"");if(!i||!(u=ki(u)))return i;var p=Ri(i),o=Nx(p,Ri(u));return Nu(p,o).join("")}var i3=30,a3="...",u3=/\w*$/;function s3(i,u){var a=i3,p=a3;if(Mu(u)){var o="separator"in u?u.separator:o;a="length"in u?tn(u.length):a,p="omission"in u?ki(u.omission):p}i=Mn(i);var d=i.length;if(Sl(i)){var h=Ri(i);d=h.length}if(a>=d)return i;var m=a-Al(p);if(m<1)return p;var g=h?Nu(h,0,m).join(""):i.slice(0,m);if(o===void 0)return g+p;if(h&&(m+=g.length-m),Am(o)){if(i.slice(m).search(o)){var E,j=g;for(o.global||(o=RegExp(o.source,Mn(u3.exec(o))+"g")),o.lastIndex=0;E=o.exec(j);)var P=E.index;g=g.slice(0,P===void 0?m:P)}}else if(i.indexOf(ki(o),m)!=m){var k=g.lastIndexOf(o);k>-1&&(g=g.slice(0,k))}return g+p}function c3(i){return b1(i,1)}var l3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f3=mm(l3),Rx=/&(?:amp|lt|gt|quot|#39);/g,p3=RegExp(Rx.source);function d3(i){return i=Mn(i),i&&p3.test(i)?i.replace(Rx,f3):i}var h3=sn(function(i){var u=Ni(i);return _r(u)&&(u=void 0),Fs(si(i,1,_r,!0),qt(u))}),y3=sn(function(i){var u=Ni(i);return u=typeof u=="function"?u:void 0,Fs(si(i,1,_r,!0),void 0,u)});function v3(i){return i&&i.length?Fs(i):[]}function g3(i,u){return i&&i.length?Fs(i,qt(u)):[]}function b3(i,u){return u=typeof u=="function"?u:void 0,i&&i.length?Fs(i,void 0,u):[]}var m3=0;function _3(i){var u=++m3;return Mn(i)+u}function O3(i,u){return i==null?!0:i1(i,u)}var w3=Math.max;function Im(i){if(!(i&&i.length))return[];var u=0;return i=Gs(i,function(a){if(_r(a))return u=w3(a.length,u),!0}),a1(u,function(a){return Tr(i,r1(a))})}function Cx(i,u){if(!(i&&i.length))return[];var a=Im(i);return u==null?a:Tr(a,function(p){return ii(u,void 0,p)})}function Ix(i,u,a,p){return lm(i,u,a(o1(i,u)),p)}function x3(i,u,a){return i==null?i:Ix(i,u,aa(a))}function E3(i,u,a,p){return p=typeof p=="function"?p:void 0,i==null?i:Ix(i,u,aa(a),p)}var S3=jl(function(i,u,a){return i+(a?" ":"")+u.toUpperCase()});function j3(i){return i==null?[]:Sm(i,Ia(i))}var P3=sn(function(i,u){return _r(i)?Pp(i,u):[]});function A3(i,u){return Oy(aa(u),i)}var M3=$s(function(i){var u=i.length,a=u?i[0]:0,p=this.__wrapped__,o=function(d){return hm(d,i)};return u>1||this.__actions__.length||!(p instanceof pn)||!wp(a)?this.thru(o):(p=p.slice(a,+a+(u?1:0)),p.__actions__.push({func:Ey,args:[o],thisArg:void 0}),new ai(p,this.__chain__).thru(function(d){return u&&!d.length&&d.push(void 0),d}))});function T3(){return G1(this)}function k3(){var i=this.__wrapped__;if(i instanceof pn){var u=i;return this.__actions__.length&&(u=new pn(this)),u=u.reverse(),u.__actions__.push({func:Ey,args:[Vb],thisArg:void 0}),new ai(u,this.__chain__)}return this.thru(Vb)}function Lm(i,u,a){var p=i.length;if(p<2)return p?Fs(i[0]):[];for(var o=-1,d=Array(p);++o<p;)for(var h=i[o],m=-1;++m<p;)m!=o&&(d[o]=Pp(d[o]||h,i[m],u,a));return Fs(si(d,1),u,a)}var D3=sn(function(i){return Lm(Gs(i,_r))}),N3=sn(function(i){var u=Ni(i);return _r(u)&&(u=void 0),Lm(Gs(i,_r),qt(u))}),R3=sn(function(i){var u=Ni(i);return u=typeof u=="function"?u:void 0,Lm(Gs(i,_r),void 0,u)}),C3=sn(Im);function Lx(i,u,a){for(var p=-1,o=i.length,d=u.length,h={};++p<o;){var m=p<d?u[p]:void 0;a(h,i[p],m)}return h}function I3(i,u){return Lx(i||[],u||[],Ww)}function L3(i,u){return Lx(i||[],u||[],lm)}var z3=sn(function(i){var u=i.length,a=u>1?i[u-1]:void 0;return a=typeof a=="function"?(i.pop(),a):void 0,Cx(i,a)});const vt={chunk:XT,compact:QT,concat:ek,difference:xk,differenceBy:Ek,differenceWith:Sk,drop:Pk,dropRight:Ak,dropRightWhile:Mk,dropWhile:Tk,fill:qk,findIndex:ax,findLastIndex:Vw,flatten:FA,flattenDeep:WA,flattenDepth:uD,fromPairs:$A,head:rD,indexOf:WD,initial:$D,intersection:GD,intersectionBy:HD,intersectionWith:XD,join:LN,lastIndexOf:UN,nth:vR,pull:rC,pullAll:xx,pullAllBy:oC,pullAllWith:iC,pullAt:sC,remove:jC,reverse:Vb,slice:YC,sortedIndex:oI,sortedIndexBy:iI,sortedIndexOf:aI,sortedLastIndex:uI,sortedLastIndexBy:sI,sortedLastIndexOf:cI,sortedUniq:lI,sortedUniqBy:fI,tail:SI,take:jI,takeRight:PI,takeRightWhile:AI,takeWhile:MI,union:UA,unionBy:h3,unionWith:y3,uniq:v3,uniqBy:g3,uniqWith:b3,unzip:Im,unzipWith:Cx,without:P3,xor:D3,xorBy:N3,xorWith:R3,zip:C3,zipObject:I3,zipObjectDeep:L3,zipWith:z3},kn={countBy:fk,every:Yk,filter:Zk,find:Qk,findLast:tD,flatMap:GA,flatMapDeep:iD,flatMapDepth:aD,forEach:kk,forEachRight:Nk,groupBy:jD,includes:BD,invokeMap:tN,keyBy:BN,map:um,orderBy:_2,partition:JR,reduce:wC,reduceRight:EC,reject:SC,sample:IC,sampleSize:BC,shuffle:UC,size:XC,some:qC,sortBy:ZC},B3={now:HA},sr={after:S2,ary:b1,before:_1,bind:dy,bindKey:vm,curry:Om,curryRight:wm,debounce:XA,defer:_k,delay:Ok,flip:cD,memoize:YA,once:mR,overArgs:xR,partial:Oy,partialRight:Dm,rearg:OC,rest:TC,spread:vI,throttle:VA,unary:c3,wrap:A3},Dt={castArray:KA,clone:ZA,cloneDeep:JA,cloneDeepWith:KT,cloneWith:ZT,conformsTo:ak,eq:Ol,gt:PD,gte:AD,isArguments:Zw,isArrayBuffer:oN,isArrayLike:ku,isArrayLikeObject:_r,isBoolean:aN,isBuffer:sm,isDate:cN,isElement:lN,isEmpty:yN,isEqual:QA,isEqualWith:vN,isError:ym,isFinite:bN,isFunction:xl,isInteger:fx,isLength:e2,isMap:t2,isMatch:mN,isMatchWith:_N,isNaN:wN,isNative:SN,isNil:n2,isNull:r2,isNumber:px,isObjectLike:ui,isPlainObject:am,isRegExp:Am,isSafeInteger:AN,isSet:o2,isString:by,isSymbol:Bs,isTypedArray:cm,isUndefined:i2,isWeakMap:TN,isWeakSet:DN,lt:XN,lte:YN,toArray:hx,toFinite:Au,toLength:rx,toNumber:vl,toPlainObject:qA,toSafeInteger:JI,toString:Mn},uo={add:x2,ceil:UT,divide:jk,floor:lD,max:eR,maxBy:tR,mean:rR,meanBy:oR,min:uR,minBy:sR,multiply:lR,round:RC,subtract:wI,sum:xI,sumBy:EI},zm={clamp:a2,inRange:ID,random:hC},Ht={assign:OM,assignIn:wM,assignInWith:$b,assignWith:xM,at:EM,create:pk,defaults:gk,defaultsDeep:bk,findKey:eD,findLastKey:nD,forIn:bD,forInRight:mD,forOwn:_D,forOwnRight:OD,functions:wD,functionsIn:xD,get:$w,has:DD,hasIn:f2,invert:qD,invertBy:QD,invoke:eN,keysIn:Ia,mapKeys:VN,mapValues:KN,merge:u2,mergeWith:V1,omit:s2,omitBy:bR,pick:c2,pickBy:vx,result:kC,set:l2,setWith:FC,toPairs:Bk,toPairsIn:Fk,transform:e3,unset:O3,update:x3,updateWith:E3,values:Pl,valuesIn:j3},ua={at:M3,chain:G1,commit:JT,next:yR,plant:QR,reverse:k3,tap:TI,toIterator:VI,value:KI,wrapperChain:T3},Sn={camelCase:FT,capitalize:A1,deburr:M1,endsWith:Rk,escape:ex,escapeRegExp:Hk,kebabCase:zN,lowerCase:GN,lowerFirst:HN,pad:GR,padEnd:HR,padStart:XR,parseInt:KR,repeat:PC,replace:AC,snakeCase:VC,split:dI,startCase:gI,startsWith:bI,template:GI,templateSettings:Kb,toLower:qI,toUpper:QI,trim:t3,trimEnd:n3,trimStart:o3,truncate:s3,unescape:d3,upperCase:S3,upperFirst:gm,words:U1},jn={attempt:m1,bindAll:TM,cond:nk,conforms:ik,constant:Kw,defaultTo:yk,flow:vD,flowRight:gD,iteratee:RN,matches:ZN,matchesProperty:QN,method:iR,methodOf:aR,noop:Bw,nthArg:gR,over:_R,overEvery:ER,overSome:SR,property:p2,propertyOf:eC,range:bC,rangeRight:mC,stubArray:d2,stubFalse:t1,stubObject:mI,stubString:_I,stubTrue:OI,times:YI,toPath:ZI,uniqueId:_3};function F3(){var i=new pn(this.__wrapped__);return i.__actions__=oi(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=oi(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=oi(this.__views__),i}function W3(){if(this.__filtered__){var i=new pn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var $3=Math.max,U3=Math.min;function G3(i,u,a){for(var p=-1,o=a.length;++p<o;){var d=a[p],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":u-=h;break;case"take":u=U3(u,i+h);break;case"takeRight":i=$3(i,u-h);break}}return{start:i,end:u}}var H3=1,X3=2,Y3=Math.min;function V3(){var i=this.__wrapped__.value(),u=this.__dir__,a=Gn(i),p=u<0,o=a?i.length:0,d=G3(0,o,this.__views__),h=d.start,m=d.end,g=m-h,E=p?m:h-1,j=this.__iteratees__,P=j.length,k=0,T=Y3(g,this.__takeCount__);if(!a||!p&&o==g&&T==g)return kx(i,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=u;for(var N=-1,L=i[E];++N<P;){var U=j[N],G=U.iteratee,te=U.type,ie=G(L);if(te==X3)L=ie;else if(!ie){if(te==H3)continue e;break e}}C[k++]=L}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var K3="4.17.21",q3=2,Z3=1,J3=3,zx=4294967295,Q3=Array.prototype,eL=Object.prototype,Bx=eL.hasOwnProperty,rw=Yh?Yh.iterator:void 0,tL=Math.max,ow=Math.min,Bm=(function(i){return function(u,a,p){if(p==null){var o=Mu(a),d=o&&zo(a),h=d&&d.length&&vy(a,d);(h?h.length:o)||(p=a,a=u,u=this)}return i(u,a,p)}})(cR);W.after=sr.after;W.ary=sr.ary;W.assign=Ht.assign;W.assignIn=Ht.assignIn;W.assignInWith=Ht.assignInWith;W.assignWith=Ht.assignWith;W.at=Ht.at;W.before=sr.before;W.bind=sr.bind;W.bindAll=jn.bindAll;W.bindKey=sr.bindKey;W.castArray=Dt.castArray;W.chain=ua.chain;W.chunk=vt.chunk;W.compact=vt.compact;W.concat=vt.concat;W.cond=jn.cond;W.conforms=jn.conforms;W.constant=jn.constant;W.countBy=kn.countBy;W.create=Ht.create;W.curry=sr.curry;W.curryRight=sr.curryRight;W.debounce=sr.debounce;W.defaults=Ht.defaults;W.defaultsDeep=Ht.defaultsDeep;W.defer=sr.defer;W.delay=sr.delay;W.difference=vt.difference;W.differenceBy=vt.differenceBy;W.differenceWith=vt.differenceWith;W.drop=vt.drop;W.dropRight=vt.dropRight;W.dropRightWhile=vt.dropRightWhile;W.dropWhile=vt.dropWhile;W.fill=vt.fill;W.filter=kn.filter;W.flatMap=kn.flatMap;W.flatMapDeep=kn.flatMapDeep;W.flatMapDepth=kn.flatMapDepth;W.flatten=vt.flatten;W.flattenDeep=vt.flattenDeep;W.flattenDepth=vt.flattenDepth;W.flip=sr.flip;W.flow=jn.flow;W.flowRight=jn.flowRight;W.fromPairs=vt.fromPairs;W.functions=Ht.functions;W.functionsIn=Ht.functionsIn;W.groupBy=kn.groupBy;W.initial=vt.initial;W.intersection=vt.intersection;W.intersectionBy=vt.intersectionBy;W.intersectionWith=vt.intersectionWith;W.invert=Ht.invert;W.invertBy=Ht.invertBy;W.invokeMap=kn.invokeMap;W.iteratee=jn.iteratee;W.keyBy=kn.keyBy;W.keys=zo;W.keysIn=Ht.keysIn;W.map=kn.map;W.mapKeys=Ht.mapKeys;W.mapValues=Ht.mapValues;W.matches=jn.matches;W.matchesProperty=jn.matchesProperty;W.memoize=sr.memoize;W.merge=Ht.merge;W.mergeWith=Ht.mergeWith;W.method=jn.method;W.methodOf=jn.methodOf;W.mixin=Bm;W.negate=_y;W.nthArg=jn.nthArg;W.omit=Ht.omit;W.omitBy=Ht.omitBy;W.once=sr.once;W.orderBy=kn.orderBy;W.over=jn.over;W.overArgs=sr.overArgs;W.overEvery=jn.overEvery;W.overSome=jn.overSome;W.partial=sr.partial;W.partialRight=sr.partialRight;W.partition=kn.partition;W.pick=Ht.pick;W.pickBy=Ht.pickBy;W.property=jn.property;W.propertyOf=jn.propertyOf;W.pull=vt.pull;W.pullAll=vt.pullAll;W.pullAllBy=vt.pullAllBy;W.pullAllWith=vt.pullAllWith;W.pullAt=vt.pullAt;W.range=jn.range;W.rangeRight=jn.rangeRight;W.rearg=sr.rearg;W.reject=kn.reject;W.remove=vt.remove;W.rest=sr.rest;W.reverse=vt.reverse;W.sampleSize=kn.sampleSize;W.set=Ht.set;W.setWith=Ht.setWith;W.shuffle=kn.shuffle;W.slice=vt.slice;W.sortBy=kn.sortBy;W.sortedUniq=vt.sortedUniq;W.sortedUniqBy=vt.sortedUniqBy;W.split=Sn.split;W.spread=sr.spread;W.tail=vt.tail;W.take=vt.take;W.takeRight=vt.takeRight;W.takeRightWhile=vt.takeRightWhile;W.takeWhile=vt.takeWhile;W.tap=ua.tap;W.throttle=sr.throttle;W.thru=Ey;W.toArray=Dt.toArray;W.toPairs=Ht.toPairs;W.toPairsIn=Ht.toPairsIn;W.toPath=jn.toPath;W.toPlainObject=Dt.toPlainObject;W.transform=Ht.transform;W.unary=sr.unary;W.union=vt.union;W.unionBy=vt.unionBy;W.unionWith=vt.unionWith;W.uniq=vt.uniq;W.uniqBy=vt.uniqBy;W.uniqWith=vt.uniqWith;W.unset=Ht.unset;W.unzip=vt.unzip;W.unzipWith=vt.unzipWith;W.update=Ht.update;W.updateWith=Ht.updateWith;W.values=Ht.values;W.valuesIn=Ht.valuesIn;W.without=vt.without;W.words=Sn.words;W.wrap=sr.wrap;W.xor=vt.xor;W.xorBy=vt.xorBy;W.xorWith=vt.xorWith;W.zip=vt.zip;W.zipObject=vt.zipObject;W.zipObjectDeep=vt.zipObjectDeep;W.zipWith=vt.zipWith;W.entries=Ht.toPairs;W.entriesIn=Ht.toPairsIn;W.extend=Ht.assignIn;W.extendWith=Ht.assignInWith;Bm(W,W);W.add=uo.add;W.attempt=jn.attempt;W.camelCase=Sn.camelCase;W.capitalize=Sn.capitalize;W.ceil=uo.ceil;W.clamp=zm.clamp;W.clone=Dt.clone;W.cloneDeep=Dt.cloneDeep;W.cloneDeepWith=Dt.cloneDeepWith;W.cloneWith=Dt.cloneWith;W.conformsTo=Dt.conformsTo;W.deburr=Sn.deburr;W.defaultTo=jn.defaultTo;W.divide=uo.divide;W.endsWith=Sn.endsWith;W.eq=Dt.eq;W.escape=Sn.escape;W.escapeRegExp=Sn.escapeRegExp;W.every=kn.every;W.find=kn.find;W.findIndex=vt.findIndex;W.findKey=Ht.findKey;W.findLast=kn.findLast;W.findLastIndex=vt.findLastIndex;W.findLastKey=Ht.findLastKey;W.floor=uo.floor;W.forEach=kn.forEach;W.forEachRight=kn.forEachRight;W.forIn=Ht.forIn;W.forInRight=Ht.forInRight;W.forOwn=Ht.forOwn;W.forOwnRight=Ht.forOwnRight;W.get=Ht.get;W.gt=Dt.gt;W.gte=Dt.gte;W.has=Ht.has;W.hasIn=Ht.hasIn;W.head=vt.head;W.identity=ia;W.includes=kn.includes;W.indexOf=vt.indexOf;W.inRange=zm.inRange;W.invoke=Ht.invoke;W.isArguments=Dt.isArguments;W.isArray=Gn;W.isArrayBuffer=Dt.isArrayBuffer;W.isArrayLike=Dt.isArrayLike;W.isArrayLikeObject=Dt.isArrayLikeObject;W.isBoolean=Dt.isBoolean;W.isBuffer=Dt.isBuffer;W.isDate=Dt.isDate;W.isElement=Dt.isElement;W.isEmpty=Dt.isEmpty;W.isEqual=Dt.isEqual;W.isEqualWith=Dt.isEqualWith;W.isError=Dt.isError;W.isFinite=Dt.isFinite;W.isFunction=Dt.isFunction;W.isInteger=Dt.isInteger;W.isLength=Dt.isLength;W.isMap=Dt.isMap;W.isMatch=Dt.isMatch;W.isMatchWith=Dt.isMatchWith;W.isNaN=Dt.isNaN;W.isNative=Dt.isNative;W.isNil=Dt.isNil;W.isNull=Dt.isNull;W.isNumber=Dt.isNumber;W.isObject=Mu;W.isObjectLike=Dt.isObjectLike;W.isPlainObject=Dt.isPlainObject;W.isRegExp=Dt.isRegExp;W.isSafeInteger=Dt.isSafeInteger;W.isSet=Dt.isSet;W.isString=Dt.isString;W.isSymbol=Dt.isSymbol;W.isTypedArray=Dt.isTypedArray;W.isUndefined=Dt.isUndefined;W.isWeakMap=Dt.isWeakMap;W.isWeakSet=Dt.isWeakSet;W.join=vt.join;W.kebabCase=Sn.kebabCase;W.last=Ni;W.lastIndexOf=vt.lastIndexOf;W.lowerCase=Sn.lowerCase;W.lowerFirst=Sn.lowerFirst;W.lt=Dt.lt;W.lte=Dt.lte;W.max=uo.max;W.maxBy=uo.maxBy;W.mean=uo.mean;W.meanBy=uo.meanBy;W.min=uo.min;W.minBy=uo.minBy;W.stubArray=jn.stubArray;W.stubFalse=jn.stubFalse;W.stubObject=jn.stubObject;W.stubString=jn.stubString;W.stubTrue=jn.stubTrue;W.multiply=uo.multiply;W.nth=vt.nth;W.noop=jn.noop;W.now=B3.now;W.pad=Sn.pad;W.padEnd=Sn.padEnd;W.padStart=Sn.padStart;W.parseInt=Sn.parseInt;W.random=zm.random;W.reduce=kn.reduce;W.reduceRight=kn.reduceRight;W.repeat=Sn.repeat;W.replace=Sn.replace;W.result=Ht.result;W.round=uo.round;W.sample=kn.sample;W.size=kn.size;W.snakeCase=Sn.snakeCase;W.some=kn.some;W.sortedIndex=vt.sortedIndex;W.sortedIndexBy=vt.sortedIndexBy;W.sortedIndexOf=vt.sortedIndexOf;W.sortedLastIndex=vt.sortedLastIndex;W.sortedLastIndexBy=vt.sortedLastIndexBy;W.sortedLastIndexOf=vt.sortedLastIndexOf;W.startCase=Sn.startCase;W.startsWith=Sn.startsWith;W.subtract=uo.subtract;W.sum=uo.sum;W.sumBy=uo.sumBy;W.template=Sn.template;W.times=jn.times;W.toFinite=Dt.toFinite;W.toInteger=tn;W.toLength=Dt.toLength;W.toLower=Sn.toLower;W.toNumber=Dt.toNumber;W.toSafeInteger=Dt.toSafeInteger;W.toString=Dt.toString;W.toUpper=Sn.toUpper;W.trim=Sn.trim;W.trimEnd=Sn.trimEnd;W.trimStart=Sn.trimStart;W.truncate=Sn.truncate;W.unescape=Sn.unescape;W.uniqueId=jn.uniqueId;W.upperCase=Sn.upperCase;W.upperFirst=Sn.upperFirst;W.each=kn.forEach;W.eachRight=kn.forEachRight;W.first=vt.head;Bm(W,(function(){var i={};return La(W,function(u,a){Bx.call(W.prototype,a)||(i[a]=u)}),i})(),{chain:!1});W.VERSION=K3;(W.templateSettings=Sn.templateSettings).imports._=W;Ci(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){W[i].placeholder=W});Ci(["drop","take"],function(i,u){pn.prototype[i]=function(a){a=a===void 0?1:tL(tn(a),0);var p=this.__filtered__&&!u?new pn(this):this.clone();return p.__filtered__?p.__takeCount__=ow(a,p.__takeCount__):p.__views__.push({size:ow(a,zx),type:i+(p.__dir__<0?"Right":"")}),p},pn.prototype[i+"Right"]=function(a){return this.reverse()[i](a).reverse()}});Ci(["filter","map","takeWhile"],function(i,u){var a=u+1,p=a==Z3||a==J3;pn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:qt(o),type:a}),d.__filtered__=d.__filtered__||p,d}});Ci(["head","last"],function(i,u){var a="take"+(u?"Right":"");pn.prototype[i]=function(){return this[a](1).value()[0]}});Ci(["initial","tail"],function(i,u){var a="drop"+(u?"":"Right");pn.prototype[i]=function(){return this.__filtered__?new pn(this):this[a](1)}});pn.prototype.compact=function(){return this.filter(ia)};pn.prototype.find=function(i){return this.filter(i).head()};pn.prototype.findLast=function(i){return this.reverse().find(i)};pn.prototype.invokeMap=sn(function(i,u){return typeof i=="function"?new pn(this):this.map(function(a){return Ap(a,i,u)})});pn.prototype.reject=function(i){return this.filter(_y(qt(i)))};pn.prototype.slice=function(i,u){i=tn(i);var a=this;return a.__filtered__&&(i>0||u<0)?new pn(a):(i<0?a=a.takeRight(-i):i&&(a=a.drop(i)),u!==void 0&&(u=tn(u),a=u<0?a.dropRight(-u):a.take(u-i)),a)};pn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};pn.prototype.toArray=function(){return this.take(zx)};La(pn.prototype,function(i,u){var a=/^(?:filter|find|map|reject)|While$/.test(u),p=/^(?:head|last)$/.test(u),o=W[p?"take"+(u=="last"?"Right":""):u],d=p||/^find/.test(u);o&&(W.prototype[u]=function(){var h=this.__wrapped__,m=p?[1]:arguments,g=h instanceof pn,E=m[0],j=g||Gn(h),P=function(U){var G=o.apply(W,Ep([U],m));return p&&k?G[0]:G};j&&a&&typeof E=="function"&&E.length!=1&&(g=j=!1);var k=this.__chain__,T=!!this.__actions__.length,C=d&&!k,N=g&&!T;if(!d&&j){h=N?h:new pn(this);var L=i.apply(h,m);return L.__actions__.push({func:Ey,args:[P],thisArg:void 0}),new ai(L,k)}return C&&N?i.apply(this,m):(L=this.thru(P),C?p?L.value()[0]:L.value():L)})});Ci(["pop","push","shift","sort","splice","unshift"],function(i){var u=Q3[i],a=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);W.prototype[i]=function(){var o=arguments;if(p&&!this.__chain__){var d=this.value();return u.apply(Gn(d)?d:[],o)}return this[a](function(h){return u.apply(Gn(h)?h:[],o)})}});La(pn.prototype,function(i,u){var a=W[u];if(a){var p=a.name+"";Bx.call(dl,p)||(dl[p]=[]),dl[p].push({name:u,func:a})}});dl[py(void 0,q3).name]=[{name:"wrapper",func:void 0}];pn.prototype.clone=F3;pn.prototype.reverse=W3;pn.prototype.value=V3;W.prototype.at=ua.at;W.prototype.chain=ua.wrapperChain;W.prototype.commit=ua.commit;W.prototype.next=ua.next;W.prototype.plant=ua.plant;W.prototype.reverse=ua.reverse;W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=ua.value;W.prototype.first=W.prototype.head;rw&&(W.prototype[rw]=ua.toIterator);const nL=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],rL={flowElementList:nL};var Bh={exports:{}},iw;function oL(){return iw||(iw=1,(function(i,u){(function(a,p){i.exports=p()})(window,(function(){return(function(a){var p={};function o(d){if(p[d])return p[d].exports;var h=p[d]={i:d,l:!1,exports:{}};return a[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=a,o.c=p,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var g in d)o.d(m,g,function(E){return d[E]}.bind(null,g));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)})([function(a,p,o){o.d(p,"a",(function(){return re})),o.d(p,"b",(function(){return ie})),o.d(p,"c",(function(){return Je})),o.d(p,"d",(function(){return bt})),o.d(p,"e",(function(){return U})),o.d(p,"f",(function(){return te})),o.d(p,"g",(function(){return U})),o.d(p,"h",(function(){return Ye})),o.d(p,"i",(function(){return h})),o.d(p,"j",(function(){return xt})),o.d(p,"k",(function(){return K}));var d,h,m,g,E,j,P,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(ce,se){for(var ye in se)ce[ye]=se[ye];return ce}function L(ce){var se=ce.parentNode;se&&se.removeChild(ce)}function U(ce,se,ye){var De,He,ze,Et={};for(ze in se)ze=="key"?De=se[ze]:ze=="ref"?He=se[ze]:Et[ze]=se[ze];if(arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):ye),typeof ce=="function"&&ce.defaultProps!=null)for(ze in ce.defaultProps)Et[ze]===void 0&&(Et[ze]=ce.defaultProps[ze]);return G(ce,Et,De,He,null)}function G(ce,se,ye,De,He){var ze={type:ce,props:se,key:ye,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He==null?++m:He};return He==null&&h.vnode!=null&&h.vnode(ze),ze}function te(){return{current:null}}function ie(ce){return ce.children}function re(ce,se){this.props=ce,this.context=se}function Q(ce,se){if(se==null)return ce.__?Q(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var ye;se<ce.__k.length;se++)if((ye=ce.__k[se])!=null&&ye.__e!=null)return ye.__e;return typeof ce.type=="function"?Q(ce):null}function Z(ce){var se,ye;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,se=0;se<ce.__k.length;se++)if((ye=ce.__k[se])!=null&&ye.__e!=null){ce.__e=ce.__c.base=ye.__e;break}return Z(ce)}}function H(ce){(!ce.__d&&(ce.__d=!0)&&g.push(ce)&&!B.__r++||j!==h.debounceRendering)&&((j=h.debounceRendering)||E)(B)}function B(){for(var ce;B.__r=g.length;)ce=g.sort((function(se,ye){return se.__v.__b-ye.__v.__b})),g=[],ce.some((function(se){var ye,De,He,ze,Et,Nt;se.__d&&(Et=(ze=(ye=se).__v).__e,(Nt=ye.__P)&&(De=[],(He=N({},ze)).__v=ze.__v+1,je(Nt,ze,He,ye.__n,Nt.ownerSVGElement!==void 0,ze.__h!=null?[Et]:null,De,Et==null?Q(ze):Et,ze.__h),ve(De,ze),ze.__e!=Et&&Z(ze)))}))}function X(ce,se,ye,De,He,ze,Et,Nt,Pt,gt){var Te,lt,pe,ut,Bt,dn,Ft,nn=De&&De.__k||T,On=nn.length;for(ye.__k=[],Te=0;Te<se.length;Te++)if((ut=ye.__k[Te]=(ut=se[Te])==null||typeof ut=="boolean"?null:typeof ut=="string"||typeof ut=="number"||typeof ut=="bigint"?G(null,ut,null,null,ut):Array.isArray(ut)?G(ie,{children:ut},null,null,null):ut.__b>0?G(ut.type,ut.props,ut.key,null,ut.__v):ut)!=null){if(ut.__=ye,ut.__b=ye.__b+1,(pe=nn[Te])===null||pe&&ut.key==pe.key&&ut.type===pe.type)nn[Te]=void 0;else for(lt=0;lt<On;lt++){if((pe=nn[lt])&&ut.key==pe.key&&ut.type===pe.type){nn[lt]=void 0;break}pe=null}je(ce,ut,pe=pe||k,He,ze,Et,Nt,Pt,gt),Bt=ut.__e,(lt=ut.ref)&&pe.ref!=lt&&(Ft||(Ft=[]),pe.ref&&Ft.push(pe.ref,null,ut),Ft.push(lt,ut.__c||Bt,ut)),Bt!=null?(dn==null&&(dn=Bt),typeof ut.type=="function"&&ut.__k===pe.__k?ut.__d=Pt=Y(ut,Pt,ce):Pt=ue(ce,ut,pe,nn,Bt,Pt),typeof ye.type=="function"&&(ye.__d=Pt)):Pt&&pe.__e==Pt&&Pt.parentNode!=ce&&(Pt=Q(pe))}for(ye.__e=dn,Te=On;Te--;)nn[Te]!=null&&(typeof ye.type=="function"&&nn[Te].__e!=null&&nn[Te].__e==ye.__d&&(ye.__d=Q(De,Te+1)),$e(nn[Te],nn[Te]));if(Ft)for(Te=0;Te<Ft.length;Te++)Me(Ft[Te],Ft[++Te],Ft[++Te])}function Y(ce,se,ye){for(var De,He=ce.__k,ze=0;He&&ze<He.length;ze++)(De=He[ze])&&(De.__=ce,se=typeof De.type=="function"?Y(De,se,ye):ue(ye,De,De,He,De.__e,se));return se}function K(ce,se){return se=se||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some((function(ye){K(ye,se)})):se.push(ce)),se}function ue(ce,se,ye,De,He,ze){var Et,Nt,Pt;if(se.__d!==void 0)Et=se.__d,se.__d=void 0;else if(ye==null||He!=ze||He.parentNode==null)e:if(ze==null||ze.parentNode!==ce)ce.appendChild(He),Et=null;else{for(Nt=ze,Pt=0;(Nt=Nt.nextSibling)&&Pt<De.length;Pt+=2)if(Nt==He)break e;ce.insertBefore(He,ze),Et=ze}return Et!==void 0?Et:He.nextSibling}function Ee(ce,se,ye){se[0]==="-"?ce.setProperty(se,ye):ce[se]=ye==null?"":typeof ye!="number"||C.test(se)?ye:ye+"px"}function me(ce,se,ye,De,He){var ze;e:if(se==="style")if(typeof ye=="string")ce.style.cssText=ye;else{if(typeof De=="string"&&(ce.style.cssText=De=""),De)for(se in De)ye&&se in ye||Ee(ce.style,se,"");if(ye)for(se in ye)De&&ye[se]===De[se]||Ee(ce.style,se,ye[se])}else if(se[0]==="o"&&se[1]==="n")ze=se!==(se=se.replace(/Capture$/,"")),se=se.toLowerCase()in ce?se.toLowerCase().slice(2):se.slice(2),ce.l||(ce.l={}),ce.l[se+ze]=ye,ye?De||ce.addEventListener(se,ze?Fe:Ae,ze):ce.removeEventListener(se,ze?Fe:Ae,ze);else if(se!=="dangerouslySetInnerHTML"){if(He)se=se.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(se!=="href"&&se!=="list"&&se!=="form"&&se!=="tabIndex"&&se!=="download"&&se in ce)try{ce[se]=ye==null?"":ye;break e}catch(Et){}typeof ye=="function"||(ye!=null&&(ye!==!1||se[0]==="a"&&se[1]==="r")?ce.setAttribute(se,ye):ce.removeAttribute(se))}}function Ae(ce){this.l[ce.type+!1](h.event?h.event(ce):ce)}function Fe(ce){this.l[ce.type+!0](h.event?h.event(ce):ce)}function je(ce,se,ye,De,He,ze,Et,Nt,Pt){var gt,Te,lt,pe,ut,Bt,dn,Ft,nn,On,Tn,Ct=se.type;if(se.constructor!==void 0)return null;ye.__h!=null&&(Pt=ye.__h,Nt=se.__e=ye.__e,se.__h=null,ze=[Nt]),(gt=h.__b)&&gt(se);try{e:if(typeof Ct=="function"){if(Ft=se.props,nn=(gt=Ct.contextType)&&De[gt.__c],On=gt?nn?nn.props.value:gt.__:De,ye.__c?dn=(Te=se.__c=ye.__c).__=Te.__E:("prototype"in Ct&&Ct.prototype.render?se.__c=Te=new Ct(Ft,On):(se.__c=Te=new re(Ft,On),Te.constructor=Ct,Te.render=rt),nn&&nn.sub(Te),Te.props=Ft,Te.state||(Te.state={}),Te.context=On,Te.__n=De,lt=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),Ct.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=N({},Te.__s)),N(Te.__s,Ct.getDerivedStateFromProps(Ft,Te.__s))),pe=Te.props,ut=Te.state,lt)Ct.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(Ct.getDerivedStateFromProps==null&&Ft!==pe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(Ft,On),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(Ft,Te.__s,On)===!1||se.__v===ye.__v){Te.props=Ft,Te.state=Te.__s,se.__v!==ye.__v&&(Te.__d=!1),Te.__v=se,se.__e=ye.__e,se.__k=ye.__k,se.__k.forEach((function(Hn){Hn&&(Hn.__=se)})),Te.__h.length&&Et.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(Ft,Te.__s,On),Te.componentDidUpdate!=null&&Te.__h.push((function(){Te.componentDidUpdate(pe,ut,Bt)}))}Te.context=On,Te.props=Ft,Te.state=Te.__s,(gt=h.__r)&&gt(se),Te.__d=!1,Te.__v=se,Te.__P=ce,gt=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(De=N(N({},De),Te.getChildContext())),lt||Te.getSnapshotBeforeUpdate==null||(Bt=Te.getSnapshotBeforeUpdate(pe,ut)),Tn=gt!=null&&gt.type===ie&&gt.key==null?gt.props.children:gt,X(ce,Array.isArray(Tn)?Tn:[Tn],se,ye,De,He,ze,Et,Nt,Pt),Te.base=se.__e,se.__h=null,Te.__h.length&&Et.push(Te),dn&&(Te.__E=Te.__=null),Te.__e=!1}else ze==null&&se.__v===ye.__v?(se.__k=ye.__k,se.__e=ye.__e):se.__e=Pe(ye.__e,se,ye,De,He,ze,Et,Pt);(gt=h.diffed)&&gt(se)}catch(Hn){se.__v=null,(Pt||ze!=null)&&(se.__e=Nt,se.__h=!!Pt,ze[ze.indexOf(Nt)]=null),h.__e(Hn,se,ye)}}function ve(ce,se){h.__c&&h.__c(se,ce),ce.some((function(ye){try{ce=ye.__h,ye.__h=[],ce.some((function(De){De.call(ye)}))}catch(De){h.__e(De,ye.__v)}}))}function Pe(ce,se,ye,De,He,ze,Et,Nt){var Pt,gt,Te,lt=ye.props,pe=se.props,ut=se.type,Bt=0;if(ut==="svg"&&(He=!0),ze!=null){for(;Bt<ze.length;Bt++)if((Pt=ze[Bt])&&"setAttribute"in Pt==!!ut&&(ut?Pt.localName===ut:Pt.nodeType===3)){ce=Pt,ze[Bt]=null;break}}if(ce==null){if(ut===null)return document.createTextNode(pe);ce=He?document.createElementNS("http://www.w3.org/2000/svg",ut):document.createElement(ut,pe.is&&pe),ze=null,Nt=!1}if(ut===null)lt===pe||Nt&&ce.data===pe||(ce.data=pe);else{if(ze=ze&&d.call(ce.childNodes),gt=(lt=ye.props||k).dangerouslySetInnerHTML,Te=pe.dangerouslySetInnerHTML,!Nt){if(ze!=null)for(lt={},Bt=0;Bt<ce.attributes.length;Bt++)lt[ce.attributes[Bt].name]=ce.attributes[Bt].value;(Te||gt)&&(Te&&(gt&&Te.__html==gt.__html||Te.__html===ce.innerHTML)||(ce.innerHTML=Te&&Te.__html||""))}if((function(dn,Ft,nn,On,Tn){var Ct;for(Ct in nn)Ct==="children"||Ct==="key"||Ct in Ft||me(dn,Ct,null,nn[Ct],On);for(Ct in Ft)Tn&&typeof Ft[Ct]!="function"||Ct==="children"||Ct==="key"||Ct==="value"||Ct==="checked"||nn[Ct]===Ft[Ct]||me(dn,Ct,Ft[Ct],nn[Ct],On)})(ce,pe,lt,He,Nt),Te)se.__k=[];else if(Bt=se.props.children,X(ce,Array.isArray(Bt)?Bt:[Bt],se,ye,De,He&&ut!=="foreignObject",ze,Et,ze?ze[0]:ye.__k&&Q(ye,0),Nt),ze!=null)for(Bt=ze.length;Bt--;)ze[Bt]!=null&&L(ze[Bt]);Nt||("value"in pe&&(Bt=pe.value)!==void 0&&(Bt!==lt.value||Bt!==ce.value||ut==="progress"&&!Bt)&&me(ce,"value",Bt,lt.value,!1),"checked"in pe&&(Bt=pe.checked)!==void 0&&Bt!==ce.checked&&me(ce,"checked",Bt,lt.checked,!1))}return ce}function Me(ce,se,ye){try{typeof ce=="function"?ce(se):ce.current=se}catch(De){h.__e(De,ye)}}function $e(ce,se,ye){var De,He;if(h.unmount&&h.unmount(ce),(De=ce.ref)&&(De.current&&De.current!==ce.__e||Me(De,null,se)),(De=ce.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(ze){h.__e(ze,se)}De.base=De.__P=null}if(De=ce.__k)for(He=0;He<De.length;He++)De[He]&&$e(De[He],se,typeof ce.type!="function");ye||ce.__e==null||L(ce.__e),ce.__e=ce.__d=void 0}function rt(ce,se,ye){return this.constructor(ce,ye)}function xt(ce,se,ye){var De,He,ze;h.__&&h.__(ce,se),He=(De=typeof ye=="function")?null:ye&&ye.__k||se.__k,ze=[],je(se,ce=(!De&&ye||se).__k=U(ie,null,[ce]),He||k,k,se.ownerSVGElement!==void 0,!De&&ye?[ye]:He?null:se.firstChild?d.call(se.childNodes):null,ze,!De&&ye?ye:He?He.__e:se.firstChild,De),ve(ze,ce)}function Ye(ce,se){xt(ce,se,Ye)}function Je(ce,se,ye){var De,He,ze,Et=N({},ce.props);for(ze in se)ze=="key"?De=se[ze]:ze=="ref"?He=se[ze]:Et[ze]=se[ze];return arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):ye),G(ce.type,Et,De||ce.key,He||ce.ref,null)}function bt(ce,se){var ye={__c:se="__cC"+P++,__:ce,Consumer:function(De,He){return De.children(He)},Provider:function(De){var He,ze;return this.getChildContext||(He=[],(ze={})[se]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(Et){this.props.value!==Et.value&&He.some(H)},this.sub=function(Et){He.push(Et);var Nt=Et.componentWillUnmount;Et.componentWillUnmount=function(){He.splice(He.indexOf(Et),1),Nt&&Nt.call(Et)}}),De.children}};return ye.Provider.__=ye.Consumer.contextType=ye}d=T.slice,h={__e:function(ce,se){for(var ye,De,He;se=se.__;)if((ye=se.__c)&&!ye.__)try{if((De=ye.constructor)&&De.getDerivedStateFromError!=null&&(ye.setState(De.getDerivedStateFromError(ce)),He=ye.__d),ye.componentDidCatch!=null&&(ye.componentDidCatch(ce),He=ye.__d),He)return ye.__E=ye}catch(ze){ce=ze}throw ce}},m=0,re.prototype.setState=function(ce,se){var ye;ye=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof ce=="function"&&(ce=ce(N({},ye),this.props)),ce&&N(ye,ce),ce!=null&&this.__v&&(se&&this.__h.push(se),H(this))},re.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),H(this))},re.prototype.render=ie,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B.__r=0,P=0},function(a,p,o){(function(d,h){o.d(p,"a",(function(){return H})),o.d(p,"b",(function(){return Qu})),o.d(p,"c",(function(){return fo})),o.d(p,"d",(function(){return jt})),o.d(p,"e",(function(){return Ke})),o.d(p,"f",(function(){return Ve})),o.d(p,"g",(function(){return _t})),o.d(p,"h",(function(){return Po})),o.d(p,"i",(function(){return Tn})),o.d(p,"j",(function(){return st})),o.d(p,"k",(function(){return Wo})),o.d(p,"l",(function(){return Uu})),o.d(p,"m",(function(){return dn})),o.d(p,"n",(function(){return Li})),o.d(p,"o",(function(){return Y})),o.d(p,"p",(function(){return Cl})),o.d(p,"q",(function(){return $o})),o.d(p,"r",(function(){return Wa})),o.d(p,"s",(function(){return eo})),o.d(p,"t",(function(){return Fn})),o.d(p,"u",(function(){return Fa})),o.d(p,"v",(function(){return Zs})),o.d(p,"w",(function(){return Vu})),o.d(p,"x",(function(){return zi})),o.d(p,"y",(function(){return Qr})),o.d(p,"z",(function(){return Yn})),o.d(p,"A",(function(){return Cr})),o.d(p,"B",(function(){return Uo})),o.d(p,"C",(function(){return gt})),o.d(p,"D",(function(){return Il})),o.d(p,"E",(function(){return hn})),o.d(p,"F",(function(){return vn})),o.d(p,"G",(function(){return Wu})),o.d(p,"H",(function(){return Fu})),o.d(p,"I",(function(){return Ku})),o.d(p,"J",(function(){return nr})),o.d(p,"K",(function(){return he})),o.d(p,"L",(function(){return En})),o.d(p,"M",(function(){return Ua}));var m=[];Object.freeze(m);var g={};function E(){return++ft.mobxGuid}function j(O){throw P(!1,O),"X"}function P(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function L(O,w,M){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:M})}function U(O,w){var M="isMobX"+O;return w.prototype[M]=!0,function(z){return C(z)&&z[M]===!0}}function G(O){return O instanceof Map}function te(O){return O instanceof Set}function ie(O){var w=new Set;for(var M in O)w.add(M);return Object.getOwnPropertySymbols(O).forEach((function(z){Object.getOwnPropertyDescriptor(O,z).enumerable&&w.add(z)})),Array.from(w)}function re(O){return O&&O.toString?O.toString():new String(O).toString()}function Q(O){return O===null?null:typeof O=="object"?""+O:O}var Z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),B=(function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(w){return w()}))},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(w){return w()}))},O.prototype.reportObserved=function(){return Ba(this)},O.prototype.reportChanged=function(){kr(),(function(w){w.lowestObserverState!==lt.STALE&&(w.lowestObserverState=lt.STALE,w.observers.forEach((function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.isTracing!==pe.NONE&&lo(M,w),M.onBecomeStale()),M.dependenciesState=lt.STALE})))})(this),Wr()},O.prototype.toString=function(){return this.name},O})(),X=U("Atom",B);function Y(O,w,M){w===void 0&&(w=T),M===void 0&&(M=T);var z,q=new B(O);return w!==T&&Ks("onBecomeObserved",q,w,z),M!==T&&hn(q,M),q}var K={structural:function(O,w){return Re(O,w)},default:function(O,w){return Object.is(O,w)}},ue=function(O,w){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,z){M.__proto__=z}||function(M,z){for(var q in z)z.hasOwnProperty(q)&&(M[q]=z[q])},ue(O,w)};/*! *****************************************************************************
		Copyright (c) Microsoft Corporation. All rights reserved.
		Licensed under the Apache License, Version 2.0 (the "License"); you may not use
		this file except in compliance with the License. You may obtain a copy of the
		License at http://www.apache.org/licenses/LICENSE-2.0

		THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
		KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
		WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
		MERCHANTABLITY OR NON-INFRINGEMENT.

		See the Apache Version 2.0 License for specific language governing permissions
		and limitations under the License.
		***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(O){for(var w,M=1,z=arguments.length;M<z;M++)for(var q in w=arguments[M])Object.prototype.hasOwnProperty.call(w,q)&&(O[q]=w[q]);return O},Ee.apply(this,arguments)};function me(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],M=0;return w?w.call(O):{next:function(){return O&&M>=O.length&&(O=void 0),{value:O&&O[M++],done:!O}}}}function Ae(O,w){var M=typeof Symbol=="function"&&O[Symbol.iterator];if(!M)return O;var z,q,de=M.call(O),Se=[];try{for(;(w===void 0||w-- >0)&&!(z=de.next()).done;)Se.push(z.value)}catch(We){q={error:We}}finally{try{z&&!z.done&&(M=de.return)&&M.call(de)}finally{if(q)throw q.error}}return Se}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Me={};function $e(O,w){var M=w?Pe:Me;return M[O]||(M[O]={configurable:!0,enumerable:w,get:function(){return rt(this),this[O]},set:function(z){rt(this),this[O]=z}})}function rt(O){var w,M;if(O[je]!==!0){var z=O[ve];if(z){L(O,je,!0);var q=Fe(Object.getOwnPropertySymbols(z),Object.keys(z));try{for(var de=me(q),Se=de.next();!Se.done;Se=de.next()){var We=z[Se.value];We.propertyCreator(O,We.prop,We.descriptor,We.decoratorTarget,We.decoratorArguments)}}catch(ct){w={error:ct}}finally{try{Se&&!Se.done&&(M=de.return)&&M.call(de)}finally{if(w)throw w.error}}}}}function xt(O,w){return function(){var M,z=function(q,de,Se,We){if(We===!0)return w(q,de,Se,q,M),null;if(!Object.prototype.hasOwnProperty.call(q,ve)){var ct=q[ve];L(q,ve,Ee({},ct))}return q[ve][de]={prop:de,propertyCreator:w,descriptor:Se,decoratorTarget:q,decoratorArguments:M},$e(de,O)};return Ye(arguments)?(M=m,z.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),z)}}function Ye(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Je(O,w,M){return zi(O)?O:Array.isArray(O)?gt.array(O,{name:M}):N(O)?gt.object(O,void 0,{name:M}):G(O)?gt.map(O,{name:M}):te(O)?gt.set(O,{name:M}):O}function bt(O){return O}function ce(O){P(O);var w=xt(!0,(function(z,q,de,Se,We){var ct=de?de.initializer?de.initializer.call(z):de.value:void 0;$r(z).addObservableProp(q,ct,O)})),M=(d!==void 0&&d.env,w);return M.enhancer=O,M}var se={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(O){return O==null?se:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(se);var De=ce(Je),He=ce((function(O,w,M){return O==null||Cr(O)||Qr(O)||Yn(O)||wr(O)?O:Array.isArray(O)?gt.array(O,{name:M,deep:!1}):N(O)?gt.object(O,void 0,{name:M,deep:!1}):G(O)?gt.map(O,{name:M,deep:!1}):te(O)?gt.set(O,{name:M,deep:!1}):j(!1)})),ze=ce(bt),Et=ce((function(O,w,M){return Re(O,w)?w:O}));function Nt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?bt:Je}var Pt={box:function(O,w){arguments.length>2&&Te("box");var M=ye(w);return new Cn(O,Nt(M),M.name,!0,M.equals)},array:function(O,w){arguments.length>2&&Te("array");var M=ye(w);return fa(O,Nt(M),M.name)},map:function(O,w){arguments.length>2&&Te("map");var M=ye(w);return new Qu(O,Nt(M),M.name)},set:function(O,w){arguments.length>2&&Te("set");var M=ye(w);return new So(O,Nt(M),M.name)},object:function(O,w,M){typeof arguments[1]=="string"&&Te("object");var z=ye(M);if(z.proxy===!1)return $o({},O,w,z);var q=Gu(z),de=$o({},void 0,void 0,z),Se=Bi(de);return qs(Se,O,w,q),Se},ref:ze,shallow:He,deep:De,struct:Et},gt=function(O,w,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(zi(O))return O;var z=N(O)?gt.object(O,w,M):Array.isArray(O)?gt.array(O,w):G(O)?gt.map(O,w):te(O)?gt.set(O,w):O;if(z!==O)return z;j(!1)};function Te(O){j("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(Pt).forEach((function(O){return gt[O]=Pt[O]}));var lt,pe,ut=xt(!1,(function(O,w,M,z,q){var de=M.get,Se=M.set,We=q[0]||{};$r(O).addComputedProp(O,w,Ee({get:de,set:Se,context:O},We))})),Bt=ut({equals:K.structural}),dn=function(O,w,M){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return ut.apply(null,arguments);var z=typeof w=="object"?w:{};return z.get=O,z.set=typeof w=="function"?w:z.set,z.name=z.name||O.name||"",new wo(z)};dn.struct=Bt,(function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"})(lt||(lt={})),(function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"})(pe||(pe={}));var Ft=function(O){this.cause=O};function nn(O){return O instanceof Ft}function On(O){switch(O.dependenciesState){case lt.UP_TO_DATE:return!1;case lt.NOT_TRACKING:case lt.STALE:return!0;case lt.POSSIBLY_STALE:for(var w=Ve(!0),M=ae(),z=O.observing,q=z.length,de=0;de<q;de++){var Se=z[de];if(Fo(Se)){if(ft.disableErrorBoundaries)Se.get();else try{Se.get()}catch(We){return _e(M),Ke(w),!0}if(O.dependenciesState===lt.STALE)return _e(M),Ke(w),!0}}return pt(O),_e(M),Ke(w),!1}}function Tn(){return ft.trackingDerivation!==null}function Ct(O){var w=O.observers.size>0;ft.computationDepth>0&&w&&j(!1),ft.allowStateChanges||!w&&ft.enforceActions!=="strict"||j(!1)}function Hn(O,w,M){var z=Ve(!0);pt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ft.runId;var q,de=ft.trackingDerivation;if(ft.trackingDerivation=O,ft.disableErrorBoundaries===!0)q=w.call(M);else try{q=w.call(M)}catch(Se){q=new Ft(Se)}return ft.trackingDerivation=de,(function(Se){for(var We=Se.observing,ct=Se.observing=Se.newObserving,Vt=lt.UP_TO_DATE,tt=0,wn=Se.unboundDepsCount,$t=0;$t<wn;$t++)(cn=ct[$t]).diffValue===0&&(cn.diffValue=1,tt!==$t&&(ct[tt]=cn),tt++),cn.dependenciesState>Vt&&(Vt=cn.dependenciesState);for(ct.length=tt,Se.newObserving=null,wn=We.length;wn--;)(cn=We[wn]).diffValue===0&&Iu(cn,Se),cn.diffValue=0;for(;tt--;){var cn;(cn=ct[tt]).diffValue===1&&(cn.diffValue=0,Dl(cn,Se))}Vt!==lt.UP_TO_DATE&&(Se.dependenciesState=Vt,Se.onBecomeStale())})(O),Ke(z),q}function ee(O){var w=O.observing;O.observing=[];for(var M=w.length;M--;)Iu(w[M],O);O.dependenciesState=lt.NOT_TRACKING}function he(O){var w=ae();try{return O()}finally{_e(w)}}function ae(){var O=ft.trackingDerivation;return ft.trackingDerivation=null,O}function _e(O){ft.trackingDerivation=O}function Ve(O){var w=ft.allowStateReads;return ft.allowStateReads=O,w}function Ke(O){ft.allowStateReads=O}function pt(O){if(O.dependenciesState!==lt.UP_TO_DATE){O.dependenciesState=lt.UP_TO_DATE;for(var w=O.observing,M=w.length;M--;)w[M].lowestObserverState=lt.UP_TO_DATE}}var Xt=0,tr=1,pr=Object.getOwnPropertyDescriptor((function(){}),"name");pr&&pr.configurable;function Xn(O,w,M){var z=function(){return qn(O,w,M||this,arguments)};return z.isMobxAction=!0,z}function qn(O,w,M,z){var q=st();try{return w.apply(M,z)}catch(de){throw q.error=de,de}finally{_t(q)}}function st(O,w,M){var z=0,q=ae();kr();var de={prevDerivation:q,prevAllowStateChanges:It(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:z,actionId:tr++,parentActionId:Xt};return Xt=de.actionId,de}function _t(O){Xt!==O.actionId&&j("invalid action stack. did you forget to finish an action?"),Xt=O.parentActionId,O.error!==void 0&&(ft.suppressReactionErrors=!0),bn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Wr(),_e(O.prevDerivation),O.notifySpy,ft.suppressReactionErrors=!1}function jt(O,w){var M,z=It(O);try{M=w()}finally{bn(z)}return M}function It(O){var w=ft.allowStateChanges;return ft.allowStateChanges=O,w}function bn(O){ft.allowStateChanges=O}var Cn=(function(O){function w(M,z,q,de,Se){q===void 0&&(q="ObservableValue@"+E()),Se===void 0&&(Se=K.default);var We=O.call(this,q)||this;return We.enhancer=z,We.name=q,We.equals=Se,We.hasUnreportedChange=!1,We.value=z(M,void 0,q),We}return(function(M,z){function q(){this.constructor=M}ue(M,z),M.prototype=z===null?Object.create(z):(q.prototype=z.prototype,new q)})(w,O),w.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},w.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==ft.UNCHANGED&&this.setNewValue(M)},w.prototype.prepareNewValue=function(M){if(Ct(this),Nr(this)){var z=rn(this,{object:this,type:"update",newValue:M});if(!z)return ft.UNCHANGED;M=z.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?ft.UNCHANGED:M},w.prototype.setNewValue=function(M){var z=this.value;this.value=M,this.reportChanged(),Rr(this)&&cr(this,{type:"update",object:this,newValue:M,oldValue:z})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(M){return Ho(this,M)},w.prototype.observe=function(M,z){return z&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),Eo(this,M)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Q(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w})(B),Bo=U("ObservableValue",Cn),wo=(function(){function O(w){this.dependenciesState=lt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=pe.NONE,P(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Xn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?K.structural:K.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===lt.UP_TO_DATE&&(w.lowestObserverState=lt.POSSIBLY_STALE,w.observers.forEach((function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.dependenciesState=lt.POSSIBLY_STALE,M.isTracing!==pe.NONE&&lo(M,w),M.onBecomeStale())})))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(w){return w()}))},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(w){return w()}))},O.prototype.get=function(){this.isComputing&&j("Cycle detected in computation "+this.name+": "+this.derivation),ft.inBatch!==0||this.observers.size!==0||this.keepAlive?(Ba(this),On(this)&&this.trackAndCompute()&&(function(M){M.lowestObserverState!==lt.STALE&&(M.lowestObserverState=lt.STALE,M.observers.forEach((function(z){z.dependenciesState===lt.POSSIBLY_STALE?z.dependenciesState=lt.STALE:z.dependenciesState===lt.UP_TO_DATE&&(M.lowestObserverState=lt.UP_TO_DATE)})))})(this)):On(this)&&(this.warnAboutUntrackedRead(),kr(),this.value=this.computeValue(!1),Wr());var w=this.value;if(nn(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(nn(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){P(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else P(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,M=this.dependenciesState===lt.NOT_TRACKING,z=this.computeValue(!0),q=M||nn(w)||nn(z)||!this.equals(w,z);return q&&(this.value=z),q},O.prototype.computeValue=function(w){var M;if(this.isComputing=!0,ft.computationDepth++,w)M=Hn(this,this.derivation,this.scope);else if(ft.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(z){M=new Ft(z)}return ft.computationDepth--,this.isComputing=!1,M},O.prototype.suspend=function(){this.keepAlive||(ee(this),this.value=void 0)},O.prototype.observe=function(w,M){var z=this,q=!0,de=void 0;return Uu((function(){var Se=z.get();if(!q||M){var We=ae();w({type:"update",object:z,newValue:Se,oldValue:de}),_e(We)}q=!1,de=Se}))},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Q(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O})(),Fo=U("ComputedValue",wo),Ii=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},kl={};function Cu(){return typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:kl}var qr=!0,sa=!1,ft=(function(){var O=Cu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(qr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Ii().version&&(qr=!1),qr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Ii):(setTimeout((function(){sa||j("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Ii)})();function Dl(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function Iu(O,w){O.observers.delete(w),O.observers.size===0&&Lu(O)}function Lu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ft.pendingUnobservations.push(O))}function kr(){ft.inBatch++}function Wr(){if(--ft.inBatch==0){Bu();for(var O=ft.pendingUnobservations,w=0;w<O.length;w++){var M=O[w];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof wo&&M.suspend())}ft.pendingUnobservations=[]}}function Ba(O){var w=ft.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ft.inBatch>0&&Lu(O),!1)}function lo(O,w){if(O.isTracing===pe.BREAK){var M=[];Zr(Fn(O),M,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof wo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function Zr(O,w,M){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(M).join("	")+O.name),O.dependencies&&O.dependencies.forEach((function(z){return Zr(z,w,M+1)})))}var fo=(function(){function O(w,M,z,q){w===void 0&&(w="Reaction@"+E()),q===void 0&&(q=!1),this.name=w,this.onInvalidate=M,this.errorHandler=z,this.requiresObservable=q,this.observing=[],this.newObserving=[],this.dependenciesState=lt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=pe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ft.pendingReactions.push(this),Bu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(kr(),this._isScheduled=!1,On(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Wr()}},O.prototype.track=function(w){if(!this.isDisposed){kr(),this._isRunning=!0;var M=Hn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ee(this),nn(M)&&this.reportExceptionInDerivation(M.cause),Wr()}},O.prototype.reportExceptionInDerivation=function(w){var M=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ft.disableErrorBoundaries)throw w;ft.suppressReactionErrors,ft.globalReactionErrorHandlers.forEach((function(z){return z(w,M)}))}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(kr(),ee(this),Wr()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[H]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),(function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];var q=!1;typeof M[M.length-1]=="boolean"&&(q=M.pop());var de=un(M);if(!de)return j(!1);de.isTracing,pe.NONE,de.isTracing=q?pe.BREAK:pe.LOG})(this,w)},O})(),zu=function(O){return O()};function Bu(){ft.inBatch>0||ft.isRunningReactions||zu(Hs)}function Hs(){ft.isRunningReactions=!0;for(var O=ft.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var M=O.splice(0),z=0,q=M.length;z<q;z++)M[z].runReaction()}ft.isRunningReactions=!1}var ca=U("Reaction",fo);function Xs(O){var w=zu;zu=function(M){return O((function(){return w(M)}))}}function Fu(O){return function(){}}function Nl(){j(!1)}function ci(O){return function(w,M,z){if(z){if(z.value)return{value:Xn(O,z.value),enumerable:!1,configurable:!0,writable:!0};var q=z.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xn(O,q.call(this))}}}return Ys(O).apply(this,arguments)}}function Ys(O){return function(w,M,z){Object.defineProperty(w,M,{configurable:!0,enumerable:!1,get:function(){},set:function(q){L(this,M,Wo(O,q))}})}}var Wo=function(O,w,M,z){return arguments.length===1&&typeof O=="function"?Xn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Xn(O,w):arguments.length===1&&typeof O=="string"?ci(O):z!==!0?ci(w).apply(null,arguments):void L(O,w,Xn(O.name||w,M.value,this))};function Wu(O,w){return qn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Fa(O){return typeof O=="function"&&O.isMobxAction===!0}function $u(O,w,M){L(O,w,Xn(w,M.bind(O)))}function Uu(O,w){w===void 0&&(w=g);var M,z=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)M=new fo(z,(function(){this.track(Se)}),w.onError,w.requiresObservable);else{var q=Vs(w),de=!1;M=new fo(z,(function(){de||(de=!0,q((function(){de=!1,M.isDisposed||M.track(Se)})))}),w.onError,w.requiresObservable)}function Se(){O(M)}return M.schedule(),M.getDisposer()}Wo.bound=function(O,w,M,z){return z===!0?($u(O,w,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return $u(this,w,M.value||M.initializer.call(this)),this[w]},set:Nl}:{enumerable:!1,configurable:!0,set:function(q){$u(this,w,q)},get:function(){}}};var Rl=function(O){return O()};function Vs(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Rl}function vn(O,w,M){M===void 0&&(M=g);var z,q,de,Se=M.name||"Reaction@"+E(),We=Wo(Se,M.onError?(z=M.onError,q=w,function(){try{return q.apply(this,arguments)}catch(Dn){z.call(this,Dn)}}):w),ct=!M.scheduler&&!M.delay,Vt=Vs(M),tt=!0,wn=!1,$t=M.compareStructural?K.structural:M.equals||K.default,cn=new fo(Se,(function(){tt||ct?to():wn||(wn=!0,Vt(to))}),M.onError,M.requiresObservable);function to(){if(wn=!1,!cn.isDisposed){var Dn=!1;cn.track((function(){var Ir=O(cn);Dn=tt||!$t(de,Ir),de=Ir})),tt&&M.fireImmediately&&We(de,cn),tt||Dn!==!0||We(de,cn),tt&&(tt=!1)}}return cn.schedule(),cn.getDisposer()}function hn(O,w,M){return Ks("onBecomeUnobserved",O,w,M)}function Ks(O,w,M,z){var q=typeof z=="function"?eo(w,M):eo(w),de=typeof z=="function"?z:M,Se=O+"Listeners";return q[Se]?q[Se].add(de):q[Se]=new Set([de]),typeof q[O]!="function"?j(!1):function(){var We=q[Se];We&&(We.delete(de),We.size===0&&delete q[Se])}}function Li(O){var w=O.enforceActions,M=O.computedRequiresReaction,z=O.computedConfigurable,q=O.disableErrorBoundaries,de=O.reactionScheduler,Se=O.reactionRequiresObservable,We=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ft.pendingReactions.length||ft.inBatch||ft.isRunningReactions)&&j("isolateGlobalState should be called before MobX is running any reactions"),sa=!0,qr&&(--Cu().__mobxInstanceCount==0&&(Cu().__mobxGlobals=void 0),ft=new Ii)),w!==void 0){var ct=void 0;switch(w){case!0:case"observed":ct=!0;break;case!1:case"never":ct=!1;break;case"strict":case"always":ct="strict";break;default:j("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ft.enforceActions=ct,ft.allowStateChanges=ct!==!0&&ct!=="strict"}M!==void 0&&(ft.computedRequiresReaction=!!M),Se!==void 0&&(ft.reactionRequiresObservable=!!Se),We!==void 0&&(ft.observableRequiresReaction=!!We,ft.allowStateReads=!ft.observableRequiresReaction),z!==void 0&&(ft.computedConfigurable=!!z),q!==void 0&&(ft.disableErrorBoundaries=!!q),de&&Xs(de)}function $o(O,w,M,z){var q=Gu(z=ye(z));return rt(O),$r(O,z.name,q.enhancer),w&&qs(O,w,M,q),O}function Gu(O){return O.defaultDecorator||(O.deep===!1?ze:De)}function qs(O,w,M,z){var q,de;kr();try{var Se=Z(w);try{for(var We=me(Se),ct=We.next();!ct.done;ct=We.next()){var Vt=ct.value,tt=Object.getOwnPropertyDescriptor(w,Vt),wn=(M&&Vt in M?M[Vt]:tt.get?ut:z)(O,Vt,tt,!0);wn&&Object.defineProperty(O,Vt,wn)}}catch($t){q={error:$t}}finally{try{ct&&!ct.done&&(de=We.return)&&de.call(We)}finally{if(q)throw q.error}}}finally{Wr()}}function Fn(O,w){return Hu(eo(O,w))}function Hu(O){var w,M,z={name:O.name};return O.observing&&O.observing.length>0&&(z.dependencies=(w=O.observing,M=[],w.forEach((function(q){M.indexOf(q)===-1&&M.push(q)})),M).map(Hu)),z}var la=0;function Xu(){this.message="FLOW_CANCELLED"}function Wa(O){arguments.length!==1&&j("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var M,z=this,q=arguments,de=++la,Se=Wo(w+" - runid: "+de+" - init",O).apply(z,q),We=void 0,ct=new Promise((function(Vt,tt){var wn=0;function $t(Dn){var Ir;We=void 0;try{Ir=Wo(w+" - runid: "+de+" - yield "+wn++,Se.next).call(Se,Dn)}catch(Yo){return tt(Yo)}to(Ir)}function cn(Dn){var Ir;We=void 0;try{Ir=Wo(w+" - runid: "+de+" - yield "+wn++,Se.throw).call(Se,Dn)}catch(Yo){return tt(Yo)}to(Ir)}function to(Dn){if(!Dn||typeof Dn.then!="function")return Dn.done?Vt(Dn.value):(We=Promise.resolve(Dn.value)).then($t,cn);Dn.then(to,tt)}M=tt,$t(void 0)}));return ct.cancel=Wo(w+" - runid: "+de+" - cancel",(function(){try{We&&dr(We);var Vt=Se.return(void 0),tt=Promise.resolve(Vt.value);tt.then(T,T),dr(tt),M(new Xu)}catch(wn){M(wn)}})),ct}}function dr(O){typeof O.cancel=="function"&&O.cancel()}function Yu(O,w){if(O==null)return!1;if(w!==void 0){if(Cr(O)===!1||!O[H].values.has(w))return!1;var M=eo(O,w);return Fo(M)}return Fo(O)}function Zs(O){return arguments.length>1?j(!1):Yu(O)}function Vu(O,w){return typeof w!="string"?j(!1):Yu(O,w)}function $a(O,w){return O!=null&&(w!==void 0?!!Cr(O)&&O[H].values.has(w):Cr(O)||!!O[H]||X(O)||ca(O)||Fo(O))}function zi(O){return arguments.length!==1&&j(!1),$a(O)}function Uo(O){return Cr(O)?O[H].getKeys():Yn(O)||wr(O)?Array.from(O.keys()):Qr(O)?O.map((function(w,M){return M})):j(!1)}function En(O){return Cr(O)?Uo(O).map((function(w){return O[w]})):Yn(O)?Uo(O).map((function(w){return O.get(w)})):wr(O)?Array.from(O.values()):Qr(O)?O.slice():j(!1)}function Cl(O){return Cr(O)?Uo(O).map((function(w){return[w,O[w]]})):Yn(O)?Uo(O).map((function(w){return[w,O.get(w)]})):wr(O)?Array.from(O.entries()):Qr(O)?O.map((function(w,M){return[M,w]})):j(!1)}function Dr(O,w,M){if(arguments.length!==2||wr(O))if(Cr(O)){var z=O[H],q=z.values.get(w);q?z.write(w,M):z.addObservableProp(w,M,z.defaultEnhancer)}else if(Yn(O))O.set(w,M);else if(wr(O))O.add(w);else{if(!Qr(O))return j(!1);typeof w!="number"&&(w=parseInt(w,10)),P(w>=0,"Not a valid index: '"+w+"'"),kr(),w>=O.length&&(O.length=w+1),O[w]=M,Wr()}else{kr();var de=w;try{for(var Se in de)Dr(O,Se,de[Se])}finally{Wr()}}}function Il(O,w,M,z){return typeof M=="function"?(function(q,de,Se,We){return Po(q,de).observe(Se,We)})(O,w,M,z):(function(q,de,Se){return Po(q).observe(de,Se)})(O,w,M)}Xu.prototype=Object.create(Error.prototype);var Js={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Or(O,w,M,z){return z.detectCycles&&O.set(w,M),M}function Jr(O,w,M){if(!w.recurseEverything&&!zi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Bo(O))return Jr(O.get(),w,M);if(zi(O)&&Uo(O),w.detectCycles===!0&&O!==null&&M.has(O))return M.get(O);if(Qr(O)||Array.isArray(O)){var z=Or(M,O,[],w),q=O.map((function($t){return Jr($t,w,M)}));z.length=q.length;for(var de=0,Se=q.length;de<Se;de++)z[de]=q[de];return z}if(wr(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var We=Or(M,O,new Set,w);return O.forEach((function($t){We.add(Jr($t,w,M))})),We}var ct=Or(M,O,[],w);return O.forEach((function($t){ct.push(Jr($t,w,M))})),ct}if(Yn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Vt=Or(M,O,new Map,w);return O.forEach((function($t,cn){Vt.set(cn,Jr($t,w,M))})),Vt}var tt=Or(M,O,{},w);return O.forEach((function($t,cn){tt[cn]=Jr($t,w,M)})),tt}var wn=Or(M,O,{},w);return ie(O).forEach((function($t){wn[$t]=Jr(O[$t],w,M)})),wn}function Ku(O,w){var M;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=Js),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(M=new Map),Jr(O,w,M)}function un(O){switch(O.length){case 0:return ft.trackingDerivation;case 1:return eo(O[0]);case 2:return eo(O[0],O[1])}}function nr(O,w){w===void 0&&(w=void 0),kr();try{return O.apply(w)}finally{Wr()}}function Ua(O,w,M){return arguments.length===1||w&&typeof w=="object"?qu(O,w):Qs(O,w,M||{})}function Qs(O,w,M){var z;typeof M.timeout=="number"&&(z=setTimeout((function(){if(!de[H].isDisposed){de();var Se=new Error("WHEN_TIMEOUT");if(!M.onError)throw Se;M.onError(Se)}}),M.timeout)),M.name=M.name||"When@"+E();var q=Xn(M.name+"-effect",w),de=Uu((function(Se){O()&&(Se.dispose(),z&&clearTimeout(z),q())}),M);return de}function qu(O,w){var M,z=new Promise((function(q,de){var Se=Qs(O,q,Ee(Ee({},w),{onError:de}));M=function(){Se(),de("WHEN_CANCELLED")}}));return z.cancel=M,z}function Ga(O){return O[H]}function xo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Go={has:function(O,w){if(w===H||w==="constructor"||w===je)return!0;var M=Ga(O);return xo(w)?M.has(w):w in O},get:function(O,w){if(w===H||w==="constructor"||w===je)return O[w];var M=Ga(O),z=M.values.get(w);if(z instanceof B){var q=z.get();return q===void 0&&M.has(w),q}return xo(w)&&M.has(w),O[w]},set:function(O,w,M){return!!xo(w)&&(Dr(O,w,M),!0)},deleteProperty:function(O,w){return!!xo(w)&&(Ga(O).remove(w),!0)},ownKeys:function(O){return Ga(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return j("Dynamic observable objects cannot be frozen"),!1}};function Bi(O){var w=new Proxy(O,Go);return O[H].proxy=w,w}function Nr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function Ho(O,w){var M=O.interceptors||(O.interceptors=[]);return M.push(w),k((function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)}))}function rn(O,w){var M=ae();try{for(var z=Fe(O.interceptors||[]),q=0,de=z.length;q<de&&(P(!(w=z[q](w))||w.type,"Intercept handlers should return nothing or a change object"),w);q++);return w}finally{_e(M)}}function Rr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Eo(O,w){var M=O.changeListeners||(O.changeListeners=[]);return M.push(w),k((function(){var z=M.indexOf(w);z!==-1&&M.splice(z,1)}))}function cr(O,w){var M=ae(),z=O.changeListeners;if(z){for(var q=0,de=(z=z.slice()).length;q<de;q++)z[q](w);_e(M)}}var Ha={get:function(O,w){return w===H?O[H]:w==="length"?O[H].getArrayLength():typeof w=="number"?In.get.call(O,w):typeof w!="string"||isNaN(w)?In.hasOwnProperty(w)?In[w]:O[w]:In.get.call(O,parseInt(w))},set:function(O,w,M){return w==="length"&&O[H].setArrayLength(M),typeof w=="number"&&In.set.call(O,w,M),typeof w=="symbol"||isNaN(w)?O[w]=M:In.set.call(O,parseInt(w),M),!0},preventExtensions:function(O){return j("Observable arrays cannot be frozen"),!1}};function fa(O,w,M,z){M===void 0&&(M="ObservableArray@"+E()),z===void 0&&(z=!1);var q,de,Se,We=new Zu(M,w,z);q=We.values,de=H,Se=We,Object.defineProperty(q,de,{enumerable:!1,writable:!1,configurable:!0,value:Se});var ct=new Proxy(We.values,Ha);if(We.proxy=ct,O&&O.length){var Vt=It(!0);We.spliceWithArray(0,0,O),bn(Vt)}return ct}var Zu=(function(){function O(w,M,z){this.owned=z,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new B(w||"ObservableArray@"+E()),this.enhancer=function(q,de){return M(q,de,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.observe=function(w,M){return M===void 0&&(M=!1),M&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Eo(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var M=this.values.length;if(w!==M)if(w>M){for(var z=new Array(w-M),q=0;q<w-M;q++)z[q]=void 0;this.spliceWithArray(M,0,z)}else this.spliceWithArray(w,M-w)},O.prototype.updateArrayLength=function(w,M){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},O.prototype.spliceWithArray=function(w,M,z){var q=this;Ct(this.atom);var de=this.values.length;if(w===void 0?w=0:w>de?w=de:w<0&&(w=Math.max(0,de+w)),M=arguments.length===1?de-w:M==null?0:Math.max(0,Math.min(M,de-w)),z===void 0&&(z=m),Nr(this)){var Se=rn(this,{object:this.proxy,type:"splice",index:w,removedCount:M,added:z});if(!Se)return m;M=Se.removedCount,z=Se.added}z=z.length===0?z:z.map((function(ct){return q.enhancer(ct,void 0)}));var We=this.spliceItemsIntoValues(w,M,z);return M===0&&z.length===0||this.notifyArraySplice(w,z,We),this.dehanceValues(We)},O.prototype.spliceItemsIntoValues=function(w,M,z){var q;if(z.length<1e4)return(q=this.values).splice.apply(q,Fe([w,M],z));var de=this.values.slice(w,w+M);return this.values=this.values.slice(0,w).concat(z,this.values.slice(w+M)),de},O.prototype.notifyArrayChildUpdate=function(w,M,z){var q=!this.owned&&!1,de=Rr(this),Se=de||q?{object:this.proxy,type:"update",index:w,newValue:M,oldValue:z}:null;this.atom.reportChanged(),de&&cr(this,Se)},O.prototype.notifyArraySplice=function(w,M,z){var q=!this.owned&&!1,de=Rr(this),Se=de||q?{object:this.proxy,type:"splice",index:w,removed:z,added:M,removedCount:z.length,addedCount:M.length}:null;this.atom.reportChanged(),de&&cr(this,Se)},O})(),In={intercept:function(O){return this[H].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[H].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[H];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var M=[],z=2;z<arguments.length;z++)M[z-2]=arguments[z];var q=this[H];switch(arguments.length){case 0:return[];case 1:return q.spliceWithArray(O);case 2:return q.spliceWithArray(O,w)}return q.spliceWithArray(O,w,M)},spliceWithArray:function(O,w,M){return this[H].spliceWithArray(O,w,M)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(M.values.length,0,O),M.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[H];return M.spliceWithArray(0,0,O),M.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[H],M=w.dehanceValues(w.values).indexOf(O);return M>-1&&(this.splice(M,1),!0)},get:function(O){var w=this[H];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var M=this[H],z=M.values;if(O<z.length){Ct(M.atom);var q=z[O];if(Nr(M)){var de=rn(M,{type:"update",object:M.proxy,index:O,newValue:w});if(!de)return;w=de.newValue}(w=M.enhancer(w,q))!==q&&(z[O]=w,M.notifyArrayChildUpdate(O,w,q))}else{if(O!==z.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+z.length);M.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(O){typeof Array.prototype[O]=="function"&&(In[O]=function(){var w=this[H];w.atom.reportObserved();var M=w.dehanceValues(w.values);return M[O].apply(M,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(O){typeof Array.prototype[O]=="function"&&(In[O]=function(w,M){var z=this,q=this[H];return q.atom.reportObserved(),q.dehanceValues(q.values)[O]((function(de,Se){return w.call(M,de,Se,z)}),M)})})),["reduce","reduceRight"].forEach((function(O){In[O]=function(){var w=this,M=this[H];M.atom.reportObserved();var z=arguments[0];return arguments[0]=function(q,de,Se){return de=M.dehanceValue(de),z(q,de,Se,w)},M.values[O].apply(M.values,arguments)}}));var Xa,Xo=U("ObservableArrayAdministration",Zu);function Qr(O){return C(O)&&Xo(O[H])}var Ju,Ll={},Qu=(function(){function O(w,M,z){if(M===void 0&&(M=Je),z===void 0&&(z="ObservableMap@"+E()),this.enhancer=M,this.name=z,this[Xa]=Ll,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var M=this;if(!ft.trackingDerivation)return this._has(w);var z=this._hasMap.get(w);if(!z){var q=z=new Cn(this._has(w),bt,this.name+"."+re(w)+"?",!1);this._hasMap.set(w,q),hn(q,(function(){return M._hasMap.delete(w)}))}return z.get()},O.prototype.set=function(w,M){var z=this._has(w);if(Nr(this)){var q=rn(this,{type:z?"update":"add",object:this,newValue:M,name:w});if(!q)return this;M=q.newValue}return z?this._updateValue(w,M):this._addValue(w,M),this},O.prototype.delete=function(w){var M=this;if(Ct(this._keysAtom),Nr(this)&&!(q=rn(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var z=Rr(this),q=z?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return nr((function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(w,!1),M._data.get(w).setNewValue(void 0),M._data.delete(w)})),z&&cr(this,q),!0}return!1},O.prototype._updateHasMapEntry=function(w,M){var z=this._hasMap.get(w);z&&z.setNewValue(M)},O.prototype._updateValue=function(w,M){var z=this._data.get(w);if((M=z.prepareNewValue(M))!==ft.UNCHANGED){var q=Rr(this),de=q?{type:"update",object:this,oldValue:z.value,name:w,newValue:M}:null;z.setNewValue(M),q&&cr(this,de)}},O.prototype._addValue=function(w,M){var z=this;Ct(this._keysAtom),nr((function(){var Se=new Cn(M,z.enhancer,z.name+"."+re(w),!1);z._data.set(w,Se),M=Se.value,z._updateHasMapEntry(w,!0),z._keysAtom.reportChanged()}));var q=Rr(this),de=q?{type:"add",object:this,name:w,newValue:M}:null;q&&cr(this,de)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,M=this.keys();return Zt({next:function(){var z=M.next(),q=z.done,de=z.value;return{done:q,value:q?void 0:w.get(de)}}})},O.prototype.entries=function(){var w=this,M=this.keys();return Zt({next:function(){var z=M.next(),q=z.done,de=z.value;return{done:q,value:q?void 0:[de,w.get(de)]}}})},O.prototype[Xa=H,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,M){var z,q;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var We=Ae(Se.value,2),ct=We[0],Vt=We[1];w.call(M,Vt,ct,this)}}catch(tt){z={error:tt}}finally{try{Se&&!Se.done&&(q=de.return)&&q.call(de)}finally{if(z)throw z.error}}},O.prototype.merge=function(w){var M=this;return Yn(w)&&(w=w.toJS()),nr((function(){var z=It(!0);try{N(w)?ie(w).forEach((function(q){return M.set(q,w[q])})):Array.isArray(w)?w.forEach((function(q){var de=Ae(q,2),Se=de[0],We=de[1];return M.set(Se,We)})):G(w)?(w.constructor!==Map&&j("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach((function(q,de){return M.set(de,q)}))):w!=null&&j("Cannot initialize map from "+w)}finally{bn(z)}})),this},O.prototype.clear=function(){var w=this;nr((function(){he((function(){var M,z;try{for(var q=me(w.keys()),de=q.next();!de.done;de=q.next()){var Se=de.value;w.delete(Se)}}catch(We){M={error:We}}finally{try{de&&!de.done&&(z=q.return)&&z.call(q)}finally{if(M)throw M.error}}}))}))},O.prototype.replace=function(w){var M=this;return nr((function(){var z,q,de,Se,We=(function(xr){if(G(xr)||Yn(xr))return xr;if(Array.isArray(xr))return new Map(xr);if(N(xr)){var ha=new Map;for(var Fi in xr)ha.set(Fi,xr[Fi]);return ha}return j("Cannot convert to map from '"+xr+"'")})(w),ct=new Map,Vt=!1;try{for(var tt=me(M._data.keys()),wn=tt.next();!wn.done;wn=tt.next()){var $t=wn.value;if(!We.has($t))if(M.delete($t))Vt=!0;else{var cn=M._data.get($t);ct.set($t,cn)}}}catch(xr){z={error:xr}}finally{try{wn&&!wn.done&&(q=tt.return)&&q.call(tt)}finally{if(z)throw z.error}}try{for(var to=me(We.entries()),Dn=to.next();!Dn.done;Dn=to.next()){var Ir=Ae(Dn.value,2),Yo=($t=Ir[0],cn=Ir[1],M._data.has($t));if(M.set($t,cn),M._data.has($t)){var Vo=M._data.get($t);ct.set($t,Vo),Yo||(Vt=!0)}}}catch(xr){de={error:xr}}finally{try{Dn&&!Dn.done&&(Se=to.return)&&Se.call(to)}finally{if(de)throw de.error}}if(!Vt)if(M._data.size!==ct.size)M._keysAtom.reportChanged();else for(var da=M._data.keys(),ts=ct.keys(),fi=da.next(),Va=ts.next();!fi.done;){if(fi.value!==Va.value){M._keysAtom.reportChanged();break}fi=da.next(),Va=ts.next()}M._data=ct})),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,M,z={};try{for(var q=me(this),de=q.next();!de.done;de=q.next()){var Se=Ae(de.value,2),We=Se[0],ct=Se[1];z[typeof We=="symbol"?We:re(We)]=ct}}catch(Vt){w={error:Vt}}finally{try{de&&!de.done&&(M=q.return)&&M.call(q)}finally{if(w)throw w.error}}return z},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map((function(M){return re(M)+": "+w.get(M)})).join(", ")+" }]"},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O})(),Yn=U("ObservableMap",Qu),pa={},So=(function(){function O(w,M,z){if(M===void 0&&(M=Je),z===void 0&&(z="ObservableSet@"+E()),this.name=z,this[Ju]=pa,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(q,de){return M(q,de,z)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;nr((function(){he((function(){var M,z;try{for(var q=me(w._data.values()),de=q.next();!de.done;de=q.next()){var Se=de.value;w.delete(Se)}}catch(We){M={error:We}}finally{try{de&&!de.done&&(z=q.return)&&z.call(q)}finally{if(M)throw M.error}}}))}))},O.prototype.forEach=function(w,M){var z,q;try{for(var de=me(this),Se=de.next();!Se.done;Se=de.next()){var We=Se.value;w.call(M,We,We,this)}}catch(ct){z={error:ct}}finally{try{Se&&!Se.done&&(q=de.return)&&q.call(de)}finally{if(z)throw z.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var M=this;if(Ct(this._atom),Nr(this)&&!(q=rn(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){nr((function(){M._data.add(M.enhancer(w,void 0)),M._atom.reportChanged()}));var z=Rr(this),q=z?{type:"add",object:this,newValue:w}:null;z&&cr(this,q)}return this},O.prototype.delete=function(w){var M=this;if(Nr(this)&&!(q=rn(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var z=Rr(this),q=z?{type:"delete",object:this,oldValue:w}:null;return nr((function(){M._atom.reportChanged(),M._data.delete(w)})),z&&cr(this,q),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,M=Array.from(this.keys()),z=Array.from(this.values());return Zt({next:function(){var q=w;return w+=1,q<z.length?{value:[M[q],z[q]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,M=0,z=Array.from(this._data.values());return Zt({next:function(){return M<z.length?{value:w.dehanceValue(z[M++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var M=this;return wr(w)&&(w=w.toJS()),nr((function(){var z=It(!0);try{Array.isArray(w)||te(w)?(M.clear(),w.forEach((function(q){return M.add(q)}))):w!=null&&j("Cannot initialize set from "+w)}finally{bn(z)}})),this},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[Ju=H,Symbol.iterator]=function(){return this.values()},O})(),wr=U("ObservableSet",So),es=(function(){function O(w,M,z,q){M===void 0&&(M=new Map),this.target=w,this.values=M,this.name=z,this.defaultEnhancer=q,this.keysAtom=new B(z+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,M){var z=this.target,q=this.values.get(w);if(q instanceof wo)q.set(M);else{if(Nr(this)){if(!(Se=rn(this,{type:"update",object:this.proxy||z,name:w,newValue:M})))return;M=Se.newValue}if((M=q.prepareNewValue(M))!==ft.UNCHANGED){var de=Rr(this),Se=de?{type:"update",object:this.proxy||z,oldValue:q.value,name:w,newValue:M}:null;q.setNewValue(M),de&&cr(this,Se)}}},O.prototype.has=function(w){var M=this.pendingKeys||(this.pendingKeys=new Map),z=M.get(w);if(z)return z.get();var q=!!this.values.get(w);return z=new Cn(q,bt,this.name+"."+re(w)+"?",!1),M.set(w,z),z.get()},O.prototype.addObservableProp=function(w,M,z){z===void 0&&(z=this.defaultEnhancer);var q=this.target;if(Nr(this)){var de=rn(this,{object:this.proxy||q,name:w,type:"add",newValue:M});if(!de)return;M=de.newValue}var Se=new Cn(M,z,this.name+"."+re(w),!1);this.values.set(w,Se),M=Se.value,Object.defineProperty(q,w,(function(We){return li[We]||(li[We]={configurable:!0,enumerable:!0,get:function(){return this[H].read(We)},set:function(ct){this[H].write(We,ct)}})})(w)),this.notifyPropertyAddition(w,M)},O.prototype.addComputedProp=function(w,M,z){var q,de,Se,We=this.target;z.name=z.name||this.name+"."+re(M),this.values.set(M,new wo(z)),(w===We||(q=w,de=M,!(Se=Object.getOwnPropertyDescriptor(q,de))||Se.configurable!==!1&&Se.writable!==!1))&&Object.defineProperty(w,M,(function(ct){return Ya[ct]||(Ya[ct]={configurable:ft.computedConfigurable,enumerable:!1,get:function(){return jo(this).read(ct)},set:function(Vt){jo(this).write(ct,Vt)}})})(M))},O.prototype.remove=function(w){if(this.values.has(w)){var M=this.target;if(Nr(this)&&!(ct=rn(this,{object:this.proxy||M,name:w,type:"remove"})))return;try{kr();var z=Rr(this),q=!1,de=this.values.get(w),Se=de&&de.get();if(de&&de.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var We=this.pendingKeys.get(w);We&&We.set(!1)}delete this.target[w];var ct=z?{type:"remove",object:this.proxy||M,oldValue:Se,name:w}:null;z&&cr(this,ct)}finally{Wr()}}},O.prototype.illegalAccess=function(w,M){},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return Ho(this,w)},O.prototype.notifyPropertyAddition=function(w,M){var z=Rr(this),q=z?{type:"add",object:this.proxy||this.target,name:w,newValue:M}:null;if(z&&cr(this,q),this.pendingKeys){var de=this.pendingKeys.get(w);de&&de.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,M;this.keysAtom.reportObserved();var z=[];try{for(var q=me(this.values),de=q.next();!de.done;de=q.next()){var Se=Ae(de.value,2),We=Se[0];Se[1]instanceof Cn&&z.push(We)}}catch(ct){w={error:ct}}finally{try{de&&!de.done&&(M=q.return)&&M.call(q)}finally{if(w)throw w.error}}return z},O})();function $r(O,w,M){if(w===void 0&&(w=""),M===void 0&&(M=Je),Object.prototype.hasOwnProperty.call(O,H))return O[H];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var z=new es(O,new Map,re(w),M);return L(O,H,z),z}var li=Object.create(null),Ya=Object.create(null);function jo(O){var w=O[H];return w||(rt(O),O[H])}var Ur=U("ObservableObjectAdministration",es);function Cr(O){return!!C(O)&&(rt(O),Ur(O[H]))}function eo(O,w){if(typeof O=="object"&&O!==null){if(Qr(O))return w!==void 0&&j(!1),O[H].atom;if(wr(O))return O[H];if(Yn(O)){var M=O;return w===void 0?M._keysAtom:((z=M._data.get(w)||M._hasMap.get(w))||j(!1),z)}var z;if(rt(O),w&&!O[H]&&O[w],Cr(O))return w?((z=O[H].values.get(w))||j(!1),z):j(!1);if(X(O)||Fo(O)||ca(O))return O}else if(typeof O=="function"&&ca(O[H]))return O[H];return j(!1)}function Po(O,w){return O||j("Expecting some object"),w!==void 0?Po(eo(O,w)):X(O)||Fo(O)||ca(O)||Yn(O)||wr(O)?O:(rt(O),O[H]?O[H]:void j(!1))}var we=Object.prototype.toString;function Re(O,w,M){return M===void 0&&(M=-1),Ie(O,w,M)}function Ie(O,w,M,z,q){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var de=typeof O;if(de!=="function"&&de!=="object"&&typeof w!="object")return!1;var Se=we.call(O);if(Se!==we.call(w))return!1;switch(Se){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":M>=0&&M++}O=et(O),w=et(w);var We=Se==="[object Array]";if(!We){if(typeof O!="object"||typeof w!="object")return!1;var ct=O.constructor,Vt=w.constructor;if(ct!==Vt&&!(typeof ct=="function"&&ct instanceof ct&&typeof Vt=="function"&&Vt instanceof Vt)&&"constructor"in O&&"constructor"in w)return!1}if(M===0)return!1;M<0&&(M=-1),q=q||[];for(var tt=(z=z||[]).length;tt--;)if(z[tt]===O)return q[tt]===w;if(z.push(O),q.push(w),We){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Ie(O[tt],w[tt],M-1,z,q))return!1}else{var wn=Object.keys(O),$t=void 0;if(tt=wn.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!Wt(w,$t=wn[tt])||!Ie(O[$t],w[$t],M-1,z,q))return!1}return z.pop(),q.pop(),!0}function et(O){return Qr(O)?O.slice():G(O)||Yn(O)||te(O)||wr(O)?Array.from(O.entries()):O}function Wt(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Zt(O){return O[Symbol.iterator]=Pn,O}function Pn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Fu,extras:{getDebugName:function(O,w){return(w!==void 0?eo(O,w):Cr(O)||Yn(O)||wr(O)?Po(O):eo(O)).name}},$mobx:H})}).call(this,o(163),o(68))},function(a,p,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(a,p,o){var d=o(41),h=o(100),m=o(80),g=o(58),E=o(116),j="Array Iterator",P=g.set,k=g.getterFor(j);a.exports=E(Array,"Array",(function(T,C){P(this,{type:j,target:d(T),index:0,kind:C})}),(function(){var T=k(this),C=T.target,N=T.kind,L=T.index++;return!C||L>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:L,done:!1}:N=="values"?{value:C[L],done:!1}:{value:[L,C[L]],done:!1}}),"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(a,p,o){var d=o(16),h=o(7),m=o(46),g=o(76),E=o(34),j=o(15),P=o(71),k=o(36),T=o(108),C=o(18),N=o(35),L=o(96),U=o(30),G=o(33),te=o(54),ie=o(87),re=o(32),Q=o(40),Z=o(41),H=o(86),B=o(39),X=o(69),Y=o(60),K=o(77),ue=o(74),Ee=o(139),me=o(112),Ae=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Me=o(89),$e=o(93),rt=o(72),xt=o(90),Ye=o(28),Je=o(140),bt=o(141),ce=o(78),se=o(58),ye=o(79).forEach,De=$e("hidden"),He="Symbol",ze=Ye("toPrimitive"),Et=se.set,Nt=se.getterFor(He),Pt=Object.prototype,gt=h.Symbol,Te=gt&&gt.prototype,lt=h.TypeError,pe=h.QObject,ut=m("JSON","stringify"),Bt=Ae.f,dn=Fe.f,Ft=Ee.f,nn=je.f,On=j([].push),Tn=Me("symbols"),Ct=Me("op-symbols"),Hn=Me("string-to-symbol-registry"),ee=Me("symbol-to-string-registry"),he=Me("wks"),ae=!pe||!pe.prototype||!pe.prototype.findChild,_e=k&&C((function(){return Y(dn({},"a",{get:function(){return dn(this,"a",{value:7}).a}})).a!=7}))?function(st,_t,jt){var It=Bt(Pt,_t);It&&delete Pt[_t],dn(st,_t,jt),It&&st!==Pt&&dn(Pt,_t,It)}:dn,Ve=function(st,_t){var jt=Tn[st]=Y(Te);return Et(jt,{type:He,tag:st,description:_t}),k||(jt.description=_t),jt},Ke=function(st,_t,jt){st===Pt&&Ke(Ct,_t,jt),re(st);var It=H(_t);return re(jt),N(Tn,It)?(jt.enumerable?(N(st,De)&&st[De][It]&&(st[De][It]=!1),jt=Y(jt,{enumerable:X(0,!1)})):(N(st,De)||dn(st,De,X(1,{})),st[De][It]=!0),_e(st,It,jt)):dn(st,It,jt)},pt=function(st,_t){re(st);var jt=Z(_t),It=K(jt).concat(Xn(jt));return ye(It,(function(bn){k&&!E(Xt,jt,bn)||Ke(st,bn,jt[bn])})),st},Xt=function(st){var _t=H(st),jt=E(nn,this,_t);return!(this===Pt&&N(Tn,_t)&&!N(Ct,_t))&&(!(jt||!N(this,_t)||!N(Tn,_t)||N(this,De)&&this[De][_t])||jt)},tr=function(st,_t){var jt=Z(st),It=H(_t);if(jt!==Pt||!N(Tn,It)||N(Ct,It)){var bn=Bt(jt,It);return!bn||!N(Tn,It)||N(jt,De)&&jt[De][It]||(bn.enumerable=!0),bn}},pr=function(st){var _t=Ft(Z(st)),jt=[];return ye(_t,(function(It){N(Tn,It)||N(rt,It)||On(jt,It)})),jt},Xn=function(st){var _t=st===Pt,jt=Ft(_t?Ct:Z(st)),It=[];return ye(jt,(function(bn){!N(Tn,bn)||_t&&!N(Pt,bn)||On(It,Tn[bn])})),It};if(T||(gt=function(){if(te(Te,this))throw lt("Symbol is not a constructor");var st=arguments.length&&arguments[0]!==void 0?B(arguments[0]):void 0,_t=xt(st),jt=function(It){this===Pt&&E(jt,Ct,It),N(this,De)&&N(this[De],_t)&&(this[De][_t]=!1),_e(this,_t,X(1,It))};return k&&ae&&_e(Pt,_t,{configurable:!0,set:jt}),Ve(_t,st)},Pe(Te=gt.prototype,"toString",(function(){return Nt(this).tag})),Pe(gt,"withoutSetter",(function(st){return Ve(xt(st),st)})),je.f=Xt,Fe.f=Ke,Ae.f=tr,ue.f=Ee.f=pr,me.f=Xn,Je.f=function(st){return Ve(Ye(st),st)},k&&(dn(Te,"description",{configurable:!0,get:function(){return Nt(this).description}}),P||Pe(Pt,"propertyIsEnumerable",Xt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:gt}),ye(K(he),(function(st){bt(st)})),d({target:He,stat:!0,forced:!T},{for:function(st){var _t=B(st);if(N(Hn,_t))return Hn[_t];var jt=gt(_t);return Hn[_t]=jt,ee[jt]=_t,jt},keyFor:function(st){if(!ie(st))throw lt(st+" is not a symbol");if(N(ee,st))return ee[st]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),d({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(st,_t){return _t===void 0?Y(st):pt(Y(st),_t)},defineProperty:Ke,defineProperties:pt,getOwnPropertyDescriptor:tr}),d({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:pr,getOwnPropertySymbols:Xn}),d({target:"Object",stat:!0,forced:C((function(){me.f(1)}))},{getOwnPropertySymbols:function(st){return me.f(Q(st))}}),ut&&d({target:"JSON",stat:!0,forced:!T||C((function(){var st=gt();return ut([st])!="[null]"||ut({a:st})!="{}"||ut(Object(st))!="{}"}))},{stringify:function(st,_t,jt){var It=ve(arguments),bn=_t;if((G(_t)||st!==void 0)&&!ie(st))return L(_t)||(_t=function(Cn,Bo){if(U(bn)&&(Bo=E(bn,this,Cn,Bo)),!ie(Bo))return Bo}),It[1]=_t,g(ut,null,It)}}),!Te[ze]){var qn=Te.valueOf;Pe(Te,ze,(function(st){return E(qn,this)}))}ce(gt,He),rt[De]=!0},function(a,p,o){var d=o(7),h=o(152),m=o(153),g=o(3),E=o(57),j=o(28),P=j("iterator"),k=j("toStringTag"),T=g.values,C=function(L,U){if(L){if(L[P]!==T)try{E(L,P,T)}catch(te){L[P]=T}if(L[k]||E(L,k,U),h[U]){for(var G in g)if(L[G]!==g[G])try{E(L,G,g[G])}catch(te){L[G]=g[G]}}}};for(var N in h)C(d[N]&&d[N].prototype,N);C(m,"DOMTokenList")},function(a,p,o){var d=o(151).charAt,h=o(39),m=o(58),g=o(116),E="String Iterator",j=m.set,P=m.getterFor(E);g(String,"String",(function(k){j(this,{type:E,string:h(k),index:0})}),(function(){var k,T=P(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=d(C,N),T.index+=k.length,{value:k,done:!1})}))},function(a,p,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};a.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||(function(){return this})()||Function("return this")()}).call(this,o(68))},function(a,p,o){var d=o(16),h=o(36),m=o(7),g=o(15),E=o(35),j=o(30),P=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,L=N&&N.prototype;if(h&&j(N)&&(!("description"in L)||N().description!==void 0)){var U={},G=function(){var B=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),X=P(L,this)?new N(B):B===void 0?N():N(B);return B===""&&(U[X]=!0),X};C(G,N),G.prototype=L,L.constructor=G;var te=String(N("test"))=="Symbol(test)",ie=g(L.toString),re=g(L.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,Z=g("".replace),H=g("".slice);T(L,"description",{configurable:!0,get:function(){var B=re(this),X=ie(B);if(E(U,B))return"";var Y=te?H(X,7,-1):Z(X,Q,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:G})}},function(a,p,o){o(141)("iterator")},function(a,p,o){o.d(p,"a",(function(){return g.a})),o.d(p,"c",(function(){return g.e})),o.d(p,"h",(function(){return Q})),o.d(p,"i",(function(){return te})),o.d(p,"j",(function(){return U})),o.d(p,"b",(function(){return Ae})),o.d(p,"e",(function(){return Pe})),o.d(p,"f",(function(){return Fe})),o.d(p,"g",(function(){return Tn}));var d,h,m,g=o(0),E=0,j=[],P=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function L(ee,he){g.i.__h&&g.i.__h(h,ee,E||he),E=0;var ae=h.__H||(h.__H={__:[],__h:[]});return ee>=ae.__.length&&ae.__.push({}),ae.__[ee]}function U(ee){return E=1,G(ue,ee)}function G(ee,he,ae){var _e=L(d++,2);return _e.t=ee,_e.__c||(_e.__=[ae?ae(he):ue(void 0,he),function(Ve){var Ke=_e.t(_e.__[0],Ve);_e.__[0]!==Ke&&(_e.__=[Ke,_e.__[1]],_e.__c.setState({}))}],_e.__c=h),_e.__}function te(ee,he){var ae=L(d++,3);!g.i.__s&&K(ae.__H,he)&&(ae.__=ee,ae.__H=he,h.__H.__h.push(ae))}function ie(ee,he){var ae=L(d++,4);!g.i.__s&&K(ae.__H,he)&&(ae.__=ee,ae.__H=he,h.__h.push(ae))}function re(ee,he){var ae=L(d++,7);return K(ae.__H,he)&&(ae.__=ee(),ae.__H=he,ae.__h=ee),ae.__}function Q(ee,he){return E=8,re((function(){return ee}),he)}function Z(){var ee;for(j.sort((function(he,ae){return he.__v.__b-ae.__v.__b}));ee=j.pop();)if(ee.__P)try{ee.__H.__h.forEach(X),ee.__H.__h.forEach(Y),ee.__H.__h=[]}catch(he){ee.__H.__h=[],g.i.__e(he,ee.__v)}}g.i.__b=function(ee){h=null,P&&P(ee)},g.i.__r=function(ee){k&&k(ee),d=0;var he=(h=ee.__c).__H;he&&(he.__h.forEach(X),he.__h.forEach(Y),he.__h=[])},g.i.diffed=function(ee){T&&T(ee);var he=ee.__c;he&&he.__H&&he.__H.__h.length&&(j.push(he)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||B)(Z)),h=null},g.i.__c=function(ee,he){he.some((function(ae){try{ae.__h.forEach(X),ae.__h=ae.__h.filter((function(_e){return!_e.__||Y(_e)}))}catch(_e){he.some((function(Ve){Ve.__h&&(Ve.__h=[])})),he=[],g.i.__e(_e,ae.__v)}})),C&&C(ee,he)},g.i.unmount=function(ee){N&&N(ee);var he,ae=ee.__c;ae&&ae.__H&&(ae.__H.__.forEach((function(_e){try{X(_e)}catch(Ve){he=Ve}})),he&&g.i.__e(he,ae.__v))};var H=typeof requestAnimationFrame=="function";function B(ee){var he,ae=function(){clearTimeout(_e),H&&cancelAnimationFrame(he),setTimeout(ee)},_e=setTimeout(ae,100);H&&(he=requestAnimationFrame(ae))}function X(ee){var he=h,ae=ee.__c;typeof ae=="function"&&(ee.__c=void 0,ae()),h=he}function Y(ee){var he=h;ee.__c=ee.__(),h=he}function K(ee,he){return!ee||ee.length!==he.length||he.some((function(ae,_e){return ae!==ee[_e]}))}function ue(ee,he){return typeof he=="function"?he(ee):he}function Ee(ee,he){for(var ae in he)ee[ae]=he[ae];return ee}function me(ee,he){for(var ae in ee)if(ae!=="__source"&&!(ae in he))return!0;for(var _e in he)if(_e!=="__source"&&ee[_e]!==he[_e])return!0;return!1}function Ae(ee){this.props=ee}function Fe(ee,he){function ae(Ve){var Ke=this.props.ref,pt=Ke==Ve.ref;return!pt&&Ke&&(Ke.call?Ke(null):Ke.current=null),he?!he(this.props,Ve)||!pt:me(this.props,Ve)}function _e(Ve){return this.shouldComponentUpdate=ae,Object(g.e)(ee,Ve)}return _e.displayName="Memo("+(ee.displayName||ee.name)+")",_e.prototype.isReactComponent=!0,_e.__f=!0,_e}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(ee,he){return me(this.props,ee)||me(this.state,he)};var je=g.i.__b;g.i.__b=function(ee){ee.type&&ee.type.__f&&ee.ref&&(ee.props.ref=ee.ref,ee.ref=null),je&&je(ee)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(ee){function he(ae,_e){var Ve=Ee({},ae);return delete Ve.ref,ee(Ve,!(_e=ae.ref||_e)||typeof _e=="object"&&!("current"in _e)?null:_e)}return he.$$typeof=ve,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(ee.displayName||ee.name)+")",he}var Me=function(ee,he){return ee==null?null:Object(g.k)(Object(g.k)(ee).map(he))},$e={map:Me,forEach:Me,count:function(ee){return ee?Object(g.k)(ee).length:0},only:function(ee){var he=Object(g.k)(ee);if(he.length!==1)throw"Children.only";return he[0]},toArray:g.k},rt=g.i.__e;g.i.__e=function(ee,he,ae){if(ee.then){for(var _e,Ve=he;Ve=Ve.__;)if((_e=Ve.__c)&&_e.__c)return he.__e==null&&(he.__e=ae.__e,he.__k=ae.__k),_e.__c(ee,he)}rt(ee,he,ae)};var xt=g.i.unmount;function Ye(ee,he,ae){return ee&&(ee.__c&&ee.__c.__H&&(ee.__c.__H.__.forEach((function(_e){typeof _e.__c=="function"&&_e.__c()})),ee.__c.__H=null),(ee=Ee({},ee)).__c!=null&&(ee.__c.__P===ae&&(ee.__c.__P=he),ee.__c=null),ee.__k=ee.__k&&ee.__k.map((function(_e){return Ye(_e,he,ae)}))),ee}function Je(ee,he,ae){return ee&&(ee.__v=null,ee.__k=ee.__k&&ee.__k.map((function(_e){return Je(_e,he,ae)})),ee.__c&&ee.__c.__P===he&&(ee.__e&&ae.insertBefore(ee.__e,ee.__d),ee.__c.__e=!0,ee.__c.__P=ae)),ee}function bt(){this.__u=0,this.t=null,this.__b=null}function ce(ee){var he=ee.__.__c;return he&&he.__e&&he.__e(ee)}function se(){this.u=null,this.o=null}g.i.unmount=function(ee){var he=ee.__c;he&&he.__R&&he.__R(),he&&ee.__h===!0&&(ee.type=null),xt&&xt(ee)},(bt.prototype=new g.a).__c=function(ee,he){var ae=he.__c,_e=this;_e.t==null&&(_e.t=[]),_e.t.push(ae);var Ve=ce(_e.__v),Ke=!1,pt=function(){Ke||(Ke=!0,ae.__R=null,Ve?Ve(Xt):Xt())};ae.__R=pt;var Xt=function(){if(!--_e.__u){if(_e.state.__e){var pr=_e.state.__e;_e.__v.__k[0]=Je(pr,pr.__c.__P,pr.__c.__O)}var Xn;for(_e.setState({__e:_e.__b=null});Xn=_e.t.pop();)Xn.forceUpdate()}},tr=he.__h===!0;_e.__u++||tr||_e.setState({__e:_e.__b=_e.__v.__k[0]}),ee.then(pt,pt)},bt.prototype.componentWillUnmount=function(){this.t=[]},bt.prototype.render=function(ee,he){if(this.__b){if(this.__v.__k){var ae=document.createElement("div"),_e=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,ae,_e.__O=_e.__P)}this.__b=null}var Ve=he.__e&&Object(g.e)(g.b,null,ee.fallback);return Ve&&(Ve.__h=null),[Object(g.e)(g.b,null,he.__e?null:ee.children),Ve]};var ye=function(ee,he,ae){if(++ae[1]===ae[0]&&ee.o.delete(he),ee.props.revealOrder&&(ee.props.revealOrder[0]!=="t"||!ee.o.size))for(ae=ee.u;ae;){for(;ae.length>3;)ae.pop()();if(ae[1]<ae[0])break;ee.u=ae=ae[2]}};function De(ee){return this.getChildContext=function(){return ee.context},ee.children}function He(ee){var he=this,ae=ee.i;he.componentWillUnmount=function(){Object(g.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==ae&&he.componentWillUnmount(),ee.__v?(he.l||(he.i=ae,he.l={nodeType:1,parentNode:ae,childNodes:[],appendChild:function(_e){this.childNodes.push(_e),he.i.appendChild(_e)},insertBefore:function(_e,Ve){this.childNodes.push(_e),he.i.appendChild(_e)},removeChild:function(_e){this.childNodes.splice(this.childNodes.indexOf(_e)>>>1,1),he.i.removeChild(_e)}}),Object(g.j)(Object(g.e)(De,{context:he.context},ee.__v),he.l)):he.l&&he.componentWillUnmount()}(se.prototype=new g.a).__e=function(ee){var he=this,ae=ce(he.__v),_e=he.o.get(ee);return _e[0]++,function(Ve){var Ke=function(){he.props.revealOrder?(_e.push(Ve),ye(he,ee,_e)):Ve()};ae?ae(Ke):Ke()}},se.prototype.render=function(ee){this.u=null,this.o=new Map;var he=Object(g.k)(ee.children);ee.revealOrder&&ee.revealOrder[0]==="b"&&he.reverse();for(var ae=he.length;ae--;)this.o.set(he[ae],this.u=[1,0,this.u]);return ee.children},se.prototype.componentDidUpdate=se.prototype.componentDidMount=function(){var ee=this;this.o.forEach((function(he,ae){ye(ee,ae,he)}))};var ze=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Et=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nt=typeof document!="undefined",Pt=function(ee){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(ee)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(ee){Object.defineProperty(g.a.prototype,ee,{configurable:!0,get:function(){return this["UNSAFE_"+ee]},set:function(he){Object.defineProperty(this,ee,{configurable:!0,writable:!0,value:he})}})}));var gt=g.i.event;function Te(){}function lt(){return this.cancelBubble}function pe(){return this.defaultPrevented}g.i.event=function(ee){return gt&&(ee=gt(ee)),ee.persist=Te,ee.isPropagationStopped=lt,ee.isDefaultPrevented=pe,ee.nativeEvent=ee};var ut,Bt={configurable:!0,get:function(){return this.class}},dn=g.i.vnode;g.i.vnode=function(ee){var he=ee.type,ae=ee.props,_e=ae;if(typeof he=="string"){var Ve=he.indexOf("-")===-1;for(var Ke in _e={},ae){var pt=ae[Ke];Nt&&Ke==="children"&&he==="noscript"||Ke==="value"&&"defaultValue"in ae&&pt==null||(Ke==="defaultValue"&&"value"in ae&&ae.value==null?Ke="value":Ke==="download"&&pt===!0?pt="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+he)&&!Pt(ae.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():Ve&&Et.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():pt===null&&(pt=void 0),_e[Ke]=pt)}he=="select"&&_e.multiple&&Array.isArray(_e.value)&&(_e.value=Object(g.k)(ae.children).forEach((function(Xt){Xt.props.selected=_e.value.indexOf(Xt.props.value)!=-1}))),he=="select"&&_e.defaultValue!=null&&(_e.value=Object(g.k)(ae.children).forEach((function(Xt){Xt.props.selected=_e.multiple?_e.defaultValue.indexOf(Xt.props.value)!=-1:_e.defaultValue==Xt.props.value}))),ee.props=_e,ae.class!=ae.className&&(Bt.enumerable="className"in ae,ae.className!=null&&(_e.class=ae.className),Object.defineProperty(_e,"className",Bt))}ee.$$typeof=ze,dn&&dn(ee)};var Ft=g.i.__r;g.i.__r=function(ee){Ft&&Ft(ee),ut=ee.__c};var nn={ReactCurrentDispatcher:{current:{readContext:function(ee){return ut.__n[ee.__c].props.value}}}};function On(ee){return!!ee&&ee.$$typeof===ze}var Tn=function(ee,he){return ee(he)},Ct=g.b,Hn={useState:U,useReducer:G,useEffect:te,useLayoutEffect:ie,useRef:function(ee){return E=5,re((function(){return{current:ee}}),[])},useImperativeHandle:function(ee,he,ae){E=6,ie((function(){typeof ee=="function"?ee(he()):ee&&(ee.current=he())}),ae==null?ae:ae.concat(ee))},useMemo:re,useCallback:Q,useContext:function(ee){var he=h.context[ee.__c],ae=L(d++,9);return ae.c=ee,he?(ae.__==null&&(ae.__=!0,he.sub(h)),he.props.value):ee.__},useDebugValue:function(ee,he){g.i.useDebugValue&&g.i.useDebugValue(he?he(ee):ee)},version:"17.0.2",Children:$e,render:function(ee,he,ae){return he.__k==null&&(he.textContent=""),Object(g.j)(ee,he),typeof ae=="function"&&ae(),ee?ee.__c:null},hydrate:function(ee,he,ae){return Object(g.h)(ee,he),typeof ae=="function"&&ae(),ee?ee.__c:null},unmountComponentAtNode:function(ee){return!!ee.__k&&(Object(g.j)(null,ee),!0)},createPortal:function(ee,he){return Object(g.e)(He,{__v:ee,i:he})},createElement:g.e,createContext:g.d,createFactory:function(ee){return g.e.bind(null,ee)},cloneElement:function(ee){return On(ee)?g.c.apply(null,arguments):ee},createRef:g.f,Fragment:g.b,isValidElement:On,findDOMNode:function(ee){return ee&&(ee.base||ee.nodeType===1&&ee)||null},Component:g.a,PureComponent:Ae,memo:Fe,forwardRef:Pe,flushSync:function(ee,he){return ee(he)},unstable_batchedUpdates:Tn,StrictMode:Ct,Suspense:bt,SuspenseList:se,lazy:function(ee){var he,ae,_e;function Ve(Ke){if(he||(he=ee()).then((function(pt){ae=pt.default||pt}),(function(pt){_e=pt})),_e)throw _e;if(!ae)throw he;return Object(g.e)(ae,Ke)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nn};p.d=Hn},function(a,p,o){var d=o(7),h=o(152),m=o(153),g=o(187),E=o(57),j=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch(T){k.forEach=g}};for(var P in h)h[P]&&j(d[P]&&d[P].prototype);j(m)},function(a,p,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(a,p,o){var d=o(16),h=o(18),m=o(40),g=o(101),E=o(143);d({target:"Object",stat:!0,forced:h((function(){g(1)})),sham:!E},{getPrototypeOf:function(j){return g(m(j))}})},function(a,p,o){var d=o(16),h=o(46),m=o(76),g=o(203),E=o(165),j=o(32),P=o(33),k=o(60),T=o(18),C=h("Reflect","construct"),N=Object.prototype,L=[].push,U=T((function(){function ie(){}return!(C((function(){}),[],ie)instanceof ie)})),G=!T((function(){C((function(){}))})),te=U||G;d({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ie,re){E(ie),j(re);var Q=arguments.length<3?ie:E(arguments[2]);if(G&&!U)return C(ie,re,Q);if(ie==Q){switch(re.length){case 0:return new ie;case 1:return new ie(re[0]);case 2:return new ie(re[0],re[1]);case 3:return new ie(re[0],re[1],re[2]);case 4:return new ie(re[0],re[1],re[2],re[3])}var Z=[null];return m(L,Z,re),new(m(g,ie,Z))}var H=Q.prototype,B=k(P(H)?H:N),X=m(ie,B,re);return P(X)?X:B}})},function(a,p){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);a.exports=d?function(g){return g&&m(h,g)}:function(g){return g&&function(){return h.apply(g,arguments)}}},function(a,p,o){var d=o(7),h=o(50).f,m=o(57),g=o(42),E=o(110),j=o(134),P=o(95);a.exports=function(k,T){var C,N,L,U,G,te=k.target,ie=k.global,re=k.stat;if(C=ie?d:re?d[te]||E(te,{}):(d[te]||{}).prototype)for(N in T){if(U=T[N],L=k.noTargetGet?(G=h(C,N))&&G.value:C[N],!P(ie?N:te+(re?".":"#")+N,k.forced)&&L!==void 0){if(typeof U==typeof L)continue;j(U,L)}(k.sham||L&&L.sham)&&m(U,"sham",!0),g(C,N,U,k)}}},function(a,p,o){var d=o(16),h=o(7),m=o(96),g=o(99),E=o(33),j=o(75),P=o(45),k=o(41),T=o(63),C=o(28),N=o(81),L=o(98),U=N("slice"),G=C("species"),te=h.Array,ie=Math.max;d({target:"Array",proto:!0,forced:!U},{slice:function(re,Q){var Z,H,B,X=k(this),Y=P(X),K=j(re,Y),ue=j(Q===void 0?Y:Q,Y);if(m(X)&&(Z=X.constructor,(g(Z)&&(Z===te||m(Z.prototype))||E(Z)&&(Z=Z[G])===null)&&(Z=void 0),Z===te||Z===void 0))return L(X,K,ue);for(H=new(Z===void 0?te:Z)(ie(ue-K,0)),B=0;K<ue;K++,B++)K in X&&T(H,B,X[K]);return H.length=B,H}})},function(a,p){a.exports=function(o){try{return!!o()}catch(d){return!0}}},function(a,p,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(a,p,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)((function(){m(1)}))},{keys:function(g){return m(h(g))}})},function(a,p,o){var d=o(36),h=o(73).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,j=m(E.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(P.exec);d&&!h&&g(E,"name",{configurable:!0,get:function(){try{return k(P,j(this))[1]}catch(T){return""}}})},function(a,p,o){var d=o(16),h=o(18),m=o(41),g=o(50).f,E=o(36),j=h((function(){g(1)}));d({target:"Object",stat:!0,forced:!E||j,sham:!E},{getOwnPropertyDescriptor:function(P,k){return g(m(P),k)}})},function(a,p,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)((function(m){Array.from(m)}))},{from:h})},function(a,p,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(16),h=o(36),m=o(135),g=o(41),E=o(50),j=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(P){for(var k,T,C=g(P),N=E.f,L=m(C),U={},G=0;L.length>G;)(T=N(C,k=L[G++]))!==void 0&&j(U,k,T);return U}})},,function(a,p,o){var d=o(16),h=o(7),m=o(18),g=o(96),E=o(33),j=o(40),P=o(45),k=o(63),T=o(115),C=o(81),N=o(28),L=o(70),U=N("isConcatSpreadable"),G=9007199254740991,te="Maximum allowed index exceeded",ie=h.TypeError,re=L>=51||!m((function(){var H=[];return H[U]=!1,H.concat()[0]!==H})),Q=C("concat"),Z=function(H){if(!E(H))return!1;var B=H[U];return B!==void 0?!!B:g(H)};d({target:"Array",proto:!0,forced:!re||!Q},{concat:function(H){var B,X,Y,K,ue,Ee=j(this),me=T(Ee,0),Ae=0;for(B=-1,Y=arguments.length;B<Y;B++)if(Z(ue=B===-1?Ee:arguments[B])){if(Ae+(K=P(ue))>G)throw ie(te);for(X=0;X<K;X++,Ae++)X in ue&&k(me,Ae,ue[X])}else{if(Ae>=G)throw ie(te);k(me,Ae++,ue)}return me.length=Ae,me}})},function(a,p,o){var d=o(7),h=o(89),m=o(35),g=o(90),E=o(108),j=o(132),P=h("wks"),k=d.Symbol,T=k&&k.for,C=j?k:k&&k.withoutSetter||g;a.exports=function(N){if(!m(P,N)||!E&&typeof P[N]!="string"){var L="Symbol."+N;E&&m(k,N)?P[N]=k[N]:P[N]=j&&T?T(L):C(L)}return P[N]}},function(a,p,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(a,p){a.exports=function(o){return typeof o=="function"}},function(a,p,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();p.a=m},function(a,p,o){var d=o(7),h=o(33),m=d.String,g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not an object")}},function(a,p,o){var d=o(30);a.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(a,p){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,p,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,E){return m(h(g),E)}},function(a,p,o){var d=o(18);a.exports=!d((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}))},function(a,p,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(7),h=o(36),m=o(133),g=o(32),E=o(86),j=d.TypeError,P=Object.defineProperty;p.f=h?P:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return P(k,T,C)}catch(N){}if("get"in C||"set"in C)throw j("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(a,p,o){var d=o(7),h=o(97),m=d.String;a.exports=function(g){if(h(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(a,p,o){var d=o(7),h=o(44),m=d.Object;a.exports=function(g){return m(h(g))}},function(a,p,o){var d=o(85),h=o(44);a.exports=function(m){return d(h(m))}},function(a,p,o){var d=o(7),h=o(30),m=o(35),g=o(57),E=o(110),j=o(92),P=o(58),k=o(73).CONFIGURABLE,T=P.get,C=P.enforce,N=String(String).split("String");(a.exports=function(L,U,G,te){var ie,re=!!te&&!!te.unsafe,Q=!!te&&!!te.enumerable,Z=!!te&&!!te.noTargetGet,H=te&&te.name!==void 0?te.name:U;h(G)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(G,"name")||k&&G.name!==H)&&g(G,"name",H),(ie=C(G)).source||(ie.source=N.join(typeof H=="string"?H:""))),L!==d?(re?!Z&&L[U]&&(Q=!0):delete L[U],Q?L[U]=G:g(L,U,G)):Q?L[U]=G:E(U,G)})(Function.prototype,"toString",(function(){return h(this)&&T(this).source||j(this)}))},function(a,p,o){(function(d){o.d(p,"d",(function(){return g})),o.d(p,"c",(function(){return E})),o.d(p,"b",(function(){return j})),o.d(p,"a",(function(){return k}));var h=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var L,U,G=N.call(T),te=[];try{for(;(C===void 0||C-- >0)&&!(L=G.next()).done;)te.push(L.value)}catch(ie){U={error:ie}}finally{try{L&&!L.done&&(N=G.return)&&N.call(G)}finally{if(U)throw U.error}}return te};function g(){var T=m(Object(h.j)(0),2)[1];return Object(h.h)((function(){T((function(C){return C+1}))}),[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function j(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var P={};function k(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:P}}).call(this,o(68))},function(a,p,o){var d=o(7).TypeError;a.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(a,p,o){var d=o(94);a.exports=function(h){return d(h.length)}},function(a,p,o){var d=o(7),h=o(30),m=function(g){return h(g)?g:void 0};a.exports=function(g,E){return arguments.length<2?m(d[g]):d[g]&&d[g][E]}},function(a,p,o){var d=o(16),h=o(34),m=o(33),g=o(32),E=o(204),j=o(50),P=o(101);d({target:"Reflect",stat:!0},{get:function k(T,C){var N,L,U=arguments.length<3?T:arguments[2];return g(T)===U?T[C]:(N=j.f(T,C))?E(N)?N.value:N.get===void 0?void 0:h(N.get,U):m(L=P(T))?k(L,C,U):void 0}})},function(a,p,o){(function(d){var h=o(31),m=o(171),g=u&&!u.nodeType&&u,E=g&&typeof d=="object"&&d&&!d.nodeType&&d,j=E&&E.exports===g?h.a.Buffer:void 0,P=(j?j.isBuffer:void 0)||m.a;p.a=P}).call(this,o(122)(a))},function(a,p,o){(function(d){var h=o(106),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m&&h.a.process,j=(function(){try{var P=g&&g.require&&g.require("util").types;return P||E&&E.binding&&E.binding("util")}catch(k){}})();p.a=j}).call(this,o(122)(a))},function(a,p,o){var d=o(36),h=o(34),m=o(84),g=o(69),E=o(41),j=o(86),P=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;p.f=d?T:function(C,N){if(C=E(C),N=j(N),k)try{return T(C,N)}catch(L){}if(P(C,N))return g(!h(m.f,C,N),C[N])}},function(a,p,o){var d=o(15),h=d({}.toString),m=d("".slice);a.exports=function(g){return m(h(g),8,-1)}},function(a,p,o){o(182)("Map",(function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}}),o(186))},function(a,p,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(a,p,o){var d=o(15);a.exports=d({}.isPrototypeOf)},function(a,p,o){var d=o(46);a.exports=d("navigator","userAgent")||""},function(a,p,o){var d=o(7),h=o(30),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a function")}},function(a,p,o){var d=o(36),h=o(38),m=o(69);a.exports=d?function(g,E,j){return h.f(g,E,m(1,j))}:function(g,E,j){return g[E]=j,g}},function(a,p,o){var d,h,m,g=o(175),E=o(7),j=o(15),P=o(33),k=o(57),T=o(35),C=o(109),N=o(93),L=o(72),U="Object already initialized",G=E.TypeError,te=E.WeakMap;if(g||C.state){var ie=C.state||(C.state=new te),re=j(ie.get),Q=j(ie.has),Z=j(ie.set);d=function(B,X){if(Q(ie,B))throw new G(U);return X.facade=B,Z(ie,B,X),X},h=function(B){return re(ie,B)||{}},m=function(B){return Q(ie,B)}}else{var H=N("state");L[H]=!0,d=function(B,X){if(T(B,H))throw new G(U);return X.facade=B,k(B,H,X),X},h=function(B){return T(B,H)?B[H]:{}},m=function(B){return T(B,H)}}a.exports={set:d,get:h,has:m,enforce:function(B){return m(B)?h(B):d(B,{})},getterFor:function(B){return function(X){var Y;if(!P(X)||(Y=h(X)).type!==B)throw G("Incompatible receiver, "+B+" required");return Y}}}},function(a,p){var o=Math.ceil,d=Math.floor;a.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(a,p,o){var d,h=o(32),m=o(176),g=o(111),E=o(72),j=o(138),P=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(G){return"<script>"+G+"<\/script>"},L=function(G){G.write(N("")),G.close();var te=G.parentWindow.Object;return G=null,te},U=function(){try{d=new ActiveXObject("htmlfile")}catch(re){}var G,te;U=typeof document!="undefined"?document.domain&&d?L(d):((te=P("iframe")).style.display="none",j.appendChild(te),te.src="javascript:",(G=te.contentWindow.document).open(),G.write(N("document.F=Object")),G.close(),G.F):L(d);for(var ie=g.length;ie--;)delete U.prototype[g[ie]];return U()};E[T]=!0,a.exports=Object.create||function(G,te){var ie;return G!==null?(C.prototype=h(G),ie=new C,C.prototype=null,ie[T]=G):ie=U(),te===void 0?ie:m(ie,te)}},function(a,p,o){var d=o(36),h=o(7),m=o(15),g=o(95),E=o(42),j=o(35),P=o(148),k=o(54),T=o(87),C=o(131),N=o(18),L=o(74).f,U=o(50).f,G=o(38).f,te=o(160),ie=o(161).trim,re="Number",Q=h.Number,Z=Q.prototype,H=h.TypeError,B=m("".slice),X=m("".charCodeAt),Y=function(Fe){var je=C(Fe,"number");return typeof je=="bigint"?je:K(je)},K=function(Fe){var je,ve,Pe,Me,$e,rt,xt,Ye,Je=C(Fe,"number");if(T(Je))throw H("Cannot convert a Symbol value to a number");if(typeof Je=="string"&&Je.length>2){if(Je=ie(Je),(je=X(Je,0))===43||je===45){if((ve=X(Je,2))===88||ve===120)return NaN}else if(je===48){switch(X(Je,1)){case 66:case 98:Pe=2,Me=49;break;case 79:case 111:Pe=8,Me=55;break;default:return+Je}for(rt=($e=B(Je,2)).length,xt=0;xt<rt;xt++)if((Ye=X($e,xt))<48||Ye>Me)return NaN;return parseInt($e,Pe)}}return+Je};if(g(re,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ue,Ee=function(Fe){var je=arguments.length<1?0:Q(Y(Fe)),ve=this;return k(Z,ve)&&N((function(){te(ve)}))?P(Object(je),ve,Ee):je},me=d?L(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;me.length>Ae;Ae++)j(Q,ue=me[Ae])&&!j(Ee,ue)&&G(Ee,ue,U(Q,ue));Ee.prototype=Z,Z.constructor=Ee,E(h,re,Ee)}},function(a,p,o){var d=o(56);a.exports=function(h,m){var g=h[m];return g==null?void 0:d(g)}},function(a,p,o){var d=o(86),h=o(38),m=o(69);a.exports=function(g,E,j){var P=d(E);P in g?h.f(g,P,m(0,j)):g[P]=j}},function(a,p,o){var d=o(15),h=o(56),m=d(d.bind);a.exports=function(g,E){return h(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(a,p,o){var d=o(16),h=o(15),m=o(85),g=o(41),E=o(121),j=h([].join),P=m!=Object,k=E("join",",");d({target:"Array",proto:!0,forced:P||!k},{join:function(T){return j(g(this),T===void 0?",":T)}})},function(a,p,o){var d=o(15),h=o(73).PROPER,m=o(42),g=o(32),E=o(54),j=o(39),P=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,L=d(k),U=P((function(){return N.call({source:"a",flags:"b"})!="/a/b"})),G=h&&N.name!=T;(U||G)&&m(RegExp.prototype,T,(function(){var te=g(this),ie=j(te.source),re=te.flags;return"/"+ie+"/"+j(re===void 0&&E(C,te)&&!("flags"in C)?L(te):re)}),{unsafe:!0})},function(a,p,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(a,p){var o;o=(function(){return this})();try{o=o||new Function("return this")()}catch(d){typeof window=="object"&&(o=window)}a.exports=o},function(a,p){a.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(a,p,o){var d,h,m=o(7),g=o(55),E=m.process,j=m.Deno,P=E&&E.versions||j&&j.version,k=P&&P.v8;k&&(h=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(h=+d[1]),a.exports=h},function(a,p){a.exports=!1},function(a,p){a.exports={}},function(a,p,o){var d=o(36),h=o(35),m=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,E=h(m,"name"),j=E&&function(){}.name==="something",P=E&&(!d||d&&g(m,"name").configurable);a.exports={EXISTS:E,PROPER:j,CONFIGURABLE:P}},function(a,p,o){var d=o(136),h=o(111).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(a,p,o){var d=o(59),h=Math.max,m=Math.min;a.exports=function(g,E){var j=d(g);return j<0?h(j+E,0):m(j,E)}},function(a,p){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(a,p,o){var d=o(136),h=o(111);a.exports=Object.keys||function(m){return d(m,h)}},function(a,p,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");a.exports=function(g,E,j){g&&!h(g=j?g:g.prototype,m)&&d(g,m,{configurable:!0,value:E})}},function(a,p,o){var d=o(64),h=o(15),m=o(85),g=o(40),E=o(45),j=o(115),P=h([].push),k=function(T){var C=T==1,N=T==2,L=T==3,U=T==4,G=T==6,te=T==7,ie=T==5||G;return function(re,Q,Z,H){for(var B,X,Y=g(re),K=m(Y),ue=d(Q,Z),Ee=E(K),me=0,Ae=H||j,Fe=C?Ae(re,Ee):N||te?Ae(re,0):void 0;Ee>me;me++)if((ie||me in K)&&(X=ue(B=K[me],me,Y),T))if(C)Fe[me]=X;else if(X)switch(T){case 3:return!0;case 5:return B;case 6:return me;case 2:P(Fe,B)}else switch(T){case 4:return!1;case 7:P(Fe,B)}return G?-1:L||U?U:Fe}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(a,p){a.exports={}},function(a,p,o){var d=o(18),h=o(28),m=o(70),g=h("species");a.exports=function(E){return m>=51||!d((function(){var j=[];return(j.constructor={})[g]=function(){return{foo:1}},j[E](Boolean).foo!==1}))}},function(a,p,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(159),j=o(32),P=o(44),k=o(164),T=o(124),C=o(94),N=o(39),L=o(62),U=o(114),G=o(125),te=o(103),ie=o(155),re=o(18),Q=ie.UNSUPPORTED_Y,Z=4294967295,H=Math.min,B=[].push,X=m(/./.exec),Y=m(B),K=m("".slice),ue=!re((function(){var Ee=/(?:)/,me=Ee.exec;Ee.exec=function(){return me.apply(this,arguments)};var Ae="ab".split(Ee);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"}));g("split",(function(Ee,me,Ae){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(P(this)),Me=ve===void 0?Z:ve>>>0;if(Me===0)return[];if(je===void 0)return[Pe];if(!E(je))return h(me,Pe,je,Me);for(var $e,rt,xt,Ye=[],Je=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),bt=0,ce=new RegExp(je.source,Je+"g");($e=h(te,ce,Pe))&&!((rt=ce.lastIndex)>bt&&(Y(Ye,K(Pe,bt,$e.index)),$e.length>1&&$e.index<Pe.length&&d(B,Ye,U($e,1)),xt=$e[0].length,bt=rt,Ye.length>=Me));)ce.lastIndex===$e.index&&ce.lastIndex++;return bt===Pe.length?!xt&&X(ce,"")||Y(Ye,""):Y(Ye,K(Pe,bt)),Ye.length>Me?U(Ye,0,Me):Ye}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:h(me,this,je,ve)}:me,[function(je,ve){var Pe=P(this),Me=je==null?void 0:L(je,Ee);return Me?h(Me,je,Pe,ve):h(Fe,N(Pe),je,ve)},function(je,ve){var Pe=j(this),Me=N(je),$e=Ae(Fe,Pe,Me,ve,Fe!==me);if($e.done)return $e.value;var rt=k(Pe,RegExp),xt=Pe.unicode,Ye=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Q?"g":"y"),Je=new rt(Q?"^(?:"+Pe.source+")":Pe,Ye),bt=ve===void 0?Z:ve>>>0;if(bt===0)return[];if(Me.length===0)return G(Je,Me)===null?[Me]:[];for(var ce=0,se=0,ye=[];se<Me.length;){Je.lastIndex=Q?0:se;var De,He=G(Je,Q?K(Me,se):Me);if(He===null||(De=H(C(Je.lastIndex+(Q?se:0)),Me.length))===ce)se=T(Me,se,xt);else{if(Y(ye,K(Me,ce,se)),ye.length===bt)return ye;for(var ze=1;ze<=He.length-1;ze++)if(Y(ye,He[ze]),ye.length===bt)return ye;se=ce=De}}return Y(ye,K(Me,ce)),ye}]}),!ue,Q)},function(a,p,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,p,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);p.f=m?function(g){var E=h(this,g);return!!E&&E.enumerable}:d},function(a,p,o){var d=o(7),h=o(15),m=o(18),g=o(51),E=d.Object,j=h("".split);a.exports=m((function(){return!E("z").propertyIsEnumerable(0)}))?function(P){return g(P)=="String"?j(P,""):E(P)}:E},function(a,p,o){var d=o(131),h=o(87);a.exports=function(m){var g=d(m,"string");return h(g)?g:g+""}},function(a,p,o){var d=o(7),h=o(46),m=o(30),g=o(54),E=o(132),j=d.Object;a.exports=E?function(P){return typeof P=="symbol"}:function(P){var k=h("Symbol");return m(k)&&g(k.prototype,j(P))}},function(a,p,o){var d=o(7).String;a.exports=function(h){try{return d(h)}catch(m){return"Object"}}},function(a,p,o){var d=o(71),h=o(109);(a.exports=function(m,g){return h[m]||(h[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,p,o){var d=o(15),h=0,m=Math.random(),g=d(1 .toString);a.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++h+m,36)}},function(a,p,o){var d=o(7),h=o(33),m=d.document,g=h(m)&&h(m.createElement);a.exports=function(E){return g?m.createElement(E):{}}},function(a,p,o){var d=o(15),h=o(30),m=o(109),g=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),a.exports=m.inspectSource},function(a,p,o){var d=o(89),h=o(90),m=d("keys");a.exports=function(g){return m[g]||(m[g]=h(g))}},function(a,p,o){var d=o(59),h=Math.min;a.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(a,p,o){var d=o(18),h=o(30),m=/#|\.prototype\./,g=function(T,C){var N=j[E(T)];return N==k||N!=P&&(h(C)?d(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},j=g.data={},P=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},function(a,p,o){var d=o(51);a.exports=Array.isArray||function(h){return d(h)=="Array"}},function(a,p,o){var d=o(7),h=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),j=d.Object,P=g((function(){return arguments})())=="Arguments";a.exports=h?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=(function(L,U){try{return L[U]}catch(G){}})(T=j(k),E))=="string"?C:P?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(a,p,o){var d=o(15);a.exports=d([].slice)},function(a,p,o){var d=o(15),h=o(18),m=o(30),g=o(97),E=o(46),j=o(92),P=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=d(C.exec),L=!C.exec(P),U=function(G){if(!m(G))return!1;try{return T(P,k,G),!0}catch(te){return!1}};a.exports=!T||h((function(){var G;return U(U.call)||!U(Object)||!U((function(){G=!0}))||G}))?function(G){if(!m(G))return!1;switch(g(G)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!N(C,j(G))}:U},function(a,p,o){var d=o(28),h=o(60),m=o(38),g=d("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:h(null)}),a.exports=function(j){E[g][j]=!0}},function(a,p,o){var d=o(7),h=o(35),m=o(30),g=o(40),E=o(93),j=o(143),P=E("IE_PROTO"),k=d.Object,T=k.prototype;a.exports=j?k.getPrototypeOf:function(C){var N=g(C);if(h(N,P))return N[P];var L=N.constructor;return m(L)&&N instanceof L?L.prototype:N instanceof k?T:null}},function(a,p,o){var d=o(15),h=o(32),m=o(181);a.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g,E=!1,j={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(j,[]),E=j instanceof Array}catch(P){}return function(P,k){return h(P),m(k),E?g(P,k):P.__proto__=k,P}})():void 0)},function(a,p,o){var d,h,m=o(34),g=o(15),E=o(39),j=o(154),P=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),L=o(191),U=k("native-string-replace",String.prototype.replace),G=RegExp.prototype.exec,te=G,ie=g("".charAt),re=g("".indexOf),Q=g("".replace),Z=g("".slice),H=(h=/b*/g,m(G,d=/a/,"a"),m(G,h,"a"),d.lastIndex!==0||h.lastIndex!==0),B=P.BROKEN_CARET,X=/()??/.exec("")[1]!==void 0;(H||X||B||N||L)&&(te=function(Y){var K,ue,Ee,me,Ae,Fe,je,ve=this,Pe=C(ve),Me=E(Y),$e=Pe.raw;if($e)return $e.lastIndex=ve.lastIndex,K=m(te,$e,Me),ve.lastIndex=$e.lastIndex,K;var rt=Pe.groups,xt=B&&ve.sticky,Ye=m(j,ve),Je=ve.source,bt=0,ce=Me;if(xt&&(Ye=Q(Ye,"y",""),re(Ye,"g")===-1&&(Ye+="g"),ce=Z(Me,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ie(Me,ve.lastIndex-1)!==`
`)&&(Je="(?: "+Je+")",ce=" "+ce,bt++),ue=new RegExp("^(?:"+Je+")",Ye)),X&&(ue=new RegExp("^"+Je+"$(?!\\s)",Ye)),H&&(Ee=ve.lastIndex),me=m(G,xt?ue:ve,ce),xt?me?(me.input=Z(me.input,bt),me[0]=Z(me[0],bt),me.index=ve.lastIndex,ve.lastIndex+=me[0].length):ve.lastIndex=0:H&&me&&(ve.lastIndex=ve.global?me.index+me[0].length:Ee),X&&me&&me.length>1&&m(U,me[0],ue,(function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(me[Ae]=void 0)})),me&&rt)for(me.groups=Fe=T(null),Ae=0;Ae<rt.length;Ae++)Fe[(je=rt[Ae])[0]]=me[je[1]];return me}),a.exports=te},function(a,p,o){var d=o(16),h=o(7),m=o(75),g=o(59),E=o(45),j=o(40),P=o(115),k=o(63),T=o(81)("splice"),C=h.TypeError,N=Math.max,L=Math.min,U=9007199254740991,G="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!T},{splice:function(te,ie){var re,Q,Z,H,B,X,Y=j(this),K=E(Y),ue=m(te,K),Ee=arguments.length;if(Ee===0?re=Q=0:Ee===1?(re=0,Q=K-ue):(re=Ee-2,Q=L(N(g(ie),0),K-ue)),K+re-Q>U)throw C(G);for(Z=P(Y,Q),H=0;H<Q;H++)(B=ue+H)in Y&&k(Z,H,Y[B]);if(Z.length=Q,re<Q){for(H=ue;H<K-Q;H++)X=H+re,(B=H+Q)in Y?Y[X]=Y[B]:delete Y[X];for(H=K;H>K-Q+re;H--)delete Y[H-1]}else if(re>Q)for(H=K-Q;H>ue;H--)X=H+re-1,(B=H+Q-1)in Y?Y[X]=Y[B]:delete Y[X];for(H=0;H<re;H++)Y[H+ue]=arguments[H+2];return Y.length=K-Q+re,Z}})},function(a,p,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(a,p,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;p.a=h}).call(this,o(68))},function(a,p,o){(function(d){var h=o(31),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m?h.a.Buffer:void 0,j=E?E.allocUnsafe:void 0;p.a=function(P,k){if(k)return P.slice();var T=P.length,C=j?j(T):new P.constructor(T);return P.copy(C),C}}).call(this,o(122)(a))},function(a,p,o){var d=o(70),h=o(18);a.exports=!!Object.getOwnPropertySymbols&&!h((function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41}))},function(a,p,o){var d=o(7),h=o(110),m="__core-js_shared__",g=d[m]||h(m,{});a.exports=g},function(a,p,o){var d=o(7),h=Object.defineProperty;a.exports=function(m,g){try{h(d,m,{value:g,configurable:!0,writable:!0})}catch(E){d[m]=g}return g}},function(a,p){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,p){p.f=Object.getOwnPropertySymbols},function(a,p,o){var d={};d[o(28)("toStringTag")]="z",a.exports=String(d)==="[object z]"},function(a,p,o){var d=o(7),h=o(75),m=o(45),g=o(63),E=d.Array,j=Math.max;a.exports=function(P,k,T){for(var C=m(P),N=h(k,C),L=h(T===void 0?C:T,C),U=E(j(L-N,0)),G=0;N<L;N++,G++)g(U,G,P[N]);return U.length=G,U}},function(a,p,o){var d=o(178);a.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(a,p,o){var d=o(16),h=o(34),m=o(71),g=o(73),E=o(30),j=o(180),P=o(101),k=o(102),T=o(78),C=o(57),N=o(42),L=o(28),U=o(80),G=o(142),te=g.PROPER,ie=g.CONFIGURABLE,re=G.IteratorPrototype,Q=G.BUGGY_SAFARI_ITERATORS,Z=L("iterator"),H="keys",B="values",X="entries",Y=function(){return this};a.exports=function(K,ue,Ee,me,Ae,Fe,je){j(Ee,ue,me);var ve,Pe,Me,$e=function(se){if(se===Ae&&bt)return bt;if(!Q&&se in Ye)return Ye[se];switch(se){case H:case B:case X:return function(){return new Ee(this,se)}}return function(){return new Ee(this)}},rt=ue+" Iterator",xt=!1,Ye=K.prototype,Je=Ye[Z]||Ye["@@iterator"]||Ae&&Ye[Ae],bt=!Q&&Je||$e(Ae),ce=ue=="Array"&&Ye.entries||Je;if(ce&&(ve=P(ce.call(new K)))!==Object.prototype&&ve.next&&(m||P(ve)===re||(k?k(ve,re):E(ve[Z])||N(ve,Z,Y)),T(ve,rt,!0,!0),m&&(U[rt]=Y)),te&&Ae==B&&Je&&Je.name!==B&&(!m&&ie?C(Ye,"name",B):(xt=!0,bt=function(){return h(Je,this)})),Ae)if(Pe={values:$e(B),keys:Fe?bt:$e(H),entries:$e(X)},je)for(Me in Pe)(Q||xt||!(Me in Ye))&&N(Ye,Me,Pe[Me]);else d({target:ue,proto:!0,forced:Q||xt},Pe);return m&&!je||Ye[Z]===bt||N(Ye,Z,bt,{name:Ae}),U[ue]=bt,Pe}},function(a,p,o){var d=o(7),h=o(64),m=o(34),g=o(32),E=o(88),j=o(145),P=o(45),k=o(54),T=o(146),C=o(118),N=o(147),L=d.TypeError,U=function(te,ie){this.stopped=te,this.result=ie},G=U.prototype;a.exports=function(te,ie,re){var Q,Z,H,B,X,Y,K,ue=re&&re.that,Ee=!(!re||!re.AS_ENTRIES),me=!(!re||!re.IS_ITERATOR),Ae=!(!re||!re.INTERRUPTED),Fe=h(ie,ue),je=function(Pe){return Q&&N(Q,"normal",Pe),new U(!0,Pe)},ve=function(Pe){return Ee?(g(Pe),Ae?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Ae?Fe(Pe,je):Fe(Pe)};if(me)Q=te;else{if(!(Z=C(te)))throw L(E(te)+" is not iterable");if(j(Z)){for(H=0,B=P(te);B>H;H++)if((X=ve(te[H]))&&k(G,X))return X;return new U(!1)}Q=T(te,Z)}for(Y=Q.next;!(K=m(Y,Q)).done;){try{X=ve(K.value)}catch(Pe){N(Q,"throw",Pe)}if(typeof X=="object"&&X&&k(G,X))return X}return new U(!1)}},function(a,p,o){var d=o(97),h=o(62),m=o(80),g=o(28)("iterator");a.exports=function(E){if(E!=null)return h(E,g)||h(E,"@@iterator")||m[d(E)]}},function(a,p,o){var d=o(7),h=o(54),m=d.TypeError;a.exports=function(g,E){if(h(E,g))return g;throw m("Incorrect invocation")}},function(a,p,o){var d=o(28)("iterator"),h=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){h=!0}};g[d]=function(){return this},Array.from(g,(function(){throw 2}))}catch(E){}a.exports=function(E,j){if(!j&&!h)return!1;var P=!1;try{var k={};k[d]=function(){return{next:function(){return{done:P=!0}}}},E(k)}catch(T){}return P}},function(a,p,o){var d=o(18);a.exports=function(h,m){var g=[][h];return!!g&&d((function(){g.call(null,m||function(){throw 1},1)}))}},function(a,p){a.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(a,p,o){o(19);var d=o(15),h=o(42),m=o(103),g=o(18),E=o(28),j=o(57),P=E("species"),k=RegExp.prototype;a.exports=function(T,C,N,L){var U=E(T),G=!g((function(){var Q={};return Q[U]=function(){return 7},""[T](Q)!=7})),te=G&&!g((function(){var Q=!1,Z=/a/;return T==="split"&&((Z={}).constructor={},Z.constructor[P]=function(){return Z},Z.flags="",Z[U]=/./[U]),Z.exec=function(){return Q=!0,null},Z[U](""),!Q}));if(!G||!te||N){var ie=d(/./[U]),re=C(U,""[T],(function(Q,Z,H,B,X){var Y=d(Q),K=Z.exec;return K===m||K===k.exec?G&&!X?{done:!0,value:ie(Z,H,B)}:{done:!0,value:Y(H,Z,B)}:{done:!1}}));h(String.prototype,T,re[0]),h(k,U,re[1])}L&&j(k[U],"sham",!0)}},function(a,p,o){var d=o(151).charAt;a.exports=function(h,m,g){return m+(g?d(h,m).length:1)}},function(a,p,o){var d=o(7),h=o(34),m=o(32),g=o(30),E=o(51),j=o(103),P=d.TypeError;a.exports=function(k,T){var C=k.exec;if(g(C)){var N=h(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return h(j,k,T);throw P("RegExp#exec called on incompatible receiver")}},function(a,p,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(18),j=o(32),P=o(30),k=o(59),T=o(94),C=o(39),N=o(44),L=o(124),U=o(62),G=o(201),te=o(125),ie=o(28)("replace"),re=Math.max,Q=Math.min,Z=m([].concat),H=m([].push),B=m("".indexOf),X=m("".slice),Y="a".replace(/./,"$0")==="$0",K=!!/./[ie]&&/./[ie]("a","$0")==="";g("replace",(function(ue,Ee,me){var Ae=K?"$":"$0";return[function(Fe,je){var ve=N(this),Pe=Fe==null?void 0:U(Fe,ie);return Pe?h(Pe,Fe,ve,je):h(Ee,C(ve),Fe,je)},function(Fe,je){var ve=j(this),Pe=C(Fe);if(typeof je=="string"&&B(je,Ae)===-1&&B(je,"$<")===-1){var Me=me(Ee,ve,Pe,je);if(Me.done)return Me.value}var $e=P(je);$e||(je=C(je));var rt=ve.global;if(rt){var xt=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var Je=te(ve,Pe);if(Je===null||(H(Ye,Je),!rt))break;C(Je[0])===""&&(ve.lastIndex=L(Pe,T(ve.lastIndex),xt))}for(var bt,ce="",se=0,ye=0;ye<Ye.length;ye++){for(var De=C((Je=Ye[ye])[0]),He=re(Q(k(Je.index),Pe.length),0),ze=[],Et=1;Et<Je.length;Et++)H(ze,(bt=Je[Et])===void 0?bt:String(bt));var Nt=Je.groups;if($e){var Pt=Z([De],ze,He,Pe);Nt!==void 0&&H(Pt,Nt);var gt=C(d(je,void 0,Pt))}else gt=G(De,Pe,He,ze,Nt,je);He>=se&&(ce+=X(Pe,se,He)+gt,se=He+De.length)}return ce+X(Pe,se)}]}),!!E((function(){var ue=/./;return ue.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ue,"$<a>")!=="7"}))||!Y||K)},function(a,p,o){var d=o(16),h=Math.hypot,m=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,j){for(var P,k,T=0,C=0,N=arguments.length,L=0;C<N;)L<(P=m(arguments[C++]))?(T=T*(k=L/P)*k+1,L=P):T+=P>0?(k=P/L)*k:P;return L===1/0?1/0:L*g(T)}})},function(a,p,o){var d=o(51),h=o(7);a.exports=d(h.process)=="process"},function(a,p,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,p,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",j="__lodash_hash_undefined__",P="__lodash_placeholder__",k=16,T=32,C=64,N=128,L=256,U=1/0,G=9007199254740991,te=NaN,ie=4294967295,re=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",L]],Q="[object Arguments]",Z="[object Array]",H="[object Boolean]",B="[object Date]",X="[object Error]",Y="[object Function]",K="[object GeneratorFunction]",ue="[object Map]",Ee="[object Number]",me="[object Object]",Ae="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Me="[object WeakMap]",$e="[object ArrayBuffer]",rt="[object DataView]",xt="[object Float32Array]",Ye="[object Float64Array]",Je="[object Int8Array]",bt="[object Int16Array]",ce="[object Int32Array]",se="[object Uint8Array]",ye="[object Uint8ClampedArray]",De="[object Uint16Array]",He="[object Uint32Array]",ze=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,Te=RegExp(Pt.source),lt=RegExp(gt.source),pe=/<%-([\s\S]+?)%>/g,ut=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,nn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,Tn=RegExp(On.source),Ct=/^\s+/,Hn=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xt=/\w*$/,tr=/^[-+]0x[0-9a-f]+$/i,pr=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,qn=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jt=/($^)/,It=/['\n\r\u2028\u2029\\]/g,bn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Cn="\\u2700-\\u27bf",Bo="a-z\\xdf-\\xf6\\xf8-\\xff",wo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",Ii="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kl="['’]",Cu="[\\ud800-\\udfff]",qr="["+Ii+"]",sa="["+bn+"]",ft="\\d+",Dl="[\\u2700-\\u27bf]",Iu="["+Bo+"]",Lu="[^\\ud800-\\udfff"+Ii+ft+Cn+Bo+wo+"]",kr="\\ud83c[\\udffb-\\udfff]",Wr="[^\\ud800-\\udfff]",Ba="(?:\\ud83c[\\udde6-\\uddff]){2}",lo="[\\ud800-\\udbff][\\udc00-\\udfff]",Zr="["+wo+"]",fo="(?:"+Iu+"|"+Lu+")",zu="(?:"+Zr+"|"+Lu+")",Bu="(?:['’](?:d|ll|m|re|s|t|ve))?",Hs="(?:['’](?:D|LL|M|RE|S|T|VE))?",ca="(?:"+sa+"|"+kr+")?",Xs="[\\ufe0e\\ufe0f]?",Fu=Xs+ca+("(?:\\u200d(?:"+[Wr,Ba,lo].join("|")+")"+Xs+ca+")*"),Nl="(?:"+[Dl,Ba,lo].join("|")+")"+Fu,ci="(?:"+[Wr+sa+"?",sa,Ba,lo,Cu].join("|")+")",Ys=RegExp(kl,"g"),Wo=RegExp(sa,"g"),Wu=RegExp(kr+"(?="+kr+")|"+ci+Fu,"g"),Fa=RegExp([Zr+"?"+Iu+"+"+Bu+"(?="+[qr,Zr,"$"].join("|")+")",zu+"+"+Hs+"(?="+[qr,Zr+fo,"$"].join("|")+")",Zr+"?"+fo+"+"+Bu,Zr+"+"+Hs,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,Nl].join("|"),"g"),$u=RegExp("[\\u200d\\ud800-\\udfff"+bn+Fo+"]"),Uu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vs=-1,vn={};vn[xt]=vn[Ye]=vn[Je]=vn[bt]=vn[ce]=vn[se]=vn[ye]=vn[De]=vn[He]=!0,vn[Q]=vn[Z]=vn[$e]=vn[H]=vn[rt]=vn[B]=vn[X]=vn[Y]=vn[ue]=vn[Ee]=vn[me]=vn[Fe]=vn[je]=vn[ve]=vn[Me]=!1;var hn={};hn[Q]=hn[Z]=hn[$e]=hn[rt]=hn[H]=hn[B]=hn[xt]=hn[Ye]=hn[Je]=hn[bt]=hn[ce]=hn[ue]=hn[Ee]=hn[me]=hn[Fe]=hn[je]=hn[ve]=hn[Pe]=hn[se]=hn[ye]=hn[De]=hn[He]=!0,hn[X]=hn[Y]=hn[Me]=!1;var Ks={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Li=parseFloat,$o=parseInt,Gu=typeof d=="object"&&d&&d.Object===Object&&d,qs=typeof self=="object"&&self&&self.Object===Object&&self,Fn=Gu||qs||Function("return this")(),Hu=p&&!p.nodeType&&p,la=Hu&&typeof h=="object"&&h&&!h.nodeType&&h,Xu=la&&la.exports===Hu,Wa=Xu&&Gu.process,dr=(function(){try{var we=la&&la.require&&la.require("util").types;return we||Wa&&Wa.binding&&Wa.binding("util")}catch(Re){}})(),Yu=dr&&dr.isArrayBuffer,Zs=dr&&dr.isDate,Vu=dr&&dr.isMap,$a=dr&&dr.isRegExp,zi=dr&&dr.isSet,Uo=dr&&dr.isTypedArray;function En(we,Re,Ie){switch(Ie.length){case 0:return we.call(Re);case 1:return we.call(Re,Ie[0]);case 2:return we.call(Re,Ie[0],Ie[1]);case 3:return we.call(Re,Ie[0],Ie[1],Ie[2])}return we.apply(Re,Ie)}function Cl(we,Re,Ie,et){for(var Wt=-1,Zt=we==null?0:we.length;++Wt<Zt;){var Pn=we[Wt];Re(et,Pn,Ie(Pn),we)}return et}function Dr(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et&&Re(we[Ie],Ie,we)!==!1;);return we}function Il(we,Re){for(var Ie=we==null?0:we.length;Ie--&&Re(we[Ie],Ie,we)!==!1;);return we}function Js(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(!Re(we[Ie],Ie,we))return!1;return!0}function Or(we,Re){for(var Ie=-1,et=we==null?0:we.length,Wt=0,Zt=[];++Ie<et;){var Pn=we[Ie];Re(Pn,Ie,we)&&(Zt[Wt++]=Pn)}return Zt}function Jr(we,Re){return!!(we!=null&&we.length)&&Bi(we,Re,0)>-1}function Ku(we,Re,Ie){for(var et=-1,Wt=we==null?0:we.length;++et<Wt;)if(Ie(Re,we[et]))return!0;return!1}function un(we,Re){for(var Ie=-1,et=we==null?0:we.length,Wt=Array(et);++Ie<et;)Wt[Ie]=Re(we[Ie],Ie,we);return Wt}function nr(we,Re){for(var Ie=-1,et=Re.length,Wt=we.length;++Ie<et;)we[Wt+Ie]=Re[Ie];return we}function Ua(we,Re,Ie,et){var Wt=-1,Zt=we==null?0:we.length;for(et&&Zt&&(Ie=we[++Wt]);++Wt<Zt;)Ie=Re(Ie,we[Wt],Wt,we);return Ie}function Qs(we,Re,Ie,et){var Wt=we==null?0:we.length;for(et&&Wt&&(Ie=we[--Wt]);Wt--;)Ie=Re(Ie,we[Wt],Wt,we);return Ie}function qu(we,Re){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(Re(we[Ie],Ie,we))return!0;return!1}var Ga=Rr("length");function xo(we,Re,Ie){var et;return Ie(we,(function(Wt,Zt,Pn){if(Re(Wt,Zt,Pn))return et=Zt,!1})),et}function Go(we,Re,Ie,et){for(var Wt=we.length,Zt=Ie+(et?1:-1);et?Zt--:++Zt<Wt;)if(Re(we[Zt],Zt,we))return Zt;return-1}function Bi(we,Re,Ie){return Re==Re?(function(et,Wt,Zt){for(var Pn=Zt-1,O=et.length;++Pn<O;)if(et[Pn]===Wt)return Pn;return-1})(we,Re,Ie):Go(we,Ho,Ie)}function Nr(we,Re,Ie,et){for(var Wt=Ie-1,Zt=we.length;++Wt<Zt;)if(et(we[Wt],Re))return Wt;return-1}function Ho(we){return we!=we}function rn(we,Re){var Ie=we==null?0:we.length;return Ie?Ha(we,Re)/Ie:te}function Rr(we){return function(Re){return Re==null?g:Re[we]}}function Eo(we){return function(Re){return we==null?g:we[Re]}}function cr(we,Re,Ie,et,Wt){return Wt(we,(function(Zt,Pn,O){Ie=et?(et=!1,Zt):Re(Ie,Zt,Pn,O)})),Ie}function Ha(we,Re){for(var Ie,et=-1,Wt=we.length;++et<Wt;){var Zt=Re(we[et]);Zt!==g&&(Ie=Ie===g?Zt:Ie+Zt)}return Ie}function fa(we,Re){for(var Ie=-1,et=Array(we);++Ie<we;)et[Ie]=Re(Ie);return et}function Zu(we){return we&&we.slice(0,Cr(we)+1).replace(Ct,"")}function In(we){return function(Re){return we(Re)}}function Xa(we,Re){return un(Re,(function(Ie){return we[Ie]}))}function Xo(we,Re){return we.has(Re)}function Qr(we,Re){for(var Ie=-1,et=we.length;++Ie<et&&Bi(Re,we[Ie],0)>-1;);return Ie}function Ju(we,Re){for(var Ie=we.length;Ie--&&Bi(Re,we[Ie],0)>-1;);return Ie}function Ll(we,Re){for(var Ie=we.length,et=0;Ie--;)we[Ie]===Re&&++et;return et}var Qu=Eo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Yn=Eo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pa(we){return"\\"+Ks[we]}function So(we){return $u.test(we)}function wr(we){var Re=-1,Ie=Array(we.size);return we.forEach((function(et,Wt){Ie[++Re]=[Wt,et]})),Ie}function es(we,Re){return function(Ie){return we(Re(Ie))}}function $r(we,Re){for(var Ie=-1,et=we.length,Wt=0,Zt=[];++Ie<et;){var Pn=we[Ie];Pn!==Re&&Pn!==P||(we[Ie]=P,Zt[Wt++]=Ie)}return Zt}function li(we){var Re=-1,Ie=Array(we.size);return we.forEach((function(et){Ie[++Re]=et})),Ie}function Ya(we){var Re=-1,Ie=Array(we.size);return we.forEach((function(et){Ie[++Re]=[et,et]})),Ie}function jo(we){return So(we)?(function(Re){for(var Ie=Wu.lastIndex=0;Wu.test(Re);)++Ie;return Ie})(we):Ga(we)}function Ur(we){return So(we)?(function(Re){return Re.match(Wu)||[]})(we):(function(Re){return Re.split("")})(we)}function Cr(we){for(var Re=we.length;Re--&&Hn.test(we.charAt(Re)););return Re}var eo=Eo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Po=(function we(Re){var Ie,et=(Re=Re==null?Fn:Po.defaults(Fn.Object(),Re,Po.pick(Fn,Rl))).Array,Wt=Re.Date,Zt=Re.Error,Pn=Re.Function,O=Re.Math,w=Re.Object,M=Re.RegExp,z=Re.String,q=Re.TypeError,de=et.prototype,Se=Pn.prototype,We=w.prototype,ct=Re["__core-js_shared__"],Vt=Se.toString,tt=We.hasOwnProperty,wn=0,$t=(Ie=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",cn=We.toString,to=Vt.call(w),Dn=Fn._,Ir=M("^"+Vt.call(tt).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=Xu?Re.Buffer:g,Vo=Re.Symbol,da=Re.Uint8Array,ts=Yo?Yo.allocUnsafe:g,fi=es(w.getPrototypeOf,w),Va=w.create,xr=We.propertyIsEnumerable,ha=de.splice,Fi=Vo?Vo.isConcatSpreadable:g,pi=Vo?Vo.iterator:g,di=Vo?Vo.toStringTag:g,Ka=(function(){try{var l=ma(w,"defineProperty");return l({},"",{}),l}catch(y){}})(),Ay=Re.clearTimeout!==Fn.clearTimeout&&Re.clearTimeout,My=Wt&&Wt.now!==Fn.Date.now&&Wt.now,Mp=Re.setTimeout!==Fn.setTimeout&&Re.setTimeout,ec=O.ceil,qa=O.floor,zl=w.getOwnPropertySymbols,Ty=Yo?Yo.isBuffer:g,Tp=Re.isFinite,Bl=de.join,kp=es(w.keys,w),lr=O.max,Er=O.min,tc=Wt.now,nc=Re.parseInt,rc=O.random,ky=de.reverse,Za=ma(Re,"DataView"),Ja=ma(Re,"Map"),Fl=ma(Re,"Promise"),ya=ma(Re,"Set"),Qa=ma(Re,"WeakMap"),ns=ma(w,"create"),oc=Qa&&new Qa,eu={},Dy=Hi(Za),Dp=Hi(Ja),Ny=Hi(Fl),Ry=Hi(ya),Np=Hi(Qa),ic=Vo?Vo.prototype:g,gr=ic?ic.valueOf:g,Rp=ic?ic.toString:g;function F(l){if($n(l)&&!Ut(l)&&!(l instanceof an)){if(l instanceof po)return l;if(tt.call(l,"__wrapped__"))return _f(l)}return new po(l)}var tu=(function(){function l(){}return function(y){if(!Bn(y))return{};if(Va)return Va(y);l.prototype=y;var _=new l;return l.prototype=g,_}})();function rs(){}function po(l,y){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=g}function an(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function va(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function xn(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Ko(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Wi(l){var y=-1,_=l==null?0:l.length;for(this.__data__=new Ko;++y<_;)this.add(l[y])}function ho(l){var y=this.__data__=new xn(l);this.size=y.size}function Wl(l,y){var _=Ut(l),A=!_&&_a(l),R=!_&&!A&&Lr(l),$=!_&&!A&&!R&&Oi(l),oe=_||A||R||$,fe=oe?fa(l.length,z):[],Oe=fe.length;for(var Le in l)!y&&!tt.call(l,Le)||oe&&(Le=="length"||R&&(Le=="offset"||Le=="parent")||$&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||oo(Le,Oe))||fe.push(Le);return fe}function $l(l){var y=l.length;return y?l[ql(0,y-1)]:g}function Cp(l,y){return ps(Hr(l),$i(y,0,l.length))}function Ip(l){return ps(Hr(l))}function ac(l,y,_){(_!==g&&!ko(l[y],_)||_===g&&!(y in l))&&qo(l,y,_)}function nu(l,y,_){var A=l[y];tt.call(l,y)&&ko(A,_)&&(_!==g||y in l)||qo(l,y,_)}function os(l,y){for(var _=l.length;_--;)if(ko(l[_][0],y))return _;return-1}function Lp(l,y,_,A){return Nn(l,(function(R,$,oe){y(A,R,_(R),oe)})),A}function Ul(l,y){return l&&Ao(y,Un(y),l)}function qo(l,y,_){y=="__proto__"&&Ka?Ka(l,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):l[y]=_}function uc(l,y){for(var _=-1,A=y.length,R=et(A),$=l==null;++_<A;)R[_]=$?g:yu(l,y[_]);return R}function $i(l,y,_){return l==l&&(_!==g&&(l=l<=_?l:_),y!==g&&(l=l>=y?l:y)),l}function no(l,y,_,A,R,$){var oe,fe=1&y,Oe=2&y,Le=4&y;if(_&&(oe=R?_(l,A,R,$):_(l)),oe!==g)return oe;if(!Bn(l))return l;var Ne=Ut(l);if(Ne){if(oe=(function(Be){var Ge=Be.length,At=new Be.constructor(Ge);return Ge&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(At.index=Be.index,At.input=Be.input),At})(l),!fe)return Hr(l,oe)}else{var Ue=Sr(l),ot=Ue==Y||Ue==K;if(Lr(l))return Zp(l,fe);if(Ue==me||Ue==Q||ot&&!R){if(oe=Oe||ot?{}:_i(l),!fe)return Oe?(function(Be,Ge){return Ao(Be,Ec(Be),Ge)})(l,(function(Be,Ge){return Be&&Ao(Ge,Ar(Ge),Be)})(oe,l)):(function(Be,Ge){return Ao(Be,fr(Be),Ge)})(l,Ul(oe,l))}else{if(!hn[Ue])return R?l:{};oe=(function(Be,Ge,At){var at=Be.constructor;switch(Ge){case $e:return of(Be);case H:case B:return new at(+Be);case rt:return(function(zt,en){var Ot=en?of(zt.buffer):zt.buffer;return new zt.constructor(Ot,zt.byteOffset,zt.byteLength)})(Be,At);case xt:case Ye:case Je:case bt:case ce:case se:case ye:case De:case He:return Jp(Be,At);case ue:return new at;case Ee:case ve:return new at(Be);case Fe:return(function(zt){var en=new zt.constructor(zt.source,Xt.exec(zt));return en.lastIndex=zt.lastIndex,en})(Be);case je:return new at;case Pe:return le=Be,gr?w(gr.call(le)):{}}var le})(l,Ue,fe)}}$||($=new ho);var ht=$.get(l);if(ht)return ht;$.set(l,oe),Ed(l)?l.forEach((function(Be){oe.add(no(Be,y,_,Be,l,$))})):kf(l)&&l.forEach((function(Be,Ge){oe.set(Ge,no(Be,y,_,Ge,l,$))}));var St=Ne?g:(Le?Oe?cf:sf:Oe?Ar:Un)(l);return Dr(St||l,(function(Be,Ge){St&&(Be=l[Ge=Be]),nu(oe,Ge,no(Be,y,_,Ge,l,$))})),oe}function Gl(l,y,_){var A=_.length;if(l==null)return!A;for(l=w(l);A--;){var R=_[A],$=y[R],oe=l[R];if(oe===g&&!(R in l)||!$(oe))return!1}return!0}function Hl(l,y,_){if(typeof l!="function")throw new q(E);return su((function(){l.apply(g,_)}),y)}function hi(l,y,_,A){var R=-1,$=Jr,oe=!0,fe=l.length,Oe=[],Le=y.length;if(!fe)return Oe;_&&(y=un(y,In(_))),A?($=Ku,oe=!1):y.length>=200&&($=Xo,oe=!1,y=new Wi(y));e:for(;++R<fe;){var Ne=l[R],Ue=_==null?Ne:_(Ne);if(Ne=A||Ne!==0?Ne:0,oe&&Ue==Ue){for(var ot=Le;ot--;)if(y[ot]===Ue)continue e;Oe.push(Ne)}else $(y,Ue,A)||Oe.push(Ne)}return Oe}F.templateSettings={escape:pe,evaluate:ut,interpolate:Bt,variable:"",imports:{_:F}},F.prototype=rs.prototype,F.prototype.constructor=F,po.prototype=tu(rs.prototype),po.prototype.constructor=po,an.prototype=tu(rs.prototype),an.prototype.constructor=an,va.prototype.clear=function(){this.__data__=ns?ns(null):{},this.size=0},va.prototype.delete=function(l){var y=this.has(l)&&delete this.__data__[l];return this.size-=y?1:0,y},va.prototype.get=function(l){var y=this.__data__;if(ns){var _=y[l];return _===j?g:_}return tt.call(y,l)?y[l]:g},va.prototype.has=function(l){var y=this.__data__;return ns?y[l]!==g:tt.call(y,l)},va.prototype.set=function(l,y){var _=this.__data__;return this.size+=this.has(l)?0:1,_[l]=ns&&y===g?j:y,this},xn.prototype.clear=function(){this.__data__=[],this.size=0},xn.prototype.delete=function(l){var y=this.__data__,_=os(y,l);return!(_<0)&&(_==y.length-1?y.pop():ha.call(y,_,1),--this.size,!0)},xn.prototype.get=function(l){var y=this.__data__,_=os(y,l);return _<0?g:y[_][1]},xn.prototype.has=function(l){return os(this.__data__,l)>-1},xn.prototype.set=function(l,y){var _=this.__data__,A=os(_,l);return A<0?(++this.size,_.push([l,y])):_[A][1]=y,this},Ko.prototype.clear=function(){this.size=0,this.__data__={hash:new va,map:new(Ja||xn),string:new va}},Ko.prototype.delete=function(l){var y=xc(this,l).delete(l);return this.size-=y?1:0,y},Ko.prototype.get=function(l){return xc(this,l).get(l)},Ko.prototype.has=function(l){return xc(this,l).has(l)},Ko.prototype.set=function(l,y){var _=xc(this,l),A=_.size;return _.set(l,y),this.size+=_.size==A?0:1,this},Wi.prototype.add=Wi.prototype.push=function(l){return this.__data__.set(l,j),this},Wi.prototype.has=function(l){return this.__data__.has(l)},ho.prototype.clear=function(){this.__data__=new xn,this.size=0},ho.prototype.delete=function(l){var y=this.__data__,_=y.delete(l);return this.size=y.size,_},ho.prototype.get=function(l){return this.__data__.get(l)},ho.prototype.has=function(l){return this.__data__.has(l)},ho.prototype.set=function(l,y){var _=this.__data__;if(_ instanceof xn){var A=_.__data__;if(!Ja||A.length<199)return A.push([l,y]),this.size=++_.size,this;_=this.__data__=new Ko(A)}return _.set(l,y),this.size=_.size,this};var Nn=td(dt),zp=td(An,!0);function Bp(l,y){var _=!0;return Nn(l,(function(A,R,$){return _=!!y(A,R,$)})),_}function Vn(l,y,_){for(var A=-1,R=l.length;++A<R;){var $=l[A],oe=y($);if(oe!=null&&(fe===g?oe==oe&&!zr(oe):_(oe,fe)))var fe=oe,Oe=$}return Oe}function gn(l,y){var _=[];return Nn(l,(function(A,R,$){y(A,R,$)&&_.push(A)})),_}function hr(l,y,_,A,R){var $=-1,oe=l.length;for(_||(_=$y),R||(R=[]);++$<oe;){var fe=l[$];y>0&&_(fe)?y>1?hr(fe,y-1,_,A,R):nr(R,fe):A||(R[R.length]=fe)}return R}var Kt=us(),Zn=us(!0);function dt(l,y){return l&&Kt(l,y,Un)}function An(l,y){return l&&Zn(l,y,Un)}function sc(l,y){return Or(y,(function(_){return go(l[_])}))}function yi(l,y){for(var _=0,A=(y=yn(y,l)).length;l!=null&&_<A;)l=l[Mo(y[_++])];return _&&_==A?l:g}function Xl(l,y,_){var A=y(l);return Ut(l)?A:nr(A,_(l))}function Ln(l){return l==null?l===g?"[object Undefined]":"[object Null]":di&&di in w(l)?(function(y){var _=tt.call(y,di),A=y[di];try{y[di]=g;var R=!0}catch(oe){}var $=cn.call(y);return R&&(_?y[di]=A:delete y[di]),$})(l):(function(y){return cn.call(y)})(l)}function Wn(l,y){return l>y}function Fp(l,y){return l!=null&&tt.call(l,y)}function Wp(l,y){return l!=null&&y in w(l)}function cc(l,y,_){for(var A=_?Ku:Jr,R=l[0].length,$=l.length,oe=$,fe=et($),Oe=1/0,Le=[];oe--;){var Ne=l[oe];oe&&y&&(Ne=un(Ne,In(y))),Oe=Er(Ne.length,Oe),fe[oe]=!_&&(y||R>=120&&Ne.length>=120)?new Wi(oe&&Ne):g}Ne=l[0];var Ue=-1,ot=fe[0];e:for(;++Ue<R&&Le.length<Oe;){var ht=Ne[Ue],St=y?y(ht):ht;if(ht=_||ht!==0?ht:0,!(ot?Xo(ot,St):A(Le,St,_))){for(oe=$;--oe;){var Be=fe[oe];if(!(Be?Xo(Be,St):A(l[oe],St,_)))continue e}ot&&ot.push(St),Le.push(ht)}}return Le}function ru(l,y,_){var A=(l=yf(l,y=yn(y,l)))==null?l:l[Mo(zn(y))];return A==null?g:En(A,l,_)}function Yl(l){return $n(l)&&Ln(l)==Q}function ou(l,y,_,A,R){return l===y||(l==null||y==null||!$n(l)&&!$n(y)?l!=l&&y!=y:(function($,oe,fe,Oe,Le,Ne){var Ue=Ut($),ot=Ut(oe),ht=Ue?Z:Sr($),St=ot?Z:Sr(oe),Be=(ht=ht==Q?me:ht)==me,Ge=(St=St==Q?me:St)==me,At=ht==St;if(At&&Lr($)){if(!Lr(oe))return!1;Ue=!0,Be=!1}if(At&&!Be)return Ne||(Ne=new ho),Ue||Oi($)?wc($,oe,fe,Oe,Le,Ne):(function(Ot,kt,or,Vr,Do,ir,Jo){switch(or){case rt:if(Ot.byteLength!=kt.byteLength||Ot.byteOffset!=kt.byteOffset)return!1;Ot=Ot.buffer,kt=kt.buffer;case $e:return!(Ot.byteLength!=kt.byteLength||!ir(new da(Ot),new da(kt)));case H:case B:case Ee:return ko(+Ot,+kt);case X:return Ot.name==kt.name&&Ot.message==kt.message;case Fe:case ve:return Ot==kt+"";case ue:var Ei=wr;case je:var gu=1&Vr;if(Ei||(Ei=li),Ot.size!=kt.size&&!gu)return!1;var Ps=Jo.get(Ot);if(Ps)return Ps==kt;Vr|=2,Jo.set(Ot,kt);var Qo=wc(Ei(Ot),Ei(kt),Vr,Do,ir,Jo);return Jo.delete(Ot),Qo;case Pe:if(gr)return gr.call(Ot)==gr.call(kt)}return!1})($,oe,ht,fe,Oe,Le,Ne);if(!(1&fe)){var at=Be&&tt.call($,"__wrapped__"),le=Ge&&tt.call(oe,"__wrapped__");if(at||le){var zt=at?$.value():$,en=le?oe.value():oe;return Ne||(Ne=new ho),Le(zt,en,fe,Oe,Ne)}}return At?(Ne||(Ne=new ho),(function(Ot,kt,or,Vr,Do,ir){var Jo=1&or,Ei=sf(Ot),gu=Ei.length,Ps=sf(kt).length;if(gu!=Ps&&!Jo)return!1;for(var Qo=gu;Qo--;){var qi=Ei[Qo];if(!(Jo?qi in kt:tt.call(kt,qi)))return!1}var qf=ir.get(Ot),bu=ir.get(kt);if(qf&&bu)return qf==kt&&bu==Ot;var As=!0;ir.set(Ot,kt),ir.set(kt,Ot);for(var Zf=Jo;++Qo<gu;){var Ms=Ot[qi=Ei[Qo]],wa=kt[qi];if(Vr)var xa=Jo?Vr(wa,Ms,qi,kt,Ot,ir):Vr(Ms,wa,qi,Ot,kt,ir);if(!(xa===g?Ms===wa||Do(Ms,wa,or,Vr,ir):xa)){As=!1;break}Zf||(Zf=qi=="constructor")}if(As&&!Zf){var Si=Ot.constructor,Ts=kt.constructor;Si==Ts||!("constructor"in Ot)||!("constructor"in kt)||typeof Si=="function"&&Si instanceof Si&&typeof Ts=="function"&&Ts instanceof Ts||(As=!1)}return ir.delete(Ot),ir.delete(kt),As})($,oe,fe,Oe,Le,Ne)):!1})(l,y,_,A,ou,R))}function lc(l,y,_,A){var R=_.length,$=R,oe=!A;if(l==null)return!$;for(l=w(l);R--;){var fe=_[R];if(oe&&fe[2]?fe[1]!==l[fe[0]]:!(fe[0]in l))return!1}for(;++R<$;){var Oe=(fe=_[R])[0],Le=l[Oe],Ne=fe[1];if(oe&&fe[2]){if(Le===g&&!(Oe in l))return!1}else{var Ue=new ho;if(A)var ot=A(Le,Ne,Oe,l,y,Ue);if(!(ot===g?ou(Ne,Le,3,A,Ue):ot))return!1}}return!0}function iu(l){return!(!Bn(l)||(y=l,$t&&$t in y))&&(go(l)?Ir:Xn).test(Hi(l));var y}function Vl(l){return typeof l=="function"?l:l==null?Br:typeof l=="object"?Ut(l)?Up(l[0],l[1]):$p(l):Gc(l)}function vi(l){if(!ke(l))return kp(l);var y=[];for(var _ in w(l))tt.call(l,_)&&_!="constructor"&&y.push(_);return y}function Cy(l){if(!Bn(l))return(function(R){var $=[];if(R!=null)for(var oe in w(R))$.push(oe);return $})(l);var y=ke(l),_=[];for(var A in l)(A!="constructor"||!y&&tt.call(l,A))&&_.push(A);return _}function gi(l,y){return l<y}function yo(l,y){var _=-1,A=Yr(l)?et(l.length):[];return Nn(l,(function(R,$,oe){A[++_]=y(R,$,oe)})),A}function $p(l){var y=ff(l);return y.length==1&&y[0][2]?df(y[0][0],y[0][1]):function(_){return _===l||lc(_,l,y)}}function Up(l,y){return jc(l)&&pf(y)?df(Mo(l),y):function(_){var A=yu(_,l);return A===g&&A===y?Wc(_,l):ou(y,A,3)}}function fc(l,y,_,A,R){l!==y&&Kt(y,(function($,oe){if(R||(R=new ho),Bn($))(function(Oe,Le,Ne,Ue,ot,ht,St){var Be=Ac(Oe,Ne),Ge=Ac(Le,Ne),At=St.get(Ge);if(At)return void ac(Oe,Ne,At);var at=ht?ht(Be,Ge,Ne+"",Oe,Le,St):g,le=at===g;if(le){var zt=Ut(Ge),en=!zt&&Lr(Ge),Ot=!zt&&!en&&Oi(Ge);at=Ge,zt||en||Ot?Ut(Be)?at=Be:Rn(Be)?at=Hr(Be):en?(le=!1,at=Zp(Ge,!0)):Ot?(le=!1,at=Jp(Ge,!0)):at=[]:du(Ge)||_a(Ge)?(at=Be,_a(Be)?at=Rf(Be):Bn(Be)&&!go(Be)||(at=_i(Ge))):le=!1}le&&(St.set(Ge,at),ot(at,Ge,Ue,ht,St),St.delete(Ge)),ac(Oe,Ne,at)})(l,y,oe,_,fc,A,R);else{var fe=A?A(Ac(l,oe),$,oe+"",l,y,R):g;fe===g&&(fe=$),ac(l,oe,fe)}}),Ar)}function Gp(l,y){var _=l.length;if(_)return oo(y+=y<0?_:0,_)?l[y]:g}function Hp(l,y,_){y=y.length?un(y,(function($){return Ut($)?function(oe){return yi(oe,$.length===1?$[0]:$)}:$})):[Br];var A=-1;y=un(y,In(Tt()));var R=yo(l,(function($,oe,fe){var Oe=un(y,(function(Le){return Le($)}));return{criteria:Oe,index:++A,value:$}}));return(function($,oe){var fe=$.length;for($.sort(oe);fe--;)$[fe]=$[fe].value;return $})(R,(function($,oe){return(function(fe,Oe,Le){for(var Ne=-1,Ue=fe.criteria,ot=Oe.criteria,ht=Ue.length,St=Le.length;++Ne<ht;){var Be=af(Ue[Ne],ot[Ne]);if(Be)return Ne>=St?Be:Be*(Le[Ne]=="desc"?-1:1)}return fe.index-Oe.index})($,oe,_)}))}function Xp(l,y,_){for(var A=-1,R=y.length,$={};++A<R;){var oe=y[A],fe=yi(l,oe);_(fe,oe)&&is($,yn(oe,l),fe)}return $}function pc(l,y,_,A){var R=A?Nr:Bi,$=-1,oe=y.length,fe=l;for(l===y&&(y=Hr(y)),_&&(fe=un(l,In(_)));++$<oe;)for(var Oe=0,Le=y[$],Ne=_?_(Le):Le;(Oe=R(fe,Ne,Oe,A))>-1;)fe!==l&&ha.call(fe,Oe,1),ha.call(l,Oe,1);return l}function Kl(l,y){for(var _=l?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==$){var $=R;oo(R)?ha.call(l,R,1):hc(l,R)}}return l}function ql(l,y){return l+qa(rc()*(y-l+1))}function dc(l,y){var _="";if(!l||y<1||y>G)return _;do y%2&&(_+=l),(y=qa(y/2))&&(l+=l);while(y);return _}function Jt(l,y){return Mc(hf(l,y,Br),l+"")}function Iy(l){return $l(Ki(l))}function Zl(l,y){var _=Ki(l);return ps(_,$i(y,0,_.length))}function is(l,y,_,A){if(!Bn(l))return l;for(var R=-1,$=(y=yn(y,l)).length,oe=$-1,fe=l;fe!=null&&++R<$;){var Oe=Mo(y[R]),Le=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return l;if(R!=oe){var Ne=fe[Oe];(Le=A?A(Ne,Oe,fe):g)===g&&(Le=Bn(Ne)?Ne:oo(y[R+1])?[]:{})}nu(fe,Oe,Le),fe=fe[Oe]}return l}var Yp=oc?function(l,y){return oc.set(l,y),l}:Br,Ly=Ka?function(l,y){return Ka(l,"toString",{configurable:!0,enumerable:!1,value:_s(y),writable:!0})}:Br;function Vp(l){return ps(Ki(l))}function ro(l,y,_){var A=-1,R=l.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var $=et(R);++A<R;)$[A]=l[A+y];return $}function zy(l,y){var _;return Nn(l,(function(A,R,$){return!(_=y(A,R,$))})),!!_}function as(l,y,_){var A=0,R=l==null?A:l.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var $=A+R>>>1,oe=l[$];oe!==null&&!zr(oe)&&(_?oe<=y:oe<y)?A=$+1:R=$}return R}return Jl(l,y,Br,_)}function Jl(l,y,_,A){var R=0,$=l==null?0:l.length;if($===0)return 0;for(var oe=(y=_(y))!=y,fe=y===null,Oe=zr(y),Le=y===g;R<$;){var Ne=qa((R+$)/2),Ue=_(l[Ne]),ot=Ue!==g,ht=Ue===null,St=Ue==Ue,Be=zr(Ue);if(oe)var Ge=A||St;else Ge=Le?St&&(A||ot):fe?St&&ot&&(A||!ht):Oe?St&&ot&&!ht&&(A||!Be):!ht&&!Be&&(A?Ue<=y:Ue<y);Ge?R=Ne+1:$=Ne}return Er($,4294967294)}function Ql(l,y){for(var _=-1,A=l.length,R=0,$=[];++_<A;){var oe=l[_],fe=y?y(oe):oe;if(!_||!ko(fe,Oe)){var Oe=fe;$[R++]=oe===0?0:oe}}return $}function Kp(l){return typeof l=="number"?l:zr(l)?te:+l}function Gr(l){if(typeof l=="string")return l;if(Ut(l))return un(l,Gr)+"";if(zr(l))return Rp?Rp.call(l):"";var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Ui(l,y,_){var A=-1,R=Jr,$=l.length,oe=!0,fe=[],Oe=fe;if(_)oe=!1,R=Ku;else if($>=200){var Le=y?null:Fy(l);if(Le)return li(Le);oe=!1,R=Xo,Oe=new Wi}else Oe=y?[]:fe;e:for(;++A<$;){var Ne=l[A],Ue=y?y(Ne):Ne;if(Ne=_||Ne!==0?Ne:0,oe&&Ue==Ue){for(var ot=Oe.length;ot--;)if(Oe[ot]===Ue)continue e;y&&Oe.push(Ue),fe.push(Ne)}else R(Oe,Ue,_)||(Oe!==fe&&Oe.push(Ue),fe.push(Ne))}return fe}function hc(l,y){return(l=yf(l,y=yn(y,l)))==null||delete l[Mo(zn(y))]}function qp(l,y,_,A){return is(l,y,_(yi(l,y)),A)}function yc(l,y,_,A){for(var R=l.length,$=A?R:-1;(A?$--:++$<R)&&y(l[$],$,l););return _?ro(l,A?0:$,A?$+1:R):ro(l,A?$+1:0,A?R:$)}function ef(l,y){var _=l;return _ instanceof an&&(_=_.value()),Ua(y,(function(A,R){return R.func.apply(R.thisArg,nr([A],R.args))}),_)}function tf(l,y,_){var A=l.length;if(A<2)return A?Ui(l[0]):[];for(var R=-1,$=et(A);++R<A;)for(var oe=l[R],fe=-1;++fe<A;)fe!=R&&($[R]=hi($[R]||oe,l[fe],y,_));return Ui(hr($,1),y,_)}function nf(l,y,_){for(var A=-1,R=l.length,$=y.length,oe={};++A<R;){var fe=A<$?y[A]:g;_(oe,l[A],fe)}return oe}function vc(l){return Rn(l)?l:[]}function rf(l){return typeof l=="function"?l:Br}function yn(l,y){return Ut(l)?l:jc(l,y)?[l]:mf(ln(l))}var By=Jt;function mn(l,y,_){var A=l.length;return _=_===g?A:_,!y&&_>=A?l:ro(l,y,_)}var gc=Ay||function(l){return Fn.clearTimeout(l)};function Zp(l,y){if(y)return l.slice();var _=l.length,A=ts?ts(_):new l.constructor(_);return l.copy(A),A}function of(l){var y=new l.constructor(l.byteLength);return new da(y).set(new da(l)),y}function Jp(l,y){var _=y?of(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.length)}function af(l,y){if(l!==y){var _=l!==g,A=l===null,R=l==l,$=zr(l),oe=y!==g,fe=y===null,Oe=y==y,Le=zr(y);if(!fe&&!Le&&!$&&l>y||$&&oe&&Oe&&!fe&&!Le||A&&oe&&Oe||!_&&Oe||!R)return 1;if(!A&&!$&&!Le&&l<y||Le&&_&&R&&!A&&!$||fe&&_&&R||!oe&&R||!Oe)return-1}return 0}function Qp(l,y,_,A){for(var R=-1,$=l.length,oe=_.length,fe=-1,Oe=y.length,Le=lr($-oe,0),Ne=et(Oe+Le),Ue=!A;++fe<Oe;)Ne[fe]=y[fe];for(;++R<oe;)(Ue||R<$)&&(Ne[_[R]]=l[R]);for(;Le--;)Ne[fe++]=l[R++];return Ne}function ed(l,y,_,A){for(var R=-1,$=l.length,oe=-1,fe=_.length,Oe=-1,Le=y.length,Ne=lr($-fe,0),Ue=et(Ne+Le),ot=!A;++R<Ne;)Ue[R]=l[R];for(var ht=R;++Oe<Le;)Ue[ht+Oe]=y[Oe];for(;++oe<fe;)(ot||R<$)&&(Ue[ht+_[oe]]=l[R++]);return Ue}function Hr(l,y){var _=-1,A=l.length;for(y||(y=et(A));++_<A;)y[_]=l[_];return y}function Ao(l,y,_,A){var R=!_;_||(_={});for(var $=-1,oe=y.length;++$<oe;){var fe=y[$],Oe=A?A(_[fe],l[fe],fe,_,l):g;Oe===g&&(Oe=l[fe]),R?qo(_,fe,Oe):nu(_,fe,Oe)}return _}function bc(l,y){return function(_,A){var R=Ut(_)?Cl:Lp,$=y?y():{};return R(_,l,Tt(A,2),$)}}function au(l){return Jt((function(y,_){var A=-1,R=_.length,$=R>1?_[R-1]:g,oe=R>2?_[2]:g;for($=l.length>3&&typeof $=="function"?(R--,$):g,oe&&br(_[0],_[1],oe)&&($=R<3?g:$,R=1),y=w(y);++A<R;){var fe=_[A];fe&&l(y,fe,A,$)}return y}))}function td(l,y){return function(_,A){if(_==null)return _;if(!Yr(_))return l(_,A);for(var R=_.length,$=y?R:-1,oe=w(_);(y?$--:++$<R)&&A(oe[$],$,oe)!==!1;);return _}}function us(l){return function(y,_,A){for(var R=-1,$=w(y),oe=A(y),fe=oe.length;fe--;){var Oe=oe[l?fe:++R];if(_($[Oe],Oe,$)===!1)break}return y}}function nd(l){return function(y){var _=So(y=ln(y))?Ur(y):g,A=_?_[0]:y.charAt(0),R=_?mn(_,1).join(""):y.slice(1);return A[l]()+R}}function ga(l){return function(y){return Ua(bs(wi(y).replace(Ys,"")),l,"")}}function ss(l){return function(){var y=arguments;switch(y.length){case 0:return new l;case 1:return new l(y[0]);case 2:return new l(y[0],y[1]);case 3:return new l(y[0],y[1],y[2]);case 4:return new l(y[0],y[1],y[2],y[3]);case 5:return new l(y[0],y[1],y[2],y[3],y[4]);case 6:return new l(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new l(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=tu(l.prototype),A=l.apply(_,y);return Bn(A)?A:_}}function rd(l){return function(y,_,A){var R=w(y);if(!Yr(y)){var $=Tt(_,3);y=Un(y),_=function(fe){return $(R[fe],fe,R)}}var oe=l(y,_,A);return oe>-1?R[$?y[oe]:oe]:g}}function Gi(l){return mi((function(y){var _=y.length,A=_,R=po.prototype.thru;for(l&&y.reverse();A--;){var $=y[A];if(typeof $!="function")throw new q(E);if(R&&!oe&&uu($)=="wrapper")var oe=new po([],!0)}for(A=oe?A:_;++A<_;){var fe=uu($=y[A]),Oe=fe=="wrapper"?lf($):g;oe=Oe&&Pc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?oe[uu(Oe[0])].apply(oe,Oe[3]):$.length==1&&Pc($)?oe[fe]():oe.thru($)}return function(){var Le=arguments,Ne=Le[0];if(oe&&Le.length==1&&Ut(Ne))return oe.plant(Ne).value();for(var Ue=0,ot=_?y[Ue].apply(this,Le):Ne;++Ue<_;)ot=y[Ue].call(this,ot);return ot}}))}function mc(l,y,_,A,R,$,oe,fe,Oe,Le){var Ne=y&N,Ue=1&y,ot=2&y,ht=24&y,St=512&y,Be=ot?g:ss(l);return function Ge(){for(var At=arguments.length,at=et(At),le=At;le--;)at[le]=arguments[le];if(ht)var zt=ba(Ge),en=Ll(at,zt);if(A&&(at=Qp(at,A,R,ht)),$&&(at=ed(at,$,oe,ht)),At-=en,ht&&At<Le){var Ot=$r(at,zt);return id(l,y,mc,Ge.placeholder,_,at,Ot,fe,Oe,Le-At)}var kt=Ue?_:this,or=ot?kt[l]:l;return At=at.length,fe?at=cd(at,fe):St&&At>1&&at.reverse(),Ne&&Oe<At&&(at.length=Oe),this&&this!==Fn&&this instanceof Ge&&(or=Be||ss(or)),or.apply(kt,at)}}function _c(l,y){return function(_,A){return(function(R,$,oe,fe){return dt(R,(function(Oe,Le,Ne){$(fe,oe(Oe),Le,Ne)})),fe})(_,l,y(A),{})}}function cs(l,y){return function(_,A){var R;if(_===g&&A===g)return y;if(_!==g&&(R=_),A!==g){if(R===g)return A;typeof _=="string"||typeof A=="string"?(_=Gr(_),A=Gr(A)):(_=Kp(_),A=Kp(A)),R=l(_,A)}return R}}function ls(l){return mi((function(y){return y=un(y,In(Tt())),Jt((function(_){var A=this;return l(y,(function(R){return En(R,A,_)}))}))}))}function fs(l,y){var _=(y=y===g?" ":Gr(y)).length;if(_<2)return _?dc(y,l):y;var A=dc(y,ec(l/jo(y)));return So(y)?mn(Ur(A),0,l).join(""):A.slice(0,l)}function od(l){return function(y,_,A){return A&&typeof A!="number"&&br(y,_,A)&&(_=A=g),y=Zo(y),_===g?(_=y,y=0):_=Zo(_),(function(R,$,oe,fe){for(var Oe=-1,Le=lr(ec(($-R)/(oe||1)),0),Ne=et(Le);Le--;)Ne[fe?Le:++Oe]=R,R+=oe;return Ne})(y,_,A=A===g?y<_?1:-1:Zo(A),l)}}function Oc(l){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Pr(y),_=Pr(_)),l(y,_)}}function id(l,y,_,A,R,$,oe,fe,Oe,Le){var Ne=8&y;y|=Ne?T:C,4&(y&=~(Ne?C:T))||(y&=-4);var Ue=[l,y,R,Ne?$:g,Ne?oe:g,Ne?g:$,Ne?g:oe,fe,Oe,Le],ot=_.apply(g,Ue);return Pc(l)&&vf(ot,Ue),ot.placeholder=A,gf(ot,l,y)}function uf(l){var y=O[l];return function(_,A){if(_=Pr(_),(A=A==null?0:Er(Gt(A),292))&&Tp(_)){var R=(ln(_)+"e").split("e");return+((R=(ln(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var Fy=ya&&1/li(new ya([,-0]))[1]==U?function(l){return new ya(l)}:ws;function ad(l){return function(y){var _=Sr(y);return _==ue?wr(y):_==je?Ya(y):(function(A,R){return un(R,(function($){return[$,A[$]]}))})(y,l(y))}}function bi(l,y,_,A,R,$,oe,fe){var Oe=2&y;if(!Oe&&typeof l!="function")throw new q(E);var Le=A?A.length:0;if(Le||(y&=-97,A=R=g),oe=oe===g?oe:lr(Gt(oe),0),fe=fe===g?fe:Gt(fe),Le-=R?R.length:0,y&C){var Ne=A,Ue=R;A=R=g}var ot=Oe?g:lf(l),ht=[l,y,_,A,R,Ne,Ue,$,oe,fe];if(ot&&(function(Be,Ge){var At=Be[1],at=Ge[1],le=At|at,zt=le<131,en=at==N&&At==8||at==N&&At==L&&Be[7].length<=Ge[8]||at==384&&Ge[7].length<=Ge[8]&&At==8;if(!zt&&!en)return Be;1&at&&(Be[2]=Ge[2],le|=1&At?0:4);var Ot=Ge[3];if(Ot){var kt=Be[3];Be[3]=kt?Qp(kt,Ot,Ge[4]):Ot,Be[4]=kt?$r(Be[3],P):Ge[4]}(Ot=Ge[5])&&(kt=Be[5],Be[5]=kt?ed(kt,Ot,Ge[6]):Ot,Be[6]=kt?$r(Be[5],P):Ge[6]),(Ot=Ge[7])&&(Be[7]=Ot),at&N&&(Be[8]=Be[8]==null?Ge[8]:Er(Be[8],Ge[8])),Be[9]==null&&(Be[9]=Ge[9]),Be[0]=Ge[0],Be[1]=le})(ht,ot),l=ht[0],y=ht[1],_=ht[2],A=ht[3],R=ht[4],!(fe=ht[9]=ht[9]===g?Oe?0:l.length:lr(ht[9]-Le,0))&&24&y&&(y&=-25),y&&y!=1)St=y==8||y==k?(function(Be,Ge,At){var at=ss(Be);return function le(){for(var zt=arguments.length,en=et(zt),Ot=zt,kt=ba(le);Ot--;)en[Ot]=arguments[Ot];var or=zt<3&&en[0]!==kt&&en[zt-1]!==kt?[]:$r(en,kt);return(zt-=or.length)<At?id(Be,Ge,mc,le.placeholder,g,en,or,g,g,At-zt):En(this&&this!==Fn&&this instanceof le?at:Be,this,en)}})(l,y,fe):y!=T&&y!=33||R.length?mc.apply(g,ht):(function(Be,Ge,At,at){var le=1&Ge,zt=ss(Be);return function en(){for(var Ot=-1,kt=arguments.length,or=-1,Vr=at.length,Do=et(Vr+kt),ir=this&&this!==Fn&&this instanceof en?zt:Be;++or<Vr;)Do[or]=at[or];for(;kt--;)Do[or++]=arguments[++Ot];return En(ir,le?At:this,Do)}})(l,y,_,A);else var St=(function(Be,Ge,At){var at=1&Ge,le=ss(Be);return function zt(){return(this&&this!==Fn&&this instanceof zt?le:Be).apply(at?At:this,arguments)}})(l,y,_);return gf((ot?Yp:vf)(St,ht),l,y)}function ud(l,y,_,A){return l===g||ko(l,We[_])&&!tt.call(A,_)?y:l}function sd(l,y,_,A,R,$){return Bn(l)&&Bn(y)&&($.set(y,l),fc(l,y,g,sd,$),$.delete(y)),l}function Wy(l){return du(l)?g:l}function wc(l,y,_,A,R,$){var oe=1&_,fe=l.length,Oe=y.length;if(fe!=Oe&&!(oe&&Oe>fe))return!1;var Le=$.get(l),Ne=$.get(y);if(Le&&Ne)return Le==y&&Ne==l;var Ue=-1,ot=!0,ht=2&_?new Wi:g;for($.set(l,y),$.set(y,l);++Ue<fe;){var St=l[Ue],Be=y[Ue];if(A)var Ge=oe?A(Be,St,Ue,y,l,$):A(St,Be,Ue,l,y,$);if(Ge!==g){if(Ge)continue;ot=!1;break}if(ht){if(!qu(y,(function(At,at){if(!Xo(ht,at)&&(St===At||R(St,At,_,A,$)))return ht.push(at)}))){ot=!1;break}}else if(St!==Be&&!R(St,Be,_,A,$)){ot=!1;break}}return $.delete(l),$.delete(y),ot}function mi(l){return Mc(hf(l,g,ds),l+"")}function sf(l){return Xl(l,Un,fr)}function cf(l){return Xl(l,Ar,Ec)}var lf=oc?function(l){return oc.get(l)}:ws;function uu(l){for(var y=l.name+"",_=eu[y],A=tt.call(eu,y)?_.length:0;A--;){var R=_[A],$=R.func;if($==null||$==l)return R.name}return y}function ba(l){return(tt.call(F,"placeholder")?F:l).placeholder}function Tt(){var l=F.iteratee||Os;return l=l===Os?Vl:l,arguments.length?l(arguments[0],arguments[1]):l}function xc(l,y){var _,A,R=l.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function ff(l){for(var y=Un(l),_=y.length;_--;){var A=y[_],R=l[A];y[_]=[A,R,pf(R)]}return y}function ma(l,y){var _=(function(A,R){return A==null?g:A[R]})(l,y);return iu(_)?_:g}var fr=zl?function(l){return l==null?[]:(l=w(l),Or(zl(l),(function(y){return xr.call(l,y)})))}:xi,Ec=zl?function(l){for(var y=[];l;)nr(y,fr(l)),l=fi(l);return y}:xi,Sr=Ln;function Sc(l,y,_){for(var A=-1,R=(y=yn(y,l)).length,$=!1;++A<R;){var oe=Mo(y[A]);if(!($=l!=null&&_(l,oe)))break;l=l[oe]}return $||++A!=R?$:!!(R=l==null?0:l.length)&&Bc(R)&&oo(oe,R)&&(Ut(l)||_a(l))}function _i(l){return typeof l.constructor!="function"||ke(l)?{}:tu(fi(l))}function $y(l){return Ut(l)||_a(l)||!!(Fi&&l&&l[Fi])}function oo(l,y){var _=typeof l;return!!(y=y==null?G:y)&&(_=="number"||_!="symbol"&&st.test(l))&&l>-1&&l%1==0&&l<y}function br(l,y,_){if(!Bn(_))return!1;var A=typeof y;return!!(A=="number"?Yr(_)&&oo(y,_.length):A=="string"&&y in _)&&ko(_[y],l)}function jc(l,y){if(Ut(l))return!1;var _=typeof l;return!(_!="number"&&_!="symbol"&&_!="boolean"&&l!=null&&!zr(l))||Ft.test(l)||!dn.test(l)||y!=null&&l in w(y)}function Pc(l){var y=uu(l),_=F[y];if(typeof _!="function"||!(y in an.prototype))return!1;if(l===_)return!0;var A=lf(_);return!!A&&l===A[0]}(Za&&Sr(new Za(new ArrayBuffer(1)))!=rt||Ja&&Sr(new Ja)!=ue||Fl&&Sr(Fl.resolve())!=Ae||ya&&Sr(new ya)!=je||Qa&&Sr(new Qa)!=Me)&&(Sr=function(l){var y=Ln(l),_=y==me?l.constructor:g,A=_?Hi(_):"";if(A)switch(A){case Dy:return rt;case Dp:return ue;case Ny:return Ae;case Ry:return je;case Np:return Me}return y});var Uy=ct?go:xs;function ke(l){var y=l&&l.constructor;return l===(typeof y=="function"&&y.prototype||We)}function pf(l){return l==l&&!Bn(l)}function df(l,y){return function(_){return _!=null&&_[l]===y&&(y!==g||l in w(_))}}function hf(l,y,_){return y=lr(y===g?l.length-1:y,0),function(){for(var A=arguments,R=-1,$=lr(A.length-y,0),oe=et($);++R<$;)oe[R]=A[y+R];R=-1;for(var fe=et(y+1);++R<y;)fe[R]=A[R];return fe[y]=_(oe),En(l,this,fe)}}function yf(l,y){return y.length<2?l:yi(l,ro(y,0,-1))}function cd(l,y){for(var _=l.length,A=Er(y.length,_),R=Hr(l);A--;){var $=y[A];l[A]=oo($,_)?R[$]:g}return l}function Ac(l,y){if((y!=="constructor"||typeof l[y]!="function")&&y!="__proto__")return l[y]}var vf=bf(Yp),su=Mp||function(l,y){return Fn.setTimeout(l,y)},Mc=bf(Ly);function gf(l,y,_){var A=y+"";return Mc(l,(function(R,$){var oe=$.length;if(!oe)return R;var fe=oe-1;return $[fe]=(oe>1?"& ":"")+$[fe],$=$.join(oe>2?", ":" "),R.replace(ee,`{
/* [wrapped with `+$+`] */
`)})(A,(function(R,$){return Dr(re,(function(oe){var fe="_."+oe[0];$&oe[1]&&!Jr(R,fe)&&R.push(fe)})),R.sort()})((function(R){var $=R.match(he);return $?$[1].split(ae):[]})(A),_)))}function bf(l){var y=0,_=0;return function(){var A=tc(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return l.apply(g,arguments)}}function ps(l,y){var _=-1,A=l.length,R=A-1;for(y=y===g?A:y;++_<y;){var $=ql(_,R),oe=l[$];l[$]=l[_],l[_]=oe}return l.length=y,l}var mf=(function(l){var y=fu(l,(function(A){return _.size===500&&_.clear(),A})),_=y.cache;return y})((function(l){var y=[];return l.charCodeAt(0)===46&&y.push(""),l.replace(nn,(function(_,A,R,$){y.push(R?$.replace(Ke,"$1"):A||_)})),y}));function Mo(l){if(typeof l=="string"||zr(l))return l;var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Hi(l){if(l!=null){try{return Vt.call(l)}catch(y){}try{return l+""}catch(y){}}return""}function _f(l){if(l instanceof an)return l.clone();var y=new po(l.__wrapped__,l.__chain__);return y.__actions__=Hr(l.__actions__),y.__index__=l.__index__,y.__values__=l.__values__,y}var ld=Jt((function(l,y){return Rn(l)?hi(l,hr(y,1,Rn,!0)):[]})),fd=Jt((function(l,y){var _=zn(y);return Rn(_)&&(_=g),Rn(l)?hi(l,hr(y,1,Rn,!0),Tt(_,2)):[]})),pd=Jt((function(l,y){var _=zn(y);return Rn(_)&&(_=g),Rn(l)?hi(l,hr(y,1,Rn,!0),g,_):[]}));function Of(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Gt(_);return R<0&&(R=lr(A+R,0)),Go(l,Tt(y,3),R)}function Tc(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A-1;return _!==g&&(R=Gt(_),R=_<0?lr(A+R,0):Er(R,A-1)),Go(l,Tt(y,3),R,!0)}function ds(l){return l!=null&&l.length?hr(l,1):[]}function dd(l){return l&&l.length?l[0]:g}var To=Jt((function(l){var y=un(l,vc);return y.length&&y[0]===l[0]?cc(y):[]})),Xi=Jt((function(l){var y=zn(l),_=un(l,vc);return y===zn(_)?y=g:_.pop(),_.length&&_[0]===l[0]?cc(_,Tt(y,2)):[]})),Gy=Jt((function(l){var y=zn(l),_=un(l,vc);return(y=typeof y=="function"?y:g)&&_.pop(),_.length&&_[0]===l[0]?cc(_,g,y):[]}));function zn(l){var y=l==null?0:l.length;return y?l[y-1]:g}var hd=Jt(kc);function kc(l,y){return l&&l.length&&y&&y.length?pc(l,y):l}var yd=mi((function(l,y){var _=l==null?0:l.length,A=uc(l,y);return Kl(l,un(y,(function(R){return oo(R,_)?+R:R})).sort(af)),A}));function Dc(l){return l==null?l:ky.call(l)}var vd=Jt((function(l){return Ui(hr(l,1,Rn,!0))})),gd=Jt((function(l){var y=zn(l);return Rn(y)&&(y=g),Ui(hr(l,1,Rn,!0),Tt(y,2))})),bd=Jt((function(l){var y=zn(l);return y=typeof y=="function"?y:g,Ui(hr(l,1,Rn,!0),g,y)}));function hs(l){if(!l||!l.length)return[];var y=0;return l=Or(l,(function(_){if(Rn(_))return y=lr(_.length,y),!0})),fa(y,(function(_){return un(l,Rr(_))}))}function cu(l,y){if(!l||!l.length)return[];var _=hs(l);return y==null?_:un(_,(function(A){return En(y,g,A)}))}var jr=Jt((function(l,y){return Rn(l)?hi(l,y):[]})),Hy=Jt((function(l){return tf(Or(l,Rn))})),Xy=Jt((function(l){var y=zn(l);return Rn(y)&&(y=g),tf(Or(l,Rn),Tt(y,2))})),wf=Jt((function(l){var y=zn(l);return y=typeof y=="function"?y:g,tf(Or(l,Rn),g,y)})),md=Jt(hs),Xr=Jt((function(l){var y=l.length,_=y>1?l[y-1]:g;return _=typeof _=="function"?(l.pop(),_):g,cu(l,_)}));function Jn(l){var y=F(l);return y.__chain__=!0,y}function Nc(l,y){return y(l)}var vo=mi((function(l){var y=l.length,_=y?l[0]:0,A=this.__wrapped__,R=function($){return uc($,l)};return!(y>1||this.__actions__.length)&&A instanceof an&&oo(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:Nc,args:[R],thisArg:g}),new po(A,this.__chain__).thru((function($){return y&&!$.length&&$.push(g),$}))):this.thru(R)})),Mt=bc((function(l,y,_){tt.call(l,_)?++l[_]:qo(l,_,1)})),xf=rd(Of),Ef=rd(Tc);function Rc(l,y){return(Ut(l)?Dr:Nn)(l,Tt(y,3))}function Sf(l,y){return(Ut(l)?Il:zp)(l,Tt(y,3))}var _d=bc((function(l,y,_){tt.call(l,_)?l[_].push(y):qo(l,_,[y])})),Yy=Jt((function(l,y,_){var A=-1,R=typeof y=="function",$=Yr(l)?et(l.length):[];return Nn(l,(function(oe){$[++A]=R?En(y,oe,_):ru(oe,y,_)})),$})),Vy=bc((function(l,y,_){qo(l,_,y)}));function lu(l,y){return(Ut(l)?un:yo)(l,Tt(y,3))}var Ky=bc((function(l,y,_){l[_?0:1].push(y)}),(function(){return[[],[]]})),jf=Jt((function(l,y){if(l==null)return[];var _=y.length;return _>1&&br(l,y[0],y[1])?y=[]:_>2&&br(y[0],y[1],y[2])&&(y=[y[0]]),Hp(l,hr(y,1),[])})),Cc=My||function(){return Fn.Date.now()};function Od(l,y,_){return y=_?g:y,y=l&&y==null?l.length:y,bi(l,N,g,g,g,g,y)}function Pf(l,y){var _;if(typeof y!="function")throw new q(E);return l=Gt(l),function(){return--l>0&&(_=y.apply(this,arguments)),l<=1&&(y=g),_}}var Yi=Jt((function(l,y,_){var A=1;if(_.length){var R=$r(_,ba(Yi));A|=T}return bi(l,A,y,_,R)})),Af=Jt((function(l,y,_){var A=3;if(_.length){var R=$r(_,ba(Af));A|=T}return bi(y,A,l,_,R)}));function Lt(l,y,_){var A,R,$,oe,fe,Oe,Le=0,Ne=!1,Ue=!1,ot=!0;if(typeof l!="function")throw new q(E);function ht(le){var zt=A,en=R;return A=R=g,Le=le,oe=l.apply(en,zt)}function St(le){return Le=le,fe=su(Ge,y),Ne?ht(le):oe}function Be(le){var zt=le-Oe;return Oe===g||zt>=y||zt<0||Ue&&le-Le>=$}function Ge(){var le=Cc();if(Be(le))return At(le);fe=su(Ge,(function(zt){var en=y-(zt-Oe);return Ue?Er(en,$-(zt-Le)):en})(le))}function At(le){return fe=g,ot&&A?ht(le):(A=R=g,oe)}function at(){var le=Cc(),zt=Be(le);if(A=arguments,R=this,Oe=le,zt){if(fe===g)return St(Oe);if(Ue)return gc(fe),fe=su(Ge,y),ht(Oe)}return fe===g&&(fe=su(Ge,y)),oe}return y=Pr(y)||0,Bn(_)&&(Ne=!!_.leading,$=(Ue="maxWait"in _)?lr(Pr(_.maxWait)||0,y):$,ot="trailing"in _?!!_.trailing:ot),at.cancel=function(){fe!==g&&gc(fe),Le=0,A=Oe=R=fe=g},at.flush=function(){return fe===g?oe:At(Cc())},at}var wd=Jt((function(l,y){return Hl(l,1,y)})),Ic=Jt((function(l,y,_){return Hl(l,Pr(y)||0,_)}));function fu(l,y){if(typeof l!="function"||y!=null&&typeof y!="function")throw new q(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],$=_.cache;if($.has(R))return $.get(R);var oe=l.apply(this,A);return _.cache=$.set(R,oe)||$,oe};return _.cache=new(fu.Cache||Ko),_}function Lc(l){if(typeof l!="function")throw new q(E);return function(){var y=arguments;switch(y.length){case 0:return!l.call(this);case 1:return!l.call(this,y[0]);case 2:return!l.call(this,y[0],y[1]);case 3:return!l.call(this,y[0],y[1],y[2])}return!l.apply(this,y)}}fu.Cache=Ko;var xd=By((function(l,y){var _=(y=y.length==1&&Ut(y[0])?un(y[0],In(Tt())):un(hr(y,1),In(Tt()))).length;return Jt((function(A){for(var R=-1,$=Er(A.length,_);++R<$;)A[R]=y[R].call(this,A[R]);return En(l,this,A)}))})),zc=Jt((function(l,y){var _=$r(y,ba(zc));return bi(l,T,g,y,_)})),Mf=Jt((function(l,y){var _=$r(y,ba(Mf));return bi(l,C,g,y,_)})),qy=mi((function(l,y){return bi(l,L,g,g,g,y)}));function ko(l,y){return l===y||l!=l&&y!=y}var Zy=Oc(Wn),ys=Oc((function(l,y){return l>=y})),_a=Yl((function(){return arguments})())?Yl:function(l){return $n(l)&&tt.call(l,"callee")&&!xr.call(l,"callee")},Ut=et.isArray,Jy=Yu?In(Yu):function(l){return $n(l)&&Ln(l)==$e};function Yr(l){return l!=null&&Bc(l.length)&&!go(l)}function Rn(l){return $n(l)&&Yr(l)}var Lr=Ty||xs,Tf=Zs?In(Zs):function(l){return $n(l)&&Ln(l)==B};function yr(l){if(!$n(l))return!1;var y=Ln(l);return y==X||y=="[object DOMException]"||typeof l.message=="string"&&typeof l.name=="string"&&!du(l)}function go(l){if(!Bn(l))return!1;var y=Ln(l);return y==Y||y==K||y=="[object AsyncFunction]"||y=="[object Proxy]"}function pu(l){return typeof l=="number"&&l==Gt(l)}function Bc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=G}function Bn(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}function $n(l){return l!=null&&typeof l=="object"}var kf=Vu?In(Vu):function(l){return $n(l)&&Sr(l)==ue};function Df(l){return typeof l=="number"||$n(l)&&Ln(l)==Ee}function du(l){if(!$n(l)||Ln(l)!=me)return!1;var y=fi(l);if(y===null)return!0;var _=tt.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Vt.call(_)==to}var hu=$a?In($a):function(l){return $n(l)&&Ln(l)==Fe},Ed=zi?In(zi):function(l){return $n(l)&&Sr(l)==je};function Fc(l){return typeof l=="string"||!Ut(l)&&$n(l)&&Ln(l)==ve}function zr(l){return typeof l=="symbol"||$n(l)&&Ln(l)==Pe}var Oi=Uo?In(Uo):function(l){return $n(l)&&Bc(l.length)&&!!vn[Ln(l)]},Sd=Oc(gi),Nf=Oc((function(l,y){return l<=y}));function jd(l){if(!l)return[];if(Yr(l))return Fc(l)?Ur(l):Hr(l);if(pi&&l[pi])return(function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R})(l[pi]());var y=Sr(l);return(y==ue?wr:y==je?li:Ki)(l)}function Zo(l){return l?(l=Pr(l))===U||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:l===0?l:0}function Gt(l){var y=Zo(l),_=y%1;return y==y?_?y-_:y:0}function Pd(l){return l?$i(Gt(l),0,ie):0}function Pr(l){if(typeof l=="number")return l;if(zr(l))return te;if(Bn(l)){var y=typeof l.valueOf=="function"?l.valueOf():l;l=Bn(y)?y+"":y}if(typeof l!="string")return l===0?l:+l;l=Zu(l);var _=pr.test(l);return _||qn.test(l)?$o(l.slice(2),_?2:8):tr.test(l)?te:+l}function Rf(l){return Ao(l,Ar(l))}function ln(l){return l==null?"":Gr(l)}var Cf=au((function(l,y){if(ke(y)||Yr(y))Ao(y,Un(y),l);else for(var _ in y)tt.call(y,_)&&nu(l,_,y[_])})),Oa=au((function(l,y){Ao(y,Ar(y),l)})),Vi=au((function(l,y,_,A){Ao(y,Ar(y),l,A)})),vs=au((function(l,y,_,A){Ao(y,Un(y),l,A)})),Ad=mi(uc),Md=Jt((function(l,y){l=w(l);var _=-1,A=y.length,R=A>2?y[2]:g;for(R&&br(y[0],y[1],R)&&(A=1);++_<A;)for(var $=y[_],oe=Ar($),fe=-1,Oe=oe.length;++fe<Oe;){var Le=oe[fe],Ne=l[Le];(Ne===g||ko(Ne,We[Le])&&!tt.call(l,Le))&&(l[Le]=$[Le])}return l})),Td=Jt((function(l){return l.push(g,sd),En(Lf,g,l)}));function yu(l,y,_){var A=l==null?g:yi(l,y);return A===g?_:A}function Wc(l,y){return l!=null&&Sc(l,y,Wp)}var If=_c((function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=cn.call(y)),l[y]=_}),_s(Br)),kd=_c((function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=cn.call(y)),tt.call(l,y)?l[y].push(_):l[y]=[_]}),Tt),Dd=Jt(ru);function Un(l){return Yr(l)?Wl(l):vi(l)}function Ar(l){return Yr(l)?Wl(l,!0):Cy(l)}var Nd=au((function(l,y,_){fc(l,y,_)})),Lf=au((function(l,y,_,A){fc(l,y,_,A)})),zf=mi((function(l,y){var _={};if(l==null)return _;var A=!1;y=un(y,(function($){return $=yn($,l),A||(A=$.length>1),$})),Ao(l,cf(l),_),A&&(_=no(_,7,Wy));for(var R=y.length;R--;)hc(_,y[R]);return _})),Bf=mi((function(l,y){return l==null?{}:(function(_,A){return Xp(_,A,(function(R,$){return Wc(_,$)}))})(l,y)}));function $c(l,y){if(l==null)return{};var _=un(cf(l),(function(A){return[A]}));return y=Tt(y),Xp(l,_,(function(A,R){return y(A,R[0])}))}var Ff=ad(Un),Uc=ad(Ar);function Ki(l){return l==null?[]:Xa(l,Un(l))}var Wf=ga((function(l,y,_){return y=y.toLowerCase(),l+(_?vu(y):y)}));function vu(l){return gs(ln(l).toLowerCase())}function wi(l){return(l=ln(l))&&l.replace(_t,Qu).replace(Wo,"")}var Rd=ga((function(l,y,_){return l+(_?"-":"")+y.toLowerCase()})),Cd=ga((function(l,y,_){return l+(_?" ":"")+y.toLowerCase()})),$f=nd("toLowerCase"),Uf=ga((function(l,y,_){return l+(_?"_":"")+y.toLowerCase()})),Qy=ga((function(l,y,_){return l+(_?" ":"")+gs(y)})),Id=ga((function(l,y,_){return l+(_?" ":"")+y.toUpperCase()})),gs=nd("toUpperCase");function bs(l,y,_){return l=ln(l),(y=_?g:y)===g?(function(A){return Uu.test(A)})(l)?(function(A){return A.match(Fa)||[]})(l):(function(A){return A.match(_e)||[]})(l):l.match(y)||[]}var ms=Jt((function(l,y){try{return En(l,g,y)}catch(_){return yr(_)?_:new Zt(_)}})),Gf=mi((function(l,y){return Dr(y,(function(_){_=Mo(_),qo(l,_,Yi(l[_],l))})),l}));function _s(l){return function(){return l}}var Ld=Gi(),Hf=Gi(!0);function Br(l){return l}function Os(l){return Vl(typeof l=="function"?l:no(l,1))}var ev=Jt((function(l,y){return function(_){return ru(_,l,y)}})),rr=Jt((function(l,y){return function(_){return ru(l,_,y)}}));function bo(l,y,_){var A=Un(y),R=sc(y,A);_!=null||Bn(y)&&(R.length||!A.length)||(_=y,y=l,l=this,R=sc(y,Un(y)));var $=!(Bn(_)&&"chain"in _&&!_.chain),oe=go(l);return Dr(R,(function(fe){var Oe=y[fe];l[fe]=Oe,oe&&(l.prototype[fe]=function(){var Le=this.__chain__;if($||Le){var Ne=l(this.__wrapped__),Ue=Ne.__actions__=Hr(this.__actions__);return Ue.push({func:Oe,args:arguments,thisArg:l}),Ne.__chain__=Le,Ne}return Oe.apply(l,nr([this.value()],arguments))})})),l}function ws(){}var Xf=ls(un),tv=ls(Js),Yf=ls(qu);function Gc(l){return jc(l)?Rr(Mo(l)):(function(y){return function(_){return yi(_,y)}})(l)}var Vf=od(),nv=od(!0);function xi(){return[]}function xs(){return!1}var Kf=cs((function(l,y){return l+y}),0),zd=uf("ceil"),Es=cs((function(l,y){return l/y}),1),Ss=uf("floor"),js,Bd=cs((function(l,y){return l*y}),1),Fd=uf("round"),vr=cs((function(l,y){return l-y}),0);return F.after=function(l,y){if(typeof y!="function")throw new q(E);return l=Gt(l),function(){if(--l<1)return y.apply(this,arguments)}},F.ary=Od,F.assign=Cf,F.assignIn=Oa,F.assignInWith=Vi,F.assignWith=vs,F.at=Ad,F.before=Pf,F.bind=Yi,F.bindAll=Gf,F.bindKey=Af,F.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return Ut(l)?l:[l]},F.chain=Jn,F.chunk=function(l,y,_){y=(_?br(l,y,_):y===g)?1:lr(Gt(y),0);var A=l==null?0:l.length;if(!A||y<1)return[];for(var R=0,$=0,oe=et(ec(A/y));R<A;)oe[$++]=ro(l,R,R+=y);return oe},F.compact=function(l){for(var y=-1,_=l==null?0:l.length,A=0,R=[];++y<_;){var $=l[y];$&&(R[A++]=$)}return R},F.concat=function(){var l=arguments.length;if(!l)return[];for(var y=et(l-1),_=arguments[0],A=l;A--;)y[A-1]=arguments[A];return nr(Ut(_)?Hr(_):[_],hr(y,1))},F.cond=function(l){var y=l==null?0:l.length,_=Tt();return l=y?un(l,(function(A){if(typeof A[1]!="function")throw new q(E);return[_(A[0]),A[1]]})):[],Jt((function(A){for(var R=-1;++R<y;){var $=l[R];if(En($[0],this,A))return En($[1],this,A)}}))},F.conforms=function(l){return(function(y){var _=Un(y);return function(A){return Gl(A,y,_)}})(no(l,1))},F.constant=_s,F.countBy=Mt,F.create=function(l,y){var _=tu(l);return y==null?_:Ul(_,y)},F.curry=function l(y,_,A){var R=bi(y,8,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.curryRight=function l(y,_,A){var R=bi(y,k,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.debounce=Lt,F.defaults=Md,F.defaultsDeep=Td,F.defer=wd,F.delay=Ic,F.difference=ld,F.differenceBy=fd,F.differenceWith=pd,F.drop=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,(y=_||y===g?1:Gt(y))<0?0:y,A):[]},F.dropRight=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,0,(y=A-(y=_||y===g?1:Gt(y)))<0?0:y):[]},F.dropRightWhile=function(l,y){return l&&l.length?yc(l,Tt(y,3),!0,!0):[]},F.dropWhile=function(l,y){return l&&l.length?yc(l,Tt(y,3),!0):[]},F.fill=function(l,y,_,A){var R=l==null?0:l.length;return R?(_&&typeof _!="number"&&br(l,y,_)&&(_=0,A=R),(function($,oe,fe,Oe){var Le=$.length;for((fe=Gt(fe))<0&&(fe=-fe>Le?0:Le+fe),(Oe=Oe===g||Oe>Le?Le:Gt(Oe))<0&&(Oe+=Le),Oe=fe>Oe?0:Pd(Oe);fe<Oe;)$[fe++]=oe;return $})(l,y,_,A)):[]},F.filter=function(l,y){return(Ut(l)?Or:gn)(l,Tt(y,3))},F.flatMap=function(l,y){return hr(lu(l,y),1)},F.flatMapDeep=function(l,y){return hr(lu(l,y),U)},F.flatMapDepth=function(l,y,_){return _=_===g?1:Gt(_),hr(lu(l,y),_)},F.flatten=ds,F.flattenDeep=function(l){return l!=null&&l.length?hr(l,U):[]},F.flattenDepth=function(l,y){return l!=null&&l.length?hr(l,y=y===g?1:Gt(y)):[]},F.flip=function(l){return bi(l,512)},F.flow=Ld,F.flowRight=Hf,F.fromPairs=function(l){for(var y=-1,_=l==null?0:l.length,A={};++y<_;){var R=l[y];A[R[0]]=R[1]}return A},F.functions=function(l){return l==null?[]:sc(l,Un(l))},F.functionsIn=function(l){return l==null?[]:sc(l,Ar(l))},F.groupBy=_d,F.initial=function(l){return l!=null&&l.length?ro(l,0,-1):[]},F.intersection=To,F.intersectionBy=Xi,F.intersectionWith=Gy,F.invert=If,F.invertBy=kd,F.invokeMap=Yy,F.iteratee=Os,F.keyBy=Vy,F.keys=Un,F.keysIn=Ar,F.map=lu,F.mapKeys=function(l,y){var _={};return y=Tt(y,3),dt(l,(function(A,R,$){qo(_,y(A,R,$),A)})),_},F.mapValues=function(l,y){var _={};return y=Tt(y,3),dt(l,(function(A,R,$){qo(_,R,y(A,R,$))})),_},F.matches=function(l){return $p(no(l,1))},F.matchesProperty=function(l,y){return Up(l,no(y,1))},F.memoize=fu,F.merge=Nd,F.mergeWith=Lf,F.method=ev,F.methodOf=rr,F.mixin=bo,F.negate=Lc,F.nthArg=function(l){return l=Gt(l),Jt((function(y){return Gp(y,l)}))},F.omit=zf,F.omitBy=function(l,y){return $c(l,Lc(Tt(y)))},F.once=function(l){return Pf(2,l)},F.orderBy=function(l,y,_,A){return l==null?[]:(Ut(y)||(y=y==null?[]:[y]),Ut(_=A?g:_)||(_=_==null?[]:[_]),Hp(l,y,_))},F.over=Xf,F.overArgs=xd,F.overEvery=tv,F.overSome=Yf,F.partial=zc,F.partialRight=Mf,F.partition=Ky,F.pick=Bf,F.pickBy=$c,F.property=Gc,F.propertyOf=function(l){return function(y){return l==null?g:yi(l,y)}},F.pull=hd,F.pullAll=kc,F.pullAllBy=function(l,y,_){return l&&l.length&&y&&y.length?pc(l,y,Tt(_,2)):l},F.pullAllWith=function(l,y,_){return l&&l.length&&y&&y.length?pc(l,y,g,_):l},F.pullAt=yd,F.range=Vf,F.rangeRight=nv,F.rearg=qy,F.reject=function(l,y){return(Ut(l)?Or:gn)(l,Lc(Tt(y,3)))},F.remove=function(l,y){var _=[];if(!l||!l.length)return _;var A=-1,R=[],$=l.length;for(y=Tt(y,3);++A<$;){var oe=l[A];y(oe,A,l)&&(_.push(oe),R.push(A))}return Kl(l,R),_},F.rest=function(l,y){if(typeof l!="function")throw new q(E);return Jt(l,y=y===g?y:Gt(y))},F.reverse=Dc,F.sampleSize=function(l,y,_){return y=(_?br(l,y,_):y===g)?1:Gt(y),(Ut(l)?Cp:Zl)(l,y)},F.set=function(l,y,_){return l==null?l:is(l,y,_)},F.setWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:is(l,y,_,A)},F.shuffle=function(l){return(Ut(l)?Ip:Vp)(l)},F.slice=function(l,y,_){var A=l==null?0:l.length;return A?(_&&typeof _!="number"&&br(l,y,_)?(y=0,_=A):(y=y==null?0:Gt(y),_=_===g?A:Gt(_)),ro(l,y,_)):[]},F.sortBy=jf,F.sortedUniq=function(l){return l&&l.length?Ql(l):[]},F.sortedUniqBy=function(l,y){return l&&l.length?Ql(l,Tt(y,2)):[]},F.split=function(l,y,_){return _&&typeof _!="number"&&br(l,y,_)&&(y=_=g),(_=_===g?ie:_>>>0)?(l=ln(l))&&(typeof y=="string"||y!=null&&!hu(y))&&!(y=Gr(y))&&So(l)?mn(Ur(l),0,_):l.split(y,_):[]},F.spread=function(l,y){if(typeof l!="function")throw new q(E);return y=y==null?0:lr(Gt(y),0),Jt((function(_){var A=_[y],R=mn(_,0,y);return A&&nr(R,A),En(l,this,R)}))},F.tail=function(l){var y=l==null?0:l.length;return y?ro(l,1,y):[]},F.take=function(l,y,_){return l&&l.length?ro(l,0,(y=_||y===g?1:Gt(y))<0?0:y):[]},F.takeRight=function(l,y,_){var A=l==null?0:l.length;return A?ro(l,(y=A-(y=_||y===g?1:Gt(y)))<0?0:y,A):[]},F.takeRightWhile=function(l,y){return l&&l.length?yc(l,Tt(y,3),!1,!0):[]},F.takeWhile=function(l,y){return l&&l.length?yc(l,Tt(y,3)):[]},F.tap=function(l,y){return y(l),l},F.throttle=function(l,y,_){var A=!0,R=!0;if(typeof l!="function")throw new q(E);return Bn(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Lt(l,y,{leading:A,maxWait:y,trailing:R})},F.thru=Nc,F.toArray=jd,F.toPairs=Ff,F.toPairsIn=Uc,F.toPath=function(l){return Ut(l)?un(l,Mo):zr(l)?[l]:Hr(mf(ln(l)))},F.toPlainObject=Rf,F.transform=function(l,y,_){var A=Ut(l),R=A||Lr(l)||Oi(l);if(y=Tt(y,4),_==null){var $=l&&l.constructor;_=R?A?new $:[]:Bn(l)&&go($)?tu(fi(l)):{}}return(R?Dr:dt)(l,(function(oe,fe,Oe){return y(_,oe,fe,Oe)})),_},F.unary=function(l){return Od(l,1)},F.union=vd,F.unionBy=gd,F.unionWith=bd,F.uniq=function(l){return l&&l.length?Ui(l):[]},F.uniqBy=function(l,y){return l&&l.length?Ui(l,Tt(y,2)):[]},F.uniqWith=function(l,y){return y=typeof y=="function"?y:g,l&&l.length?Ui(l,g,y):[]},F.unset=function(l,y){return l==null||hc(l,y)},F.unzip=hs,F.unzipWith=cu,F.update=function(l,y,_){return l==null?l:qp(l,y,rf(_))},F.updateWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:qp(l,y,rf(_),A)},F.values=Ki,F.valuesIn=function(l){return l==null?[]:Xa(l,Ar(l))},F.without=jr,F.words=bs,F.wrap=function(l,y){return zc(rf(y),l)},F.xor=Hy,F.xorBy=Xy,F.xorWith=wf,F.zip=md,F.zipObject=function(l,y){return nf(l||[],y||[],nu)},F.zipObjectDeep=function(l,y){return nf(l||[],y||[],is)},F.zipWith=Xr,F.entries=Ff,F.entriesIn=Uc,F.extend=Oa,F.extendWith=Vi,bo(F,F),F.add=Kf,F.attempt=ms,F.camelCase=Wf,F.capitalize=vu,F.ceil=zd,F.clamp=function(l,y,_){return _===g&&(_=y,y=g),_!==g&&(_=(_=Pr(_))==_?_:0),y!==g&&(y=(y=Pr(y))==y?y:0),$i(Pr(l),y,_)},F.clone=function(l){return no(l,4)},F.cloneDeep=function(l){return no(l,5)},F.cloneDeepWith=function(l,y){return no(l,5,y=typeof y=="function"?y:g)},F.cloneWith=function(l,y){return no(l,4,y=typeof y=="function"?y:g)},F.conformsTo=function(l,y){return y==null||Gl(l,y,Un(y))},F.deburr=wi,F.defaultTo=function(l,y){return l==null||l!=l?y:l},F.divide=Es,F.endsWith=function(l,y,_){l=ln(l),y=Gr(y);var A=l.length,R=_=_===g?A:$i(Gt(_),0,A);return(_-=y.length)>=0&&l.slice(_,R)==y},F.eq=ko,F.escape=function(l){return(l=ln(l))&&lt.test(l)?l.replace(gt,Yn):l},F.escapeRegExp=function(l){return(l=ln(l))&&Tn.test(l)?l.replace(On,"\\$&"):l},F.every=function(l,y,_){var A=Ut(l)?Js:Bp;return _&&br(l,y,_)&&(y=g),A(l,Tt(y,3))},F.find=xf,F.findIndex=Of,F.findKey=function(l,y){return xo(l,Tt(y,3),dt)},F.findLast=Ef,F.findLastIndex=Tc,F.findLastKey=function(l,y){return xo(l,Tt(y,3),An)},F.floor=Ss,F.forEach=Rc,F.forEachRight=Sf,F.forIn=function(l,y){return l==null?l:Kt(l,Tt(y,3),Ar)},F.forInRight=function(l,y){return l==null?l:Zn(l,Tt(y,3),Ar)},F.forOwn=function(l,y){return l&&dt(l,Tt(y,3))},F.forOwnRight=function(l,y){return l&&An(l,Tt(y,3))},F.get=yu,F.gt=Zy,F.gte=ys,F.has=function(l,y){return l!=null&&Sc(l,y,Fp)},F.hasIn=Wc,F.head=dd,F.identity=Br,F.includes=function(l,y,_,A){l=Yr(l)?l:Ki(l),_=_&&!A?Gt(_):0;var R=l.length;return _<0&&(_=lr(R+_,0)),Fc(l)?_<=R&&l.indexOf(y,_)>-1:!!R&&Bi(l,y,_)>-1},F.indexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Gt(_);return R<0&&(R=lr(A+R,0)),Bi(l,y,R)},F.inRange=function(l,y,_){return y=Zo(y),_===g?(_=y,y=0):_=Zo(_),(function(A,R,$){return A>=Er(R,$)&&A<lr(R,$)})(l=Pr(l),y,_)},F.invoke=Dd,F.isArguments=_a,F.isArray=Ut,F.isArrayBuffer=Jy,F.isArrayLike=Yr,F.isArrayLikeObject=Rn,F.isBoolean=function(l){return l===!0||l===!1||$n(l)&&Ln(l)==H},F.isBuffer=Lr,F.isDate=Tf,F.isElement=function(l){return $n(l)&&l.nodeType===1&&!du(l)},F.isEmpty=function(l){if(l==null)return!0;if(Yr(l)&&(Ut(l)||typeof l=="string"||typeof l.splice=="function"||Lr(l)||Oi(l)||_a(l)))return!l.length;var y=Sr(l);if(y==ue||y==je)return!l.size;if(ke(l))return!vi(l).length;for(var _ in l)if(tt.call(l,_))return!1;return!0},F.isEqual=function(l,y){return ou(l,y)},F.isEqualWith=function(l,y,_){var A=(_=typeof _=="function"?_:g)?_(l,y):g;return A===g?ou(l,y,g,_):!!A},F.isError=yr,F.isFinite=function(l){return typeof l=="number"&&Tp(l)},F.isFunction=go,F.isInteger=pu,F.isLength=Bc,F.isMap=kf,F.isMatch=function(l,y){return l===y||lc(l,y,ff(y))},F.isMatchWith=function(l,y,_){return _=typeof _=="function"?_:g,lc(l,y,ff(y),_)},F.isNaN=function(l){return Df(l)&&l!=+l},F.isNative=function(l){if(Uy(l))throw new Zt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return iu(l)},F.isNil=function(l){return l==null},F.isNull=function(l){return l===null},F.isNumber=Df,F.isObject=Bn,F.isObjectLike=$n,F.isPlainObject=du,F.isRegExp=hu,F.isSafeInteger=function(l){return pu(l)&&l>=-9007199254740991&&l<=G},F.isSet=Ed,F.isString=Fc,F.isSymbol=zr,F.isTypedArray=Oi,F.isUndefined=function(l){return l===g},F.isWeakMap=function(l){return $n(l)&&Sr(l)==Me},F.isWeakSet=function(l){return $n(l)&&Ln(l)=="[object WeakSet]"},F.join=function(l,y){return l==null?"":Bl.call(l,y)},F.kebabCase=Rd,F.last=zn,F.lastIndexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A;return _!==g&&(R=(R=Gt(_))<0?lr(A+R,0):Er(R,A-1)),y==y?(function($,oe,fe){for(var Oe=fe+1;Oe--;)if($[Oe]===oe)return Oe;return Oe})(l,y,R):Go(l,Ho,R,!0)},F.lowerCase=Cd,F.lowerFirst=$f,F.lt=Sd,F.lte=Nf,F.max=function(l){return l&&l.length?Vn(l,Br,Wn):g},F.maxBy=function(l,y){return l&&l.length?Vn(l,Tt(y,2),Wn):g},F.mean=function(l){return rn(l,Br)},F.meanBy=function(l,y){return rn(l,Tt(y,2))},F.min=function(l){return l&&l.length?Vn(l,Br,gi):g},F.minBy=function(l,y){return l&&l.length?Vn(l,Tt(y,2),gi):g},F.stubArray=xi,F.stubFalse=xs,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Bd,F.nth=function(l,y){return l&&l.length?Gp(l,Gt(y)):g},F.noConflict=function(){return Fn._===this&&(Fn._=Dn),this},F.noop=ws,F.now=Cc,F.pad=function(l,y,_){l=ln(l);var A=(y=Gt(y))?jo(l):0;if(!y||A>=y)return l;var R=(y-A)/2;return fs(qa(R),_)+l+fs(ec(R),_)},F.padEnd=function(l,y,_){l=ln(l);var A=(y=Gt(y))?jo(l):0;return y&&A<y?l+fs(y-A,_):l},F.padStart=function(l,y,_){l=ln(l);var A=(y=Gt(y))?jo(l):0;return y&&A<y?fs(y-A,_)+l:l},F.parseInt=function(l,y,_){return _||y==null?y=0:y&&(y=+y),nc(ln(l).replace(Ct,""),y||0)},F.random=function(l,y,_){if(_&&typeof _!="boolean"&&br(l,y,_)&&(y=_=g),_===g&&(typeof y=="boolean"?(_=y,y=g):typeof l=="boolean"&&(_=l,l=g)),l===g&&y===g?(l=0,y=1):(l=Zo(l),y===g?(y=l,l=0):y=Zo(y)),l>y){var A=l;l=y,y=A}if(_||l%1||y%1){var R=rc();return Er(l+R*(y-l+Li("1e-"+((R+"").length-1))),y)}return ql(l,y)},F.reduce=function(l,y,_){var A=Ut(l)?Ua:cr,R=arguments.length<3;return A(l,Tt(y,4),_,R,Nn)},F.reduceRight=function(l,y,_){var A=Ut(l)?Qs:cr,R=arguments.length<3;return A(l,Tt(y,4),_,R,zp)},F.repeat=function(l,y,_){return y=(_?br(l,y,_):y===g)?1:Gt(y),dc(ln(l),y)},F.replace=function(){var l=arguments,y=ln(l[0]);return l.length<3?y:y.replace(l[1],l[2])},F.result=function(l,y,_){var A=-1,R=(y=yn(y,l)).length;for(R||(R=1,l=g);++A<R;){var $=l==null?g:l[Mo(y[A])];$===g&&(A=R,$=_),l=go($)?$.call(l):$}return l},F.round=Fd,F.runInContext=we,F.sample=function(l){return(Ut(l)?$l:Iy)(l)},F.size=function(l){if(l==null)return 0;if(Yr(l))return Fc(l)?jo(l):l.length;var y=Sr(l);return y==ue||y==je?l.size:vi(l).length},F.snakeCase=Uf,F.some=function(l,y,_){var A=Ut(l)?qu:zy;return _&&br(l,y,_)&&(y=g),A(l,Tt(y,3))},F.sortedIndex=function(l,y){return as(l,y)},F.sortedIndexBy=function(l,y,_){return Jl(l,y,Tt(_,2))},F.sortedIndexOf=function(l,y){var _=l==null?0:l.length;if(_){var A=as(l,y);if(A<_&&ko(l[A],y))return A}return-1},F.sortedLastIndex=function(l,y){return as(l,y,!0)},F.sortedLastIndexBy=function(l,y,_){return Jl(l,y,Tt(_,2),!0)},F.sortedLastIndexOf=function(l,y){if(l!=null&&l.length){var _=as(l,y,!0)-1;if(ko(l[_],y))return _}return-1},F.startCase=Qy,F.startsWith=function(l,y,_){return l=ln(l),_=_==null?0:$i(Gt(_),0,l.length),y=Gr(y),l.slice(_,_+y.length)==y},F.subtract=vr,F.sum=function(l){return l&&l.length?Ha(l,Br):0},F.sumBy=function(l,y){return l&&l.length?Ha(l,Tt(y,2)):0},F.template=function(l,y,_){var A=F.templateSettings;_&&br(l,y,_)&&(y=g),l=ln(l),y=Vi({},y,A,ud);var R,$,oe=Vi({},y.imports,A.imports,ud),fe=Un(oe),Oe=Xa(oe,fe),Le=0,Ne=y.interpolate||jt,Ue="__p += '",ot=M((y.escape||jt).source+"|"+Ne.source+"|"+(Ne===Bt?pt:jt).source+"|"+(y.evaluate||jt).source+"|$","g"),ht="//# sourceURL="+(tt.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vs+"]")+`
`;l.replace(ot,(function(Ge,At,at,le,zt,en){return at||(at=le),Ue+=l.slice(Le,en).replace(It,pa),At&&(R=!0,Ue+=`' +
__e(`+At+`) +
'`),zt&&($=!0,Ue+=`';
`+zt+`;
__p += '`),at&&(Ue+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),Le=en+Ge.length,Ge})),Ue+=`';
`;var St=tt.call(y,"variable")&&y.variable;if(St){if(Ve.test(St))throw new Zt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=($?Ue.replace(ze,""):Ue).replace(Et,"$1").replace(Nt,"$1;"),Ue="function("+(St||"obj")+`) {
`+(St?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Be=ms((function(){return Pn(fe,ht+"return "+Ue).apply(g,Oe)}));if(Be.source=Ue,yr(Be))throw Be;return Be},F.times=function(l,y){if((l=Gt(l))<1||l>G)return[];var _=ie,A=Er(l,ie);y=Tt(y),l-=ie;for(var R=fa(A,y);++_<l;)y(_);return R},F.toFinite=Zo,F.toInteger=Gt,F.toLength=Pd,F.toLower=function(l){return ln(l).toLowerCase()},F.toNumber=Pr,F.toSafeInteger=function(l){return l?$i(Gt(l),-9007199254740991,G):l===0?l:0},F.toString=ln,F.toUpper=function(l){return ln(l).toUpperCase()},F.trim=function(l,y,_){if((l=ln(l))&&(_||y===g))return Zu(l);if(!l||!(y=Gr(y)))return l;var A=Ur(l),R=Ur(y);return mn(A,Qr(A,R),Ju(A,R)+1).join("")},F.trimEnd=function(l,y,_){if((l=ln(l))&&(_||y===g))return l.slice(0,Cr(l)+1);if(!l||!(y=Gr(y)))return l;var A=Ur(l);return mn(A,0,Ju(A,Ur(y))+1).join("")},F.trimStart=function(l,y,_){if((l=ln(l))&&(_||y===g))return l.replace(Ct,"");if(!l||!(y=Gr(y)))return l;var A=Ur(l);return mn(A,Qr(A,Ur(y))).join("")},F.truncate=function(l,y){var _=30,A="...";if(Bn(y)){var R="separator"in y?y.separator:R;_="length"in y?Gt(y.length):_,A="omission"in y?Gr(y.omission):A}var $=(l=ln(l)).length;if(So(l)){var oe=Ur(l);$=oe.length}if(_>=$)return l;var fe=_-jo(A);if(fe<1)return A;var Oe=oe?mn(oe,0,fe).join(""):l.slice(0,fe);if(R===g)return Oe+A;if(oe&&(fe+=Oe.length-fe),hu(R)){if(l.slice(fe).search(R)){var Le,Ne=Oe;for(R.global||(R=M(R.source,ln(Xt.exec(R))+"g")),R.lastIndex=0;Le=R.exec(Ne);)var Ue=Le.index;Oe=Oe.slice(0,Ue===g?fe:Ue)}}else if(l.indexOf(Gr(R),fe)!=fe){var ot=Oe.lastIndexOf(R);ot>-1&&(Oe=Oe.slice(0,ot))}return Oe+A},F.unescape=function(l){return(l=ln(l))&&Te.test(l)?l.replace(Pt,eo):l},F.uniqueId=function(l){var y=++wn;return ln(l)+y},F.upperCase=Id,F.upperFirst=gs,F.each=Rc,F.eachRight=Sf,F.first=dd,bo(F,(js={},dt(F,(function(l,y){tt.call(F.prototype,y)||(js[y]=l)})),js),{chain:!1}),F.VERSION="4.17.21",Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(l){F[l].placeholder=F})),Dr(["drop","take"],(function(l,y){an.prototype[l]=function(_){_=_===g?1:lr(Gt(_),0);var A=this.__filtered__&&!y?new an(this):this.clone();return A.__filtered__?A.__takeCount__=Er(_,A.__takeCount__):A.__views__.push({size:Er(_,ie),type:l+(A.__dir__<0?"Right":"")}),A},an.prototype[l+"Right"]=function(_){return this.reverse()[l](_).reverse()}})),Dr(["filter","map","takeWhile"],(function(l,y){var _=y+1,A=_==1||_==3;an.prototype[l]=function(R){var $=this.clone();return $.__iteratees__.push({iteratee:Tt(R,3),type:_}),$.__filtered__=$.__filtered__||A,$}})),Dr(["head","last"],(function(l,y){var _="take"+(y?"Right":"");an.prototype[l]=function(){return this[_](1).value()[0]}})),Dr(["initial","tail"],(function(l,y){var _="drop"+(y?"":"Right");an.prototype[l]=function(){return this.__filtered__?new an(this):this[_](1)}})),an.prototype.compact=function(){return this.filter(Br)},an.prototype.find=function(l){return this.filter(l).head()},an.prototype.findLast=function(l){return this.reverse().find(l)},an.prototype.invokeMap=Jt((function(l,y){return typeof l=="function"?new an(this):this.map((function(_){return ru(_,l,y)}))})),an.prototype.reject=function(l){return this.filter(Lc(Tt(l)))},an.prototype.slice=function(l,y){l=Gt(l);var _=this;return _.__filtered__&&(l>0||y<0)?new an(_):(l<0?_=_.takeRight(-l):l&&(_=_.drop(l)),y!==g&&(_=(y=Gt(y))<0?_.dropRight(-y):_.take(y-l)),_)},an.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},an.prototype.toArray=function(){return this.take(ie)},dt(an.prototype,(function(l,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=F[A?"take"+(y=="last"?"Right":""):y],$=A||/^find/.test(y);R&&(F.prototype[y]=function(){var oe=this.__wrapped__,fe=A?[1]:arguments,Oe=oe instanceof an,Le=fe[0],Ne=Oe||Ut(oe),Ue=function(At){var at=R.apply(F,nr([At],fe));return A&&ot?at[0]:at};Ne&&_&&typeof Le=="function"&&Le.length!=1&&(Oe=Ne=!1);var ot=this.__chain__,ht=!!this.__actions__.length,St=$&&!ot,Be=Oe&&!ht;if(!$&&Ne){oe=Be?oe:new an(this);var Ge=l.apply(oe,fe);return Ge.__actions__.push({func:Nc,args:[Ue],thisArg:g}),new po(Ge,ot)}return St&&Be?l.apply(this,fe):(Ge=this.thru(Ue),St?A?Ge.value()[0]:Ge.value():Ge)})})),Dr(["pop","push","shift","sort","splice","unshift"],(function(l){var y=de[l],_=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",A=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var R=arguments;if(A&&!this.__chain__){var $=this.value();return y.apply(Ut($)?$:[],R)}return this[_]((function(oe){return y.apply(Ut(oe)?oe:[],R)}))}})),dt(an.prototype,(function(l,y){var _=F[y];if(_){var A=_.name+"";tt.call(eu,A)||(eu[A]=[]),eu[A].push({name:y,func:_})}})),eu[mc(g,2).name]=[{name:"wrapper",func:g}],an.prototype.clone=function(){var l=new an(this.__wrapped__);return l.__actions__=Hr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Hr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Hr(this.__views__),l},an.prototype.reverse=function(){if(this.__filtered__){var l=new an(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},an.prototype.value=function(){var l=this.__wrapped__.value(),y=this.__dir__,_=Ut(l),A=y<0,R=_?l.length:0,$=(function(en,Ot,kt){for(var or=-1,Vr=kt.length;++or<Vr;){var Do=kt[or],ir=Do.size;switch(Do.type){case"drop":en+=ir;break;case"dropRight":Ot-=ir;break;case"take":Ot=Er(Ot,en+ir);break;case"takeRight":en=lr(en,Ot-ir)}}return{start:en,end:Ot}})(0,R,this.__views__),oe=$.start,fe=$.end,Oe=fe-oe,Le=A?fe:oe-1,Ne=this.__iteratees__,Ue=Ne.length,ot=0,ht=Er(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&ht==Oe)return ef(l,this.__actions__);var St=[];e:for(;Oe--&&ot<ht;){for(var Be=-1,Ge=l[Le+=y];++Be<Ue;){var At=Ne[Be],at=At.iteratee,le=At.type,zt=at(Ge);if(le==2)Ge=zt;else if(!zt){if(le==1)continue e;break e}}St[ot++]=Ge}return St},F.prototype.at=vo,F.prototype.chain=function(){return Jn(this)},F.prototype.commit=function(){return new po(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=jd(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?g:this.__values__[this.__index__++]}},F.prototype.plant=function(l){for(var y,_=this;_ instanceof rs;){var A=_f(_);A.__index__=0,A.__values__=g,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=l,y},F.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof an){var y=l;return this.__actions__.length&&(y=new an(this)),(y=y.reverse()).__actions__.push({func:Nc,args:[Dc],thisArg:g}),new po(y,this.__chain__)}return this.thru(Dc)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return ef(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,pi&&(F.prototype[pi]=function(){return this}),F})();Fn._=Po,(m=function(){return Po}.call(p,o,p,h))===g||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(a))},function(a,p,o){var d=o(7),h=o(34),m=o(33),g=o(87),E=o(62),j=o(174),P=o(28),k=d.TypeError,T=P("toPrimitive");a.exports=function(C,N){if(!m(C)||g(C))return C;var L,U=E(C,T);if(U){if(N===void 0&&(N="default"),L=h(U,C,N),!m(L)||g(L))return L;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),j(C,N)}},function(a,p,o){var d=o(108);a.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,p,o){var d=o(36),h=o(18),m=o(91);a.exports=!d&&!h((function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7}))},function(a,p,o){var d=o(35),h=o(135),m=o(50),g=o(38);a.exports=function(E,j){for(var P=h(j),k=g.f,T=m.f,C=0;C<P.length;C++){var N=P[C];d(E,N)||k(E,N,T(j,N))}}},function(a,p,o){var d=o(46),h=o(15),m=o(74),g=o(112),E=o(32),j=h([].concat);a.exports=d("Reflect","ownKeys")||function(P){var k=m.f(E(P)),T=g.f;return T?j(k,T(P)):k}},function(a,p,o){var d=o(15),h=o(35),m=o(41),g=o(137).indexOf,E=o(72),j=d([].push);a.exports=function(P,k){var T,C=m(P),N=0,L=[];for(T in C)!h(E,T)&&h(C,T)&&j(L,T);for(;k.length>N;)h(C,T=k[N++])&&(~g(L,T)||j(L,T));return L}},function(a,p,o){var d=o(41),h=o(75),m=o(45),g=function(E){return function(j,P,k){var T,C=d(j),N=m(C),L=h(k,N);if(E&&P!=P){for(;N>L;)if((T=C[L++])!=T)return!0}else for(;N>L;L++)if((E||L in C)&&C[L]===P)return E||L||0;return!E&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,p,o){var d=o(46);a.exports=d("document","documentElement")},function(a,p,o){var d=o(51),h=o(41),m=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(j){return E&&d(j)=="Window"?(function(P){try{return m(P)}catch(k){return g(E)}})(j):m(h(j))}},function(a,p,o){var d=o(28);p.f=d},function(a,p,o){var d=o(177),h=o(35),m=o(140),g=o(38).f;a.exports=function(E){var j=d.Symbol||(d.Symbol={});h(j,E)||g(j,E,{value:m.f(E)})}},function(a,p,o){var d,h,m,g=o(18),E=o(30),j=o(60),P=o(101),k=o(42),T=o(28),C=o(71),N=T("iterator"),L=!1;[].keys&&("next"in(m=[].keys())?(h=P(P(m)))!==Object.prototype&&(d=h):L=!0),d==null||g((function(){var U={};return d[N].call(U)!==U}))?d={}:C&&(d=j(d)),E(d[N])||k(d,N,(function(){return this})),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:L}},function(a,p,o){var d=o(18);a.exports=!d((function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype}))},function(a,p,o){var d=o(16),h=o(15),m=o(72),g=o(33),E=o(35),j=o(38).f,P=o(74),k=o(139),T=o(183),C=o(90),N=o(185),L=!1,U=C("meta"),G=0,te=function(re){j(re,U,{value:{objectID:"O"+G++,weakData:{}}})},ie=a.exports={enable:function(){ie.enable=function(){},L=!0;var re=P.f,Q=h([].splice),Z={};Z[U]=1,re(Z).length&&(P.f=function(H){for(var B=re(H),X=0,Y=B.length;X<Y;X++)if(B[X]===U){Q(B,X,1);break}return B},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(re,Q){if(!g(re))return typeof re=="symbol"?re:(typeof re=="string"?"S":"P")+re;if(!E(re,U)){if(!T(re))return"F";if(!Q)return"E";te(re)}return re[U].objectID},getWeakData:function(re,Q){if(!E(re,U)){if(!T(re))return!0;if(!Q)return!1;te(re)}return re[U].weakData},onFreeze:function(re){return N&&L&&T(re)&&!E(re,U)&&te(re),re}};m[U]=!0},function(a,p,o){var d=o(28),h=o(80),m=d("iterator"),g=Array.prototype;a.exports=function(E){return E!==void 0&&(h.Array===E||g[m]===E)}},function(a,p,o){var d=o(7),h=o(34),m=o(56),g=o(32),E=o(88),j=o(118),P=d.TypeError;a.exports=function(k,T){var C=arguments.length<2?j(k):T;if(m(C))return g(h(C,k));throw P(E(k)+" is not iterable")}},function(a,p,o){var d=o(34),h=o(32),m=o(62);a.exports=function(g,E,j){var P,k;h(g);try{if(!(P=m(g,"return"))){if(E==="throw")throw j;return j}P=d(P,g)}catch(T){k=!0,P=T}if(E==="throw")throw j;if(k)throw P;return h(P),j}},function(a,p,o){var d=o(30),h=o(33),m=o(102);a.exports=function(g,E,j){var P,k;return m&&d(P=E.constructor)&&P!==j&&h(k=P.prototype)&&k!==j.prototype&&m(g,k),g}},function(a,p,o){var d=o(42);a.exports=function(h,m,g){for(var E in m)d(h,E,m[E],g);return h}},function(a,p,o){var d=o(46),h=o(38),m=o(28),g=o(36),E=m("species");a.exports=function(j){var P=d(j),k=h.f;g&&P&&!P[E]&&k(P,E,{configurable:!0,get:function(){return this}})}},function(a,p,o){var d=o(15),h=o(59),m=o(39),g=o(44),E=d("".charAt),j=d("".charCodeAt),P=d("".slice),k=function(T){return function(C,N){var L,U,G=m(g(C)),te=h(N),ie=G.length;return te<0||te>=ie?T?"":void 0:(L=j(G,te))<55296||L>56319||te+1===ie||(U=j(G,te+1))<56320||U>57343?T?E(G,te):L:T?P(G,te,te+2):U-56320+(L-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,p){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,p,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;a.exports=h===Object.prototype?void 0:h},function(a,p,o){var d=o(32);a.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(a,p,o){var d=o(18),h=o(7).RegExp,m=d((function(){var j=h("a","y");return j.lastIndex=2,j.exec("abcd")!=null})),g=m||d((function(){return!h("a","y").sticky})),E=m||d((function(){var j=h("^r","gy");return j.lastIndex=2,j.exec("str")!=null}));a.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(a,p,o){var d=o(16),h=o(79).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find((function(){E=!1})),d({target:"Array",proto:!0,forced:E},{find:function(j){return h(this,j,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(a,p,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(a,p,o){var d=o(16),h=o(15),m=o(197),g=o(44),E=o(39),j=o(198),P=h("".indexOf);d({target:"String",proto:!0,forced:!j("includes")},{includes:function(k){return!!~P(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(a,p,o){var d=o(33),h=o(51),m=o(28)("match");a.exports=function(g){var E;return d(g)&&((E=g[m])!==void 0?!!E:h(g)=="RegExp")}},function(a,p,o){var d=o(15);a.exports=d(1 .valueOf)},function(a,p,o){var d=o(15),h=o(44),m=o(39),g=o(162),E=d("".replace),j="["+g+"]",P=RegExp("^"+j+j+"*"),k=RegExp(j+j+"*$"),T=function(C){return function(N){var L=m(h(N));return 1&C&&(L=E(L,P,"")),2&C&&(L=E(L,k,"")),L}};a.exports={start:T(1),end:T(2),trim:T(3)}},function(a,p){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,p){var o,d,h=a.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(G){if(o===setTimeout)return setTimeout(G,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(G,0);try{return o(G,0)}catch(te){try{return o.call(null,G,0)}catch(ie){return o.call(this,G,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch(G){o=m}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch(G){d=g}})();var j,P=[],k=!1,T=-1;function C(){k&&j&&(k=!1,j.length?P=j.concat(P):T=-1,P.length&&N())}function N(){if(!k){var G=E(C);k=!0;for(var te=P.length;te;){for(j=P,P=[];++T<te;)j&&j[T].run();T=-1,te=P.length}j=null,k=!1,(function(ie){if(d===clearTimeout)return clearTimeout(ie);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(ie);try{d(ie)}catch(re){try{return d.call(null,ie)}catch(Q){return d.call(this,ie)}}})(G)}}function L(G,te){this.fun=G,this.array=te}function U(){}h.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ie=1;ie<arguments.length;ie++)te[ie-1]=arguments[ie];P.push(new L(G,te)),P.length!==1||k||E(N)},L.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=U,h.addListener=U,h.once=U,h.off=U,h.removeListener=U,h.removeAllListeners=U,h.emit=U,h.prependListener=U,h.prependOnceListener=U,h.listeners=function(G){return[]},h.binding=function(G){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(G){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,p,o){var d=o(32),h=o(165),m=o(28)("species");a.exports=function(g,E){var j,P=d(g).constructor;return P===void 0||(j=d(P)[m])==null?E:h(j)}},function(a,p,o){var d=o(7),h=o(99),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a constructor")}},function(a,p,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(a,p,o){var d=o(34),h=o(123),m=o(32),g=o(94),E=o(39),j=o(44),P=o(62),k=o(124),T=o(125);h("match",(function(C,N,L){return[function(U){var G=j(this),te=U==null?void 0:P(U,C);return te?d(te,U,G):new RegExp(U)[C](E(G))},function(U){var G=m(this),te=E(U),ie=L(N,G,te);if(ie.done)return ie.value;if(!G.global)return T(G,te);var re=G.unicode;G.lastIndex=0;for(var Q,Z=[],H=0;(Q=T(G,te))!==null;){var B=E(Q[0]);Z[H]=B,B===""&&(G.lastIndex=k(te,g(G.lastIndex),re)),H++}return H===0?null:Z}]}))},function(a,p,o){var d,h,m,g,E=o(7),j=o(76),P=o(64),k=o(30),T=o(35),C=o(18),N=o(138),L=o(98),U=o(91),G=o(169),te=o(128),ie=E.setImmediate,re=E.clearImmediate,Q=E.process,Z=E.Dispatch,H=E.Function,B=E.MessageChannel,X=E.String,Y=0,K={},ue="onreadystatechange";try{d=E.location}catch(je){}var Ee=function(je){if(T(K,je)){var ve=K[je];delete K[je],ve()}},me=function(je){return function(){Ee(je)}},Ae=function(je){Ee(je.data)},Fe=function(je){E.postMessage(X(je),d.protocol+"//"+d.host)};ie&&re||(ie=function(je){var ve=L(arguments,1);return K[++Y]=function(){j(k(je)?je:H(je),void 0,ve)},h(Y),Y},re=function(je){delete K[je]},te?h=function(je){Q.nextTick(me(je))}:Z&&Z.now?h=function(je){Z.now(me(je))}:B&&!G?(g=(m=new B).port2,m.port1.onmessage=Ae,h=P(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&d&&d.protocol!=="file:"&&!C(Fe)?(h=Fe,E.addEventListener("message",Ae,!1)):h=ue in U("script")?function(je){N.appendChild(U("script")).onreadystatechange=function(){N.removeChild(this),Ee(je)}}:function(je){setTimeout(me(je),0)}),a.exports={set:ie,clear:re}},function(a,p,o){var d=o(55);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(a,p,o){var d=o(56),h=function(m){var g,E;this.promise=new m((function(j,P){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=j,E=P})),this.resolve=d(g),this.reject=d(E)};a.exports.f=function(m){return new h(m)}},function(a,p,o){p.a=function(){return!1}},function(a,p,o){(function(d){o.d(p,"a",(function(){return Q}));var h=o(1);function m(B){throw new Error("[mobx-utils] "+B)}function g(B,X){X===void 0&&(X="Illegal state"),B||m(X)}var E=function(B){return B&&B!==Object.prototype&&Object.getOwnPropertyNames(B).concat(E(Object.getPrototypeOf(B))||[])},j=function(B){return(function(X){var Y=E(X);return Y.filter((function(K,ue){return Y.indexOf(K)===ue}))})(B).filter((function(X){return X!=="constructor"&&!~X.indexOf("__")}))},P="pending",k="fulfilled",T="rejected";function C(B){switch(this.state){case P:return B.pending&&B.pending(this.value);case T:return B.rejected&&B.rejected(this.value);case k:return B.fulfilled?B.fulfilled(this.value):this.value}}function N(B,X){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof B=="function"||typeof B=="object"&&B&&typeof B.then=="function","Please pass a promise or function to fromPromise"),B.isPromiseBasedObservable===!0)return B;typeof B=="function"&&(B=new Promise(B));var Y=B;B.then(Object(h.k)("observableFromPromise-resolve",(function(ue){Y.value=ue,Y.state=k})),Object(h.k)("observableFromPromise-reject",(function(ue){Y.value=ue,Y.state=T}))),Y.isPromiseBasedObservable=!0,Y.case=C;var K=X&&X.state===k?X.value:void 0;return Object(h.q)(Y,{value:K,state:P},{},{deep:!1}),Y}(function(B){B.reject=Object(h.k)("fromPromise.reject",(function(X){var Y=B(Promise.reject(X));return Y.state=T,Y.value=X,Y})),B.resolve=Object(h.k)("fromPromise.resolve",(function(X){X===void 0&&(X=void 0);var Y=B(Promise.resolve(X));return Y.state=k,Y.value=X,Y}))})(N||(N={}));var L=function(B,X,Y,K){var ue,Ee=arguments.length,me=Ee<3?X:K===null?K=Object.getOwnPropertyDescriptor(X,Y):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,K);else for(var Ae=B.length-1;Ae>=0;Ae--)(ue=B[Ae])&&(me=(Ee<3?ue(me):Ee>3?ue(X,Y,me):ue(X,Y))||me);return Ee>3&&me&&Object.defineProperty(X,Y,me),me};(function(){function B(X,Y){var K=this;Object(h.G)((function(){K.current=Y,K.subscription=X.subscribe(K)}))}B.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},B.prototype.next=function(X){this.current=X},B.prototype.complete=function(){this.dispose()},B.prototype.error=function(X){this.current=X,this.dispose()},L([h.C.ref],B.prototype,"current",void 0),L([h.k.bound],B.prototype,"next",null),L([h.k.bound],B.prototype,"complete",null),L([h.k.bound],B.prototype,"error",null)})();var U=function(){return U=Object.assign||function(B){for(var X,Y=1,K=arguments.length;Y<K;Y++)for(var ue in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,ue)&&(B[ue]=X[ue]);return B},U.apply(this,arguments)},G=function(B,X,Y,K){var ue,Ee=arguments.length,me=Ee<3?X:K===null?K=Object.getOwnPropertyDescriptor(X,Y):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(B,X,Y,K);else for(var Ae=B.length-1;Ae>=0;Ae--)(ue=B[Ae])&&(me=(Ee<3?ue(me):Ee>3?ue(X,Y,me):ue(X,Y))||me);return Ee>3&&me&&Object.defineProperty(X,Y,me),me},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function B(X){var Y=this;this.model=X,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(K){return Y.localValues.has(K)},g(Object(h.A)(X),"createViewModel expects an observable object"),j(X).forEach((function(K){if(K!==h.a&&K!=="__mobxDidRunLazyInitializers"){if(g(te.indexOf(K)===-1,"The propertyname "+K+" is reserved and cannot be used with viewModels"),Object(h.w)(X,K)){var ue=Object(h.h)(X,K).derivation;Y.localComputedValues.set(K,Object(h.m)(ue.bind(Y)))}var Ee=Object.getOwnPropertyDescriptor(X,K),me=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(Y,K,U(U({},me),{configurable:!0,get:function(){return Object(h.w)(X,K)?Y.localComputedValues.get(K).get():Y.isPropertyDirty(K)?Y.localValues.get(K):Y.model[K]},set:Object(h.k)((function(Ae){Ae!==Y.model[K]?Y.localValues.set(K,Ae):Y.localValues.delete(K)}))}))}}))}Object.defineProperty(B.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),B.prototype.submit=function(){var X=this;Object(h.B)(this.localValues).forEach((function(Y){var K=X.localValues.get(Y),ue=X.model[Y];Object(h.y)(ue)?ue.replace(K):Object(h.z)(ue)?(ue.clear(),ue.merge(K)):Object(h.v)(K)||(X.model[Y]=K)})),this.localValues.clear()},B.prototype.reset=function(){this.localValues.clear()},B.prototype.resetProperty=function(X){this.localValues.delete(X)},G([h.m],B.prototype,"isDirty",null),G([h.m],B.prototype,"changedValues",null),G([h.k.bound],B.prototype,"submit",null),G([h.k.bound],B.prototype,"reset",null),G([h.k.bound],B.prototype,"resetProperty",null)})();function ie(B){if(!B)return"ROOT";for(var X=[];B.parent;)X.push(B.path),B=B.parent;return X.reverse().join("/")}function re(B){return Object(h.A)(B)||Object(h.y)(B)||Object(h.z)(B)}function Q(B,X){var Y=new WeakMap;function K(me){var Ae=Y.get(me.object);(function(Fe,je){switch(Fe.type){case"add":ue(Fe.newValue,je,Fe.name);break;case"update":Ee(Fe.oldValue),ue(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":Ee(Fe.oldValue);break;case"splice":Fe.removed.map(Ee),Fe.added.forEach((function(Me,$e){return ue(Me,je,""+(Fe.index+$e))}));for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(re(Fe.object[ve])){var Pe=Y.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(me,Ae),X(me,ie(Ae),B)}function ue(me,Ae,Fe){if(re(me)){var je=Y.get(me);if(je){if(je.parent!==Ae||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ie(Ae)+"/"+Fe+"', but it already exists at '"+ie(je.parent)+"/"+je.path+"'")}else{var ve={parent:Ae,path:Fe,dispose:Object(h.D)(me,K)};Y.set(me,ve),Object(h.p)(me).forEach((function(Pe){var Me=Pe[0];return ue(Pe[1],ve,Me)}))}}}function Ee(me){if(re(me)){var Ae=Y.get(me);if(!Ae)return;Y.delete(me),Ae.dispose(),Object(h.L)(me).forEach(Ee)}}return ue(B,void 0,""),function(){Ee(B)}}var Z,H=(Z=function(B,X){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,K){Y.__proto__=K}||function(Y,K){for(var ue in K)K.hasOwnProperty(ue)&&(Y[ue]=K[ue])},Z(B,X)},function(B,X){function Y(){this.constructor=B}Z(B,X),B.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});(function(B){function X(Y,K,ue){var Ee=ue===void 0?{}:ue,me=Ee.name,Ae=me===void 0?"ogm"+(1e3*Math.random()|0):me,Fe=Ee.keyToName,je=Fe===void 0?function(Me){return""+Me}:Fe,ve=B.call(this)||this;ve._keyToName=je,ve._groupBy=K,ve._ogmInfoKey=Symbol("ogmInfo"+Ae),ve._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ve._addItem(Y[Pe]);return ve._disposeBaseObserver=Object(h.D)(ve._base,(function(Me){if(Me.type==="splice")Object(h.J)((function(){for(var $e=0,rt=Me.removed;$e<rt.length;$e++){var xt=rt[$e];ve._removeItem(xt)}for(var Ye=0,Je=Me.added;Ye<Je.length;Ye++){var bt=Je[Ye];ve._addItem(bt)}}));else{if(Me.type!=="update")throw new Error("illegal state");Object(h.J)((function(){ve._removeItem(Me.oldValue),ve._addItem(Me.newValue)}))}})),ve}H(X,B),X.prototype.clear=function(){throw new Error("not supported")},X.prototype.delete=function(Y){throw new Error("not supported")},X.prototype.set=function(Y,K){throw new Error("not supported")},X.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var K=this._base[Y];K[this._ogmInfoKey].reaction(),delete K[this._ogmInfoKey]}},X.prototype._getGroupArr=function(Y){var K=B.prototype.get.call(this,Y);return K===void 0&&(K=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),B.prototype.set.call(this,Y,K)),K},X.prototype._removeFromGroupArr=function(Y,K){var ue=B.prototype.get.call(this,Y);ue.length===1?B.prototype.delete.call(this,Y):(K===ue.length-1||(ue[K]=ue[ue.length-1],ue[K][this._ogmInfoKey].groupArrIndex=K),ue.length--)},X.prototype._addItem=function(Y){var K=this,ue=this._groupBy(Y),Ee=this._getGroupArr(ue),me={groupByValue:ue,groupArrIndex:Ee.length,reaction:Object(h.F)((function(){return K._groupBy(Y)}),(function(Ae,Fe){var je=Y[K._ogmInfoKey];K._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=K._getGroupArr(Ae),Pe=ve.length;ve.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe}))};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:me}),Ee.push(Y)},X.prototype._removeItem=function(Y){var K=Y[this._ogmInfoKey];this._removeFromGroupArr(K.groupByValue,K.groupArrIndex),K.reaction(),delete Y[this._ogmInfoKey]}})(h.b),(function(){function B(X,Y){this.base=X,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var K=this.closest=this.root=X,ue=0;ue<this.args.length-1&&(K=K.get(Y[ue]));ue++)this.closest=K;this.closestIdx=ue}return B.prototype.exists=function(){this.assertNotDisposed();var X=this.args.length;return this.closestIdx>=X-1&&this.closest.has(this.args[X-1])},B.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},B.prototype.set=function(X){this.assertNotDisposed();for(var Y=this.args.length,K=this.closest,ue=this.closestIdx;ue<Y-1;ue++){var Ee=new Map;K.set(this.args[ue],Ee),K=Ee}this.closestIdx=Y-1,this.closest=K,K.set(this.args[Y-1],X)},B.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var X=this.args.length;this.closest.delete(this.args[X-1]);for(var Y=this.root,K=[Y],ue=0;ue<X-1;ue++)Y=Y.get(this.args[ue]),K.push(Y);for(ue=K.length-1;ue>0;ue--)K[ue].size===0&&K[ue-1].delete(this.args[ue-1]);this.isDisposed=!0},B.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},B})(),Promise.resolve(),typeof queueMicrotask!="undefined"||d!==void 0&&d.nextTick}).call(this,o(163))},function(a,p,o){var d;(function(h,m,g){if(h){for(var E,j={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)j[111+C]="f"+C;for(C=0;C<=9;++C)j[C+96]=C.toString();re.prototype.bind=function(Q,Z,H){var B=this;return Q=Q instanceof Array?Q:[Q],B._bindMultiple.call(B,Q,Z,H),B},re.prototype.unbind=function(Q,Z){return this.bind.call(this,Q,(function(){}),Z)},re.prototype.trigger=function(Q,Z){var H=this;return H._directMap[Q+":"+Z]&&H._directMap[Q+":"+Z]({},Q),H},re.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},re.prototype.stopCallback=function(Q,Z){if((" "+Z.className+" ").indexOf(" mousetrap ")>-1||ie(Z,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var H=Q.composedPath()[0];H!==Q.target&&(Z=H)}return Z.tagName=="INPUT"||Z.tagName=="SELECT"||Z.tagName=="TEXTAREA"||Z.isContentEditable},re.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},re.addKeycodes=function(Q){for(var Z in Q)Q.hasOwnProperty(Z)&&(j[Z]=Q[Z]);E=null},re.init=function(){var Q=re(m);for(var Z in Q)Z.charAt(0)!=="_"&&(re[Z]=(function(H){return function(){return Q[H].apply(Q,arguments)}})(Z))},re.init(),h.Mousetrap=re,a.exports&&(a.exports=re),(d=function(){return re}.call(p,o,p,a))===void 0||(a.exports=d)}function N(Q,Z,H){Q.addEventListener?Q.addEventListener(Z,H,!1):Q.attachEvent("on"+Z,H)}function L(Q){if(Q.type=="keypress"){var Z=String.fromCharCode(Q.which);return Q.shiftKey||(Z=Z.toLowerCase()),Z}return j[Q.which]?j[Q.which]:P[Q.which]?P[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function U(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function G(Q,Z,H){return H||(H=(function(){if(!E)for(var B in E={},j)B>95&&B<112||j.hasOwnProperty(B)&&(E[j[B]]=B);return E})()[Q]?"keydown":"keypress"),H=="keypress"&&Z.length&&(H="keydown"),H}function te(Q,Z){var H,B,X,Y=[];for(H=(function(K){return K==="+"?["+"]:(K=K.replace(/\+{2}/g,"+plus")).split("+")})(Q),X=0;X<H.length;++X)B=H[X],T[B]&&(B=T[B]),Z&&Z!="keypress"&&k[B]&&(B=k[B],Y.push("shift")),U(B)&&Y.push(B);return{key:B,modifiers:Y,action:Z=G(B,Y,Z)}}function ie(Q,Z){return Q!==null&&Q!==m&&(Q===Z||ie(Q.parentNode,Z))}function re(Q){var Z=this;if(Q=Q||m,!(Z instanceof re))return new re(Q);Z.target=Q,Z._callbacks={},Z._directMap={};var H,B={},X=!1,Y=!1,K=!1;function ue(ve){ve=ve||{};var Pe,Me=!1;for(Pe in B)ve[Pe]?Me=!0:B[Pe]=0;Me||(K=!1)}function Ee(ve,Pe,Me,$e,rt,xt){var Ye,Je,bt,ce,se=[],ye=Me.type;if(!Z._callbacks[ve])return[];for(ye=="keyup"&&U(ve)&&(Pe=[ve]),Ye=0;Ye<Z._callbacks[ve].length;++Ye)if(Je=Z._callbacks[ve][Ye],($e||!Je.seq||B[Je.seq]==Je.level)&&ye==Je.action&&(ye=="keypress"&&!Me.metaKey&&!Me.ctrlKey||(bt=Pe,ce=Je.modifiers,bt.sort().join(",")===ce.sort().join(",")))){var De=!$e&&Je.combo==rt,He=$e&&Je.seq==$e&&Je.level==xt;(De||He)&&Z._callbacks[ve].splice(Ye,1),se.push(Je)}return se}function me(ve,Pe,Me,$e){Z.stopCallback(Pe,Pe.target||Pe.srcElement,Me,$e)||ve(Pe,Me)===!1&&((function(rt){rt.preventDefault?rt.preventDefault():rt.returnValue=!1})(Pe),(function(rt){rt.stopPropagation?rt.stopPropagation():rt.cancelBubble=!0})(Pe))}function Ae(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=L(ve);Pe&&(ve.type!="keyup"||X!==Pe?Z.handleKey(Pe,(function(Me){var $e=[];return Me.shiftKey&&$e.push("shift"),Me.altKey&&$e.push("alt"),Me.ctrlKey&&$e.push("ctrl"),Me.metaKey&&$e.push("meta"),$e})(ve),ve):X=!1)}function Fe(ve,Pe,Me,$e){function rt(bt){return function(){K=bt,++B[ve],clearTimeout(H),H=setTimeout(ue,1e3)}}function xt(bt){me(Me,bt,ve),$e!=="keyup"&&(X=L(bt)),setTimeout(ue,10)}B[ve]=0;for(var Ye=0;Ye<Pe.length;++Ye){var Je=Ye+1===Pe.length?xt:rt($e||te(Pe[Ye+1]).action);je(Pe[Ye],Je,$e,ve,Ye)}}function je(ve,Pe,Me,$e,rt){Z._directMap[ve+":"+Me]=Pe;var xt,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?Fe(ve,Ye,Pe,Me):(xt=te(ve,Me),Z._callbacks[xt.key]=Z._callbacks[xt.key]||[],Ee(xt.key,xt.modifiers,{type:xt.action},$e,ve,rt),Z._callbacks[xt.key][$e?"unshift":"push"]({callback:Pe,modifiers:xt.modifiers,action:xt.action,seq:$e,level:rt,combo:ve}))}Z._handleKey=function(ve,Pe,Me){var $e,rt=Ee(ve,Pe,Me),xt={},Ye=0,Je=!1;for($e=0;$e<rt.length;++$e)rt[$e].seq&&(Ye=Math.max(Ye,rt[$e].level));for($e=0;$e<rt.length;++$e)if(rt[$e].seq){if(rt[$e].level!=Ye)continue;Je=!0,xt[rt[$e].seq]=1,me(rt[$e].callback,Me,rt[$e].combo,rt[$e].seq)}else Je||me(rt[$e].callback,Me,rt[$e].combo);var bt=Me.type=="keypress"&&Y;Me.type!=K||U(ve)||bt||ue(xt),Y=Je&&Me.type=="keydown"},Z._bindMultiple=function(ve,Pe,Me){for(var $e=0;$e<ve.length;++$e)je(ve[$e],Pe,Me)},N(Q,"keypress",Ae),N(Q,"keydown",Ae),N(Q,"keyup",Ae)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(a,p,o){var d=o(7),h=o(34),m=o(30),g=o(33),E=d.TypeError;a.exports=function(j,P){var k,T;if(P==="string"&&m(k=j.toString)&&!g(T=h(k,j))||m(k=j.valueOf)&&!g(T=h(k,j))||P!=="string"&&m(k=j.toString)&&!g(T=h(k,j)))return T;throw E("Can't convert object to primitive value")}},function(a,p,o){var d=o(7),h=o(30),m=o(92),g=d.WeakMap;a.exports=h(g)&&/native code/.test(m(g))},function(a,p,o){var d=o(36),h=o(38),m=o(32),g=o(41),E=o(77);a.exports=d?Object.defineProperties:function(j,P){m(j);for(var k,T=g(P),C=E(P),N=C.length,L=0;N>L;)h.f(j,k=C[L++],T[k]);return j}},function(a,p,o){var d=o(7);a.exports=d},function(a,p,o){var d=o(7),h=o(96),m=o(99),g=o(33),E=o(28)("species"),j=d.Array;a.exports=function(P){var k;return h(P)&&(k=P.constructor,(m(k)&&(k===j||h(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?j:k}},function(a,p,o){var d=o(113),h=o(97);a.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(a,p,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),g=o(78),E=o(80),j=function(){return this};a.exports=function(P,k,T,C){var N=k+" Iterator";return P.prototype=h(d,{next:m(+!C,T)}),g(P,N,!1,!0),E[N]=j,P}},function(a,p,o){var d=o(7),h=o(30),m=d.String,g=d.TypeError;a.exports=function(E){if(typeof E=="object"||h(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(a,p,o){var d=o(16),h=o(7),m=o(15),g=o(95),E=o(42),j=o(144),P=o(117),k=o(119),T=o(30),C=o(33),N=o(18),L=o(120),U=o(78),G=o(148);a.exports=function(te,ie,re){var Q=te.indexOf("Map")!==-1,Z=te.indexOf("Weak")!==-1,H=Q?"set":"add",B=h[te],X=B&&B.prototype,Y=B,K={},ue=function(ve){var Pe=m(X[ve]);E(X,ve,ve=="add"?function(Me){return Pe(this,Me===0?0:Me),this}:ve=="delete"?function(Me){return!(Z&&!C(Me))&&Pe(this,Me===0?0:Me)}:ve=="get"?function(Me){return Z&&!C(Me)?void 0:Pe(this,Me===0?0:Me)}:ve=="has"?function(Me){return!(Z&&!C(Me))&&Pe(this,Me===0?0:Me)}:function(Me,$e){return Pe(this,Me===0?0:Me,$e),this})};if(g(te,!T(B)||!(Z||X.forEach&&!N((function(){new B().entries().next()})))))Y=re.getConstructor(ie,te,Q,H),j.enable();else if(g(te,!0)){var Ee=new Y,me=Ee[H](Z?{}:-0,1)!=Ee,Ae=N((function(){Ee.has(1)})),Fe=L((function(ve){new B(ve)})),je=!Z&&N((function(){for(var ve=new B,Pe=5;Pe--;)ve[H](Pe,Pe);return!ve.has(-0)}));Fe||((Y=ie((function(ve,Pe){k(ve,X);var Me=G(new B,ve,Y);return Pe!=null&&P(Pe,Me[H],{that:Me,AS_ENTRIES:Q}),Me}))).prototype=X,X.constructor=Y),(Ae||je)&&(ue("delete"),ue("has"),Q&&ue("get")),(je||me)&&ue(H),Z&&X.clear&&delete X.clear}return K[te]=Y,d({global:!0,forced:Y!=B},K),U(Y,te),Z||re.setStrong(Y,te,Q),Y}},function(a,p,o){var d=o(18),h=o(33),m=o(51),g=o(184),E=Object.isExtensible,j=d((function(){}));a.exports=j||g?function(P){return!!h(P)&&(!g||m(P)!="ArrayBuffer")&&(!E||E(P))}:E},function(a,p,o){var d=o(18);a.exports=d((function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}}))},function(a,p,o){var d=o(18);a.exports=!d((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(a,p,o){var d=o(38).f,h=o(60),m=o(149),g=o(64),E=o(119),j=o(117),P=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),L=N.set,U=N.getterFor;a.exports={getConstructor:function(G,te,ie,re){var Q=G((function(Y,K){E(Y,Z),L(Y,{type:te,index:h(null),first:void 0,last:void 0,size:0}),T||(Y.size=0),K!=null&&j(K,Y[re],{that:Y,AS_ENTRIES:ie})})),Z=Q.prototype,H=U(te),B=function(Y,K,ue){var Ee,me,Ae=H(Y),Fe=X(Y,K);return Fe?Fe.value=ue:(Ae.last=Fe={index:me=C(K,!0),key:K,value:ue,previous:Ee=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=Fe),Ee&&(Ee.next=Fe),T?Ae.size++:Y.size++,me!=="F"&&(Ae.index[me]=Fe)),Y},X=function(Y,K){var ue,Ee=H(Y),me=C(K);if(me!=="F")return Ee.index[me];for(ue=Ee.first;ue;ue=ue.next)if(ue.key==K)return ue};return m(Z,{clear:function(){for(var Y=H(this),K=Y.index,ue=Y.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete K[ue.index],ue=ue.next;Y.first=Y.last=void 0,T?Y.size=0:this.size=0},delete:function(Y){var K=this,ue=H(K),Ee=X(K,Y);if(Ee){var me=Ee.next,Ae=Ee.previous;delete ue.index[Ee.index],Ee.removed=!0,Ae&&(Ae.next=me),me&&(me.previous=Ae),ue.first==Ee&&(ue.first=me),ue.last==Ee&&(ue.last=Ae),T?ue.size--:K.size--}return!!Ee},forEach:function(Y){for(var K,ue=H(this),Ee=g(Y,arguments.length>1?arguments[1]:void 0);K=K?K.next:ue.first;)for(Ee(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(Y){return!!X(this,Y)}}),m(Z,ie?{get:function(Y){var K=X(this,Y);return K&&K.value},set:function(Y,K){return B(this,Y===0?0:Y,K)}}:{add:function(Y){return B(this,Y=Y===0?0:Y,Y)}}),T&&d(Z,"size",{get:function(){return H(this).size}}),Q},setStrong:function(G,te,ie){var re=te+" Iterator",Q=U(te),Z=U(re);P(G,te,(function(H,B){L(this,{type:re,target:H,state:Q(H),kind:B,last:void 0})}),(function(){for(var H=Z(this),B=H.kind,X=H.last;X&&X.removed;)X=X.previous;return H.target&&(H.last=X=X?X.next:H.state.first)?B=="keys"?{value:X.key,done:!1}:B=="values"?{value:X.value,done:!1}:{value:[X.key,X.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})}),ie?"entries":"values",!ie,!0),k(te)}}},function(a,p,o){var d=o(79).forEach,h=o(121)("forEach");a.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(a,p,o){var d=o(7),h=o(64),m=o(34),g=o(40),E=o(189),j=o(145),P=o(99),k=o(45),T=o(63),C=o(146),N=o(118),L=d.Array;a.exports=function(U){var G=g(U),te=P(this),ie=arguments.length,re=ie>1?arguments[1]:void 0,Q=re!==void 0;Q&&(re=h(re,ie>2?arguments[2]:void 0));var Z,H,B,X,Y,K,ue=N(G),Ee=0;if(!ue||this==L&&j(ue))for(Z=k(G),H=te?new this(Z):L(Z);Z>Ee;Ee++)K=Q?re(G[Ee],Ee):G[Ee],T(H,Ee,K);else for(Y=(X=C(G,ue)).next,H=te?new this:[];!(B=m(Y,X)).done;Ee++)K=Q?E(X,re,[B.value,Ee],!0):B.value,T(H,Ee,K);return H.length=Ee,H}},function(a,p,o){var d=o(32),h=o(147);a.exports=function(m,g,E,j){try{return j?g(d(E)[0],E[1]):g(E)}catch(P){h(m,"throw",P)}}},function(a,p,o){var d=o(18),h=o(7).RegExp;a.exports=d((function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")}))},function(a,p,o){var d=o(18),h=o(7).RegExp;a.exports=d((function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"}))},function(a,p,o){var d=o(16),h=o(15),m=o(56),g=o(40),E=o(45),j=o(39),P=o(18),k=o(193),T=o(121),C=o(194),N=o(195),L=o(70),U=o(196),G=[],te=h(G.sort),ie=h(G.push),re=P((function(){G.sort(void 0)})),Q=P((function(){G.sort(null)})),Z=T("sort"),H=!P((function(){if(L)return L<70;if(!(C&&C>3)){if(N)return!0;if(U)return U<603;var B,X,Y,K,ue="";for(B=65;B<76;B++){switch(X=String.fromCharCode(B),B){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(K=0;K<47;K++)G.push({k:X+K,v:Y})}for(G.sort((function(Ee,me){return me.v-Ee.v})),K=0;K<G.length;K++)X=G[K].k.charAt(0),ue.charAt(ue.length-1)!==X&&(ue+=X);return ue!=="DGBEFHACIJK"}}));d({target:"Array",proto:!0,forced:re||!Q||!Z||!H},{sort:function(B){B!==void 0&&m(B);var X=g(this);if(H)return B===void 0?te(X):te(X,B);var Y,K,ue=[],Ee=E(X);for(K=0;K<Ee;K++)K in X&&ie(ue,X[K]);for(k(ue,(function(me){return function(Ae,Fe){return Fe===void 0?-1:Ae===void 0?1:me!==void 0?+me(Ae,Fe)||0:j(Ae)>j(Fe)?1:-1}})(B)),Y=ue.length,K=0;K<Y;)X[K]=ue[K++];for(;K<Ee;)delete X[K++];return X}})},function(a,p,o){var d=o(114),h=Math.floor,m=function(j,P){var k=j.length,T=h(k/2);return k<8?g(j,P):E(j,m(d(j,0,T),P),m(d(j,T),P),P)},g=function(j,P){for(var k,T,C=j.length,N=1;N<C;){for(T=N,k=j[N];T&&P(j[T-1],k)>0;)j[T]=j[--T];T!==N++&&(j[T]=k)}return j},E=function(j,P,k,T){for(var C=P.length,N=k.length,L=0,U=0;L<C||U<N;)j[L+U]=L<C&&U<N?T(P[L],k[U])<=0?P[L++]:k[U++]:L<C?P[L++]:k[U++];return j};a.exports=m},function(a,p,o){var d=o(55).match(/firefox\/(\d+)/i);a.exports=!!d&&+d[1]},function(a,p,o){var d=o(55);a.exports=/MSIE|Trident/.test(d)},function(a,p,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);a.exports=!!d&&+d[1]},function(a,p,o){var d=o(7),h=o(159),m=d.TypeError;a.exports=function(g){if(h(g))throw m("The method doesn't accept regular expressions");return g}},function(a,p,o){var d=o(28)("match");a.exports=function(h){var m=/./;try{"/./"[h](m)}catch(g){try{return m[d]=!1,"/./"[h](m)}catch(E){}}return!1}},function(a,p,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(a,p,o){var d=o(73).PROPER,h=o(18),m=o(162);a.exports=function(g){return h((function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||d&&m[g].name!==g}))}},function(a,p,o){var d=o(15),h=o(40),m=Math.floor,g=d("".charAt),E=d("".replace),j=d("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(T,C,N,L,U,G){var te=N+T.length,ie=L.length,re=k;return U!==void 0&&(U=h(U),re=P),E(G,re,(function(Q,Z){var H;switch(g(Z,0)){case"$":return"$";case"&":return T;case"`":return j(C,0,N);case"'":return j(C,te);case"<":H=U[j(Z,1,-1)];break;default:var B=+Z;if(B===0)return Q;if(B>ie){var X=m(B/10);return X===0?Q:X<=ie?L[X-1]===void 0?g(Z,1):L[X-1]+g(Z,1):Q}H=L[B-1]}return H===void 0?"":H}))}},function(a,p,o){var d=o(36),h=o(15),m=o(34),g=o(18),E=o(77),j=o(112),P=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,L=h([].concat);a.exports=!C||g((function(){if(d&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},G={},te=Symbol(),ie="abcdefghijklmnopqrst";return U[te]=7,ie.split("").forEach((function(re){G[re]=re})),C({},U)[te]!=7||E(C({},G)).join("")!=ie}))?function(U,G){for(var te=k(U),ie=arguments.length,re=1,Q=j.f,Z=P.f;ie>re;)for(var H,B=T(arguments[re++]),X=Q?L(E(B),Q(B)):E(B),Y=X.length,K=0;Y>K;)H=X[K++],d&&!m(Z,B,H)||(te[H]=B[H]);return te}:C},function(a,p,o){var d=o(7),h=o(15),m=o(56),g=o(33),E=o(35),j=o(98),P=d.Function,k=h([].concat),T=h([].join),C={},N=function(L,U,G){if(!E(C,U)){for(var te=[],ie=0;ie<U;ie++)te[ie]="a["+ie+"]";C[U]=P("C,a","return new C("+T(te,",")+")")}return C[U](L,G)};a.exports=P.bind||function(L){var U=m(this),G=U.prototype,te=j(arguments,1),ie=function(){var re=k(te,j(arguments));return this instanceof ie?N(U,re.length,re):U.apply(L,re)};return g(G)&&(ie.prototype=G),ie}},function(a,p,o){var d=o(35);a.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(a,p,o){var d=o(15),h=o(44),m=o(39),g=/"/g,E=d("".replace);a.exports=function(j,P,k,T){var C=m(h(j)),N="<"+P;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+P+">"}},function(a,p,o){var d=o(18);a.exports=function(h){return d((function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3}))}},function(a,p,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(a,p,o){var d,h,m,g,E=o(16),j=o(71),P=o(7),k=o(46),T=o(34),C=o(209),N=o(42),L=o(149),U=o(102),G=o(78),te=o(150),ie=o(56),re=o(30),Q=o(33),Z=o(119),H=o(92),B=o(117),X=o(120),Y=o(164),K=o(168).set,ue=o(210),Ee=o(213),me=o(214),Ae=o(170),Fe=o(215),je=o(58),ve=o(95),Pe=o(28),Me=o(216),$e=o(128),rt=o(70),xt=Pe("species"),Ye="Promise",Je=je.getterFor(Ye),bt=je.set,ce=je.getterFor(Ye),se=C&&C.prototype,ye=C,De=se,He=P.TypeError,ze=P.document,Et=P.process,Nt=Ae.f,Pt=Nt,gt=!!(ze&&ze.createEvent&&P.dispatchEvent),Te=re(P.PromiseRejectionEvent),lt="unhandledrejection",pe=!1,ut=ve(Ye,(function(){var ae=H(ye),_e=ae!==String(ye);if(!_e&&rt===66||j&&!De.finally)return!0;if(rt>=51&&/native code/.test(ae))return!1;var Ve=new ye((function(pt){pt(1)})),Ke=function(pt){pt((function(){}),(function(){}))};return(Ve.constructor={})[xt]=Ke,!(pe=Ve.then((function(){}))instanceof Ke)||!_e&&Me&&!Te})),Bt=ut||!X((function(ae){ye.all(ae).catch((function(){}))})),dn=function(ae){var _e;return!(!Q(ae)||!re(_e=ae.then))&&_e},Ft=function(ae,_e){if(!ae.notified){ae.notified=!0;var Ve=ae.reactions;ue((function(){for(var Ke=ae.value,pt=ae.state==1,Xt=0;Ve.length>Xt;){var tr,pr,Xn,qn=Ve[Xt++],st=pt?qn.ok:qn.fail,_t=qn.resolve,jt=qn.reject,It=qn.domain;try{st?(pt||(ae.rejection===2&&Ct(ae),ae.rejection=1),st===!0?tr=Ke:(It&&It.enter(),tr=st(Ke),It&&(It.exit(),Xn=!0)),tr===qn.promise?jt(He("Promise-chain cycle")):(pr=dn(tr))?T(pr,tr,_t,jt):_t(tr)):jt(Ke)}catch(bn){It&&!Xn&&It.exit(),jt(bn)}}ae.reactions=[],ae.notified=!1,_e&&!ae.rejection&&On(ae)}))}},nn=function(ae,_e,Ve){var Ke,pt;gt?((Ke=ze.createEvent("Event")).promise=_e,Ke.reason=Ve,Ke.initEvent(ae,!1,!0),P.dispatchEvent(Ke)):Ke={promise:_e,reason:Ve},!Te&&(pt=P["on"+ae])?pt(Ke):ae===lt&&me("Unhandled promise rejection",Ve)},On=function(ae){T(K,P,(function(){var _e,Ve=ae.facade,Ke=ae.value;if(Tn(ae)&&(_e=Fe((function(){$e?Et.emit("unhandledRejection",Ke,Ve):nn(lt,Ve,Ke)})),ae.rejection=$e||Tn(ae)?2:1,_e.error))throw _e.value}))},Tn=function(ae){return ae.rejection!==1&&!ae.parent},Ct=function(ae){T(K,P,(function(){var _e=ae.facade;$e?Et.emit("rejectionHandled",_e):nn("rejectionhandled",_e,ae.value)}))},Hn=function(ae,_e,Ve){return function(Ke){ae(_e,Ke,Ve)}},ee=function(ae,_e,Ve){ae.done||(ae.done=!0,Ve&&(ae=Ve),ae.value=_e,ae.state=2,Ft(ae,!0))},he=function(ae,_e,Ve){if(!ae.done){ae.done=!0,Ve&&(ae=Ve);try{if(ae.facade===_e)throw He("Promise can't be resolved itself");var Ke=dn(_e);Ke?ue((function(){var pt={done:!1};try{T(Ke,_e,Hn(he,pt,ae),Hn(ee,pt,ae))}catch(Xt){ee(pt,Xt,ae)}})):(ae.value=_e,ae.state=1,Ft(ae,!1))}catch(pt){ee({done:!1},pt,ae)}}};if(ut&&(De=(ye=function(ae){Z(this,De),ie(ae),T(d,this);var _e=Je(this);try{ae(Hn(he,_e),Hn(ee,_e))}catch(Ve){ee(_e,Ve)}}).prototype,(d=function(ae){bt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L(De,{then:function(ae,_e){var Ve=ce(this),Ke=Ve.reactions,pt=Nt(Y(this,ye));return pt.ok=!re(ae)||ae,pt.fail=re(_e)&&_e,pt.domain=$e?Et.domain:void 0,Ve.parent=!0,Ke[Ke.length]=pt,Ve.state!=0&&Ft(Ve,!1),pt.promise},catch:function(ae){return this.then(void 0,ae)}}),h=function(){var ae=new d,_e=Je(ae);this.promise=ae,this.resolve=Hn(he,_e),this.reject=Hn(ee,_e)},Ae.f=Nt=function(ae){return ae===ye||ae===m?new h(ae):Pt(ae)},!j&&re(C)&&se!==Object.prototype)){g=se.then,pe||(N(se,"then",(function(ae,_e){var Ve=this;return new ye((function(Ke,pt){T(g,Ve,Ke,pt)})).then(ae,_e)}),{unsafe:!0}),N(se,"catch",De.catch,{unsafe:!0}));try{delete se.constructor}catch(ae){}U&&U(se,De)}E({global:!0,wrap:!0,forced:ut},{Promise:ye}),G(ye,Ye,!1,!0),te(Ye),m=k(Ye),E({target:Ye,stat:!0,forced:ut},{reject:function(ae){var _e=Nt(this);return T(_e.reject,void 0,ae),_e.promise}}),E({target:Ye,stat:!0,forced:j||ut},{resolve:function(ae){return Ee(j&&this===m?ye:this,ae)}}),E({target:Ye,stat:!0,forced:Bt},{all:function(ae){var _e=this,Ve=Nt(_e),Ke=Ve.resolve,pt=Ve.reject,Xt=Fe((function(){var tr=ie(_e.resolve),pr=[],Xn=0,qn=1;B(ae,(function(st){var _t=Xn++,jt=!1;qn++,T(tr,_e,st).then((function(It){jt||(jt=!0,pr[_t]=It,--qn||Ke(pr))}),pt)})),--qn||Ke(pr)}));return Xt.error&&pt(Xt.value),Ve.promise},race:function(ae){var _e=this,Ve=Nt(_e),Ke=Ve.reject,pt=Fe((function(){var Xt=ie(_e.resolve);B(ae,(function(tr){T(Xt,_e,tr).then(Ve.resolve,Ke)}))}));return pt.error&&Ke(pt.value),Ve.promise}})},function(a,p,o){var d=o(7);a.exports=d.Promise},function(a,p,o){var d,h,m,g,E,j,P,k,T=o(7),C=o(64),N=o(50).f,L=o(168).set,U=o(169),G=o(211),te=o(212),ie=o(128),re=T.MutationObserver||T.WebKitMutationObserver,Q=T.document,Z=T.process,H=T.Promise,B=N(T,"queueMicrotask"),X=B&&B.value;X||(d=function(){var Y,K;for(ie&&(Y=Z.domain)&&Y.exit();h;){K=h.fn,h=h.next;try{K()}catch(ue){throw h?g():m=void 0,ue}}m=void 0,Y&&Y.enter()},U||ie||te||!re||!Q?!G&&H&&H.resolve?((P=H.resolve(void 0)).constructor=H,k=C(P.then,P),g=function(){k(d)}):ie?g=function(){Z.nextTick(d)}:(L=C(L,T),g=function(){L(d)}):(E=!0,j=Q.createTextNode(""),new re(d).observe(j,{characterData:!0}),g=function(){j.data=E=!E})),a.exports=X||function(Y){var K={fn:Y,next:void 0};m&&(m.next=K),h||(h=K,g()),m=K}},function(a,p,o){var d=o(55),h=o(7);a.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(a,p,o){var d=o(55);a.exports=/web0s(?!.*chrome)/i.test(d)},function(a,p,o){var d=o(32),h=o(33),m=o(170);a.exports=function(g,E){if(d(g),h(E)&&E.constructor===g)return E;var j=m.f(g);return(0,j.resolve)(E),j.promise}},function(a,p,o){var d=o(7);a.exports=function(h,m){var g=d.console;g&&g.error&&(arguments.length==1?g.error(h):g.error(h,m))}},function(a,p){a.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(a,p){a.exports=typeof window=="object"},function(a,p,o){var d=o(40),h=o(75),m=o(45);a.exports=function(g){for(var E=d(this),j=m(E),P=arguments.length,k=h(P>1?arguments[1]:void 0,j),T=P>2?arguments[2]:void 0,C=T===void 0?j:h(T,j);C>k;)E[k++]=g;return E}},function(a,p,o){var d=o(16),h=o(7),m=o(15),g=o(59),E=o(160),j=o(219),P=o(18),k=h.RangeError,T=h.String,C=Math.floor,N=m(j),L=m("".slice),U=m(1 .toFixed),G=function(Q,Z,H){return Z===0?H:Z%2==1?G(Q,Z-1,H*Q):G(Q*Q,Z/2,H)},te=function(Q,Z,H){for(var B=-1,X=H;++B<6;)X+=Z*Q[B],Q[B]=X%1e7,X=C(X/1e7)},ie=function(Q,Z){for(var H=6,B=0;--H>=0;)B+=Q[H],Q[H]=C(B/Z),B=B%Z*1e7},re=function(Q){for(var Z=6,H="";--Z>=0;)if(H!==""||Z===0||Q[Z]!==0){var B=T(Q[Z]);H=H===""?B:H+N("0",7-B.length)+B}return H};d({target:"Number",proto:!0,forced:P((function(){return U(8e-5,3)!=="0.000"||U(.9,0)!=="1"||U(1.255,2)!=="1.25"||U(0xde0b6b3a7640080,0)!=="1000000000000000128"}))||!P((function(){U({})}))},{toFixed:function(Q){var Z,H,B,X,Y=E(this),K=g(Q),ue=[0,0,0,0,0,0],Ee="",me="0";if(K<0||K>20)throw k("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return T(Y);if(Y<0&&(Ee="-",Y=-Y),Y>1e-21)if(H=(Z=(function(Ae){for(var Fe=0,je=Ae;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe})(Y*G(2,69,1))-69)<0?Y*G(2,-Z,1):Y/G(2,Z,1),H*=4503599627370496,(Z=52-Z)>0){for(te(ue,0,H),B=K;B>=7;)te(ue,1e7,0),B-=7;for(te(ue,G(10,B,1),0),B=Z-1;B>=23;)ie(ue,1<<23),B-=23;ie(ue,1<<B),te(ue,1,1),ie(ue,2),me=re(ue)}else te(ue,0,H),te(ue,1<<-Z,0),me=re(ue)+N("0",K);return me=K>0?Ee+((X=me.length)<=K?"0."+N("0",K-X)+me:L(me,0,X-K)+"."+L(me,X-K)):Ee+me}})},function(a,p,o){var d=o(7),h=o(59),m=o(39),g=o(44),E=d.RangeError;a.exports=function(j){var P=m(g(this)),k="",T=h(j);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(P+=P))1&T&&(k+=P);return k}},function(a,p,o){var d=o(36),h=o(15),m=o(77),g=o(41),E=h(o(84).f),j=h([].push),P=function(k){return function(T){for(var C,N=g(T),L=m(N),U=L.length,G=0,te=[];U>G;)C=L[G++],d&&!E(N,C)||j(te,k?[C,N[C]]:N[C]);return te}};a.exports={entries:P(!0),values:P(!1)}},function(a,p){a.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(a,p,o){o.r(p),o.d(p,"observer",(function(){return Ti})),o.d(p,"LogicFlow",(function(){return Rb})),o.d(p,"h",(function(){return pe.g})),o.d(p,"LogicFlowUtil",(function(){return d})),o.d(p,"BaseNode",(function(){return Aa})),o.d(p,"RectNode",(function(){return Sg})),o.d(p,"CircleNode",(function(){return Mg})),o.d(p,"PolygonNode",(function(){return Rg})),o.d(p,"DiamondNode",(function(){return zg})),o.d(p,"EllipseNode",(function(){return Ug})),o.d(p,"TextNode",(function(){return Xg})),o.d(p,"HtmlNode",(function(){return qg})),o.d(p,"BaseEdge",(function(){return up})),o.d(p,"LineEdge",(function(){return lb})),o.d(p,"PolylineEdge",(function(){return yb})),o.d(p,"BezierEdge",(function(){return mb})),o.d(p,"Arrow",(function(){return UP})),o.d(p,"BaseEdgeModel",(function(){return xf})),o.d(p,"BezierEdgeModel",(function(){return kv})),o.d(p,"LineEdgeModel",(function(){return Ic})),o.d(p,"PolylineEdgeModel",(function(){return go})),o.d(p,"BaseNodeModel",(function(){return Pa})),o.d(p,"CircleNodeModel",(function(){return Lv})),o.d(p,"DiamondNodeModel",(function(){return $v})),o.d(p,"EllipseNodeModel",(function(){return Xv})),o.d(p,"PolygonNodeModel",(function(){return Jv})),o.d(p,"RectNodeModel",(function(){return ng})),o.d(p,"TextNodeModel",(function(){return ag})),o.d(p,"HtmlNodeModel",(function(){return cg})),o.d(p,"EditConfigModel",(function(){return Xl})),o.d(p,"GraphModel",(function(){return Km})),o.d(p,"SnaplineModel",(function(){return D0})),o.d(p,"Keyboard",(function(){return bO})),o.d(p,"get",(function(){return b_})),o.d(p,"defaults",(function(){return __})),o.d(p,"ElementState",(function(){return gn})),o.d(p,"ModelType",(function(){return Kt})),o.d(p,"ElementType",(function(){return Zn})),o.d(p,"EventType",(function(){return dt})),o.d(p,"formateAnchorConnectValidateData",(function(){return cu}));var d={};o.r(d),o.d(d,"createUuid",(function(){return _i})),o.d(d,"refreshGraphId",(function(){return $y})),o.d(d,"StepDrag",(function(){return bo})),o.d(d,"setupEdgeModel",(function(){return jd})),o.d(d,"isBboxOverLapping",(function(){return Zo})),o.d(d,"filterRepeatPoints",(function(){return Gt})),o.d(d,"getSimplePolyline",(function(){return Pd})),o.d(d,"getExpandedBBox",(function(){return Pr})),o.d(d,"pointDirection",(function(){return Rf})),o.d(d,"getExpandedBBoxPoint",(function(){return ln})),o.d(d,"mergeBBox",(function(){return Cf})),o.d(d,"getBBoxOfPoints",(function(){return Oa})),o.d(d,"getPointsFromBBox",(function(){return Vi})),o.d(d,"isPointOutsideBBox",(function(){return vs})),o.d(d,"getBBoxXCrossPoints",(function(){return Ad})),o.d(d,"getBBoxYCrossPoints",(function(){return Md})),o.d(d,"getBBoxCrossPointsByPoint",(function(){return Td})),o.d(d,"estimateDistance",(function(){return yu})),o.d(d,"costByPoints",(function(){return Wc})),o.d(d,"heuristicCostEstimate",(function(){return If})),o.d(d,"rebuildPath",(function(){return kd})),o.d(d,"removeClosePointFromOpenList",(function(){return Dd})),o.d(d,"isSegmentsIntersected",(function(){return Un})),o.d(d,"isSegmentCrossingBBox",(function(){return Ar})),o.d(d,"getNextNeighborPoints",(function(){return Nd})),o.d(d,"pathFinder",(function(){return Lf})),o.d(d,"getBoxByOriginNode",(function(){return zf})),o.d(d,"pointFilter",(function(){return Bf})),o.d(d,"getPolylinePoints",(function(){return $c})),o.d(d,"getLongestEdge",(function(){return Ff})),o.d(d,"isSegmentsInNode",(function(){return Uc})),o.d(d,"isSegmentsCrossNode",(function(){return Ki})),o.d(d,"getCrossPointInRect",(function(){return Wf})),o.d(d,"segmentDirection",(function(){return vu})),o.d(d,"points2PointsList",(function(){return wi})),o.d(d,"getSimplePoints",(function(){return Rd})),o.d(d,"getBytesLength",(function(){return $f})),o.d(d,"getTextWidth",(function(){return Qy})),o.d(d,"getAppendAttributes",(function(){return Id})),o.d(d,"getBezierControlPoints",(function(){return gs})),o.d(d,"getBezierPoints",(function(){return bs})),o.d(d,"getEndTangent",(function(){return Gf})),o.d(d,"getClosestPointOfPolyline",(function(){return _s})),o.d(d,"pickEdgeConfig",(function(){return Ld})),o.d(d,"twoPointDistance",(function(){return Hf})),o.d(d,"createEdgeGenerator",(function(){return Br})),o.d(d,"snapToGrid",(function(){return Gi})),o.d(d,"getGridOffset",(function(){return mc})),o.d(d,"sampleCubic",(function(){return Bn})),o.d(d,"getThetaOfVector",(function(){return kf})),o.d(d,"degrees",(function(){return Df})),o.d(d,"Vector",(function(){return vr})),o.d(d,"Point",(function(){return l})),o.d(d,"Matrix",(function(){return Qo})),o.d(d,"RotateMatrix",(function(){return qi})),o.d(d,"ScaleMatrix",(function(){return qf})),o.d(d,"TranslateMatrix",(function(){return bu}));var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function j(t){t()}var P=!1;function k(){return P}function T(t){return Object(h.t)(t)}var C,N=1e4,L=new Set;function U(){C===void 0&&(C=setTimeout(G,1e4))}function G(){C=void 0;var t=Date.now();L.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,L.delete(e))})),L.size>0&&U()}var te=!1,ie=[],re={};function Q(t){return"observer"+t}function Z(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=re),k();var r,c=(function(x){return function(){te?ie.push(x):x()}})((n.useForceUpdate||g.d)()),s=m.d.useRef(null);if(!s.current){var f=new h.c(Q(e),(function(){v.mounted?c():(f.dispose(),s.current=null)})),v=(function(x){return{cleanAt:Date.now()+N,reaction:x}})(f);s.current=v,r=s,L.add(r),U()}var b=s.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect((function(){var x;return x=s,L.delete(x),s.current?s.current.mounted=!0:(s.current={reaction:new h.c(Q(e),(function(){c()})),cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}}),[]),(function(x){te=!0,ie=[];try{var S=x();te=!1;var D=ie.length>0?ie:void 0;return m.d.useLayoutEffect((function(){D&&D.forEach((function(I){return I()}))}),[D]),S}finally{te=!1}})((function(){var x,S;if(b.track((function(){try{x=t()}catch(D){S=D}})),S)throw S;return x}))}var H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var c in e=arguments[n])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t},H.apply(this,arguments)};function B(t,e){var n,r,c,s=H({forwardRef:!1},e),f=t.displayName||t.name,v=function(b,x){return Z((function(){return t(b,x)}),f)};return v.displayName=f,n=s.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,c=n,Object.keys(r).forEach((function(b){X[b]||Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(r,b))})),n.displayName=f,n}var X={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:Z(r)}function K(t,e,n,r,c){var s=e==="children"?"render":"children",f=typeof t[e]=="function",v=typeof t[s]=="function";return f&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):f||v?null:new Error("Invalid prop `"+c+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:K,render:K},Y.displayName="Observer";var ue;(ue=m.g)||(ue=j),Object(h.n)({reactionScheduler:ue}),Object(g.a)()[E]=!0;var Ee=0,me={};function Ae(t){return me[t]||(me[t]=(function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n})(t)),me[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var c=0;c<n.length;c++)if(!Object.hasOwnProperty.call(e,n[c])||!je(t[n[c]],e[n[c]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Me=Ae("patchedDefinition");function $e(t,e){for(var n=this,r=arguments.length,c=new Array(r>2?r-2:0),s=2;s<r;s++)c[s-2]=arguments[s];e.locks++;try{var f;return t!=null&&(f=t.apply(this,c)),f}finally{e.locks--,e.locks===0&&e.methods.forEach((function(v){v.apply(n,c)}))}}function rt(t,e){return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];$e.call.apply($e,[this,t,e].concat(r))}}function xt(t,e,n){var r=(function(v,b){var x=v[Pe]=v[Pe]||{},S=x[b]=x[b]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S})(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var c=Object.getOwnPropertyDescriptor(t,e);if(!c||!c[Me]){var s=t[e],f=Ye(t,e,c?c.enumerable:void 0,r,s);Object.defineProperty(t,e,f)}}function Ye(t,e,n,r,c){var s,f=rt(c,r);return(s={})[Me]=!0,s.get=function(){return f},s.set=function(v){if(this===t)f=rt(v,r);else{var b=Ye(this,e,n,r,v);Object.defineProperty(this,e,b)}},s.configurable=!0,s.enumerable=n,s}var Je=h.a||"$mobx",bt=Ae("isMobXReactObserver"),ce=Ae("isUnmounted"),se=Ae("skipRender"),ye=Ae("isForcingUpdate");function De(t){var e=t.prototype;if(t[bt]?He(e):t[bt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Et)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Et;Nt(e,"props"),Nt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},xt(e,"componentWillUnmount",(function(){var r;(r=this.render[Je])===null||r===void 0||r.dispose(),this[ce]=!0,!this.render[Je]&&He(this)})),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,se,!1),ve(this,ye,!1);var n=He(this),r=t.bind(this),c=!1,s=new h.c(n+".render()",(function(){if(!c&&(c=!0,e[ce]!==!0)){var v=!0;try{ve(e,ye,!0),e[se]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,ye,!1),v&&s.dispose()}}}));function f(){c=!1;var v=void 0,b=void 0;if(s.track((function(){try{b=Object(h.d)(!1,r)}catch(x){v=x}})),v)throw v;return b}return s.reactComponent=this,f[Je]=s,this.render=f,f.call(this)}function Et(t,e){return this.state!==e||!Fe(this.props,t)}function Nt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function c(){return this[r]||ve(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var s=!1;return h.f&&h.e&&(s=Object(h.f)(!0)),c.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(s),this[n]},set:function(s){this[ye]||Fe(this[n],s)?ve(this,n,s):(ve(this,n,s),ve(this,se,!0),c.call(this).reportChanged(),ve(this,se,!1))}})}var Pt=typeof Symbol=="function"&&Symbol.for,gt=Pt?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)((function(t){return null})).$$typeof,Te=Pt?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)((function(t){return null})).$$typeof;function lt(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(gt&&t.$$typeof===gt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)((function(){var n=arguments;return Object(m.c)(Y,null,(function(){return e.apply(void 0,n)}))}))}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?De(t):B(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var pe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(27),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var ut=function(t,e){for(var n=-1,r=t==null?0:t.length,c=Array(r);++n<r;)c[n]=e(t[n],n,t);return c},Bt=function(){this.__data__=[],this.size=0},dn=function(t,e){return t===e||t!=t&&e!=e},Ft=function(t,e){for(var n=t.length;n--;)if(dn(t[n][0],e))return n;return-1},nn=Array.prototype.splice,On=function(t){var e=this.__data__,n=Ft(e,t);return!(n<0)&&(n==e.length-1?e.pop():nn.call(e,n,1),--this.size,!0)},Tn=function(t){var e=this.__data__,n=Ft(e,t);return n<0?void 0:e[n][1]},Ct=function(t){return Ft(this.__data__,t)>-1},Hn=function(t,e){var n=this.__data__,r=Ft(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function ee(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ee.prototype.clear=Bt,ee.prototype.delete=On,ee.prototype.get=Tn,ee.prototype.has=Ct,ee.prototype.set=Hn;var he=ee,ae=function(){this.__data__=new he,this.size=0},_e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},pt=o(31),Xt=pt.a.Symbol,tr=Object.prototype,pr=tr.hasOwnProperty,Xn=tr.toString,qn=Xt?Xt.toStringTag:void 0,st=function(t){var e=pr.call(t,qn),n=t[qn];try{t[qn]=void 0;var r=!0}catch(s){}var c=Xn.call(t);return r&&(e?t[qn]=n:delete t[qn]),c},_t=Object.prototype.toString,jt=function(t){return _t.call(t)},It=Xt?Xt.toStringTag:void 0,bn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":It&&It in Object(t)?st(t):jt(t)},Cn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Bo,wo=function(t){if(!Cn(t))return!1;var e=bn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Fo=pt.a["__core-js_shared__"],Ii=(Bo=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||""))?"Symbol(src)_1."+Bo:"",kl=function(t){return!!Ii&&Ii in t},Cu=Function.prototype.toString,qr=function(t){if(t!=null){try{return Cu.call(t)}catch(e){}try{return t+""}catch(e){}}return""},sa=/^\[object .+?Constructor\]$/,ft=Function.prototype,Dl=Object.prototype,Iu=ft.toString,Lu=Dl.hasOwnProperty,kr=RegExp("^"+Iu.call(Lu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=function(t){return!(!Cn(t)||kl(t))&&(wo(t)?kr:sa).test(qr(t))},Ba=function(t,e){return t==null?void 0:t[e]},lo=function(t,e){var n=Ba(t,e);return Wr(n)?n:void 0},Zr=lo(pt.a,"Map"),fo=lo(Object,"create"),zu=function(){this.__data__=fo?fo(null):{},this.size=0},Bu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hs=Object.prototype.hasOwnProperty,ca=function(t){var e=this.__data__;if(fo){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Hs.call(e,t)?e[t]:void 0},Xs=Object.prototype.hasOwnProperty,Fu=function(t){var e=this.__data__;return fo?e[t]!==void 0:Xs.call(e,t)},Nl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fo&&e===void 0?"__lodash_hash_undefined__":e,this};function ci(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ci.prototype.clear=zu,ci.prototype.delete=Bu,ci.prototype.get=ca,ci.prototype.has=Fu,ci.prototype.set=Nl;var Ys=ci,Wo=function(){this.size=0,this.__data__={hash:new Ys,map:new(Zr||he),string:new Ys}},Wu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Fa=function(t,e){var n=t.__data__;return Wu(e)?n[typeof e=="string"?"string":"hash"]:n.map},$u=function(t){var e=Fa(this,t).delete(t);return this.size-=e?1:0,e},Uu=function(t){return Fa(this,t).get(t)},Rl=function(t){return Fa(this,t).has(t)},Vs=function(t,e){var n=Fa(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function vn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vn.prototype.clear=Wo,vn.prototype.delete=$u,vn.prototype.get=Uu,vn.prototype.has=Rl,vn.prototype.set=Vs;var hn=vn,Ks=function(t,e){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!Zr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hn(r)}return n.set(t,e),this.size=n.size,this};function Li(t){var e=this.__data__=new he(t);this.size=e.size}Li.prototype.clear=ae,Li.prototype.delete=_e,Li.prototype.get=Ve,Li.prototype.has=Ke,Li.prototype.set=Ks;var $o=Li,Gu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qs=function(t){return this.__data__.has(t)};function Fn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hn;++e<n;)this.add(t[e])}Fn.prototype.add=Fn.prototype.push=Gu,Fn.prototype.has=qs;var Hu=Fn,la=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Xu=function(t,e){return t.has(e)},Wa=function(t,e,n,r,c,s){var f=1&n,v=t.length,b=e.length;if(v!=b&&!(f&&b>v))return!1;var x=s.get(t),S=s.get(e);if(x&&S)return x==e&&S==t;var D=-1,I=!0,V=2&n?new Hu:void 0;for(s.set(t,e),s.set(e,t);++D<v;){var J=t[D],ne=e[D];if(r)var be=f?r(ne,J,D,e,t,s):r(J,ne,D,t,e,s);if(be!==void 0){if(be)continue;I=!1;break}if(V){if(!la(e,(function(ge,xe){if(!Xu(V,xe)&&(J===ge||c(J,ge,n,r,s)))return V.push(xe)}))){I=!1;break}}else if(J!==ne&&!c(J,ne,n,r,s)){I=!1;break}}return s.delete(t),s.delete(e),I},dr=pt.a.Uint8Array,Yu=function(t){var e=-1,n=Array(t.size);return t.forEach((function(r,c){n[++e]=[c,r]})),n},Zs=function(t){var e=-1,n=Array(t.size);return t.forEach((function(r){n[++e]=r})),n},Vu=Xt?Xt.prototype:void 0,$a=Vu?Vu.valueOf:void 0,zi=function(t,e,n,r,c,s,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new dr(t),new dr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=Yu;case"[object Set]":var b=1&r;if(v||(v=Zs),t.size!=e.size&&!b)return!1;var x=f.get(t);if(x)return x==e;r|=2,f.set(t,e);var S=Wa(v(t),v(e),r,c,s,f);return f.delete(t),S;case"[object Symbol]":if($a)return $a.call(t)==$a.call(e)}return!1},Uo=function(t,e){for(var n=-1,r=e.length,c=t.length;++n<r;)t[c+n]=e[n];return t},En=Array.isArray,Cl=function(t,e,n){var r=e(t);return En(t)?r:Uo(r,n(t))},Dr=function(t,e){for(var n=-1,r=t==null?0:t.length,c=0,s=[];++n<r;){var f=t[n];e(f,n,t)&&(s[c++]=f)}return s},Il=function(){return[]},Js=Object.prototype.propertyIsEnumerable,Or=Object.getOwnPropertySymbols,Jr=Or?function(t){return t==null?[]:(t=Object(t),Dr(Or(t),(function(e){return Js.call(t,e)})))}:Il,Ku=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},un=function(t){return t!=null&&typeof t=="object"},nr=function(t){return un(t)&&bn(t)=="[object Arguments]"},Ua=Object.prototype,Qs=Ua.hasOwnProperty,qu=Ua.propertyIsEnumerable,Ga=nr((function(){return arguments})())?nr:function(t){return un(t)&&Qs.call(t,"callee")&&!qu.call(t,"callee")},xo=Ga,Go=o(48),Bi=/^(?:0|[1-9]\d*)$/,Nr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Bi.test(t))&&t>-1&&t%1==0&&t<e},Ho=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},rn={};rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Arguments]"]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object Boolean]"]=rn["[object DataView]"]=rn["[object Date]"]=rn["[object Error]"]=rn["[object Function]"]=rn["[object Map]"]=rn["[object Number]"]=rn["[object Object]"]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object WeakMap]"]=!1;var Rr=function(t){return un(t)&&Ho(t.length)&&!!rn[bn(t)]},Eo=function(t){return function(e){return t(e)}},cr=o(49),Ha=cr.a&&cr.a.isTypedArray,fa=Ha?Eo(Ha):Rr,Zu=Object.prototype.hasOwnProperty,In=function(t,e){var n=En(t),r=!n&&xo(t),c=!n&&!r&&Object(Go.a)(t),s=!n&&!r&&!c&&fa(t),f=n||r||c||s,v=f?Ku(t.length,String):[],b=v.length;for(var x in t)!e&&!Zu.call(t,x)||f&&(x=="length"||c&&(x=="offset"||x=="parent")||s&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Nr(x,b))||v.push(x);return v},Xa=Object.prototype,Xo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Xa)},Qr=function(t,e){return function(n){return t(e(n))}},Ju=Qr(Object.keys,Object),Ll=Object.prototype.hasOwnProperty,Qu=function(t){if(!Xo(t))return Ju(t);var e=[];for(var n in Object(t))Ll.call(t,n)&&n!="constructor"&&e.push(n);return e},Yn=function(t){return t!=null&&Ho(t.length)&&!wo(t)},pa=function(t){return Yn(t)?In(t):Qu(t)},So=function(t){return Cl(t,pa,Jr)},wr=Object.prototype.hasOwnProperty,es=function(t,e,n,r,c,s){var f=1&n,v=So(t),b=v.length;if(b!=So(e).length&&!f)return!1;for(var x=b;x--;){var S=v[x];if(!(f?S in e:wr.call(e,S)))return!1}var D=s.get(t),I=s.get(e);if(D&&I)return D==e&&I==t;var V=!0;s.set(t,e),s.set(e,t);for(var J=f;++x<b;){var ne=t[S=v[x]],be=e[S];if(r)var ge=f?r(be,ne,S,e,t,s):r(ne,be,S,t,e,s);if(!(ge===void 0?ne===be||c(ne,be,n,r,s):ge)){V=!1;break}J||(J=S=="constructor")}if(V&&!J){var xe=t.constructor,Ce=e.constructor;xe==Ce||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ce=="function"&&Ce instanceof Ce||(V=!1)}return s.delete(t),s.delete(e),V},$r=lo(pt.a,"DataView"),li=lo(pt.a,"Promise"),Ya=lo(pt.a,"Set"),jo=lo(pt.a,"WeakMap"),Ur="[object Map]",Cr="[object Promise]",eo="[object Set]",Po="[object WeakMap]",we="[object DataView]",Re=qr($r),Ie=qr(Zr),et=qr(li),Wt=qr(Ya),Zt=qr(jo),Pn=bn;($r&&Pn(new $r(new ArrayBuffer(1)))!=we||Zr&&Pn(new Zr)!=Ur||li&&Pn(li.resolve())!=Cr||Ya&&Pn(new Ya)!=eo||jo&&Pn(new jo)!=Po)&&(Pn=function(t){var e=bn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?qr(n):"";if(r)switch(r){case Re:return we;case Ie:return Ur;case et:return Cr;case Wt:return eo;case Zt:return Po}return e});var O=Pn,w="[object Arguments]",M="[object Array]",z="[object Object]",q=Object.prototype.hasOwnProperty,de=function(t,e,n,r,c,s){var f=En(t),v=En(e),b=f?M:O(t),x=v?M:O(e),S=(b=b==w?z:b)==z,D=(x=x==w?z:x)==z,I=b==x;if(I&&Object(Go.a)(t)){if(!Object(Go.a)(e))return!1;f=!0,S=!1}if(I&&!S)return s||(s=new $o),f||fa(t)?Wa(t,e,n,r,c,s):zi(t,e,b,n,r,c,s);if(!(1&n)){var V=S&&q.call(t,"__wrapped__"),J=D&&q.call(e,"__wrapped__");if(V||J){var ne=V?t.value():t,be=J?e.value():e;return s||(s=new $o),c(ne,be,n,r,s)}}return!!I&&(s||(s=new $o),es(t,e,n,r,c,s))},Se=function t(e,n,r,c,s){return e===n||(e==null||n==null||!un(e)&&!un(n)?e!=e&&n!=n:de(e,n,r,c,t,s))},We=function(t,e,n,r){var c=n.length,s=c;if(t==null)return!s;for(t=Object(t);c--;){var f=n[c];if(f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<s;){var v=(f=n[c])[0],b=t[v],x=f[1];if(f[2]){if(b===void 0&&!(v in t))return!1}else{var S=new $o,D;if(!(D===void 0?Se(x,b,3,r,S):D))return!1}}return!0},ct=function(t){return t==t&&!Cn(t)},Vt=function(t){for(var e=pa(t),n=e.length;n--;){var r=e[n],c=t[r];e[n]=[r,c,ct(c)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},wn=function(t){var e=Vt(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||We(n,t,e)}},$t=function(t){return typeof t=="symbol"||un(t)&&bn(t)=="[object Symbol]"},cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,Dn=function(t,e){if(En(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!$t(t))||to.test(t)||!cn.test(t)||e!=null&&t in Object(e)};function Ir(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,c=e?e.apply(this,r):r[0],s=n.cache;if(s.has(c))return s.get(c);var f=t.apply(this,r);return n.cache=s.set(c,f)||s,f};return n.cache=new(Ir.Cache||hn),n}Ir.Cache=hn;var Yo=Ir,Vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,da=/\\(\\)?/g,ts=(function(t){var e=Yo(t,(function(r){return n.size===500&&n.clear(),r})),n=e.cache;return e})((function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vo,(function(n,r,c,s){e.push(c?s.replace(da,"$1"):r||n)})),e})),fi=Xt?Xt.prototype:void 0,Va=fi?fi.toString:void 0,xr=function t(e){if(typeof e=="string")return e;if(En(e))return ut(e,t)+"";if($t(e))return Va?Va.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},ha=function(t){return t==null?"":xr(t)},Fi=function(t,e){return En(t)?t:Dn(t,e)?[t]:ts(ha(t))},pi=function(t){if(typeof t=="string"||$t(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},di=function(t,e){for(var n=0,r=(e=Fi(e,t)).length;t!=null&&n<r;)t=t[pi(e[n++])];return n&&n==r?t:void 0},Ka=function(t,e,n){var r=t==null?void 0:di(t,e);return r===void 0?n:r},Ay=function(t,e){return t!=null&&e in Object(t)},My=function(t,e,n){for(var r=-1,c=(e=Fi(e,t)).length,s=!1;++r<c;){var f=pi(e[r]);if(!(s=t!=null&&n(t,f)))break;t=t[f]}return s||++r!=c?s:!!(c=t==null?0:t.length)&&Ho(c)&&Nr(f,c)&&(En(t)||xo(t))},Mp=function(t,e){return t!=null&&My(t,e,Ay)},ec=function(t,e){return Dn(t)&&ct(e)?tt(pi(t),e):function(n){var r=Ka(n,t);return r===void 0&&r===e?Mp(n,t):Se(e,r,3)}},qa=function(t){return t},zl=function(t){return function(e){return e==null?void 0:e[t]}},Ty=function(t){return function(e){return di(e,t)}},Tp=function(t){return Dn(t)?zl(pi(t)):Ty(t)},Bl=function(t){return typeof t=="function"?t:t==null?qa:typeof t=="object"?En(t)?ec(t[0],t[1]):wn(t):Tp(t)},kp=(function(t){return function(e,n,r){for(var c=-1,s=Object(e),f=r(e),v=f.length;v--;){var b=f[++c];if(n(s[b],b,s)===!1)break}return e}})(),lr=(function(t,e){return function(n,r){if(n==null)return n;if(!Yn(n))return t(n,r);for(var c=n.length,s=-1,f=Object(n);++s<c&&r(f[s],s,f)!==!1;);return n}})((function(t,e){return t&&kp(t,e,pa)})),Er=function(t,e){var n=-1,r=Yn(t)?Array(t.length):[];return lr(t,(function(c,s,f){r[++n]=e(c,s,f)})),r},tc=function(t,e){return(En(t)?ut:Er)(t,Bl(e))};Object(h.n)({isolateGlobalState:!0});var nc=(function(){try{var t=lo(Object,"defineProperty");return t({},"",{}),t}catch(e){}})(),rc=function(t,e,n){e=="__proto__"&&nc?nc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},ky=Object.prototype.hasOwnProperty,Za=function(t,e,n){var r=t[e];ky.call(t,e)&&dn(r,n)&&(n!==void 0||e in t)||rc(t,e,n)},Ja=function(t,e,n,r){var c=!n;n||(n={});for(var s=-1,f=e.length;++s<f;){var v=e[s],b=void 0;b===void 0&&(b=t[v]),c?rc(n,v,b):Za(n,v,b)}return n},Fl=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ya=Math.max,Qa=function(t,e,n){return e=ya(e===void 0?t.length-1:e,0),function(){for(var r=arguments,c=-1,s=ya(r.length-e,0),f=Array(s);++c<s;)f[c]=r[e+c];c=-1;for(var v=Array(e+1);++c<e;)v[c]=r[c];return v[e]=n(f),Fl(t,this,v)}},ns=function(t){return function(){return t}},oc=nc?function(t,e){return nc(t,"toString",{configurable:!0,enumerable:!1,value:ns(e),writable:!0})}:qa,eu=Date.now,Dy=function(t){var e=0,n=0;return function(){var r=eu(),c=16-(r-n);if(n=r,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Dp=Dy(oc),Ny=function(t,e){return Dp(Qa(t,e,qa),t+"")},Ry=function(t,e,n){if(!Cn(n))return!1;var r=typeof e;return!!(r=="number"?Yn(n)&&Nr(e,n.length):r=="string"&&e in n)&&dn(n[e],t)},Np=function(t){return Ny((function(e,n){var r=-1,c=n.length,s=c>1?n[c-1]:void 0,f=c>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(c--,s):void 0,f&&Ry(n[0],n[1],f)&&(s=c<3?void 0:s,c=1),e=Object(e);++r<c;){var v=n[r];v&&t(e,v,r,s)}return e}))},ic=Object.prototype.hasOwnProperty,gr=Np((function(t,e){if(Xo(e)||Yn(e))Ja(e,pa(e),t);else for(var n in e)ic.call(e,n)&&Za(t,n,e[n])})),Rp=function(t,e,n,r){if(!Cn(t))return t;for(var c=-1,s=(e=Fi(e,t)).length,f=s-1,v=t;v!=null&&++c<s;){var b=pi(e[c]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(c!=f){var S=v[b];(x=void 0)==void 0&&(x=Cn(S)?S:Nr(e[c+1])?[]:{})}Za(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,c=e.length,s={};++r<c;){var f=e[r],v=di(t,f);n(v,f)&&Rp(s,Fi(f,t),v)}return s},tu=function(t,e){return F(t,e,(function(n,r){return Mp(t,r)}))},rs=Xt?Xt.isConcatSpreadable:void 0,po=function(t){return En(t)||xo(t)||!!(rs&&t&&t[rs])},an=function(e,n,r,c,s){var f=-1,v=e.length;for(r||(r=po),s||(s=[]);++f<v;){var b=e[f];r(b)?Uo(s,b):s[s.length]=b}return s},va=function(t){return t!=null&&t.length?an(t):[]},xn,Ko,Wi,ho,Wl,$l,Cp,Ip,ac,nu,os,Lp,Ul,qo,uc,$i,no,Gl,Hl,hi=(function(t){return Dp(Qa(t,void 0,va),t+"")})((function(t,e){return t==null?{}:tu(t,e)}));function Nn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var gn,hr,Kt,Zn,dt,An,sc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},yi=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Xl=(Ko=Vn((xn=(function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),Nn(this,"isSilentMode",Ko,this),Nn(this,"stopZoomGraph",Wi,this),Nn(this,"stopScrollGraph",ho,this),Nn(this,"stopMoveGraph",Wl,this),Nn(this,"adjustEdge",$l,this),Nn(this,"adjustEdgeMiddle",Cp,this),Nn(this,"adjustEdgeStartAndEnd",Ip,this),Nn(this,"adjustNodePosition",ac,this),Nn(this,"hideAnchors",nu,this),Nn(this,"allowRotation",os,this),Nn(this,"hoverOutline",Lp,this),Nn(this,"nodeSelectedOutline",Ul,this),Nn(this,"edgeSelectedOutline",qo,this),Nn(this,"nodeTextEdit",uc,this),Nn(this,"edgeTextEdit",$i,this),Nn(this,"nodeTextDraggable",no,this),Nn(this,"edgeTextDraggable",Gl,this),Nn(this,"autoExpand",Hl,this),Bp(this,"multipleSelectKey",""),Bp(this,"defaultConfig",{}),gr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var c=this.getConfigDetail(r);gr(this,c)}},{key:"getConfigDetail",value:function(r){var c=r.isSilentMode,s=r.textEdit,f={};if(c===!1&&gr(f,this.defaultConfig),c===!0&&c!==this.isSilentMode){var v=hi(sc,yi);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},gr(f,v)}s===!1&&gr(f,{nodeTextEdit:!1,edgeTextEdit:!1});var b=hi(r,yi);return gr(f,b)}},{key:"getConfig",value:function(){return hi(this,yi)}}])&&zp(e.prototype,n),t})()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wi=Vn(xn.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ho=Vn(xn.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wl=Vn(xn.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$l=Vn(xn.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cp=Vn(xn.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=Vn(xn.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ac=Vn(xn.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nu=Vn(xn.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),os=Vn(xn.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=Vn(xn.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ul=Vn(xn.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qo=Vn(xn.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uc=Vn(xn.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$i=Vn(xn.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),no=Vn(xn.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gl=Vn(xn.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hl=Vn(xn.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vn(xn.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(xn.prototype,"updateEditConfig"),xn.prototype),xn);o(65),o(66),(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(gn||(gn={})),(function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"})(hr||(hr={})),(function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"})(Kt||(Kt={})),(function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"})(Zn||(Zn={})),(function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"})(dt||(dt={})),(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(An||(An={}));var Ln,Wn,Fp,Wp,cc,ru,Yl,ou,lc;function iu(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return Vl(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Vl(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yo(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Ln||(Ln={}));var $p={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Up=(Wn=(function(){function t(r,c){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),gi(this,"MINI_SCALE_SIZE",.2),gi(this,"MAX_SCALE_SIZE",16),vi(this,"SCALE_X",Fp,this),vi(this,"SKEW_Y",Wp,this),vi(this,"SKEW_X",cc,this),vi(this,"SCALE_Y",ru,this),vi(this,"TRANSLATE_X",Yl,this),vi(this,"TRANSLATE_Y",ou,this),vi(this,"ZOOM_SIZE",lc,this),gi(this,"eventCenter",void 0),gi(this,"translateLimitMinX",void 0),gi(this,"translateLimitMinY",void 0),gi(this,"translateLimitMaxX",void 0),gi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var s=c.stopMoveGraph,f=s!==void 0&&s;this.updateTranslateLimits(f)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var c=iu(r,2),s=c[0],f=c[1];return[(s-this.TRANSLATE_X)/this.SCALE_X,(f-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var c=iu(r,2),s=c[0],f=c[1];return[s*this.SCALE_X+this.TRANSLATE_X,f*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,c,s){var f=iu(r,2),v=f[0],b=f[1];return[v+c/this.SCALE_X,b+s/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,c){return[r/this.SCALE_X,c/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],c=arguments.length>1?arguments[1]:void 0,s=this.SCALE_X,f=this.SCALE_Y;return r===!0?(s+=this.ZOOM_SIZE,f+=this.ZOOM_SIZE):r===!1?(s-=this.ZOOM_SIZE,f-=this.ZOOM_SIZE):typeof r=="number"&&(s=r,f=r),s<this.MINI_SCALE_SIZE||s>this.MAX_SCALE_SIZE||(c&&(this.TRANSLATE_X-=(s-this.SCALE_X)*c[0],this.TRANSLATE_Y-=(f-this.SCALE_Y)*c[1]),this.SCALE_X=s,this.SCALE_Y=f,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(dt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,c){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+c<=this.translateLimitMaxY&&this.TRANSLATE_Y+c>=this.translateLimitMinY&&(this.TRANSLATE_Y+=c),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,c,s,f){var v=iu(this.CanvasPointToHtmlPoint([r,c]),2),b=s/2-v[0],x=f/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var c=iu(Array.isArray(r)&&r.length===4?r:$p[r.toString()],4);this.translateLimitMinX=c[0],this.translateLimitMinY=c[1],this.translateLimitMaxX=c[2],this.translateLimitMaxY=c[3]}}],n&&Cy(e.prototype,n),t})(),Fp=yo(Wn.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wp=yo(Wn.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cc=yo(Wn.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ru=yo(Wn.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yl=yo(Wn.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ou=yo(Wn.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lc=yo(Wn.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),yo(Wn.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Wn.prototype,"zoom"),Wn.prototype),yo(Wn.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Wn.prototype,"resetZoom"),Wn.prototype),yo(Wn.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Wn.prototype,"translate"),Wn.prototype),yo(Wn.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Wn.prototype,"focusOn"),Wn.prototype),Wn),fc=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Gp=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Hp=Object.prototype.hasOwnProperty,Xp=function(t){if(!Cn(t))return Gp(t);var e=Xo(t),n=[];for(var r in t)(r!="constructor"||!e&&Hp.call(t,r))&&n.push(r);return n},pc=function(t){return Yn(t)?In(t,!0):Xp(t)},Kl=o(107),ql=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},dc=Qr(Object.getPrototypeOf,Object),Jt=Object.prototype.hasOwnProperty,Iy=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Jt.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Zl=function(t){var e=new t.constructor(t.byteLength);return new dr(e).set(new dr(t)),e},is=function(t,e){var n=Zl(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)},Yp=/\w*$/,Ly=function(t){var e=new t.constructor(t.source,Yp.exec(t));return e.lastIndex=t.lastIndex,e},Vp=Xt?Xt.prototype:void 0,ro=Vp?Vp.valueOf:void 0,zy=function(t){return ro?Object(ro.call(t)):{}},as=function(t,e){var n=e?Zl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Jl=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Zl(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return is(t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return as(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Ly(t);case"[object Symbol]":return zy(t)}},Ql=Object.create,Kp=(function(){function t(){}return function(e){if(!Cn(e))return{};if(Ql)return Ql(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})(),Gr=function(t){return typeof t.constructor!="function"||Xo(t)?{}:Kp(dc(t))},Ui=function(t){return un(t)&&O(t)=="[object Map]"},hc=cr.a&&cr.a.isMap,qp=hc?Eo(hc):Ui,yc=function(t){return un(t)&&O(t)=="[object Set]"},ef=cr.a&&cr.a.isSet,tf=ef?Eo(ef):yc,nf="[object Arguments]",vc="[object Function]",rf="[object Object]",yn={};yn[nf]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object DataView]"]=yn["[object Boolean]"]=yn["[object Date]"]=yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object Symbol]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Error]"]=yn[vc]=yn["[object WeakMap]"]=!1;var By=function t(e,n,r,c,s,f){var v,b=1&n;if(v!==void 0)return v;if(!Cn(e))return e;var x=En(e);if(x)v=Iy(e);else{var S=O(e),D=S==vc||S=="[object GeneratorFunction]";if(Object(Go.a)(e))return Object(Kl.a)(e,b);if(S==rf||S==nf||D&&!s)v=D?{}:Gr(e);else{if(!yn[S])return s?e:{};v=Jl(e,S,b)}}f||(f=new $o);var I=f.get(e);if(I)return I;f.set(e,v),tf(e)?e.forEach((function(J){v.add(t(J,n,r,J,e,f))})):qp(e)&&e.forEach((function(J,ne){v.set(ne,t(J,n,r,ne,e,f))}));var V=x?void 0:So(e);return fc(V||e,(function(J,ne){V&&(J=e[ne=J]),Za(v,ne,t(J,n,r,ne,e,f))})),v},mn=function(t){return By(t,5)},gc=function(t,e,n){(n!==void 0&&!dn(t[e],n)||n===void 0&&!(e in t))&&rc(t,e,n)},Zp=function(t){return un(t)&&Yn(t)},of=Function.prototype,Jp=Object.prototype,af=of.toString,Qp=Jp.hasOwnProperty,ed=af.call(Object),Hr=function(t){if(!un(t)||bn(t)!="[object Object]")return!1;var e=dc(t);if(e===null)return!0;var n=Qp.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&af.call(n)==ed},Ao=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},bc=function(t){return Ja(t,pc(t))},au=function(t,e,n,r,c,s,f){var v=Ao(t,n),b=Ao(e,n),x=f.get(b);if(x)gc(t,n,x);else{var S=void 0,D=S===void 0;if(D){var I=En(b),V=!I&&Object(Go.a)(b),J=!I&&!V&&fa(b);S=b,I||V||J?En(v)?S=v:Zp(v)?S=ql(v):V?(D=!1,S=Object(Kl.a)(b,!0)):J?(D=!1,S=as(b,!0)):S=[]:Hr(b)||xo(b)?(S=v,xo(v)?S=bc(v):Cn(v)&&!wo(v)||(S=Gr(b))):D=!1}D&&(f.set(b,S),c(S,b,r,s,f),f.delete(b)),gc(t,n,S)}},td=function t(e,n,r,c,s){e!==n&&kp(n,(function(f,v){if(s||(s=new $o),Cn(f))au(e,n,v,r,t,c,s);else{var b=void 0;b===void 0&&(b=f),gc(e,v,b)}}),pc)},us=Np((function(t,e,n){td(t,e,n)})),nd={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},ga=function(t){var e=mn(nd);return t&&(e=us(e,t)),e};o(82),o(166);function ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rd=(function(){function t(){var r,c,s;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),s={},(c="_events")in(r=this)?Object.defineProperty(r,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[c]=s}var e,n;return e=t,(n=[{key:"on",value:function(r,c,s){var f=this;return r==null||r.split(",").forEach((function(v){v=v.trim(),f._events[v]||(f._events[v]=[]),f._events[v].push({callback:c,once:!!s})})),this}},{key:"once",value:function(r,c){var s=this;r==null||r.split(",").forEach((function(f){return f=f.trim(),s.on(f,c,!0)}))}},{key:"emit",value:function(r,c){var s=this;r==null||r.split(",").forEach((function(f){var v=s._events[f]||[],b=s._events["*"]||[],x=function(S){for(var D=S.length,I=0;I<D;I++)if(S[I]){var V=S[I],J=V.callback;V.once&&(S.splice(I,1),S.length===0&&delete s._events[f],D--,I--),J.apply(s,[c])}};x(v),x(b)}))}},{key:"off",value:function(r,c){var s=this;return r||(this._events={}),r.split(",").forEach((function(f){if(c){for(var v=s._events[f]||[],b=v.length,x=0;x<b;x++)v[x].callback===c&&(v.splice(x,1),b--,x--);v.length===0&&delete s._events[f]}else delete s._events[f]})),this}},{key:"getEvents",value:function(){return this._events}}])&&ss(e.prototype,n),t})();function Gi(t,e){return e*Math.round(t/e)||t}function mc(t,e){return t%e}function _c(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return cs(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return cs(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function cs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ls=function(t,e,n){var r=_c(t,2),c=r[0],s=r[1],f=_c(e,2),v=f[0],b=f[1],x=_c(n,2),S=x[0],D=x[1];return c>v&&c<S&&s>b&&s<D},fs=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var od=function(t){return function(e,n,r){var c=Object(e);if(!Yn(e)){var s=Bl(n);e=pa(e),n=function(v){return s(c[v],v,c)}}var f=t(e,n,r);return f>-1?c[s?e[f]:f]:void 0}},Oc=function(t,e,n,r){for(var c=t.length,s=n+-1;++s<c;)if(e(t[s],s,t))return s;return-1},id=/\s/,uf=function(t){for(var e=t.length;e--&&id.test(t.charAt(e)););return e},Fy=/^\s+/,ad=function(t){return t&&t.slice(0,uf(t)+1).replace(Fy,"")},bi=/^[-+]0x[0-9a-f]+$/i,ud=/^0b[01]+$/i,sd=/^0o[0-7]+$/i,Wy=parseInt,wc=function(t){if(typeof t=="number")return t;if($t(t))return NaN;if(Cn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ad(t);var n=ud.test(t);return n||sd.test(t)?Wy(t.slice(2),n?2:8):bi.test(t)?NaN:+t},mi=1/0,sf=function(t){return t?(t=wc(t))===mi||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},cf=function(t){var e=sf(t),n=e%1;return e==e?n?e-n:e:0},lf=Math.max,uu,ba=od((function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var c=n==null?0:cf(n);return c<0&&(c=lf(r+c,0)),Oc(t,Bl(e),c)})),Tt=new Uint8Array(16);function xc(){if(!uu&&!(uu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uu(Tt)}for(var ff=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ma=function(t){return typeof t=="string"&&ff.test(t)},fr=[],Ec=0;Ec<256;++Ec)fr.push((Ec+256).toString(16).substr(1));var Sr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(fr[t[e+0]]+fr[t[e+1]]+fr[t[e+2]]+fr[t[e+3]]+"-"+fr[t[e+4]]+fr[t[e+5]]+"-"+fr[t[e+6]]+fr[t[e+7]]+"-"+fr[t[e+8]]+fr[t[e+9]]+"-"+fr[t[e+10]]+fr[t[e+11]]+fr[t[e+12]]+fr[t[e+13]]+fr[t[e+14]]+fr[t[e+15]]).toLowerCase();if(!ma(n))throw TypeError("Stringified UUID is invalid");return n},Sc=function(t,e,n){var r=(t=t||{}).random||(t.rng||xc)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,Sr(r)},_i=function(){return Sc()},$y=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce((function(r,c){return r[c.id]=e+Sc(),c.id=r[c.id],r}),{});return t.edges.forEach((function(r){r.id=e+Sc(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]})),t},oo=(o(105),o(127),o(207),function(t,e,n){var r=t.x,c=t.y,s=e.x,f=e.y,v=n.x,b=n.y,x=(b-f)/(v-s),S=f-x*s;return r>=s&&r<=v&&c>=f&&c<=b&&Math.abs(c-x*r+S)<Number.EPSILON});function br(t){return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}function jc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jc(Object(n),!0).forEach((function(r){Uy(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Uy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,pf,df,hf,yf,cd,Ac,vf,su,Mc,gf,bf,ps,mf,Mo,Hi,_f,ld,fd,pd,Of,Tc=function(t){return t.anchors},ds=function(t,e){for(var n,r=e.nodes,c=r.length-1;c>=0;c--){var s=r[c];if(Gy(t,s)){var f=s.getTargetAnchor(t);if(f){var v={node:s,anchorIndex:f.index,anchor:f.anchor};n&&!dd(s,n.node,e)||(n=v)}}}return n},dd=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},To=function(t,e,n,r){return Math.hypot(t-n,e-r)},Xi=function(t,e){var n=!1,r=zn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Gy=function(t,e){var n=!1,r=zn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},zn=function(t){var e=t.x,n=t.y,r=t.width,c=t.height;return{minX:e-r/2,minY:n-c/2,maxX:e+r/2,maxY:n+c/2,x:e,y:n,width:r,height:c,centerX:e,centerY:n}},hd=function(t,e,n){var r,c=(function(f){var v=f,b=v.x,x=v.y,S=v.width,D=v.height,I=v.radius;return[{x:b-S/2+I,y:x-D/2+I,r:I},{x:b+S/2-I,y:x-D/2+I,r:I},{x:b-S/2+I,y:x+D/2-I,r:I},{x:b+S/2-I,y:x+D/2-I,r:I}]})(n),s=Number.MAX_SAFE_INTEGER;return c.forEach((function(f){var v=To(t.x,t.y,f.x,f.y);v<s&&(s=v,r=f)})),kc(t,e,r)},kc=function(t,e,n){var r,c=n,s=c.x,f=c.y,v=c.r;if(e===An.HORIZONTAL){var b=s-Math.sqrt(v*v-(t.y-f)*(t.y-f)),x=s+Math.sqrt(v*v-(t.y-f)*(t.y-f));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===An.VERTICAL){var S=f-Math.sqrt(v*v-(t.x-s)*(t.x-s)),D=f+Math.sqrt(v*v-(t.x-s)*(t.x-s)),I=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:I}}return r},yd=function(t,e){var n=e,r=!1,c=n.x-n.width/2+n.radius,s=n.x+n.width/2-n.radius,f=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>c&&t.x<s:t.x!==b+S/2&&t.x!==b-S/2||(r=t.y>f&&t.y<v),r},Dc=function(t,e,n){var r,c=n,s=c.x,f=c.y,v=c.rx,b=c.ry;if(e===An.HORIZONTAL){var x=s-Math.sqrt(v*v-(t.y-f)*(t.y-f)*v*v/(b*b)),S=s+Math.sqrt(v*v-(t.y-f)*(t.y-f)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===An.VERTICAL){var D=f-Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(v*v)),I=f+Math.sqrt(b*b-(t.x-s)*(t.x-s)*b*b/(v*v)),V=Math.abs(D-t.y)<Math.abs(I-t.y)?D:I;r={x:t.x,y:V}}return r},vd=function(t,e,n){for(var r,c=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,f=[],v=0;v<c.length;v++)f.push({start:c[v],end:c[(v+1)%c.length]});return f.forEach((function(b){var x=b.start,S=b.end,D=x,I=S;x.x>S.x&&(D=S,I=x);var V={x:t.x,y:t.y};if(D.x===I.x&&e===An.HORIZONTAL&&(V={x:D.x,y:t.y}),D.y===I.y&&e===An.VERTICAL&&(V={x:t.x,y:D.y}),D.x!==I.x&&D.y!==I.y){var J=(I.y-D.y)/(I.x-D.x),ne=(D.x*I.y-I.x*D.y)/(D.x-I.x);e===An.HORIZONTAL?V={x:(t.y-ne)/J,y:t.y}:e===An.VERTICAL&&(V={x:t.x,y:J*t.x+ne})}if(oo(V,x,S)){var be=To(V.x,V.y,t.x,t.y);be<s&&(s=be,r=V)}})),r},gd=function(t,e,n,r){var c=t.x,s=t.y;return e.x>t.x?c=t.x+n/2:e.x<t.x&&(c=t.x-n/2),e.y>t.y?s=t.y+r/2:e.y<t.y&&(s=t.y-r/2),{x:c,y:s}},bd=function(t){var e=t.rows,n=t.style,r=t.rowsLength,c=t.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=c,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),r>1?e.forEach((function(v){var b=document.createElement("div");b.textContent=v,s.appendChild(b)})):s.textContent=e,document.body.appendChild(s);var f=s.clientHeight;return document.body.removeChild(s),f},hs=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,c=0;return e&&e.forEach((function(s){var f=$f(s);c=f>c?f:c})),{width:Math.ceil(c/2)*r+r/4,height:n*(r+2)+r/4}},cu=function(t){return br(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},jr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Hy=1e3,Xy=999,wf=function(){return++Hy};function md(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?md(Object(n),!0).forEach((function(r){vo(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Jn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var xf=(ke=(function(){function t(r,c){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),vo(this,"id",""),Jn(this,"type",pf,this),Jn(this,"sourceNodeId",df,this),Jn(this,"targetNodeId",hf,this),Jn(this,"startPoint",yf,this),Jn(this,"endPoint",cd,this),Jn(this,"text",Ac,this),Jn(this,"properties",vf,this),Jn(this,"points",su,this),Jn(this,"pointsList",Mc,this),Jn(this,"isSelected",gf,this),Jn(this,"isHovered",bf,this),Jn(this,"isHitable",ps,this),Jn(this,"draggable",mf,this),Jn(this,"visible",Mo,this),vo(this,"virtual",!1),Jn(this,"isAnimation",Hi,this),Jn(this,"isShowAdjustPoint",_f,this),vo(this,"graphModel",void 0),Jn(this,"zIndex",ld,this),vo(this,"BaseType",Zn.EDGE),vo(this,"modelType",Kt.EDGE),Jn(this,"state",fd,this),vo(this,"additionStateData",void 0),vo(this,"sourceAnchorId",""),vo(this,"targetAnchorId",""),vo(this,"menu",void 0),vo(this,"customTextPosition",!1),Jn(this,"style",pd,this),Jn(this,"arrowConfig",Of,this),this.graphModel=c,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),f=this.createId();r.id=f||s||_i()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,gr(this,Ld(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||wf()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Xr(Xr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Xr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return mn(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return mn(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),c=this.getEdgeAnimationStyle(),s=this.graphModel.theme.arrow,f=this.isAnimation?c.stroke:r.stroke;return Xr(Xr({},r),{},{fill:f,stroke:f},s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return mn(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.sourceNodeId])===null||c===void 0?void 0:c.model}},{key:"targetNode",get:function(){var r,c;return(r=this.graphModel)===null||r===void 0||(c=r.nodesMap[this.targetNodeId])===null||c===void 0?void 0:c.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,c,s){var f,v,b=Tc(r);return s&&(f=ba(b,(function(x){return x.id===s})))||b.forEach((function(x){var S=Hf(x,c);(v===void 0||S<v)&&(v=S,f=x)})),f}},{key:"getEndAnchor",value:function(r,c){var s,f,v=this,b=Tc(r);return c&&(s=ba(b,(function(x){return x.id===c})))||b.forEach((function(x){var S=Hf(x,v.startPoint);(f===void 0||S<f)&&(f=S,s=x)})),s}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,f=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return f&&(v.text={x:c,y:s,value:f}),this.graphModel.overlapMode===Ln.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,c){this.properties[r]=jr(c),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Xr(Xr({},Object(h.I)(this.properties)),jr(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var c=this.arrowConfig,s=c.markerEnd,f=c.markerStart;f&&f==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),s&&s==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,c){this.style=Xr(Xr({},this.style),{},vo({},r,jr(c)))}},{key:"setStyles",value:function(r){this.style=Xr(Xr({},this.style),jr(r))}},{key:"updateStyles",value:function(r){this.style=Xr({},jr(r))}},{key:"formatText",value:function(r){var c=this.textPosition,s=c.x,f=c.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||s,y:r.text.y||f,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:s,y:f,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,c=r.x,s=r.y;this.text.x=c,this.text.y=s}},{key:"moveText",value:function(r,c){if(this.text){var s=this.text,f=s.x,v=s.y,b=s.value,x=s.draggable,S=s.editable;this.text={value:b,draggable:x,x:f+r,y:v+c,editable:S}}}},{key:"setText",value:function(r){r&&gr(this.text,r)}},{key:"updateText",value:function(r){this.text=Xr(Xr({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var c=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!c)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:c.x,y:c.y}),this.targetAnchorId||(this.targetAnchorId=c.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,c){this.startPoint.x+=r,this.startPoint.y+=c}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,c){this.endPoint.x+=r,this.endPoint.y+=c}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){gr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var c=r.startPoint,s=r.endPoint;this.updateStartPoint({x:c.x,y:c.y}),this.updateEndPoint({x:s.x,y:s.y})}}],n&&Nc(e.prototype,n),t})(),pf=Mt(ke.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),df=Mt(ke.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hf=Mt(ke.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yf=Mt(ke.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cd=Mt(ke.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ac=Mt(ke.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),vf=Mt(ke.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),su=Mt(ke.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mc=Mt(ke.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gf=Mt(ke.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bf=Mt(ke.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Mt(ke.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mf=Mt(ke.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mo=Mt(ke.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hi=Mt(ke.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_f=Mt(ke.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ld=Mt(ke.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fd=Mt(ke.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),pd=Mt(ke.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Of=Mt(ke.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Mt(ke.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Mt(ke.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Mt(ke.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Mt(ke.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Mt(ke.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Mt(ke.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Mt(ke.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Mt(ke.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Mt(ke.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Mt(ke.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Mt(ke.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Mt(ke.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Mt(ke.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Mt(ke.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Mt(ke.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Mt(ke.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Mt(ke.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Mt(ke.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Mt(ke.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Mt(ke.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Mt(ke.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Mt(ke.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Mt(ke.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Mt(ke.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Mt(ke.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Mt(ke.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Mt(ke.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Mt(ke.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Mt(ke.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Mt(ke.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Mt(ke.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Mt(ke.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),Ef=xf;function Rc(t){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sf(Object(n),!0).forEach((function(r){Af(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Yy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lu(){return lu=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Ky(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},lu.apply(this,arguments)}function Ky(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yi(t))!==null;);return t}function jf(t,e){return jf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},jf(t,e)}function Cc(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Yi(t);if(e){var c=Yi(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Od(this,n)}}function Od(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pf(t)}function Pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(t)}function Af(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt,wd,Ic=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&jf(s,f)})(c,t);var e,n,r=Cc(c);function c(){var s;Yy(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return Af(Pf(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.LINE_EDGE),s}return e=c,(n=[{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.line;return _d(_d({},lu(Yi(c.prototype),"getEdgeStyle",this).call(this)),mn(s))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Vy(e.prototype,n),c})(Ef);function fu(t){return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Lc(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return xd(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return xd(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function xd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zc(Object(n),!0).forEach((function(r){Tf(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function qy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ys(){return ys=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_a(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},ys.apply(this,arguments)}function _a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Lr(t))!==null;);return t}function Ut(t,e){return Ut=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ut(t,e)}function Jy(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Lr(t);if(e){var c=Lr(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lr(t)}function Tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yr(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var go=(Lt=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ut(s,f)})(c,t);var e,n,r=Jy(c);function c(){var s;ko(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return Tf(Rn(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYLINE_EDGE),Tf(Rn(s),"draggingPointList",void 0),qy(Rn(s),"dbClickPosition",wd,Rn(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=30,ys(Lr(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.polyline;return Mf(Mf({},ys(Lr(c.prototype),"getEdgeStyle",this).call(this)),mn(s))}},{key:"getTextPosition",value:function(){var s,f=(s=this.text)===null||s===void 0?void 0:s.value;if(this.dbClickPosition&&!f){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=wi(this.points),x=Lc(Ff(b),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(s,f,v){var b,x;return v.forEach((function(S){var D;s===An.HORIZONTAL?D=Math.abs(f.y-S.y):s===An.VERTICAL&&(D=Math.abs(f.x-S.x)),(!x||x>D)&&(x=D,b=S)})),b}},{key:"getCrossPoint",value:function(s,f,v){var b;return s===An.HORIZONTAL?b={x:v.x,y:f.y}:s===An.VERTICAL&&(b={x:f.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(s,f,v){var b=v.map((function(ge){return ge}));if(s===1){var x=b[s],S=b[f],D=b[s-1];if(Uc(D,x,this.sourceNode)){if(Ki(x,S,this.sourceNode)){var I=Wf(x,S,this.sourceNode);I&&(b[s]=I,b.splice(s-1,1),s--,f--)}}else this.sourceNode.anchors.forEach((function(ge){(ge.x===D.x&&ge.x===x.x||ge.y===D.y&&ge.y===x.y)&&To(ge.x,ge.y,x.x,x.y)<To(D.x,D.y,x.x,x.y)&&(b[s-1]=ge)}))}if(f===v.length-2){var V=b[s],J=b[f],ne=b[f+1];if(Uc(J,ne,this.targetNode)){if(Ki(V,J,this.targetNode)){var be=Wf(V,J,this.targetNode);be&&(b[f]=be,b.splice(f+1,1))}}else this.targetNode.anchors.forEach((function(ge){(ge.x===ne.x&&ge.x===J.x||ge.y===ne.y&&ge.y===J.y)&&To(ge.x,ge.y,J.x,J.y)<To(ne.x,ne.y,J.x,J.y)&&(b[f+1]=ge)}))}return b}},{key:"getDraggingPoints",value:function(s,f,v,b,x){var S=x.map((function(V){return V})),D=this.getAfterAnchor(s,v,b),I=this.getCrossPoint(s,v,D);return f==="start"?(S.unshift(I),S.unshift(D)):(S.push(I),S.push(D)),S}},{key:"updateCrossPoints",value:function(s){var f=s.map((function(Ce){return Ce})),v=s[0],b=s[1],x=s[f.length-2],S=s[f.length-1],D=this.sourceNode,I=this.targetNode,V=D.modelType,J=I.modelType,ne=vu(v,b),be=f[0];switch(V){case Kt.RECT_NODE:D.radius!==0&&(yd(v,D)||(be=hd(v,ne,D)));break;case Kt.CIRCLE_NODE:be=kc(v,ne,D);break;case Kt.ELLIPSE_NODE:be=Dc(v,ne,D);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:be=vd(v,ne,D)}be&&(f[0]=be);var ge=vu(x,S),xe=f[f.length-1];switch(J){case Kt.RECT_NODE:I.radius!==0&&(yd(S,I)||(xe=hd(S,ge,I)));break;case Kt.CIRCLE_NODE:xe=kc(S,ge,I);break;case Kt.ELLIPSE_NODE:xe=Dc(S,ge,I);break;case Kt.DIAMOND_NODE:case Kt.POLYGON_NODE:xe=vd(S,ge,I)}return xe&&(f[f.length-1]=xe),f}},{key:"getData",value:function(){var s=ys(Lr(c.prototype),"getData",this).call(this),f=this.pointsList.map((function(v){return{x:v.x,y:v.y}}));return Object.assign({},s,{pointsList:f})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(s){return"".concat(s.x,",").concat(s.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var s=$c({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=s,this.points=s.map((function(f){return"".concat(f.x,",").concat(f.y)})).join(" ")}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,f){this.startPoint.x+=s,this.startPoint.y+=f,this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveEndPoint",value:function(s,f){this.endPoint.x+=s,this.endPoint.y+=f,this.updatePoints()}},{key:"updatePointsList",value:function(s,f){this.pointsList.forEach((function(x){x.x+=s,x.y+=f}));var v=this.pointsList[0];this.startPoint=Object.assign({},v);var b=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},b),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map((function(s){return s}))}},{key:"dragAppendSimple",value:function(s,f){this.isDragging=!0;var v=s.start,b=s.end,x=s.startIndex,S=s.endIndex,D=s.direction,I=this.pointsList,V=I;return D===An.HORIZONTAL?(I[x]={x:v.x,y:v.y+f.y},I[S]={x:b.x,y:b.y+f.y},V=this.pointsList.map((function(J){return J}))):D===An.VERTICAL&&(I[x]={x:v.x+f.x,y:v.y},I[S]={x:b.x+f.x,y:b.y},V=this.pointsList.map((function(J){return J}))),this.updatePointsAfterDrag(V),this.draggingPointList=V,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(s,f){this.isDragging=!0;var v=s.start,b=s.end,x=s.startIndex,S=s.endIndex,D=s.direction,I=this.pointsList;if(D===An.HORIZONTAL){I[x]={x:v.x,y:v.y+f.y},I[S]={x:b.x,y:b.y+f.y};var V=this.pointsList.map((function(qe){return qe}));if(x!==0&&S!==this.pointsList.length-1&&(V=this.removeCrossPoints(x,S,V)),x===0){var J={x:v.x,y:v.y+f.y};if(!Xi(J,this.sourceNode)){var ne=this.sourceNode.anchors;V=this.getDraggingPoints(D,"start",J,ne,V)}}if(S===this.pointsList.length-1){var be={x:b.x,y:b.y+f.y};if(!Xi(be,this.targetNode)){var ge=this.targetNode.anchors;V=this.getDraggingPoints(D,"end",be,ge,V)}}this.updatePointsAfterDrag(V),this.draggingPointList=V}else if(D===An.VERTICAL){I[x]={x:v.x+f.x,y:v.y},I[S]={x:b.x+f.x,y:b.y};var xe=this.pointsList.map((function(qe){return qe}));if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Ce={x:v.x+f.x,y:v.y};if(!Xi(Ce,this.sourceNode)){var Qe=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Ce,Qe,xe)}}if(S===this.pointsList.length-1){var Ze={x:b.x+f.x,y:b.y};if(!Xi(Ze,this.targetNode)){var mt=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",Ze,mt,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[x]),end:Object.assign({},I[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var s=Bf(wi(this.points));this.pointsList=s.map((function(b){return b})),this.draggingPointList=[];var f=s[0];this.startPoint=Object.assign({},f);var v=s[s.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(s){var f=this.updateCrossPoints(s);this.points=f.map((function(v){return"".concat(v.x,",").concat(v.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var f=s.startPoint,v=s.endPoint,b=s.sourceNode,x=s.targetNode,S=$c({x:f.x,y:f.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&Zy(e.prototype,n),c})(Ef),wd=yr(Lt.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr(Lt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"initPoints"),Lt.prototype),yr(Lt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePoints"),Lt.prototype),yr(Lt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateStartPoint"),Lt.prototype),yr(Lt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"moveStartPoint"),Lt.prototype),yr(Lt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEndPoint"),Lt.prototype),yr(Lt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"moveEndPoint"),Lt.prototype),yr(Lt.prototype,"updatePointsList",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePointsList"),Lt.prototype),yr(Lt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendStart"),Lt.prototype),yr(Lt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendSimple"),Lt.prototype),yr(Lt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppend"),Lt.prototype),yr(Lt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"dragAppendEnd"),Lt.prototype),yr(Lt.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updatePointsAfterDrag"),Lt.prototype),yr(Lt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"getAdjustStart"),Lt.prototype),yr(Lt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"getAdjustEnd"),Lt.prototype),yr(Lt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateAfterAdjustStartAndEnd"),Lt.prototype),Lt),pu=function(t){var e=t.start,n=t.end,r=t.offset,c=t.verticalLength,s=t.type,f={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/c),x=Math.sqrt(c*c+r*r);return s==="start"?n.x>=e.x?(f.leftX=e.x+x*Math.sin(v+b),f.leftY=e.y-x*Math.cos(v+b),f.rightX=e.x-x*Math.sin(v-b),f.rightY=e.y+x*Math.cos(v-b)):(f.leftX=e.x-x*Math.sin(v+b),f.leftY=e.y+x*Math.cos(v+b),f.rightX=e.x+x*Math.sin(v-b),f.rightY=e.y-x*Math.cos(v-b)):s==="end"&&(n.x>=e.x?(f.leftX=n.x+x*Math.sin(v-b),f.leftY=n.y-x*Math.cos(v-b),f.rightX=n.x-x*Math.sin(v+b),f.rightY=n.y+x*Math.cos(v+b)):(f.leftX=n.x-x*Math.sin(v-b),f.leftY=n.y+x*Math.cos(v-b),f.rightX=n.x+x*Math.sin(v+b),f.rightY=n.y-x*Math.cos(v+b))),f},Bc={x:1,y:0,z:0};function Bn(t,e,n,r,c){for(var s=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},f=0,v=2,b=r.x,x=r.y,S=r;f<c&&v<50;){var D=S=s(1-v/100),I=D.x,V=D.y;f=To(b,x,I,V),v++}return S}function $n(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function kf(t){return r=(function(s,f){return s.x*f.y-s.y*f.x})(e=Bc,n=t),c=Math.acos((function(s,f){var v=[s.x,s.y,s.z];return[f.x,f.y,f.z].reduce((function(b,x,S){return b+x*v[S]}))})($n(e),$n(n))),r>=0?c:-c;var e,n,r,c}function Df(t){return t*(180/Math.PI)}function du(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?du(Object(n),!0).forEach((function(r){Ed(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fc(t){return(function(e){if(Array.isArray(e))return Nf(e)})(t)||(function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||Sd(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function zr(t){return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}function Oi(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||Sd(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Sd(t,e){if(t){if(typeof t=="string")return Nf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nf(t,e):void 0}}function Nf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jd=function(t,e){var n;switch(t.type){case"line":default:n=new Ic(t,e);break;case"polyline":n=new go(t,e)}return n},Zo=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},Gt=function(t){var e=[],n={};return t.forEach((function(r){var c="".concat(r.x,"-").concat(r.y);r.id=c,n[c]=r})),Object.keys(n).forEach((function(r){e.push(n[r])})),e},Pd=function(t,e){var n=[t,{x:t.x,y:e.y},e];return Gt(n)},Pr=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Rf=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?An.HORIZONTAL:An.VERTICAL},ln=function(t,e,n){return Rf(n,e)===An.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Cf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),c=Math.max(t.maxX,e.maxX),s=Math.max(t.maxY,e.maxY);return{centerX:(n+c)/2,centerY:(r+s)/2,minX:n,minY:r,maxX:c,maxY:s,height:s-r,width:c-n}},Oa=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach((function(S){n.push(S.x),r.push(S.y)}));var c=Math.min.apply(Math,n),s=Math.max.apply(Math,n),f=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=s-c,x=v-f;return e&&(b+=e,x+=e),{centerX:(c+s)/2,centerY:(f+v)/2,maxX:s,maxY:v,minX:c,minY:f,x:(c+s)/2,y:(f+v)/2,height:x,width:b}},Vi=function(t){var e=t.minX,n=t.minY,r=t.maxX,c=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:c},{x:e,y:c}]},vs=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Ad=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Md=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},Td=function(t,e){return Ad(t,e.x).concat(Md(t,e.y))},yu=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Wc=function(t,e){var n=0;return e.forEach((function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))})),n},If=function(t,e,n,r,c){return yu(t,e)+yu(t,n)+Wc(t,[e,n,r,c])},kd=function t(e,n,r,c,s){s||(s=0),e.unshift(n[c]),r[c]&&r[c]!==c&&s<=100&&t(e,n,r,r[c],s+1)},Dd=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Un=function(t,e,n,r){var c=e.x-t.x,s=e.y-t.y,f=r.x-n.x,v=r.y-n.y,b=(-s*(t.x-n.x)+c*(t.y-n.y))/(-f*s+c*v),x=(f*(t.y-n.y)-v*(t.x-n.x))/(-f*s+c*v);return b>=0&&b<=1&&x>=0&&x<=1},Ar=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Oi(Vi(n),4),c=r[0],s=r[1],f=r[2],v=r[3];return Un(t,e,c,s)||Un(t,e,c,v)||Un(t,e,s,f)||Un(t,e,f,v)},Nd=function(t,e,n,r){var c=[];return t.forEach((function(s){s!==e&&(s.x!==e.x&&s.y!==e.y||Ar(s,e,n)||Ar(s,e,r)||c.push(s))})),Gt(c)},Lf=function(t,e,n,r,c,s,f){var v=[],b=[e],x={},S={},D={};S[e.id]=0,D[e.id]=If(e,n,e);var I={};t.forEach((function(ne){I[ne.id]=ne}));for(var V=function(){var ne=void 0,be=1/0;if(b.forEach((function(xe){D[xe.id]<be&&(be=D[xe.id],ne=xe)})),ne===n){var ge=[];return kd(ge,I,x,n.id),{v:ge}}Dd(b,ne),v.push(ne),Nd(t,ne,r,c).forEach((function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Ce=D[ne.id]+yu(ne,xe);S[xe.id]&&Ce>=S[xe.id]||(x[xe.id]=ne.id,S[xe.id]=Ce,D[xe.id]=S[xe.id]+If(xe,n,e,s,f))}}))};b.length;){var J=V();if(zr(J)==="object")return J.v}return[e,n]},zf=function(t){return zn(t)},Bf=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],c=t[e+1];n.x===r.x&&r.x===c.x||n.y===r.y&&r.y===c.y?t.splice(e,1):e++}return t},$c=function(t,e,n,r,c){var s=zf(n),f=zf(r),v=Pr(s,c),b=Pr(f,c),x=ln(v,s,t),S=ln(b,f,e);if(Zo(v,b)){var D=Rd(t,e,x,S);return[t,x].concat(Fc(D),[S,e])}var I=Oa([x,S]),V=Cf(v,I),J=Cf(b,I),ne=[];ne=(ne=ne.concat(Vi(V))).concat(Vi(J));var be={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[I,V,J].forEach((function(xe){ne=ne.concat(Td(xe,be).filter((function(Ce){return vs(Ce,v)&&vs(Ce,b)})))})),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach((function(xe){vs(xe,v)&&vs(xe,b)&&ne.push(xe)})),ne.unshift(x),ne.push(S),ne=Gt(ne);var ge=Lf(ne,x,S,s,f,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=Bf(ge)),Gt(ge)},Ff=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],c=To(n.x,n.y,r.x,r.y),s=1;s<t.length-1;s++){var f=t[s],v=t[s+1],b=To(f.x,f.y,v.x,v.y);b>c&&(c=b,n=f,r=v)}e=[n,r]}return e},Uc=function(t,e,n){var r=Xi(t,n),c=Xi(e,n);return r&&c},Ki=function(t,e,n){var r=Xi(t,n),c=Xi(e,n);return!(r&&c)&&(r||c)},Wf=function(t,e,n){for(var r,c,s=zn(n),f=Vi(s),v=0;v<f.length;v++)Un(t,e,f[v],f[(v+1)%f.length])&&(c=[f[v],f[(v+1)%f.length]]);return c&&(r=(function(b,x,S,D){var I=(x.y-b.y)*(D.x-S.x)-(b.x-x.x)*(S.y-D.y);if(I===0)return!1;var V=((x.x-b.x)*(D.x-S.x)*(S.y-b.y)+(x.y-b.y)*(D.x-S.x)*b.x-(D.y-S.y)*(x.x-b.x)*S.x)/I,J=-((x.y-b.y)*(D.y-S.y)*(S.x-b.x)+(x.x-b.x)*(D.y-S.y)*b.y-(D.x-S.x)*(x.y-b.y)*S.y)/I;return(V-b.x)*(V-x.x)<=0&&(J-b.y)*(J-x.y)<=0&&(V-S.x)*(V-D.x)<=0&&(J-S.y)*(J-D.y)<=0&&{x:V,y:J}})(t,e,c[0],c[1])),r},vu=function(t,e){var n;return t.x===e.x?n=An.VERTICAL:t.y===e.y&&(n=An.HORIZONTAL),n},wi=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(r){var c=Oi(r.split(","),2),s=c[0],f=c[1];n.push({x:Number(s),y:Number(f)})})),n},Rd=function(t,e,n,r){var c=[];if(vu(t,n)===vu(e,r))t.y===n.y?(c.push({x:n.x,y:(n.y+r.y)/2}),c.push({x:r.x,y:(n.y+r.y)/2})):(c.push({x:(n.x+r.x)/2,y:n.y}),c.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},f=oo(s,t,n),v=oo(s,e,r);if(f||v)s={x:r.x,y:n.y};else{var b=Cd(s,t,n),x=Cd(s,e,r);b&&x&&(s={x:r.x,y:n.y})}c.push(s)}return c},Cd=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},$f=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Uf=null,Qy=function(t,e){Uf||(Uf=document.createElement("canvas"));var n=Uf.getContext("2d");return n.font=e,n.measureText(t).width},Id=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var c={start:n,end:r,offset:10,verticalLength:5},s=pu(hu(hu({},c),{},{type:"start"})),f=pu(hu(hu({},c),{},{type:"end"}));e="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(f.rightX," ").concat(f.rightY,`
    L`).concat(f.leftX," ").concat(f.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},gs=function(t){var e=t.start,n=t.end,r=t.sourceNode,c=t.targetNode,s=t.offset,f=zn(r),v=zn(c),b=Pr(f,s),x=Pr(v,s);return{sNext:ln(b,f,e),ePre:ln(x,v,n)}},bs=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[ms(e[0]),ms(e[1]),ms(e[2]),ms(e[3])]},ms=function(t){var e=Oi(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Gf=function(t,e){var n=Oi(t,4);return[Bn(n[0],n[1],n[2],n[3],e),t[3]]},_s=function(t,e){for(var n,r=t.x,c=t.y,s=wi(e),f=Number.MAX_SAFE_INTEGER,v=[],b=0;b<s.length;b++)v.push({start:s[b],end:s[(b+1)%s.length]});if(v.forEach((function(I){var V=I.start,J=I.end;if(V.x===J.x){var ne={x:V.x,y:c};if(oo(ne,V,J)){var be=Math.abs(V.x-r);be<f&&(f=be,n=ne)}}else if(V.y===J.y){var ge={x:r,y:V.y};if(oo(ge,V,J)){var xe=Math.abs(V.y-c);xe<f&&(f=xe,n=ge)}}})),!n){var x=v[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Ld=function(t){return hi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Br(t,e){return typeof e!="function"?function(n,r,c){return Object.assign({type:t.edgeType},c)}:function(n,r,c){var s=e(n,r,c);return s?typeof s=="string"?Object.assign({},c,{type:s}):Object.assign({type:s},c):{type:t.edgeType}}}o(208);var Os=function(){};function ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bo=(function(){function t(r){var c=this,s=r.onDragStart,f=s===void 0?Os:s,v=r.onDragging,b=v===void 0?Os:v,x=r.onDragEnd,S=x===void 0?Os:x,D=r.eventType,I=D===void 0?"":D,V=r.eventCenter,J=V===void 0?null:V,ne=r.step,be=ne===void 0?1:ne,ge=r.isStopPropagation,xe=ge===void 0||ge,Ce=r.model,Qe=Ce===void 0?null:Ce,Ze=r.data,mt=Ze===void 0?null:Ze;(function(qe,yt){if(!(qe instanceof yt))throw new TypeError("Cannot call a class as a function")})(this,t),rr(this,"onDragStart",void 0),rr(this,"onDragging",void 0),rr(this,"onDragEnd",void 0),rr(this,"step",void 0),rr(this,"isStopPropagation",void 0),rr(this,"isDragging",!1),rr(this,"isStartDragging",!1),rr(this,"startX",0),rr(this,"startY",0),rr(this,"sumDeltaX",0),rr(this,"sumDeltaY",0),rr(this,"eventType",void 0),rr(this,"eventCenter",void 0),rr(this,"model",void 0),rr(this,"data",void 0),rr(this,"startTime",void 0),rr(this,"handleMouseDown",(function(qe){var yt,nt,Qt,on=(yt=window)===null||yt===void 0?void 0:yt.document;if(qe.button===0){c.isStopPropagation&&qe.stopPropagation(),c.isStartDragging=!0,c.startX=qe.clientX,c.startY=qe.clientY,on.addEventListener("mousemove",c.handleMouseMove,!1),on.addEventListener("mouseup",c.handleMouseUp,!1);var Rt=(nt=c.model)===null||nt===void 0?void 0:nt.getData();(Qt=c.eventCenter)===null||Qt===void 0||Qt.emit(dt["".concat(c.eventType,"_MOUSEDOWN")],{e:qe,data:c.data||Rt}),c.startTime=new Date().getTime()}})),rr(this,"handleMouseMove",(function(qe){if(c.isStopPropagation&&qe.stopPropagation(),c.isStartDragging&&(c.sumDeltaX+=qe.clientX-c.startX,c.sumDeltaY+=qe.clientY-c.startY,c.startX=qe.clientX,c.startY=qe.clientY,c.step<=1||Math.abs(c.sumDeltaX)>c.step||Math.abs(c.sumDeltaY)>c.step)){var yt,nt=c.sumDeltaX%c.step,Qt=c.sumDeltaY%c.step,on=c.sumDeltaX-nt,Rt=c.sumDeltaY-Qt;c.sumDeltaX=nt,c.sumDeltaY=Qt;var fn,Qn=(yt=c.model)===null||yt===void 0?void 0:yt.getData();c.isDragging||((fn=c.eventCenter)===null||fn===void 0||fn.emit(dt["".concat(c.eventType,"_DRAGSTART")],{e:qe,data:c.data||Qn}),c.onDragStart({event:qe})),c.isDragging=!0,Promise.resolve().then((function(){var er,Fr;c.onDragging({deltaX:on,deltaY:Rt,event:qe}),(er=c.eventCenter)===null||er===void 0||er.emit(dt["".concat(c.eventType,"_MOUSEMOVE")],{e:qe,data:c.data||Qn}),(Fr=c.eventCenter)===null||Fr===void 0||Fr.emit(dt["".concat(c.eventType,"_DRAG")],{e:qe,data:c.data||Qn})}))}})),rr(this,"handleMouseUp",(function(qe){var yt=window.document;c.isStartDragging=!1,c.isStopPropagation&&qe.stopPropagation(),Promise.resolve().then((function(){var nt,Qt,on;yt.removeEventListener("mousemove",c.handleMouseMove,!1),yt.removeEventListener("mouseup",c.handleMouseUp,!1);var Rt=(nt=c.model)===null||nt===void 0?void 0:nt.getData();(Qt=c.eventCenter)===null||Qt===void 0||Qt.emit(dt["".concat(c.eventType,"_MOUSEUP")],{e:qe,data:c.data||Rt}),c.isDragging&&(c.isDragging=!1,c.onDragEnd({event:qe}),(on=c.eventCenter)===null||on===void 0||on.emit(dt["".concat(c.eventType,"_DROP")],{e:qe,data:c.data||Rt}))}))})),rr(this,"cancelDrag",(function(){var qe,yt=(qe=window)===null||qe===void 0?void 0:qe.document;yt.removeEventListener("mousemove",c.handleMouseMove,!1),yt.removeEventListener("mouseup",c.handleMouseUp,!1),c.onDragEnd({event:null}),c.isDragging=!1})),this.onDragStart=f,this.onDragging=b,this.onDragEnd=S,this.step=be,this.isStopPropagation=xe,this.eventType=I,this.eventCenter=J,this.model=Qe,this.data=mt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&ev(e.prototype,n),t})();function ws(t){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function Xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yf(t,e,n){return e&&tv(t.prototype,e),t}function Gc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Es(t,e)}function Vf(t){var e=zd();return function(){var n,r=Ss(t);if(e){var c=Ss(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nv(this,n)}}function nv(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xi(t)}function xi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xs(t){var e=typeof Map=="function"?new Map:void 0;return xs=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return Kf(n,arguments,Ss(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Es(c,n)},xs(t)}function Kf(t,e,n){return Kf=zd()?Reflect.construct:function(r,c,s){var f=[null];f.push.apply(f,c);var v=new(Function.bind.apply(r,f));return s&&Es(v,s.prototype),v},Kf.apply(null,arguments)}function zd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Es(t,e){return Es=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Es(t,e)}function Ss(t){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ss(t)}function js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bd(t,e){return t instanceof vr&&e instanceof vr}var Fd=(function(t){Gc(n,t);var e=Vf(n);function n(r,c,s){var f;return Xf(this,n),js(xi(f=e.call(this,3)),"x",void 0),js(xi(f),"y",void 0),js(xi(f),"z",void 0),f[0]=r,f[1]=c,f[2]=s,f.x=r,f.y=c,f.z=s,Object.setPrototypeOf(xi(f),n.prototype),f}return Yf(n,[{key:"add",value:function(r){if(Bd(this,r))return new vr(this.x+r.x,this.y+r.y);var c=this.z+r.z;return new l((this.x+r.x)/c,(this.y+r.y)/c)}},{key:"subtract",value:function(r){if(Bd(this,r))return new vr(this.x-r.x,this.y-r.y);var c=this.z-r.z;return c===0?new vr(this.x-r.x,this.y-r.y):new l((this.x-r.x)/c,(this.y-r.y)/c)}}]),n})(xs(Array)),vr=(function(t){Gc(n,t);var e=Vf(n);function n(r,c,s){var f;return Xf(this,n),f=e.call(this,r,c,s!=null?s:0),Object.setPrototypeOf(xi(f),n.prototype),f}return Yf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var c=this;return r.reduce((function(s,f,v){return s+f*c[v]}))}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var c=this.crossZ(r),s=Math.acos(this.normalize().dot(r.normalize()));return c>=0?s:-s}}]),n})(Fd),l=(function(t){Gc(n,t);var e=Vf(n);function n(r,c){var s;return Xf(this,n),s=e.call(this,r,c,1),Object.setPrototypeOf(xi(s),n.prototype),s}return Yf(n,[{key:"toString",value:function(){return"Point"}}]),n})(Fd);o(67),o(218);function y(t){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(t)}function _(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||R(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function A(t){return(function(e){if(Array.isArray(e))return $(e)})(t)||(function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||R(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function R(t,e){if(t){if(typeof t=="string")return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}function $(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return e&&fe(t.prototype,e),t}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}function Ne(t){var e=Be();return function(){var n,r=At(t);if(e){var c=At(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(t,e){if(e&&(y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}function ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){var e=typeof Map=="function"?new Map:void 0;return ht=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,c)}function c(){return St(n,arguments,At(this).constructor)}return c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Ge(c,n)},ht(t)}function St(t,e,n){return St=Be()?Reflect.construct:function(r,c,s){var f=[null];f.push.apply(f,c);var v=new(Function.bind.apply(r,f));return s&&Ge(v,s.prototype),v},St.apply(null,arguments)}function Be(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ge(t,e){return Ge=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ge(t,e)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(t)}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var le,zt,en,Ot,kt,or,Vr,Do,ir,Jo,Ei,gu,Ps,Qo=(function(t){Le(n,t);var e=Ne(n);function n(){var r;oe(this,n);for(var c=arguments.length,s=new Array(c),f=0;f<c;f++)s[f]=arguments[f];return at(ot(r=e.call(this,s.length)),"rows",void 0),at(ot(r),"columns",void 0),r.fill(new Array(3)),s.forEach((function(v,b){r[b]=v})),r.columns=s[0].length,r.rows=s.length,Object.setPrototypeOf(ot(r),n.prototype),r}return Oe(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return A(this.map((function(c){return c[r]})))}},{key:"transpose",value:function(){for(var r=[],c=0;c<this.columns;c++)r.push(this.getColumn(c));return St(n,r)}},{key:"cross",value:function(r){var c=new Array(this.rows).fill("").map((function(){return[]}));if(this.columns===r.rows)for(var s=0;s<this.rows;s++)for(var f=this.getRow(s),v=function(x){var S=r.getColumn(x);c[s][x]=f.reduce((function(D,I,V){return D+I*S[V]}),0)},b=0;b<r.columns;b++)v(b);return St(n,A(c))}},{key:"to2D",value:function(){return this.map((function(r){return[r[0],r[1]]}))}},{key:"toPoints",value:function(){return this.map((function(r){return new l(r[0],r[1])}))}},{key:"toString",value:function(){var r=_(this[0],2),c=r[0],s=r[1],f=_(this[1],2),v=f[0],b=f[1],x=_(this[2],2),S=x[0],D=x[1];return"matrix(".concat(c," ").concat(s," ").concat(v," ").concat(b," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,c){return this.cross(new bu(r,c))}},{key:"rotate",value:function(r){return this.cross(new qi(r))}},{key:"scale",value:function(r,c){return this.cross(new qf(r,c))}}]),n})(ht(Array)),qi=(function(t){Le(n,t);var e=Ne(n);function n(r){var c;return oe(this,n),c=e.call(this,new vr(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new vr(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new vr(0,0,1)),Object.setPrototypeOf(ot(c),n.prototype),c}return Oe(n,[{key:"inverse",value:function(){return this.transpose()}}]),n})(Qo),qf=(function(t){Le(n,t);var e=Ne(n);function n(r,c){var s;return oe(this,n),at(ot(s=e.call(this,new vr(r,0,0),new vr(0,c,0),new vr(0,0,1))),"sx",void 0),at(ot(s),"sy",void 0),s.sx=r,s.sy=c,Object.setPrototypeOf(ot(s),n.prototype),s}return Oe(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n})(Qo),bu=(function(t){Le(n,t);var e=Ne(n);function n(r,c){var s;return oe(this,n),at(ot(s=e.call(this,new vr(1,0,0),new vr(0,1,0),new vr(r,c,1))),"tx",void 0),at(ot(s),"ty",void 0),s.tx=r,s.ty=c,Object.setPrototypeOf(ot(s),n.prototype),s}return Oe(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n})(Qo),As={node:!1,edge:!1},Zf={node:!0,edge:!0};function Ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ms(Object(n),!0).forEach((function(r){ji(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function xa(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||Ts(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Si(t){return(function(e){if(Array.isArray(e))return rv(e)})(t)||(function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||Ts(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Ts(t,e){if(t){if(typeof t=="string")return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rv(t,e):void 0}}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wd(t){return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function ei(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ym,Vm=200,Km=(le=(function(){function t(r){(function(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),ji(this,"rootEl",void 0),ei(this,"width",zt,this),ei(this,"height",en,this),ji(this,"theme",void 0),ji(this,"eventCenter",void 0),ji(this,"modelMap",new Map),ji(this,"topElement",void 0),ji(this,"animation",void 0),ji(this,"idGenerator",void 0),ji(this,"edgeGenerator",void 0),ji(this,"nodeMoveRules",[]),ji(this,"customTrajectory",void 0),ei(this,"edgeType",Ot,this),ei(this,"nodes",kt,this),ei(this,"edges",or,this),ei(this,"overlapMode",Vr,this),ei(this,"background",Do,this),ei(this,"transformModel",ir,this),ei(this,"editConfigModel",Jo,this),ei(this,"gridSize",Ei,this),ei(this,"partial",gu,this),ei(this,"fakerNode",Ps,this);var c,s=r.container,f=r.background,v=f===void 0?{}:f,b=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,I=r.customTrajectory;this.background=v,Wd(b)==="object"&&(this.gridSize=b.size),this.rootEl=s,this.editConfigModel=new Xl(r),this.eventCenter=new rd,this.transformModel=new Up(this.eventCenter,r),this.theme=ga(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(c=D)&&typeof c!="boolean"?us(mn(As),c):mn(c===!0?Zf:As),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=I,this.edgeGenerator=Br(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=_i()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(r,c,s){return r[c.id]={index:s,model:c},r}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(r,c,s){return r[c.id]={index:s,model:c},r}),{})}},{key:"modelsMap",get:function(){return[].concat(Si(this.nodes),Si(this.edges)).reduce((function(r,c){return r[c.id]=c,r}),{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach((function(x){return r.push(x)})),this.edges.forEach((function(x){return r.push(x)})),r=r.sort((function(x,S){return x.zIndex-S.zIndex}));for(var c=[],s=[-200,-200],f=[this.width+Vm,this.height+Vm],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,s,f,!1,!1))&&c.push(b)}return c}},{key:"textEditElement",get:function(){var r=this.nodes.find((function(s){return s.state===gn.TEXT_EDIT})),c=this.edges.find((function(s){return s.state===gn.TEXT_EDIT}));return r||c}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach((function(c){c.isSelected&&r.set(c.id,c)})),this.edges.forEach((function(c){c.isSelected&&r.set(c.id,c)})),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach((function(c){c.isSelected&&r.push(c)})),r}},{key:"getAreaElement",value:function(r,c){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach((function(I){return x.push(I)})),this.edges.forEach((function(I){return x.push(I)}));for(var S=0;S<x.length;S++){var D=x[S];v&&!D.visible||!this.isElementInArea(D,r,c,s,f)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var c;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(c=this.nodesMap[r])===null||c===void 0?void 0:c.model}},{key:"getPointByClient",value:function(r){var c=r.x,s=r.y,f=this.rootEl.getBoundingClientRect(),v={x:c-f.left,y:s-f.top},b=xa(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,c,s){var f=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Zn.NODE){for(var b=zn(r=r),x=b.minX,S=b.minY,D=b.maxX,I=b.maxY,V=[{x,y:S},{x:D,y:S},{x:D,y:I},{x,y:I}],J=v,ne=0;ne<V.length;ne++){var be=V[ne],ge=be.x,xe=be.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,xe]),Qe=xa(Ce,2);if(ge=Qe[0],xe=Qe[1],ls([ge,xe],c,s)!==v){J=!v;break}}return J}if(r.BaseType===Zn.EDGE){var Ze=r=r,mt=Ze.startPoint,qe=Ze.endPoint,yt=this.transformModel.CanvasPointToHtmlPoint([mt.x,mt.y]),nt=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),Qt=ls(yt,c,s),on=ls(nt,c,s);return f?Qt&&on:Qt||on}return!1}},{key:"graphDataToModel",value:function(r){var c=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=tc(r.nodes,(function(s){return c.getModelAfterSnapToGrid(s)})):this.nodes=[],r.edges?this.edges=tc(r.edges,(function(s){var f=c.getModel(s.type);if(!f)throw new Error("找不到".concat(s.type,"对应的边。"));return new f(s,c)})):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach((function(s){var f=s.getData();f&&!s.virtual&&r.push(f)}));var c=[];return this.nodes.forEach((function(s){var f=s.getData();f&&!s.virtual&&c.push(f)})),{nodes:c,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,c=[],s=0;s<this.nodes.length;s++){var f=this.nodes[s];if(f.isDragging){r=!0;break}c.push(f.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){v=!0;break}b.push(S.getHistoryData())}return!v&&{nodes:c,edges:b}}},{key:"getEdgeModelById",value:function(r){var c;return(c=this.edgesMap[r])===null||c===void 0?void 0:c.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var c=[],s=0;s<this.edges.length;s++){var f=this.edges[s],v=this.edges[s].sourceNodeId===r,b=this.edges[s].targetNodeId===r;(v||b)&&c.push(f)}return c}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],c=this.selectElements,s={nodes:[],edges:[]};return c.forEach((function(f){if(f.BaseType===Zn.NODE&&s.nodes.push(f.getData()),f.BaseType===Zn.EDGE){var v=f.getData(),b=c.get(v.sourceNodeId)&&c.get(v.targetNodeId);(r||b)&&s.edges.push(v)}})),s}},{key:"updateAttributes",value:function(r,c){this.getElement(r).updateAttributes(c)}},{key:"changeNodeId",value:function(r,c){return c||(c=_i()),this.nodesMap[c]?"":this.nodesMap[r]?(this.edges.forEach((function(s){s.sourceNodeId===r&&(s.sourceNodeId=c),s.targetNodeId===r&&(s.targetNodeId=c)})),this.nodesMap[r].model.id=c,this.nodesMap[c]=this.nodesMap[r],c):""}},{key:"changeEdgeId",value:function(r,c){return c||(c=_i()),this.edgesMap[c]?"":this.edgesMap[r]?(this.edges.forEach((function(s){s.id===r&&s.changeEdgeId(c)})),c):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,c){return this.modelMap.set(r,c)}},{key:"toFront",value:function(r){var c,s,f,v=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((s=this.edgesMap[r])===null||s===void 0?void 0:s.model);v&&(this.overlapMode===Ln.DEFAULT&&((f=this.topElement)===null||f===void 0||f.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===Ln.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,c){var s,f,v,b=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((f=this.edgesMap[r])===null||f===void 0?void 0:f.model);b&&(typeof c=="number"&&(v=c),c==="top"&&(v=wf()),c==="bottom"&&(v=--Xy),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var c=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(dt.NODE_DELETE,{data:c})}},{key:"addNode",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,s=arguments.length>2?arguments[2]:void 0,f=jr(r);f.id&&this.nodesMap[r.id]&&delete f.id;var v=this.getModelAfterSnapToGrid(f);this.nodes.push(v);var b=v.getData(),x={data:b};return s&&(x.e=s),this.eventCenter.emit(c,x),v}},{key:"getModelAfterSnapToGrid",value:function(r){var c=this.getModel(r.type);if(!c)throw new Error("找不到".concat(r.type,"对应的节点，请确认是否已注册此类型节点。"));var s=r.x,f=r.y;return s&&f&&(r.x=Gi(s,this.gridSize),r.y=Gi(f,this.gridSize),Wd(r.text)==="object"&&(r.text.x+=r.x-s,r.text.y+=r.y-f)),new c(r,this)}},{key:"cloneNode",value:function(r){var c=this.getNodeModelById(r),s=c.getData();s.x+=30,s.y+=30,delete s.id,s.text&&(s.text.x+=30,s.text.y+=30);var f=this.addNode(s);return f.setSelected(!0),c.setSelected(!1),f.getData()}},{key:"moveNode",value:function(r,c,s){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(c,s,f),S=xa(x,2);c=S[0],s=S[1],this.moveEdge(r,c,s)}}},{key:"moveNode2Coordinate",value:function(r,c,s){var f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,S=b.y,D=c-x,I=s-S;this.moveNode(r,D,I,f)}}},{key:"editText",value:function(r){this.setElementStateById(r,gn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var c=jr(r),s=c.type;s||(s=this.edgeType),c.id&&this.edgesMap[c.id]&&delete c.id;var f=this.getModel(s);if(!f)throw new Error("找不到".concat(s,"对应的边，请确认是否已注册此类型边。"));var v=new f(wa(wa({},c),{},{type:s}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(dt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,c,s){for(var f=0;f<this.edges.length;f++){var v=this.edges[f],b=v.textPosition,x=b.x,S=b.y,D=this.edges[f].sourceNodeId===r,I=this.edges[f].targetNodeId===r;D&&v.moveStartPoint(c,s),I&&v.moveEndPoint(c,s),(D||I)&&this.handleEdgeTextMove(v,x,S)}}},{key:"handleEdgeTextMove",value:function(r,c,s){var f;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Kt.POLYLINE_EDGE&&(f=r.text)!==null&&f!==void 0&&f.value){var v=r.text,b=_s(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-c,D-s)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,c){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r&&this.edges[s].targetNodeId===c){var f=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(dt.EDGE_DELETE,{data:f})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var c=this.edgesMap[r].index,s=this.edgesMap[r].model.getData();this.edges.splice(c,1),this.eventCenter.emit(dt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeBySource",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(dt.EDGE_DELETE,{data:s})}}},{key:"deleteEdgeByTarget",value:function(r){for(var c=0;c<this.edges.length;c++)if(this.edges[c].targetNodeId===r){var s=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(dt.EDGE_DELETE,{data:s})}}},{key:"setElementStateById",value:function(r,c,s){this.nodes.forEach((function(f){f.id===r?f.setElementState(c,s):f.setElementState(gn.DEFAULT)})),this.edges.forEach((function(f){f.id===r?f.setElementState(c,s):f.setElementState(gn.DEFAULT)}))}},{key:"updateText",value:function(r,c){this.nodes.forEach((function(s){s.id===r&&s.updateText(c)})),this.edges.forEach((function(s){s.id===r&&s.updateText(c)}))}},{key:"selectNodeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var f=(c=this.nodesMap[r])===null||c===void 0?void 0:c.model;f==null||f.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var c,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var f=(c=this.edgesMap[r])===null||c===void 0?void 0:c.model;f==null||f.setSelected(!0)}},{key:"selectElementById",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var s=this.getElement(r);s==null||s.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach((function(c){c==null||c.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===Ln.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,c,s){for(var f=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce((function(Ze,mt){var qe=f.nodesMap[mt].model.getMoveDistance(c,s,v);return Ze[mt]=qe,Ze}),{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,I=D.x,V=D.y,J=b[S.sourceNodeId],ne=b[S.targetNodeId],be=void 0,ge=void 0;if(J&&ne&&S.modelType===Kt.POLYLINE_EDGE){var xe=xa(J,2);be=xe[0],ge=xe[1],S.updatePointsList(be,ge)}else{if(J){var Ce=xa(J,2);be=Ce[0],ge=Ce[1],S.moveStartPoint(be,ge)}if(ne){var Qe=xa(ne,2);be=Qe[0],ge=Qe[1],S.moveEndPoint(be,ge)}}(J||ne)&&this.handleEdgeTextMove(S,I,V)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,c){var s=this.getNodeModelById(r);if(s){var f=s.getData();f.type=c;var v=this.getModel(c);if(!v)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(f,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach((function(x){if(x.sourceNodeId===r){var S=gd(b,x.startPoint,b.width,b.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=gd(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}}))}}},{key:"changeEdgeType",value:function(r,c){var s=this.getEdgeModelById(r);if(s&&s.type!==c){var f=s.getData();f.type=c;var v=this.getModel(c);if(!v)throw new Error("找不到".concat(c,"对应的节点，请确认是否已注册此类型节点。"));delete f.pointsList;var b=new v(f,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var c=[];return this.edges.forEach((function(s){s.targetNodeId===r&&c.push(s)})),c}},{key:"getNodeOutgoingEdge",value:function(r){var c=[];return this.edges.forEach((function(s){s.sourceNodeId===r&&c.push(s)})),c}},{key:"getAnchorIncomingEdge",value:function(r){var c=[];return this.edges.forEach((function(s){s.targetAnchorId===r&&c.push(s)})),c}},{key:"getAnchorOutcomingEdge",value:function(r){var c=[];return this.edges.forEach((function(s){s.sourceAnchorId===r&&c.push(s)})),c}},{key:"getNodeIncomingNode",value:function(r){var c=this,s=[];return this.edges.forEach((function(f){f.targetNodeId===r&&s.push(c.nodesMap[f.sourceNodeId].model)})),s}},{key:"getNodeOutgoingNode",value:function(r){var c=this,s=[];return this.edges.forEach((function(f){f.sourceNodeId===r&&s.push(c.nodesMap[f.targetNodeId].model)})),s}},{key:"setTheme",value:function(r){this.theme=ga(wa(wa({},this.theme),r))}},{key:"resize",value:function(r,c){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=c||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,c=[],s=[];r.forEach((function(D){var I=D.x,V=D.y,J=D.width,ne=D.height,be=D.getNodeStyle().strokeWidth,ge=be===void 0?0:be,xe=I+J/2+ge,Ce=I-J/2-ge,Qe=V+ne/2+ge,Ze=V-ne/2-ge;c=c.concat([xe,Ce].filter((function(mt){return!Number.isNaN(mt)}))),s=s.concat([Qe,Ze].filter((function(mt){return!Number.isNaN(mt)})))}));var f=Math.min.apply(Math,Si(c)),v=Math.max.apply(Math,Si(c)),b=Math.min.apply(Math,Si(s)),x=v-f||0,S=Math.max.apply(Math,Si(s))-b||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:f+x/2,virtualRectCenterPositionY:b+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,c=this.width,s=this.height,f=this.rootEl,v=this.transformModel;if(r.length){var b=c||f.clientWidth,x=s||f.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,I=S.virtualRectCenterPositionY;v.focusOn(D,I,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,s=this.nodes,f=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(s.length){var S=f||b.clientWidth,D=v||b.clientHeight,I=this.getVirtualRectSize(),V=I.virtualRectWidth,J=I.virtualRectHeight,ne=I.virtualRectCenterPositionX,be=I.virtualRectCenterPositionY,ge=(V+c)/S,xe=(J+r)/D,Ce=0;Ce=1/Math.max(ge,xe);var Qe=[S/2,D/2];x.zoom(Ce,Qe),x.focusOn(ne,be,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&yE(e.prototype,n),t})(),zt=wt(le.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=wt(le.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=wt(le.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=wt(le.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),or=wt(le.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vr=wt(le.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ln.DEFAULT}}),Do=wt(le.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=wt(le.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=wt(le.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei=wt(le.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gu=wt(le.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ps=wt(le.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt(le.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),wt(le.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),wt(le.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),wt(le.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),wt(le.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),wt(le.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),wt(le.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(le.prototype,"selectNodes"),le.prototype),wt(le.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),wt(le.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),wt(le.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),wt(le.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),wt(le.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),wt(le.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),wt(le.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),wt(le.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),wt(le.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),wt(le.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),wt(le.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),wt(le.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),wt(le.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),wt(le.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),wt(le.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),wt(le.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),wt(le.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),wt(le.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),wt(le.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),wt(le.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),wt(le.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),wt(le.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),wt(le.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),wt(le.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),wt(le.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),wt(le.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),wt(le.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),wt(le.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),wt(le.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),wt(le.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorIncomingEdge"),le.prototype),wt(le.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getAnchorOutcomingEdge"),le.prototype),wt(le.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),wt(le.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),wt(le.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),wt(le.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),wt(le.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),wt(le.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),wt(le.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),wt(le.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"openEdgeAnimation"),le.prototype),wt(le.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(le.prototype,"closeEdgeAnimation"),le.prototype),le),vE=Km;function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function gE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},av(t,e)}function bE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=$d(t);if(e){var c=$d(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return mE(this,n)}}function mE(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zi(t)}function Zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$d(t)}function Ea(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qm,_E=Ti(Ym=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&av(s,f)})(c,t);var e,n,r=bE(c);function c(s){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),Ea(Zi(f=r.call(this)),"stepDrag",void 0),Ea(Zi(f),"stepScrollX",0),Ea(Zi(f),"stepScrollY",0),Ea(Zi(f),"onDragging",(function(S){var D=S.deltaX,I=S.deltaY;f.setState({isDragging:!0});var V=f.props.graphModel,J=V.transformModel;V.editConfigModel.stopMoveGraph!==!0&&J.translate(D,I)})),Ea(Zi(f),"onDragEnd",(function(){f.setState({isDragging:!1})})),Ea(Zi(f),"zoomHandler",(function(S){var D=f.props,I=D.graphModel,V=I.editConfigModel,J=I.transformModel,ne=I.gridSize,be=D.graphModel,ge=S.deltaX,xe=S.deltaY;if(V.stopScrollGraph||S.ctrlKey===!0){if(!V.stopZoomGraph){S.preventDefault();var Ce=be.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y;J.zoom(S.deltaY<0,[Qe,Ze])}}else{if(S.preventDefault(),f.stepScrollX+=ge,f.stepScrollY+=xe,Math.abs(f.stepScrollX)>=ne){var mt=f.stepScrollX%ne,qe=f.stepScrollX-mt;J.translate(-qe*J.SCALE_X,0),f.stepScrollX=mt}if(Math.abs(f.stepScrollY)>=ne){var yt=f.stepScrollY%ne,nt=f.stepScrollY-yt;J.translate(0,-nt*J.SCALE_Y),f.stepScrollY=yt}}})),Ea(Zi(f),"clickHandler",(function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=f.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(dt.BLANK_CLICK,{e:S})}})),Ea(Zi(f),"handleContextMenu",(function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=f.props.graphModel,I=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(dt.BLANK_CONTEXTMENU,{e:S,position:I})}})),Ea(Zi(f),"mouseDownHandler",(function(S){var D=f.props.graphModel,I=D.eventCenter,V=D.editConfigModel,J=D.transformModel.SCALE_X,ne=D.gridSize,be=S.target,ge=!V.adjustEdge&&!V.adjustNodePosition;(be.getAttribute("name")==="canvas-overlay"||ge)&&(V.stopMoveGraph!==!0?(f.stepDrag.setStep(ne*J),f.stepDrag.handleMouseDown(S)):I.emit(dt.BLANK_MOUSEDOWN,{e:S}),f.clickHandler(S))}));var v=s.graphModel,b=v.gridSize,x=v.eventCenter;return f.stepDrag=new bo({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),f.state={isDragging:!1},f}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props,v=f.children,b=f.dnd,x=this.state.isDragging;return Object(pe.g)("svg",iv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(pe.g)("g",{transform:s},v))}}])&&gE(e.prototype,n),c})(pe.a))||Ym;function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function OE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sv(t,e){return sv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sv(t,e)}function xE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Ud(t);if(e){var c=Ud(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return EE(this,n)}}function EE(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ud(t)}var SE=Ti(qm=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&sv(s,f)})(c,t);var e,n,r=xE(c);function c(){return OE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var s=this.props,f=s.tool,v=s.graphModel,b=f.getTools().map((function(x){return Object(pe.g)(x,{graphModel:v,logicFlow:f.instance})}));return f.components=b,b}},{key:"triggerToolRender",value:function(){var s=this.props,f=s.tool,v=s.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=f.getInstance();x.components.forEach((function(S){return S(x,b)})),x.components=[]}},{key:"render",value:function(){var s=this.props.graphModel;return Object(pe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(s.flowId)},this.getTools())}}])&&wE(e.prototype,n),c})(pe.a))||qm;function cv(t){return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function jE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lv(t,e)}function AE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Gd(t);if(e){var c=Gd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ME(this,n)}}function ME(t,e){if(e&&(cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gd(t)}var Zm,TE=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&lv(s,f)})(c,t);var e,n,r=AE(c);function c(){return jE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.background;return Object(pe.g)("div",{className:"lf-background"},Object(pe.g)("div",{style:s,className:"lf-background-area"}))}}])&&PE(e.prototype,n),c})(pe.a);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function kE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pv(t,e)}function NE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Hd(t);if(e){var c=Hd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return RE(this,n)}}function RE(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jm(t)}function Jm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hd(t)}function CE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qm=Ti(Zm=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&pv(s,f)})(c,t);var e,n,r=NE(c);function c(){var s;kE(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return CE(Jm(s=r.call.apply(r,[this].concat(v))),"id",_i()),s}return e=c,(n=[{key:"renderDot",value:function(){var s=this.props,f=s.config,v=f.color,b=f.thickness,x=b===void 0?2:b,S=s.size,D=s.visible,I=Math.min(Math.max(2,x),S/2),V=1;return D||(V=0),Object(pe.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:v,opacity:V})}},{key:"renderMesh",value:function(){var s=this.props,f=s.config,v=f.color,b=f.thickness,x=b===void 0?1:b,S=s.size,D=s.visible,I=Math.min(Math.max(1,x),S/2),V="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),J=1;return D||(J=0),Object(pe.g)("path",{d:V,stroke:v,strokeWidth:I,opacity:J})}},{key:"render",value:function(){var s=this.props,f=s.type,v=s.size,b=s.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(pe.g)("div",{className:"lf-grid"},Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(pe.g)("defs",null,Object(pe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:v,height:v},f==="dot"&&this.renderDot(),f==="mesh"&&this.renderMesh())),Object(pe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&DE(e.prototype,n),c})(pe.a))||Zm;Qm.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function IE(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return e_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e_(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t_,Hc=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(n){var r=IE(n,2),c=r[0],s=r[1];(c==="style"||dv(s)!=="object")&&(e[c]=s)})),Object(pe.g)("line",e)};function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach((function(r){LE(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function LE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function FE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Yd(t);if(e){var c=Yd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return WE(this,n)}}function WE(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yd(t)}var r_,$E=Ti(t_=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&yv(s,f)})(c,t);var e,n,r=FE(c);function c(){return zE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.snaplineModel,f=s.position,v=s.isShowHorizontal,b=s.isShowVertical,x=s.getStyle(),S=f.x,D=S===void 0?0:S,I=f.y,V=I===void 0?0:I,J=Xd(Xd({x1:-1e5,y1:V,x2:1e5,y2:V},x),{},{stroke:v?x.stroke:"none"}),ne=Xd(Xd({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(pe.g)("g",{className:"lf-snapline"},Object(pe.g)(Hc,J),Object(pe.g)(Hc,ne))}}])&&BE(e.prototype,n),c})(pe.a))||t_;function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function UE(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return o_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o_(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mu(t){var e=t.x,n=t.y,r=t.width,c=t.height,s=t.className,f=t.radius,v=e-r/2,b=n-c/2,x={};return Object.entries(t).forEach((function(S){var D=UE(S,2),I=D[0],V=D[1];vv(V)!=="object"&&(x[I]=V)})),x.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",f&&(x.rx=f,x.ry=f),x.x=v,x.y=b,Object(pe.g)("rect",x)}function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function Xc(){return Xc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function i_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(n),!0).forEach((function(r){GE(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function GE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function YE(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Vd(t);if(e){var c=Vd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return VE(this,n)}}function VE(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vd(t)}mu.defaultProps={className:"",radius:""};var u_,KE=Ti(r_=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&bv(s,f)})(c,t);var e,n,r=YE(c);function c(){return HE(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getNodesOutline",value:function(){var s=this.props.graphModel,f=s.nodes,v=s.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,S=[];return f.forEach((function(D){if(D.isHovered||D.isSelected){var I=D.isHovered,V=D.isSelected,J=D.x,ne=D.y,be=D.width,ge=D.height;if(x&&V||b&&I){var xe=D.getOutlineStyle(),Ce={};if(Object.keys(xe).forEach((function(Ze){Ze!=="hover"&&(Ce[Ze]=xe[Ze])})),I){var Qe=xe.hover;Ce=a_(a_({},Ce),Qe)}S.push(Object(pe.g)(mu,Xc({transform:D.transform,className:"lf-outline-node",x:J,y:ne,width:be+10,height:ge+10},Ce)))}}})),S}},{key:"getEdgeOutline",value:function(){for(var s=this.props.graphModel,f=s.edges,v=s.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,S=[],D=0;D<f.length;D++){var I=f[D];(b&&I.isSelected||x&&I.isHovered)&&(I.modelType===Kt.LINE_EDGE?S.push(this.getLineOutline(I)):I.modelType===Kt.POLYLINE_EDGE?S.push(this.getPolylineOutline(I)):I.modelType===Kt.BEZIER_EDGE&&S.push(this.getBezierOutline(I)))}return S}},{key:"getLineOutline",value:function(s){var f=s.startPoint,v=s.endPoint,b=(f.x+v.x)/2,x=(f.y+v.y)/2,S=Math.abs(f.x-v.x)+10,D=Math.abs(f.y-v.y)+10,I=s.getOutlineStyle();return Object(pe.g)(mu,Xc({className:"lf-outline-edge",x:b,y:x,width:S,height:D},I))}},{key:"getPolylineOutline",value:function(s){var f=s.points,v=wi(f),b=Oa(v,8),x=b.x,S=b.y,D=b.width,I=b.height,V=s.getOutlineStyle();return Object(pe.g)(mu,Xc({className:"lf-outline",x,y:S,width:D,height:I},V))}},{key:"getBezierOutline",value:function(s){var f=s.path,v=bs(f),b=Oa(v,8),x=b.x,S=b.y,D=b.width,I=b.height,V=s.getOutlineStyle();return Object(pe.g)(mu,Xc({className:"lf-outline",x,y:S,width:D,height:I},V))}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&XE(e.prototype,n),c})(pe.a))||r_;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function qE(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return s_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s_(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yc(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.r,f=s===void 0?4:s,v=t.className,b={cx:n,cy:c,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(x){var S=qE(x,2),D=S[0],I=S[1];mv(I)!=="object"&&(b[D]=I)})),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(pe.g)("circle",b)}function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function ZE(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return c_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return c_(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jf(){return Jf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}function l_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f_(t,e,n){return e&&JE(t.prototype,e),t}function p_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function d_(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=qd(t);if(e){var c=qd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return QE(this,n)}}function QE(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kd(t)}function Kd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qd(t){return qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qd(t)}function wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h_,y_=(function(t){p_(n,t);var e=d_(n);function n(){var r;return l_(this,n),wv(Kd(r=e.call(this)),"dragHandler",void 0),wv(Kd(r),"onDragging",(function(c){var s=c.event,f=r.props,v=f.graphModel,b=f.bezierModel,x=f.type,S=v.getPointByClient({x:s.clientX,y:s.clientY}).canvasOverlayPosition,D=S.x,I=S.y;b.updateAdjustAnchor({x:D,y:I},x),v.eventCenter.emit(dt.EDGE_ADJUST,{data:b.getData()})})),wv(Kd(r),"onDragEnd",(function(){r.props.bezierModel.isDragging=!1})),r.dragHandler=new bo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return f_(n,[{key:"render",value:function(){var r=this,c=this.props.position,s=c.x,f=c.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(pe.g)(Yc,Jf({className:"lf-bezier-adjust-anchor",x:s,y:f},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n})(pe.a),eS=Ti(u_=(function(t){p_(n,t);var e=d_(n);function n(){return l_(this,n),e.apply(this,arguments)}return f_(n,[{key:"getBezierAdjust",value:function(r,c){var s=r.path,f=r.id,v=ZE(bs(s),4),b=v[0],x=v[1],S=v[2],D=v[3],I=r.getEdgeStyle().adjustLine,V=[];return V.push(Object(pe.g)(Hc,Jf({x1:b.x,y1:b.y,x2:x.x,y2:x.y},I))),V.push(Object(pe.g)(y_,{position:x,bezierModel:r,graphModel:c,key:"".concat(f,"_ePre"),type:"sNext"})),V.push(Object(pe.g)(Hc,Jf({x1:D.x,y1:D.y,x2:S.x,y2:S.y},I))),V.push(Object(pe.g)(y_,{position:S,bezierModel:r,graphModel:c,key:"".concat(f,"_sNext"),type:"ePre"})),V}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,c=r.edges,s=[],f=0;f<c.length;f++){var v=c[f];v.isSelected&&v.modelType===Kt.BEZIER_EDGE&&v.draggable&&s.push(this.getBezierAdjust(v,r))}return s}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n})(pe.a))||u_;function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function tS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function rS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Zd(t);if(e){var c=Zd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return oS(this,n)}}function oS(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zd(t)}var v_,iS=Ti(h_=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ev(s,f)})(c,t);var e,n,r=rS(c);function c(){return tS(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,f=this.props.children;return Object(pe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(pe.g)("g",{transform:s},f))}}])&&nS(e.prototype,n),c})(pe.a))||h_;function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function jv(){return jv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function aS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pv(t,e)}function sS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Jd(t);if(e){var c=Jd(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return cS(this,n)}}function cS(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(t)}var lS=Ti(v_=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Pv(s,f)})(c,t);var e,n,r=sS(c);function c(){return aS(this,c),r.apply(this,arguments)}return e=c,n=[{key:"getComponent",value:function(s,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(s.type);return Object(pe.g)(x,{key:s.id,model:s,graphModel:f,overlay:v})}},{key:"render",value:function(){var s=this,f=this.props,v=f.graphModel,b=f.tool,x=f.options,S=f.dnd,D=f.snaplineModel,I={};x.width&&(I.width="".concat(v.width,"px")),x.height&&(I.height="".concat(v.height,"px"));var V=x.grid,J=v.fakerNode,ne=v.editConfigModel.adjustEdge;return Object(pe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:I},Object(pe.g)(_E,{graphModel:v,dnd:S},Object(pe.g)("g",{className:"lf-base"},tc(v.sortElements,(function(be){return s.getComponent(be,v)}))),J?this.getComponent(J,v):""),Object(pe.g)(iS,{graphModel:v},Object(pe.g)(KE,{graphModel:v}),ne?Object(pe.g)(eS,{graphModel:v}):"",x.snapline!==!1?Object(pe.g)($E,{snaplineModel:D}):""),Object(pe.g)(SE,{graphModel:v,tool:b}),x.background&&Object(pe.g)(TE,{background:x.background}),x.grid&&Object(pe.g)(Qm,jv({},V,{graphModel:v})))}}],n&&uS(e.prototype,n),c})(pe.a))||v_,fS=lS;function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(n),!0).forEach((function(r){Sa(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function pS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dS=(function(){function t(r){var c=this;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),Sa(this,"nodeConfig",void 0),Sa(this,"lf",void 0),Sa(this,"fakerNode",void 0),Sa(this,"stopDrag",(function(){c.nodeConfig=null,window.document.removeEventListener("mouseup",c.stopDrag)})),Sa(this,"dragEnter",(function(f){c.nodeConfig&&!c.fakerNode&&(c.fakerNode=c.lf.createFakerNode(Qd(Qd({},c.nodeConfig),c.clientToLocalPoint({x:f.clientX,y:f.clientY}))))})),Sa(this,"onDragOver",(function(f){if(f.preventDefault(),c.fakerNode){var v=c.clientToLocalPoint({x:f.clientX,y:f.clientY}),b=v.x,x=v.y;c.fakerNode.moveTo(b,x);var S=c.fakerNode.getData();c.lf.setNodeSnapLine(S),c.lf.graphModel.eventCenter.emit(dt.NODE_DND_DRAG,{data:S})}return!1})),Sa(this,"onDragLeave",(function(){c.fakerNode&&(c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)})),Sa(this,"onDrop",(function(f){c.lf.graphModel&&f&&c.nodeConfig&&(c.lf.addNode(Qd(Qd({},c.nodeConfig),c.clientToLocalPoint({x:f.clientX,y:f.clientY})),dt.NODE_DND_ADD,f),f.preventDefault(),f.stopPropagation(),c.nodeConfig=null,c.lf.removeNodeSnapLine(),c.lf.graphModel.removeFakerNode(),c.fakerNode=null)}));var s=r.lf;this.lf=s}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var c=r.x,s=r.y,f=Ka(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:c,y:s}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Gi(b,f),y:Gi(x,f)}}},{key:"startDrag",value:function(r){var c=this.lf.graphModel.editConfigModel;c!=null&&c.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&pS(e.prototype,n),t})();function b_(t){var e=t.container,n=t.grid,r=t.width,c=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof c=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=us({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),us({},__,t)}var _n,m_,__={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Av(t){return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function Mv(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return O_(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return O_(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach((function(r){x_(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function hS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(){return Qf=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=gS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Qf.apply(this,arguments)}function gS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=_u(t))!==null;);return t}function Tv(t,e){return Tv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tv(t,e)}function bS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=_u(t);if(e){var c=_u(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return mS(this,n)}}function mS(t,e){if(e&&(Av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return th(t)}function th(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_u(t)}function x_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pi(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var kv=(_n=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Tv(s,f)})(c,t);var e,n,r=bS(c);function c(){var s;yS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return x_(th(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.BEZIER_EDGE),hS(th(s),"path",m_,th(s)),s}return e=c,(n=[{key:"initEdgeData",value:function(s){this.offset=100,Qf(_u(c.prototype),"initEdgeData",this).call(this,s)}},{key:"getEdgeStyle",value:function(){var s=this.graphModel.theme.bezier;return eh(eh({},Qf(_u(c.prototype),"getEdgeStyle",this).call(this)),mn(s))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var s=0,f=0;return this.pointsList.forEach((function(v){var b=v.x,x=v.y;s+=b,f+=x})),{x:s/this.pointsList.length,y:f/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var s=Qf(_u(c.prototype),"getData",this).call(this),f=this.pointsList.map((function(v){return{x:v.x,y:v.y}}));return eh(eh({},s),{},{pointsList:f})}},{key:"getControls",value:function(){var s=this.startPoint,f=this.endPoint;return gs({start:s,end:f,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(s){var f=Mv(s,4),v=f[0],b=f[1],x=f[2],S=f[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var s=this.getControls(),f=s.sNext,v=s.ePre;this.updatePath(f,v)}},{key:"updatePath",value:function(s,f){s=mn(s),f=mn(f);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!s||!f){var x=this.getControls();s=x.sNext,f=x.ePre}this.pointsList=[v,s,f,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(s){this.startPoint=Object.assign({},s),this.updatePoints()}},{key:"updateEndPoint",value:function(s){this.endPoint=Object.assign({},s),this.updatePoints()}},{key:"moveStartPoint",value:function(s,f){this.startPoint.x+=s,this.startPoint.y+=f;var v=Mv(this.pointsList,3),b=v[1],x=v[2];b.x+=s,b.y+=f,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(s,f){this.endPoint.x+=s,this.endPoint.y+=f;var v=Mv(this.pointsList,3),b=v[1],x=v[2];x.x+=s,x.y+=f,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(s,f){f==="sNext"?this.pointsList[1]=s:f==="ePre"&&(this.pointsList[2]=s),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var s=this.pointsList;return s[s.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var f=s.startPoint,v=s.endPoint,b=s.sourceNode,x=s.targetNode,S=gs({start:f,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=S.sNext,I=S.ePre;this.pointsList=[f,D,I,v],this.initPoints()}}])&&vS(e.prototype,n),c})(Ef),m_=Pi(_n.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pi(_n.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"initPoints"),_n.prototype),Pi(_n.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updatePoints"),_n.prototype),Pi(_n.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateStartPoint"),_n.prototype),Pi(_n.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateEndPoint"),_n.prototype),Pi(_n.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"moveStartPoint"),_n.prototype),Pi(_n.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"moveEndPoint"),_n.prototype),Pi(_n.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateAdjustAnchor"),_n.prototype),Pi(_n.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"getAdjustStart"),_n.prototype),Pi(_n.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"getAdjustEnd"),_n.prototype),Pi(_n.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(_n.prototype,"updateAfterAdjustStartAndEnd"),_n.prototype),_n),Xe,E_,S_,j_,P_,A_,M_,T_,k_,D_,N_,R_,C_,I_,L_,z_,B_,F_,W_,$_,U_,G_,H_,_S=function(t){return t==null};function OS(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||X_(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function X_(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y_(t,e):void 0}}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach((function(r){mo(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function ar(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ja,K_,Pa=(Xe=(function(){function t(r,c){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"id",""),ar(this,"type",E_,this),ar(this,"x",S_,this),ar(this,"y",j_,this),ar(this,"text",P_,this),ar(this,"properties",A_,this),ar(this,"_width",M_,this),ar(this,"_height",T_,this),ar(this,"anchorsOffset",k_,this),ar(this,"isSelected",D_,this),ar(this,"isHovered",N_,this),ar(this,"isShowAnchor",R_,this),ar(this,"isDragging",C_,this),ar(this,"isHitable",I_,this),ar(this,"draggable",L_,this),ar(this,"visible",z_,this),ar(this,"enableRotate",B_,this),mo(this,"virtual",!1),mo(this,"graphModel",void 0),ar(this,"zIndex",F_,this),ar(this,"state",W_,this),ar(this,"autoToFront",$_,this),ar(this,"style",U_,this),ar(this,"transform",G_,this),ar(this,"_rotate",H_,this),mo(this,"BaseType",Zn.NODE),mo(this,"modelType",Kt.NODE),mo(this,"additionStateData",void 0),mo(this,"targetRules",[]),mo(this,"sourceRules",[]),mo(this,"moveRules",[]),mo(this,"hasSetTargetRules",!1),mo(this,"hasSetSourceRules",!1),this.graphModel=c,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var c=this.x,s=c===void 0?0:c,f=this.y,v=f===void 0?0:f;this.transform=new bu(-s,-v).rotate(r).translate(s,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var c=this.graphModel.idGenerator,s=c&&c(r.type),f=this.createId();r.id=f||s||_i()}this.formatText(r),gr(this,(function(v){return hi(v,["id","type","x","y","text","properties","virtual","rotate"])})(r)),this.graphModel.overlapMode===Ln.INCREASE&&(this.zIndex=r.zIndex||wf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,c=r.x,s=r.y,f=r.value,v=this.properties;Object(h.x)(v)&&(v=Object(h.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Ln.INCREASE&&(b.zIndex=this.zIndex),f&&(b.text={x:c,y:s,value:f}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return io(io({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return mn(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return mn(r)}},{key:"getAnchorStyle",value:function(r){var c=this.graphModel.theme.anchor;return mn(c)}},{key:"getAnchorLineStyle",value:function(r){var c=this.graphModel.theme.anchorLine;return mn(c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return mn(r)}},{key:"isAllowConnectedAsSource",value:function(r,c,s,f){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,this,r,c,s,f)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,c,s,f){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,r,this,c,s,f)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,c){var s,f=!0,v=!0,b=(function(D,I){var V=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!V){if(Array.isArray(D)||(V=X_(D))||I){V&&(D=V);var J=0,ne=function(){};return{s:ne,n:function(){return J>=D.length?{done:!0}:{done:!1,value:D[J++]}},e:function(Ce){throw Ce},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var be,ge=!0,xe=!1;return{s:function(){V=V.call(D)},n:function(){var Ce=V.next();return ge=Ce.done,Ce},e:function(Ce){xe=!0,be=Ce},f:function(){try{ge||V.return==null||V.return()}finally{if(xe)throw be}}}})(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(s=b.n()).done;){var x=(0,s.value)(this,r,c);if(!x)return!1;if(Dv(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;f=f&&S.x,v=v&&S.y}}}catch(D){b.e(D)}finally{b.f()}return{x:f,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,c=this.id,s=this.x,f=this.y;return r&&r.length>0?r.map((function(v,b){return v.length?(v=v,{id:"".concat(c,"_").concat(b),x:s+v[0],y:f+v[1]}):io(io({},v=v),{},{x:s+v.x,y:f+v.y,id:v.id||"".concat(c,"_").concat(b)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return(function(c,s){for(var f,v=Tc(s),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var S=To(c.x,c.y,v[x].x,v[x].y);S<b&&(b=S,f={index:x,anchor:Pc(Pc({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return f})(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),c=this.x,s=this.y,f=this.rotate;return r.forEach((function(v){var b=v.x,x=v.y,S=OS(new Qo([b,x,1]).translate(-c,-s).rotate(f).translate(c,s)[0],2),D=S[0],I=S[1];v.x=D,v.y=I})),r}},{key:"getAnchorInfo",value:function(r){if(!_S(r))for(var c=0;c<this.anchors.length;c++){var s=this.anchors[c];if(s.id===r)return s}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,v=!1;if(s)f=!0,v=!0;else{var b=this.isAllowMoveNode(r,c);typeof b=="boolean"?(f=b,v=b):(f=b.x,v=b.y)}if(f){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var S=this.y+c;this.y=S,this.text&&this.moveText(0,c)}return f||v}},{key:"getMoveDistance",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=!1,v=!1,b=0,x=0;if(s)f=!0,v=!0;else{var S=this.isAllowMoveNode(r,c);typeof S=="boolean"?(f=S,v=S):(f=S.x,v=S.y)}if(f&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&c){var I=this.y+c;this.y=I,this.text&&this.moveText(0,c),x=c}return[b,x]}},{key:"moveTo",value:function(r,c){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=r-this.x,v=c-this.y;return!(!s&&!this.isAllowMoveNode(f,v)||(this.text&&this.text&&this.moveText(f,v),this.x=r,this.y=c,0))}},{key:"moveText",value:function(r,c){var s=this.text,f=s.x,v=s.y,b=s.value,x=s.draggable,S=s.editable;this.text={value:b,editable:S,draggable:x,x:f+r,y:v+c}}},{key:"updateText",value:function(r){this.text=io(io({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,c){this.state=r,this.additionStateData=c}},{key:"setProperty",value:function(r,c){this.properties=io(io({},Object(h.I)(this.properties)),{},mo({},r,jr(c))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=io(io({},Object(h.I)(this.properties)),jr(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,c){this.style=io(io({},this.style),{},mo({},r,jr(c)))}},{key:"setStyles",value:function(r){this.style=io(io({},this.style),jr(r))}},{key:"updateStyles",value:function(r){this.style=io({},jr(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){gr(this,r)}}],n&&wS(e.prototype,n),t})(),E_=Yt(Xe.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S_=Yt(Xe.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j_=Yt(Xe.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P_=Yt(Xe.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),A_=Yt(Xe.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M_=Yt(Xe.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),T_=Yt(Xe.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),k_=Yt(Xe.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D_=Yt(Xe.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N_=Yt(Xe.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R_=Yt(Xe.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C_=Yt(Xe.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I_=Yt(Xe.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L_=Yt(Xe.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z_=Yt(Xe.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B_=Yt(Xe.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F_=Yt(Xe.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),W_=Yt(Xe.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$_=Yt(Xe.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U_=Yt(Xe.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),G_=Yt(Xe.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H_=Yt(Xe.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yt(Xe.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"incoming"),Xe.prototype),Yt(Xe.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"outgoing"),Xe.prototype),Yt(Xe.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"addNodeMoveRules"),Xe.prototype),Yt(Xe.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"move"),Xe.prototype),Yt(Xe.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getMoveDistance"),Xe.prototype),Yt(Xe.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveTo"),Xe.prototype),Yt(Xe.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveText"),Xe.prototype),Yt(Xe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateText"),Xe.prototype),Yt(Xe.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setSelected"),Xe.prototype),Yt(Xe.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHovered"),Xe.prototype),Yt(Xe.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setIsShowAnchor"),Xe.prototype),Yt(Xe.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setEnableRotate"),Xe.prototype),Yt(Xe.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHitable"),Xe.prototype),Yt(Xe.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setElementState"),Xe.prototype),Yt(Xe.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperty"),Xe.prototype),Yt(Xe.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperties"),Xe.prototype),Yt(Xe.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"deleteProperty"),Xe.prototype),Yt(Xe.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyle"),Xe.prototype),Yt(Xe.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyles"),Xe.prototype),Yt(Xe.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateStyles"),Xe.prototype),Yt(Xe.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setZIndex"),Xe.prototype),Yt(Xe.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAttributes"),Xe.prototype),Xe);function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach((function(r){J_(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function xS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ES(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(){return Rv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=jS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Rv.apply(this,arguments)}function jS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vc(t))!==null;);return t}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cv(t,e)}function PS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Vc(t);if(e){var c=Vc(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return AS(this,n)}}function AS(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nh(t)}function nh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vc(t)}function J_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iv(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Kr,Q_,e0,Lv=(ja=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Cv(s,f)})(c,t);var e,n,r=PS(c);function c(){var s;ES(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return J_(nh(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.CIRCLE_NODE),xS(nh(s),"r",K_,nh(s)),s}return e=c,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var s=Rv(Vc(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.circle;return Z_(Z_({},s),mn(f))}},{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,v=this.r;return[{x:s,y:f-v,id:"".concat(this.id,"_0")},{x:s+v,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+v,id:"".concat(this.id,"_2")},{x:s-v,y:f,id:"".concat(this.id,"_3")}]}}])&&SS(e.prototype,n),c})(Pa),K_=Iv(ja.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Iv(ja.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ja.prototype,"width"),ja.prototype),Iv(ja.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ja.prototype,"height"),ja.prototype),ja);o(129);function zv(t){return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function Bv(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return t0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function t0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n0(Object(n),!0).forEach((function(r){i0(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function o0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function MS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fv(){return Fv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=kS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Fv.apply(this,arguments)}function kS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=qc(t))!==null;);return t}function Wv(t,e){return Wv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wv(t,e)}function DS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=qc(t);if(e){var c=qc(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return NS(this,n)}}function NS(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kc(t)}function Kc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qc(t)}function i0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zc(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Ji,a0,u0,$v=(Kr=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Wv(s,f)})(c,t);var e,n,r=DS(c);function c(){var s;MS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return i0(Kc(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.DIAMOND_NODE),o0(Kc(s),"rx",Q_,Kc(s)),o0(Kc(s),"ry",e0,Kc(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Fv(qc(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.diamond;return r0(r0({},s),mn(f))}},{key:"points",get:function(){var s=this.x,f=this.y,v=this.rx,b=this.ry;return[[s,f-b],[s+v,f],[s,f+b],[s-v,f]]}},{key:"pointsPosition",get:function(){return this.points.map((function(s){return{x:s[0],y:s[1]}}))}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(v){var b=Bv(v,1)[0];b<s&&(s=b),b>f&&(f=b)})),f-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(v){var b=Bv(v,2)[1];b<s&&(s=b),b>f&&(f=b)})),f-s}},{key:"getDefaultAnchor",value:function(){var s=this;return this.points.map((function(f,v){var b=Bv(f,2);return{x:b[0],y:b[1],id:"".concat(s.id,"_").concat(v)}}))}}])&&TS(e.prototype,n),c})(Pa),Q_=Zc(Kr.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),e0=Zc(Kr.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Zc(Kr.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"points"),Kr.prototype),Zc(Kr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"pointsPosition"),Kr.prototype),Zc(Kr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"width"),Kr.prototype),Zc(Kr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Kr.prototype,"height"),Kr.prototype),Kr);function Uv(t){return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function c0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(n),!0).forEach((function(r){f0(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function l0(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function RS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(){return Gv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=IS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Gv.apply(this,arguments)}function IS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Qc(t))!==null;);return t}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function LS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Qc(t);if(e){var c=Qc(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return zS(this,n)}}function zS(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jc(t)}function Jc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qc(t){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(t)}function f0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rh(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ti,p0,Xv=(Ji=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Hv(s,f)})(c,t);var e,n,r=LS(c);function c(){var s;RS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return f0(Jc(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.ELLIPSE_NODE),l0(Jc(s),"rx",a0,Jc(s)),l0(Jc(s),"ry",u0,Jc(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Gv(Qc(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.ellipse;return c0(c0({},s),mn(f))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,v=this.rx,b=this.ry;return[{x:s,y:f-b,id:"".concat(this.id,"_0")},{x:s+v,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+b,id:"".concat(this.id,"_2")},{x:s-v,y:f,id:"".concat(this.id,"_3")}]}}])&&CS(e.prototype,n),c})(Pa),a0=rh(Ji.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),u0=rh(Ji.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),rh(Ji.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Ji.prototype,"width"),Ji.prototype),rh(Ji.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Ji.prototype,"height"),Ji.prototype),Ji);function Yv(t){return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Vv(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return d0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function y0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h0(Object(n),!0).forEach((function(r){v0(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function BS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function FS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(){return Kv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=$S(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},Kv.apply(this,arguments)}function $S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=el(t))!==null;);return t}function qv(t,e){return qv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qv(t,e)}function US(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=el(t);if(e){var c=el(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return GS(this,n)}}function GS(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oh(t)}function oh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},el(t)}function v0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ih(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var Zv,g0,Jv=(ti=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&qv(s,f)})(c,t);var e,n,r=US(c);function c(){var s;FS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return v0(oh(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.POLYGON_NODE),BS(oh(s),"points",p0,oh(s)),s}return e=c,(n=[{key:"getNodeStyle",value:function(){var s=Kv(el(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.polygon;return y0(y0({},s),mn(f))}},{key:"pointsPosition",get:function(){var s=this.x,f=this.y,v=this.width,b=this.height;return this.points.map((function(x){return{x:x[0]+s-v/2,y:x[1]+f-b/2}}))}},{key:"width",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(v){var b=Vv(v,1)[0];b<s&&(s=b),b>f&&(f=b)})),f-s}},{key:"height",get:function(){var s=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(v){var b=Vv(v,2)[1];b<s&&(s=b),b>f&&(f=b)})),f-s}},{key:"getDefaultAnchor",value:function(){var s=this,f=this.x,v=this.y,b=this.width,x=this.height;return this.points.map((function(S,D){var I=Vv(S,2),V=I[0],J=I[1];return{x:f+V-b/2,y:v+J-x/2,id:"".concat(s.id,"_").concat(D)}}))}}])&&WS(e.prototype,n),c})(Pa),p0=ih(ti.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ih(ti.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"pointsPosition"),ti.prototype),ih(ti.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"width"),ti.prototype),ih(ti.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ti.prototype,"height"),ti.prototype),ti);function Qv(t){return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function b0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b0(Object(n),!0).forEach((function(r){_0(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function HS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function XS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eg(){return eg=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=VS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},eg.apply(this,arguments)}function VS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=tl(t))!==null;);return t}function tg(t,e){return tg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},tg(t,e)}function KS(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=tl(t);if(e){var c=tl(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ah(t)}function ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tl(t)}function _0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ou,ng=(Zv=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&tg(s,f)})(c,t);var e,n,r=KS(c);function c(){var s;XS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return _0(ah(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.RECT_NODE),HS(ah(s),"radius",g0,ah(s)),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,v=this.width,b=this.height;return[{x:s,y:f-b/2,id:"".concat(this.id,"_0")},{x:s+v/2,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+b/2,id:"".concat(this.id,"_2")},{x:s-v/2,y:f,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var s=eg(tl(c.prototype),"getNodeStyle",this).call(this),f=this.graphModel.theme.rect;return m0(m0({},s),mn(f))}}])&&YS(e.prototype,n),c})(Pa),g0=(function(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s})(Zv.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv);function rg(t){return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function O0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(n),!0).forEach((function(r){E0(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function ZS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function og(){return og=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=QS(t,e);if(r){var c=Object.getOwnPropertyDescriptor(r,e);return c.get?c.get.call(arguments.length<3?t:n):c.value}},og.apply(this,arguments)}function QS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=nl(t))!==null;);return t}function ig(t,e){return ig=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ig(t,e)}function ej(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=nl(t);if(e){var c=nl(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return tj(this,n)}}function tj(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x0(t)}function x0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(t)}function E0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var ag=(Ou=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&ig(s,f)})(c,t);var e,n,r=ej(c);function c(){var s;ZS(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return E0(x0(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.TEXT_NODE),s}return e=c,(n=[{key:"getTextStyle",value:function(){var s=og(nl(c.prototype),"getTextStyle",this).call(this),f=this.graphModel.theme.text;return w0(w0({},s),mn(f))}},{key:"width",get:function(){var s=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return hs({rows:s,fontSize:f,rowsLength:s.length}).width}},{key:"height",get:function(){var s=String(this.text.value).split(/[\r\n]/g),f=this.getTextStyle().fontSize;return hs({rows:s,fontSize:f,rowsLength:s.length}).height}}])&&JS(e.prototype,n),c})(Pa),S0(Ou.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Ou.prototype,"width"),Ou.prototype),S0(Ou.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Ou.prototype,"height"),Ou.prototype),Ou);function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sg(t,e){return sg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sg(t,e)}function oj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=uh(t);if(e){var c=uh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return ij(this,n)}}function ij(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j0(t)}function j0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ai,P0,A0,M0,cg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&sg(s,f)})(c,t);var e,n,r=oj(c);function c(){var s;nj(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return aj(j0(s=r.call.apply(r,[this].concat(v))),"modelType",Kt.HTML_NODE),s}return e=c,(n=[{key:"getDefaultAnchor",value:function(){var s=this.x,f=this.y,v=this.width,b=this.height;return[{x:s,y:f-b/2,id:"".concat(this.id,"_0")},{x:s+v/2,y:f,id:"".concat(this.id,"_1")},{x:s,y:f+b/2,id:"".concat(this.id,"_2")},{x:s-v/2,y:f,id:"".concat(this.id,"_3")}]}}])&&rj(e.prototype,n),c})(Pa);function T0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function lg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ep(t,e,n,r,c){var s={};return Object.keys(r).forEach((function(f){s[f]=r[f]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce((function(f,v){return v(t,e,f)||f}),s),c&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(c):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(t,e,s),s=null),s}var D0=(Ai=(function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),k0(this,"graphModel",void 0),lg(this,"isShowHorizontal",P0,this),lg(this,"isShowVertical",A0,this),lg(this,"position",M0,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return(function(r){for(var c=1;c<arguments.length;c++){var s=arguments[c]!=null?arguments[c]:{};c%2?T0(Object(s),!0).forEach((function(f){k0(r,f,s[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):T0(Object(s)).forEach((function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(s,f))}))}return r})({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,c){for(var s=r.x,f=r.y,v=!1,b=!1,x=0;x<c.length;x++){var S=c[x];if(S.id!==r.id&&(s===S.x&&(v=!0),f===S.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:s,y:f}}}},{key:"getHorizontalSnapline",value:function(r,c){var s,f,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)f=zn(x);else{var S=this.graphModel.getNodeModelById(b);f=zn(S)}}for(var D=0;D<c.length;D++){var I=c[D];if(I.id!==r.id){var V=zn(I);if(V.minY===f.minY||V.maxY===f.minY){v=!0,s=f.minY;break}if(V.minY===f.maxY||V.maxY===f.maxY){v=!0,s=f.maxY;break}}}return gr({isShowHorizontal:v,position:{y:s}})}},{key:"getVerticalSnapline",value:function(r,c){var s,f,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)f=zn(x);else{var S=this.graphModel.getNodeModelById(b);f=zn(S)}}for(var D=0;D<c.length;D++){var I=c[D];if(I.id!==r.id){var V=zn(I);if(V.minX===f.minX||V.maxX===f.minX){v=!0,s=f.minX;break}if(V.minX===f.maxX||V.maxX===f.maxX){v=!0,s=f.maxX;break}}}return gr({isShowVertical:v,position:{x:s}})}},{key:"getSnapLinePosition",value:function(r,c){var s=this.getCenterSnapLine(r,c),f=s.isShowHorizontal,v=s.isShowVertical;if(!f){var b=this.getHorizontalSnapline(r,c);b.isShowHorizontal&&(s.isShowHorizontal=b.isShowHorizontal,s.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,c);x.isShowVertical&&(s.isShowVertical=x.isShowVertical,s.position.x=x.position.x)}return s}},{key:"setSnaplineInfo",value:function(r){var c=r.isShowHorizontal,s=r.isShowVertical,f=r.position;this.position=f,this.isShowHorizontal=c,this.isShowVertical=s}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var c=this.graphModel.nodes,s=this.getSnapLinePosition(r,c);this.setSnaplineInfo(s)}}],n&&uj(e.prototype,n),t})(),P0=ep(Ai.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A0=ep(Ai.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M0=ep(Ai.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep(Ai.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Ai.prototype,"clearSnapline"),Ai.prototype),ep(Ai.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Ai.prototype,"setNodeSnapLine"),Ai.prototype),Ai),tp=new Map,N0=function(t){var e=_i(),n=window.requestAnimationFrame((function r(){if(t(),tp.get(e)){var c=window.requestAnimationFrame(r);tp.set(e,c)}}));return tp.set(e,n),e},sh=function(t){var e=tp.get(t);e&&(window.cancelAnimationFrame(e),tp.delete(t))};function fg(t){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function np(){return np=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function R0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R0(Object(n),!0).forEach((function(r){ea(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function sj(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return C0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return C0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pg(t,e){return pg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pg(t,e)}function lj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=ch(t);if(e){var c=ch(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return fj(this,n)}}function fj(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}function ea(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pj=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&pg(s,f)})(c,t);var e,n,r=lj(c);function c(){var s;return(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c),ea(Qi(s=r.call(this)),"preTargetNode",void 0),ea(Qi(s),"sourceRuleResults",void 0),ea(Qi(s),"targetRuleResults",void 0),ea(Qi(s),"dragHandler",void 0),ea(Qi(s),"t",void 0),ea(Qi(s),"onDragStart",(function(f){var v=f.event,b=s.props,x=b.anchorData,S=b.nodeModel,D=b.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(dt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:S}),s.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})})),ea(Qi(s),"onDragging",(function(f){var v=f.event,b=s.props,x=b.graphModel,S=b.nodeModel,D=b.anchorData,I=x.transformModel,V=x.eventCenter,J=x.width,ne=x.height,be=x.editConfigModel,ge=be.autoExpand,xe=be.stopMoveGraph,Ce=v.clientX,Qe=v.clientY,Ze=x.getPointByClient({x:Ce,y:Qe}),mt=Ze.domOverlayPosition,qe=mt.x,yt=mt.y,nt=Ze.canvasOverlayPosition,Qt=nt.x,on=nt.y;s.t&&sh(s.t);var Rt=[];qe<10?Rt=[10,0]:qe+10>J?Rt=[-10,0]:yt<10?Rt=[0,10]:yt+10>ne&&(Rt=[0,-10]),s.setState({endX:Qt,endY:on,dragging:!0}),s.moveAnchorEnd(Qt,on),Rt.length>0&&!xe&&ge&&(s.t=N0((function(){var fn=sj(Rt,2),Qn=fn[0],er=fn[1];I.translate(Qn,er);var Fr=s.state,Co=Fr.endX,Io=Fr.endY;s.setState({endX:Co-Qn,endY:Io-er}),s.moveAnchorEnd(Co-Qn,Io-er)}))),V.emit(dt.ANCHOR_DRAG,{data:D,e:v,nodeModel:S})})),ea(Qi(s),"onDragEnd",(function(f){var v=f.event;s.t&&sh(s.t);var b=s.checkEnd(v);s.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),s.sourceRuleResults.clear(),s.targetRuleResults.clear();var x=s.props,S=x.graphModel,D=x.nodeModel,I=x.anchorData;S.eventCenter.emit(dt.ANCHOR_DRAGEND,{data:I,e:v,nodeModel:D,edgeModel:b})})),ea(Qi(s),"checkEnd",(function(f){var v=s.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=S.x,I=S.y,V=S.id,J=(b.edgeType,s.state),ne=J.endX,be=J.endY,ge=J.dragging,xe=ds({x:ne,y:be},b);if(s.preTargetNode&&s.preTargetNode.state!==gn.DEFAULT&&s.preTargetNode.setElementState(gn.DEFAULT),ge&&xe&&xe.node){var Ce=xe.node,Qe=xe.anchor.id,Ze="".concat(x.id,"_").concat(Ce.id,"_").concat(Qe,"_").concat(V),mt=s.sourceRuleResults.get(Ze)||{},qe=mt.isAllPass,yt=mt.msg,nt=s.targetRuleResults.get(Ze)||{},Qt=nt.isAllPass,on=nt.msg;if(qe&&Qt){Ce.setElementState(gn.DEFAULT);var Rt=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),fn=b.addEdge(rp(rp({},Rt),{},{sourceNodeId:x.id,sourceAnchorId:V,startPoint:{x:D,y:I},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),Qn=s.props.anchorData;return b.eventCenter.emit(dt.ANCHOR_DROP,{data:Qn,e:f,nodeModel:x,edgeModel:fn}),fn}var er=Ce.getData();return b.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:er,msg:on||yt||"不允许添加连线"}),null}})),s.sourceRuleResults=new Map,s.targetRuleResults=new Map,s.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},s.dragHandler=new bo({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return e=c,(n=[{key:"getAnchorShape",value:function(){var s=this.props,f=s.anchorData,v=s.style,b=s.node.getAnchorShape(f);if(b)return b;var x=f.x,S=f.y,D=rp(rp({},v),v.hover);return Object(pe.g)("g",null,Object(pe.g)(Yc,np({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(pe.g)(Yc,np({className:"lf-node-anchor"},v,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var s=this.props,f=s.graphModel,v=f.getAnchorIncomingEdge,b=f.getAnchorOutcomingEdge,x=s.anchorData.id;return{incomingEdgeList:v(x),outcomingEdgeList:b(x)}}},{key:"moveAnchorEnd",value:function(s,f){var v=this.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=ds({x:s,y:f},b);if(D){var I=D.node,V=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(gn.DEFAULT),S.id===V)return;this.preTargetNode=I;var J="".concat(x.id,"_").concat(I.id,"_").concat(V,"_").concat(S.id);if(!this.targetRuleResults.has(J)){var ne=D.anchor,be=x.isAllowConnectedAsSource(I,S,ne),ge=I.isAllowConnectedAsTarget(x,S,ne);this.sourceRuleResults.set(J,cu(be)),this.targetRuleResults.set(J,cu(ge))}var xe=this.sourceRuleResults.get(J).isAllPass,Ce=this.targetRuleResults.get(J).isAllPass;xe&&Ce?I.setElementState(gn.ALLOW_CONNECT):I.setElementState(gn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==gn.DEFAULT&&this.preTargetNode.setElementState(gn.DEFAULT)}},{key:"isShowLine",value:function(){var s=this.state,f=s.startX,v=s.startY,b=s.endX,x=s.endY;return To(f,v,b,x)>10}},{key:"render",value:function(){var s=this,f=this.state,v=f.startX,b=f.startY,x=f.endX,S=f.endY,D=this.props,I=D.anchorData.edgeAddable,V=D.edgeStyle;return Object(pe.g)("g",{className:"lf-anchor"},Object(pe.g)("g",{onMouseDown:function(J){I!==!1&&s.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(rp({sourcePoint:{x:v,y:b},targetPoint:{x,y:S}},V)):Object(pe.g)(Hc,np({x1:v,y1:b,x2:x,y2:S},V,{"pointer-events":"none"}))))}}])&&cj(e.prototype,n),c})(pe.a);function I0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(n),!0).forEach((function(r){hj(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function hj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dg(t){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function yj(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return L0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return L0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z0(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.value,f=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,I=D===void 0?"":D,V=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:c,fill:b};if(Object.entries(t).forEach((function(Qe){var Ze=yj(Qe,2),mt=Ze[0],qe=Ze[1];dg(qe)!=="object"&&(J[mt]=qe)})),s){var ne=String(s).split(/[\r\n]/g),be=ne.length;if(S!=="default"){var ge=V.BaseType,xe=V.modelType;if(ge===Zn.NODE&&xe!==Kt.TEXT_NODE||ge===Zn.EDGE&&I)return(function(Qe){var Ze=Qe.value,mt=Qe.fontSize,qe=Qe.model,yt=Qe.fontFamily,nt=yt===void 0?"":yt,Qt=Qe.lineHeight,on=Qe.wrapPadding,Rt=on===void 0?"0, 0":on,fn=Qe.overflowMode,Qn=Qe.x,er=Qe.y,Fr=qe.width,Co=qe.textHeight,Io=Qe.textWidth||Fr,ra=String(Ze).split(/[\r\n]/g),Cs=ra.length,Rh=bd({rows:ra,style:{fontSize:"".concat(mt,"px"),width:"".concat(Io,"px"),fontFamily:nt,lineHeight:Qt,padding:Rt},rowsLength:Cs,className:"lf-get-text-height"}),Is=qe.height>Rh?qe.height:Rh;Co&&(Is=Co);var Eu=fn==="ellipsis";return Eu&&(Is=mt+2),Object(pe.g)("g",null,Object(pe.g)("foreignObject",{width:Io,height:Is,x:Qn-Io/2,y:er-Is/2},Object(pe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Is,width:Io,padding:Rt}},Object(pe.g)("div",{className:Eu?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Eu?ra.join(""):"",style:dj({},Qe)},ra.map((function(Su){return Object(pe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Su)}))))))})(t)}if(be>1){var Ce=ne.map((function(Qe,Ze){var mt=(Ze-(be-1)/2)*(f+2);return Object(pe.g)("tspan",{className:"lf-text-tspan",x:n,y:c+mt},Qe)}));return Object(pe.g)("text",J,Ce)}return Object(pe.g)("text",J,s)}}function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function yg(){return yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function vj(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return B0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return B0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vg(t,e){return vg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vg(t,e)}function bj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=lh(t);if(e){var c=lh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wu(t)}function wu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lh(t){return lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(t)}function ks(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F0=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&vg(s,f)})(c,t);var e,n,r=bj(c);function c(s){var f;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,c),ks(wu(f=r.call(this)),"dragHandler",void 0),ks(wu(f),"sumDeltaX",0),ks(wu(f),"sumDeltaY",0),ks(wu(f),"stepDrag",void 0),ks(wu(f),"onDragging",(function(b){var x=b.deltaX,S=b.deltaY,D=f.props,I=D.model,V=vj(D.graphModel.transformModel.fixDeltaXY(x,S),2),J=V[0],ne=V[1];I.moveText(J,ne)})),ks(wu(f),"dblClickHandler",(function(){f.props.editable&&f.props.model.setElementState(gn.TEXT_EDIT)})),ks(wu(f),"mouseDownHandle",(function(b){var x=f.props,S=x.draggable,D=x.model,I=x.graphModel.editConfigModel.nodeTextDraggable;(S||I)&&(f.stepDrag.model=D,f.stepDrag.handleMouseDown(b))})),s.model;var v=s.draggable;return f.stepDrag=new bo({onDragging:f.onDragging,step:1,isStopPropagation:v}),f}return e=c,(n=[{key:"getShape",value:function(){var s=this.props,f=s.model,v=s.graphModel,b=f.text,x=v.editConfigModel,S=b.value,D=b.x,I=b.y,V=b.editable,J=b.draggable,ne={x:D,y:I,className:"",value:S};V?ne.className="lf-element-text":J||x.nodeTextDraggable?ne.className="lf-text-draggable":ne.className="lf-text-disabled";var be=f.getTextStyle();return Object(pe.g)(z0,yg({},ne,be,{model:f}))}},{key:"render",value:function(){if(this.props.model.text)return Object(pe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&gj(e.prototype,n),c})(pe.a),_j=Ka(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,W0=o(130);function gg(t){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function bg(){return bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function Oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mg(t,e){return mg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mg(t,e)}function wj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=fh(t);if(e){var c=fh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return xj(this,n)}}function xj(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rl(t)}function rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(t)}function op(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ej=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&mg(s,f)})(c,t);var e,n,r=wj(c);function c(s){var f;return(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,c),op(rl(f=r.call(this,s)),"style",{}),op(rl(f),"defaultAngle",void 0),op(rl(f),"normal",void 0),op(rl(f),"stepperDrag",void 0),op(rl(f),"onDragging",(function(v){var b,x=v.event,S=f.props,D=S.graphModel,I=S.nodeModel,V=S.eventCenter,J=D.selectNodes,ne=I.x,be=I.y,ge=x.clientX,xe=x.clientY,Ce=D.getPointByClient({x:ge,y:xe}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,mt=new vr(Qe-ne,Ze-be),qe=((b=f.normal)===null||b===void 0?void 0:b.angle(mt))-f.defaultAngle,yt=new bu(-ne,-be).rotate(qe).translate(ne,be).toString();I.transform=yt,I.rotate=qe;var nt=Object(W0.map)(J,(function(on){return on.id}));nt.indexOf(I.id)===-1&&(nt=[I.id]);var Qt=Object(W0.reduce)(nt,(function(on,Rt){var fn=D.getNodeModelById(Rt);return on[Rt]=fn==null?void 0:fn.getMoveDistance(0,0,!1),on}),{});nt.forEach((function(on){D.getNodeEdges(on).forEach((function(Rt){if(Qt[Rt.sourceNodeId]){var fn=D.getNodeModelById(Rt.sourceNodeId).anchors.find((function(er){return er.id===Rt.sourceAnchorId}));Rt.updateStartPoint(fn)}if(Qt[Rt.targetNodeId]){var Qn=D.getNodeModelById(Rt.targetNodeId).anchors.find((function(er){return er.id===Rt.targetAnchorId}));Rt.updateEndPoint(Qn)}}))})),V.emit(dt.NODE_ROTATE,{e:x,nodeModel:I})})),f.style=s.style,f.stepperDrag=new bo({onDragging:f.onDragging}),f}return e=c,(n=[{key:"render",value:function(){var s=this,f=this.props.nodeModel,v=f.x,b=f.y,x=v+f.width/2+20,S=b-f.height/2-20;return this.normal=new vr(1,0),this.defaultAngle=this.normal.angle(new vr(x-v,S-b)),f.defaultAngle=this.defaultAngle,Object(pe.g)("g",{className:"lf-rotate-control"},Object(pe.g)("g",{onMouseDown:function(D){s.stepperDrag.handleMouseDown(D)}},Object(pe.g)(Yc,bg({},this.style,{cx:x,cy:S}))))}}])&&Oj(e.prototype,n),c})(pe.a);function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}var Sj=["className"];function ph(){return ph=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function jj(t,e){if(t==null)return{};var n,r,c=(function(f,v){if(f==null)return{};var b,x,S={},D=Object.keys(f);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=f[b]);return S})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function dh(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return $0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return $0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Og(t,e){return Og=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Og(t,e)}function Pj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=hh(t);if(e){var c=hh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Aj(this,n)}}function Aj(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(t)}function mr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t){return hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hh(t)}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Aa=(function(t){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),v&&Og(f,v)})(s,t);var e,n,r,c=Pj(s);function s(f){var v;(function(I,V){if(!(I instanceof V))throw new TypeError("Cannot call a class as a function")})(this,s),Mr(mr(v=c.call(this)),"t",void 0),Mr(mr(v),"moveOffset",void 0),Mr(mr(v),"stepDrag",void 0),Mr(mr(v),"contextMenuTime",void 0),Mr(mr(v),"mouseUpDrag",void 0),Mr(mr(v),"startTime",void 0),Mr(mr(v),"clickTimer",void 0),Mr(mr(v),"modelDisposer",void 0),Mr(mr(v),"onDragStart",(function(I){var V=I.event,J=V.clientX,ne=V.clientY,be=v.props,ge=be.model,xe=be.graphModel.getPointByClient({x:J,y:ne}).canvasOverlayPosition,Ce=xe.x,Qe=xe.y;v.moveOffset={x:ge.x-Ce,y:ge.y-Qe}})),Mr(mr(v),"onDragging",(function(I){var V=I.event,J=v.props,ne=J.model,be=J.graphModel,ge=be.editConfigModel,xe=ge.stopMoveGraph,Ce=ge.autoExpand,Qe=be.transformModel,Ze=be.selectNodes,mt=be.width,qe=be.height,yt=be.gridSize;ne.isDragging=!0;var nt=V.clientX,Qt=V.clientY,on=be.getPointByClient({x:nt,y:Qt}).canvasOverlayPosition,Rt=on.x,fn=on.y,Qn=dh(Qe.CanvasPointToHtmlPoint([Rt,fn]),2),er=Qn[0],Fr=Qn[1];if(Rt+=v.moveOffset.x,fn+=v.moveOffset.y,Rt=Gi(Rt,yt),fn=Gi(fn,yt),mt&&qe){if(!Ce||xe||!(er<0||Fr<0||er>mt||Fr>qe)){var Co=dh(Qe.CanvasPointToHtmlPoint([Rt-ne.width/2,fn-ne.height/2]),2),Io=Co[0],ra=Co[1],Cs=dh(Qe.CanvasPointToHtmlPoint([Rt+ne.width/2,fn+ne.height/2]),2),Rh=Cs[0],Is=Cs[1],Eu=Math.max(yt,20),Su=[];Io<0?Su=[Eu,0]:Rh>be.width?Su=[-Eu,0]:ra<0?Su=[0,Eu]:Is>be.height&&(Su=[0,-Eu]),v.t&&sh(v.t);var fA=new bu(-Rt,-fn).rotate(ne.rotate).translate(Rt,fn).toString();ne.transform=fA;var Ch=Ze.map((function(Ih){return Ih.id}));Ch.indexOf(ne.id)===-1&&(Ch=[ne.id]),Su.length>0&&!xe&&Ce?v.t=N0((function(){var Ih=dh(Su,2),xO=Ih[0],EO=Ih[1];Qe.translate(xO,EO);var pA=-xO/Qe.SCALE_X,dA=-EO/Qe.SCALE_X;be.moveNodes(Ch,pA,dA)})):be.moveNodes(Ch,Rt-ne.x,fn-ne.y)}}else be.moveNode2Coordinate(ne.id,Rt,fn)})),Mr(mr(v),"onDragEnd",(function(){v.t&&sh(v.t),v.props.model.isDragging=!1})),Mr(mr(v),"handleMouseUp",(function(){var I=v.props.model;v.mouseUpDrag=I.isDragging})),Mr(mr(v),"handleClick",(function(I){var V=v.mouseUpDrag===!1;if(v.startTime){var J=v.props,ne=J.model,be=J.graphModel;if(V){var ge={data:ne.getData(),e:I,position:be.getPointByClient({x:I.clientX,y:I.clientY}),isSelected:!1,isMultiple:!1},xe=I.button===2,Ce=I.detail===2;if(!xe){var Qe=be.editConfigModel,Ze=fs(I,Qe);ge.isMultiple=Ze,ne.isSelected&&!Ce&&Ze?(ge.isSelected=!1,ne.setSelected(!1)):(be.selectNodeById(ne.id,Ze),ge.isSelected=!0,v.toFront()),Ce?(Qe.nodeTextEdit&&ne.text.editable&&(ne.setSelected(!1),be.setElementStateById(ne.id,gn.TEXT_EDIT)),be.eventCenter.emit(dt.NODE_DBCLICK,ge)):(be.eventCenter.emit(dt.ELEMENT_CLICK,ge),be.eventCenter.emit(dt.NODE_CLICK,ge))}}}})),Mr(mr(v),"handleContextMenu",(function(I){I.preventDefault();var V=v.props,J=V.model,ne=V.graphModel,be=J.getData(),ge=ne.getPointByClient({x:I.clientX,y:I.clientY});ne.setElementStateById(J.id,gn.SHOW_MENU,ge.domOverlayPosition),J.isSelected||ne.selectNodeById(J.id),ne.eventCenter.emit(dt.NODE_CONTEXTMENU,{data:be,e:I,position:ge}),v.toFront()})),Mr(mr(v),"handleMouseDown",(function(I){var V=v.props,J=V.model,ne=V.graphModel;v.startTime=new Date().getTime(),ne.editConfigModel.adjustNodePosition&&J.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(I)})),Mr(mr(v),"setHoverON",(function(I){var V=v.props,J=V.model,ne=V.graphModel;if(!J.isHovered){var be=J.getData();J.setHovered(!0),ne.eventCenter.emit(dt.NODE_MOUSEENTER,{data:be,e:I})}})),Mr(mr(v),"setHoverOFF",(function(I){var V=v.props,J=V.model,ne=V.graphModel,be=J.getData();J.isHovered&&(J.setHovered(!1),ne.eventCenter.emit(dt.NODE_MOUSELEAVE,{data:be,e:I}))})),Mr(mr(v),"onMouseOut",(function(I){_j&&v.setHoverOFF(I)}));var b=f.graphModel,x=b.gridSize,S=b.eventCenter,D=f.model;return v.stepDrag=new bo({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),v.modelDisposer=Object(h.F)((function(){return v.props}),(function(I){I&&I.model&&v.stepDrag.setModel(I.model)})),v}return e=s,r=[{key:"getModel",value:function(f){return f}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(f){return null}},{key:"getAnchors",value:function(){var f=this,v=this.props,b=v.model,x=v.graphModel,S=b.isSelected,D=b.isHitable,I=b.isDragging,V=b.isShowAnchor;return D&&(S||V)&&!I?tc(b.anchors,(function(J,ne){var be=b.getAnchorLineStyle(J),ge=b.getAnchorStyle(J);return Object(pe.g)(pj,{anchorData:J,node:f,style:ge,edgeStyle:be,anchorIndex:ne,nodeModel:b,graphModel:x,setHoverOFF:f.setHoverOFF})})):[]}},{key:"getRotateControl",value:function(){var f=this.props,v=f.model,b=f.graphModel,x=v.isSelected,S=v.isHitable,D=v.enableRotate,I=v.isHovered,V=v.getRotateControlStyle().style;if(S&&(x||I)&&D)return Object(pe.g)(Ej,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:V})}},{key:"getText",value:function(){var f=this.props,v=f.model,b=f.graphModel;if(v.state===gn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,S=!1;return(v.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(pe.g)(F0,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:S})}}},{key:"getStateClassName",value:function(){var f=this.props.model,v=f.state,b=f.isDragging,x=f.isSelected,S="lf-node";switch(v){case gn.ALLOW_CONNECT:S+=" lf-node-allow";break;case gn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return b&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var f=this.props,v=f.model,b=f.graphModel;v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var f,v=this.props,b=v.model,x=v.graphModel,S=x.editConfigModel,D=S.hideAnchors,I=S.adjustNodePosition,V=S.allowRotation,J=x.gridSize,ne=x.transformModel.SCALE_X,be=b.isHitable,ge=b.draggable,xe=b.transform,Ce=b.getOuterGAttributes(),Qe=Ce.className,Ze=Qe===void 0?"":Qe,mt=jj(Ce,Sj),qe=Object(pe.g)("g",{className:"lf-node-content"},Object(pe.g)("g",{transform:xe},this.getShape(),this.getText(),V&&this.getRotateControl()),!D&&this.getAnchors());return be?(I&&ge&&this.stepDrag.setStep(J*ne),f=Object(pe.g)("g",ph({className:"".concat(this.getStateClassName()," ").concat(Ze),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},mt),qe)):f=Object(pe.g)("g",ph({className:"".concat(this.getStateClassName()," ").concat(Ze)},mt),qe),f}}])&&U0(e.prototype,n),r&&U0(e,r),s})(pe.a);function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function xg(){return xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function Mj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eg(t,e){return Eg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eg(t,e)}function kj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=yh(t);if(e){var c=yh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(t)}var Sg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Eg(s,f)})(c,t);var e,n,r=kj(c);function c(){return Mj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(pe.g)(mu,xg({},f,{x:s.x,y:s.y,width:s.width,height:s.height,radius:s.radius}))}}])&&Tj(e.prototype,n),c})(Aa);function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ag(t,e)}function Cj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=vh(t);if(e){var c=vh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Ij(this,n)}}function Ij(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(t)}var Mg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ag(s,f)})(c,t);var e,n,r=Cj(c);function c(){return Nj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.x,v=s.y,b=s.r,x=s.getNodeStyle();return Object(pe.g)(Yc,Pg({},x,{x:f,y:v,r:b}))}}])&&Rj(e.prototype,n),c})(Aa);function Tg(t){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function Lj(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return G0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return G0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H0(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(c){var s=Lj(c,2),f=s[0],v=s[1];Tg(v)!=="object"&&(r[f]=v)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(c){return c.join(",")})).join(" "),Object(pe.g)("polygon",r)}function kg(t){return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ng(t,e){return Ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ng(t,e)}function Fj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=gh(t);if(e){var c=gh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Wj(this,n)}}function Wj(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(t)}var Rg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ng(s,f)})(c,t);var e,n,r=Fj(c);function c(){return zj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.x,v=s.y,b=s.width,x=s.height,S=s.points,D=s.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(f-b/2," ").concat(v-x/2,")")};return Object(pe.g)("g",I,Object(pe.g)(H0,Dg({},D,{points:S,x:f,y:v})))}}])&&Bj(e.prototype,n),c})(Aa);function Cg(t){return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function $j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e){return Lg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lg(t,e)}function Gj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=bh(t);if(e){var c=bh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Hj(this,n)}}function Hj(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}var zg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Lg(s,f)})(c,t);var e,n,r=Gj(c);function c(){return $j(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(pe.g)("g",null,Object(pe.g)(H0,Ig({},f,{points:s.points,x:s.x,y:s.y})))}}])&&Uj(e.prototype,n),c})(Aa);function Bg(t){return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function Xj(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return X0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return X0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function X0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yj(t){var e=t.x,n=e===void 0?0:e,r=t.y,c=r===void 0?0:r,s=t.rx,f=s===void 0?4:s,v=t.ry,b=v===void 0?4:v,x=t.className,S={cx:n,cy:c,rx:f,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(D){var I=Xj(D,2),V=I[0],J=I[1];Bg(J)!=="object"&&(S[V]=J)})),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(pe.g)("ellipse",S)}function Fg(t){return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function Wg(){return Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function Vj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $g(t,e){return $g=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$g(t,e)}function qj(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=mh(t);if(e){var c=mh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(t)}var Ug=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&$g(s,f)})(c,t);var e,n,r=qj(c);function c(){return Vj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getShape",value:function(){var s=this.props.model,f=s.getNodeStyle();return Object(pe.g)(Yj,Wg({},f,{x:s.x,y:s.y,rx:s.rx,ry:s.ry}))}}])&&Kj(e.prototype,n),c})(Aa);function Gg(t){return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(n),!0).forEach((function(r){Jj(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Jj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hg(t,e){return Hg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hg(t,e)}function tP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=_h(t);if(e){var c=_h(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return nP(this,n)}}function nP(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}var Xg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Hg(s,f)})(c,t);var e,n,r=tP(c);function c(){return Qj(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,f=s.getTextStyle(),v=s.width,b=s.height,x=s.x,S=s.y,D=V0(V0({},f.background),{},{x,y:S-1,width:v,height:b});return Object(pe.g)(mu,D)}},{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getBackground())}}])&&eP(e.prototype,n),c})(Aa);function Yg(t){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function rP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e){return Kg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kg(t,e)}function iP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Oh(t);if(e){var c=Oh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return aP(this,n)}}function aP(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function wh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qg=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Kg(s,f)})(c,t);var e,n,r=iP(c);function c(){var s;rP(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return wh(ip(s=r.call.apply(r,[this].concat(v))),"ref",void 0),wh(ip(s),"currentProperties",void 0),wh(ip(s),"preProperties",void 0),wh(ip(s),"setRef",(function(x){s.ref=x})),s}return e=c,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(s){s.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var s=this.props.model,f=s.x,v=s.y,b=s.height,x=s.width,S=s.getNodeStyle();return this.currentProperties=JSON.stringify(s.properties),Object(pe.g)("foreignObject",Vg({},S,{x:f-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&oP(e.prototype,n),c})(Aa);function Zg(t){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function K0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K0(Object(n),!0).forEach((function(r){tb(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function uP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qg(t,e){return Qg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qg(t,e)}function sP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=xh(t);if(e){var c=xh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return cP(this,n)}}function cP(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(t)}function eb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xh(t)}function tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lP=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Qg(s,f)})(c,t);var e,n,r=sP(c);function c(s){var f;return(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,c),tb(eb(f=r.call(this,s)),"setHoverON",(function(){f.setState({isHovered:!0})})),tb(eb(f),"setHoverOFF",(function(){f.setState({isHovered:!1})})),f.state={isHovered:!1},f}return e=c,(n=[{key:"getBackground",value:function(){var s=this.props.model,f=s.getTextStyle(),v=s.text,b=s.width,x=f.background||{};if(this.state.isHovered&&f.hover&&f.hover.background&&(x=Ds(Ds({},x),f.hover.background)),v&&v.value&&x.fill!=="transparent"){var S,D=f.fontSize,I=f.overflowMode,V=f.lineHeight,J=f.wrapPadding,ne=f.textWidth,be=v.value,ge=v.x,xe=v.y,Ce=String(be).split(/[\r\n]/g),Qe=Ce.length;if(I==="autoWrap"&&ne){var Ze=bd({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(ne,"px"),lineHeight:V,padding:J},rowsLength:Qe,className:"lf-get-text-height"});S=Ds(Ds({},x),{},{x:ge-1,y:xe-1,width:ne,height:Ze})}else{Ce&&Ce.forEach((function(Qt){$f(Qt)}));var mt=hs({rows:Ce,fontSize:D,rowsLength:Qe}),qe=mt.width,yt=mt.height;if(I==="ellipsis"&&(qe=ne||b,yt=D+2),typeof x.wrapPadding=="string"){var nt=x.wrapPadding.split(",").filter((function(Qt){return Qt.trim()})).map((function(Qt){return parseFloat(Qt.trim())}));nt.length>0&&nt.length<=4&&(nt.length===1?nt=[nt[0],nt[0],nt[0],nt[0]]:nt.length===2?nt=[nt[0],nt[1],nt[0],nt[1]]:nt.length===3&&(nt=[nt[0],nt[1],nt[2],nt[1]]),qe+=nt[1]+nt[3],yt+=nt[0]+nt[2],ge+=(nt[1]-nt[3])/2,xe+=(nt[2]-nt[0])/2)}S=Ds(Ds({},x),{},{x:ge-1,y:xe-1,width:qe,height:yt})}return Object(pe.g)(mu,S)}}},{key:"getShape",value:function(){var s=this.props.model,f=s.text,v=f.value,b=f.x,x=f.y;if(v){var S=Ds({x:b,y:x,className:"lf-element-text",value:v},s.getTextStyle());return Object(pe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(pe.g)(z0,Jg({},S,{model:s})))}}}])&&uP(e.prototype,n),c})(F0);function nb(t){return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}var ta,fP=["text","sourceAnchorId","targetAnchorId"];function q0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q0(Object(n),!0).forEach((function(r){Ro(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function pP(t,e){if(t==null)return{};var n,r,c=(function(f,v){if(f==null)return{};var b,x,S={},D=Object.keys(f);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=f[b]);return S})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function dP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return Z0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Z0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rb(t,e){return rb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rb(t,e)}function yP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Eh(t);if(e){var c=Eh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return vP(this,n)}}function vP(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return No(t)}function No(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eh(t)}function Ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ta||(ta={}));var J0=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&rb(s,f)})(c,t);var e,n,r=yP(c);function c(s){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),Ro(No(f=r.call(this)),"stepDragData",void 0),Ro(No(f),"stepDrag",void 0),Ro(No(f),"oldEdge",void 0),Ro(No(f),"preTargetNode",void 0),Ro(No(f),"targetRuleResults",void 0),Ro(No(f),"sourceRuleResults",void 0),Ro(No(f),"handleMouseDown",(function(S){f.stepDrag&&f.stepDrag.handleMouseDown(S)})),Ro(No(f),"onDragStart",(function(){var S=f.props,D=S.x,I=S.y,V=S.edgeModel,J=V.startPoint,ne=V.endPoint,be=V.pointsList;f.oldEdge={startPoint:J,endPoint:ne,pointsList:be},f.setState({endX:D,endY:I,dragging:!0})})),Ro(No(f),"onDragging",(function(S){var D=S.deltaX,I=S.deltaY,V=f.state,J=V.endX,ne=V.endY,be=f.props,ge=be.graphModel,xe=be.type,Ce=ge.transformModel,Qe=ge.editConfigModel,Ze=dP(Ce.moveCanvasPointByHtml([J,ne],D,I),2),mt=Ze[0],qe=Ze[1];f.setState({endX:mt,endY:qe,dragging:!0});var yt=f.props.edgeModel,nt=ds({x:J,y:ne},ge);if(nt&&nt.node&&f.isAllowAdjust(nt).pass){var Qt,on=yt.startPoint,Rt=yt.endPoint,fn=yt.sourceNode,Qn=yt.targetNode;xe===ta.SOURCE?Qt={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:Rt.x,y:Rt.y},sourceNode:nt.node,targetNode:Qn}:xe===ta.TARGET&&(Qt={startPoint:{x:on.x,y:on.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:fn,targetNode:nt.node}),yt.updateAfterAdjustStartAndEnd(Qt)}else xe===ta.SOURCE?yt.updateStartPoint({x:mt,y:qe}):xe===ta.TARGET&&yt.updateEndPoint({x:mt,y:qe});yt.text.value&&Qe.adjustEdge&&yt.setText(Object.assign({},yt.text,yt.textPosition))})),Ro(No(f),"onDragEnd",(function(S){var D=S.event;try{var I;f.setState({dragging:!1});var V=f.props,J=V.graphModel,ne=V.edgeModel,be=V.type,ge=f.state,xe=ge.endX,Ce=ge.endY,Qe=ge.dragging,Ze=ds({x:xe,y:Ce},J);if(!Qe)return;var mt,qe=!1;if(Ze&&Ze.node){var yt=f.isAllowAdjust(Ze),nt=yt.pass,Qt=yt.msg,on=yt.newTargetNode;if(nt){var Rt=ne.getData(),fn=Rt.text,Qn=Rt.sourceAnchorId,er=Qn===void 0?"":Qn,Fr=Rt.targetAnchorId;mt=Ma(Ma({sourceAnchorId:er,targetAnchorId:Fr===void 0?"":Fr},pP(Rt,fP)),{},{text:(fn==null?void 0:fn.value)||""}),be===ta.SOURCE?(mt=Ma(Ma({},J.edgeGenerator(J.getNodeModelById(Ze.node.id).getData(),J.getNodeModelById(ne.targetNodeId).getData(),mt)),{},{sourceNodeId:Ze.node.id,sourceAnchorId:Ze.anchor.id,startPoint:{x:Ze.anchor.x,y:Ze.anchor.y},targetNodeId:ne.targetNodeId,endPoint:Ma({},ne.endPoint)}),ne.sourceNodeId===Ze.node.id&&ne.sourceAnchorId===Ze.anchor.id&&(qe=!0)):be===ta.TARGET&&(mt=Ma(Ma({},J.edgeGenerator(J.getNodeModelById(ne.sourceNodeId).getData(),J.getNodeModelById(Ze.node.id).getData(),mt)),{},{sourceNodeId:ne.sourceNodeId,startPoint:Ma({},ne.startPoint),targetNodeId:Ze.node.id,targetAnchorId:Ze.anchor.id,endPoint:{x:Ze.anchor.x,y:Ze.anchor.y}}),ne.targetNodeId===Ze.node.id&&ne.targetAnchorId===Ze.anchor.id&&(qe=!0))}else{qe=!0;var Co=on.getData();J.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:Co,msg:Qt})}}else qe=!0;if(qe)f.recoveryEdge();else{var Io=ne.getData();J.deleteEdgeById(ne.id);var ra=J.addEdge(Ma({},mt));J.eventCenter.emit(dt.EDGE_EXCHANGE_NODE,{data:{newEdge:ra.getData(),oldEdge:Io}})}(I=f.preTargetNode)===null||I===void 0||I.setElementState(gn.DEFAULT)}finally{f.props.graphModel.eventCenter.emit(dt.ADJUST_POINT_DRAGEND,{e:D,data:f.stepDragData})}})),Ro(No(f),"recoveryEdge",(function(){var S=f.props.edgeModel,D=f.oldEdge,I=D.startPoint,V=D.endPoint,J=D.pointsList;S.updateStartPoint(I),S.updateEndPoint(V),S.modelType!==Kt.LINE_EDGE&&(S.pointsList=J,S.initPoints())})),Ro(No(f),"getAdjustPointStyle",(function(){var S=f.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust})),f.state={dragging:!1,endX:0,endY:0},f.targetRuleResults=new Map,f.sourceRuleResults=new Map;var v=s.type,b=s.edgeModel,x=s.graphModel.eventCenter;return f.stepDragData={type:v,edgeData:b.getData()},f.stepDrag=new bo({onDragStart:f.onDragStart,onDragging:f.onDragging,onDragEnd:f.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:f.stepDragData}),f}return e=c,(n=[{key:"isAllowAdjust",value:function(s){var f=this.props,v=f.edgeModel,b=v.id,x=v.sourceNode,S=v.targetNode,D=v.sourceAnchorId,I=v.targetAnchorId,V=f.type,J=null,ne=null,be=null,ge=null;if(V===ta.SOURCE?(J=s.node,ne=S,be=s.anchor,ge=S.getAnchorInfo(I)):(J=x,ne=s.node,ge=s.anchor,be=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==s.node&&this.preTargetNode.setElementState(gn.DEFAULT),this.preTargetNode=s.node,ge.id===be.id)return{pass:!1,msg:"",newTargetNode:ne};var xe="".concat(J.id,"_").concat(ne.id,"_").concat(be.id,"_").concat(ge.id);if(!this.targetRuleResults.has(xe)){var Ce=J.isAllowConnectedAsSource(ne,be,ge,b),Qe=ne.isAllowConnectedAsTarget(J,be,ge,b);this.sourceRuleResults.set(xe,cu(Ce)),this.targetRuleResults.set(xe,cu(Qe))}var Ze=this.sourceRuleResults.get(xe),mt=Ze.isAllPass,qe=Ze.msg,yt=this.targetRuleResults.get(xe),nt=yt.isAllPass,Qt=yt.msg,on=mt&&nt?gn.ALLOW_CONNECT:gn.NOT_ALLOW_CONNECT;return V===ta.SOURCE?J.setElementState(on):ne.setElementState(on),{pass:mt&&nt,msg:Qt||qe,newTargetNode:ne}}},{key:"render",value:function(){var s=this.props,f=s.x,v=s.y,b=s.getAdjustPointShape,x=s.edgeModel,S=this.state.dragging;return Object(pe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":b(f,v,x))}}])&&hP(e.prototype,n),c})(pe.a);function ob(t){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function ap(){return ap=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function gP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return Q0(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Q0(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ib(t,e){return ib=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ib(t,e)}function _P(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Sh(t);if(e){var c=Sh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return OP(this,n)}}function OP(t,e){if(e&&(ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(t)}function Mi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var up=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&ib(s,f)})(c,t);var e,n,r=_P(c);function c(){var s;bP(this,c);for(var f=arguments.length,v=new Array(f),b=0;b<f;b++)v[b]=arguments[b];return na(Mi(s=r.call.apply(r,[this].concat(v))),"startTime",void 0),na(Mi(s),"contextMenuTime",void 0),na(Mi(s),"clickTimer",void 0),na(Mi(s),"textRef",Object(pe.f)()),na(Mi(s),"handleHover",(function(x,S){var D=s.props,I=D.model,V=D.graphModel.eventCenter;I.setHovered(x);var J=x?dt.EDGE_MOUSEENTER:dt.EDGE_MOUSELEAVE,ne=I.getData();V.emit(J,{data:ne,e:S})})),na(Mi(s),"setHoverON",(function(x){s.props.model.isHovered||(s.textRef&&s.textRef.current&&s.textRef.current.setHoverON(),s.handleHover(!0,x))})),na(Mi(s),"setHoverOFF",(function(x){s.props.model.isHovered&&(s.textRef&&s.textRef.current&&s.textRef.current.setHoverOFF(),s.handleHover(!1,x))})),na(Mi(s),"handleContextMenu",(function(x){x.preventDefault(),s.contextMenuTime=new Date().getTime(),s.clickTimer&&clearTimeout(s.clickTimer);var S=s.props,D=S.model,I=S.graphModel,V=I.getPointByClient({x:x.clientX,y:x.clientY});I.setElementStateById(D.id,gn.SHOW_MENU,V.domOverlayPosition),s.toFront(),D.isSelected||I.selectEdgeById(D.id);var J=D==null?void 0:D.getData();I.eventCenter.emit(dt.EDGE_CONTEXTMENU,{data:J,e:x,position:V})})),na(Mi(s),"handleMouseDown",(function(x){x.stopPropagation(),s.startTime=new Date().getTime()})),na(Mi(s),"handleMouseUp",(function(x){if(s.startTime&&!(new Date().getTime()-s.startTime>200||x.button===2)){var S=x.detail===2,D=s.props,I=D.model,V=D.graphModel,J=I==null?void 0:I.getData(),ne=V.getPointByClient({x:x.clientX,y:x.clientY});if(S){var be=V.editConfigModel,ge=V.textEditElement;if(ge&&ge.id===I.id&&V.setElementStateById(I.id,gn.DEFAULT),be.edgeTextEdit&&I.text.editable&&V.setElementStateById(I.id,gn.TEXT_EDIT),I.modelType===Kt.POLYLINE_EDGE){var xe=I,Ce=V.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Qe=Ce.x,Ze=Ce.y,mt=_s({x:Qe,y:Ze},xe.points);xe.dbClickPosition=mt}V.eventCenter.emit(dt.EDGE_DBCLICK,{data:J,e:x,position:ne})}else V.eventCenter.emit(dt.ELEMENT_CLICK,{data:J,e:x,position:ne}),V.eventCenter.emit(dt.EDGE_CLICK,{data:J,e:x,position:ne});var qe=V.editConfigModel;V.selectEdgeById(I.id,fs(x,qe)),s.toFront()}})),s}return e=c,(n=[{key:"getShape",value:function(){return Object(pe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var s=this.props,f=s.model,v=s.graphModel;if(f.state===gn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(f.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(pe.g)(lP,{ref:this.textRef,editable:x.edgeTextEdit&&f.text.editable,model:f,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=s.startPoint,v=s.endPoint,b=s.isSelected;return{start:f,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model;return[s.startPoint,s.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var s=this.props.model,f=s.id,v=s.getArrowStyle(),b=v.refY,x=b===void 0?0:b,S=v.refX,D=S===void 0?2:S,I=gP(this.getLastTwoPoints(),2),V=I[0],J=I[1],ne="auto";return V!==null&&J!==null&&(ne=Df(kf({x:J.x-V.x,y:J.y-V.y,z:0}))),Object(pe.g)("g",null,Object(pe.g)("defs",null,Object(pe.g)("marker",{id:"marker-start-".concat(f),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(pe.g)("marker",{id:"marker-end-".concat(f),refX:D,refY:x,overflow:"visible",orient:ne,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var s=this.props.model.getArrowStyle();return s.stroke,s.strokeWidth,s.offset,s.verticalLength,Object(pe.g)("path",null)}},{key:"getEndArrow",value:function(){var s=this.props.model.getArrowStyle(),f=s.stroke,v=s.strokeWidth,b=s.offset,x=s.verticalLength;return Object(pe.g)("path",{stroke:f,fill:f,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(s,f,v){var b=v.getAdjustPointStyle();return Object(pe.g)(Yc,ap({className:"lf-edge-adjust-point"},b,{x:s,y:f}))}},{key:"getAdjustPoints",value:function(){var s=this.props,f=s.model,v=s.graphModel,b=f.getAdjustStart(),x=f.getAdjustEnd();return Object(pe.g)("g",null,Object(pe.g)(J0,ap({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:v})),Object(pe.g)(J0,ap({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:f,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(pe.g)("g",null)}},{key:"getAppend",value:function(){return Object(pe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var s=this.props,f=s.graphModel,v=s.model;f.toFront(v.id)}},{key:"render",value:function(){var s=this.props,f=s.model,v=f.isSelected,b=f.isHitable,x=f.isShowAdjustPoint;return s.graphModel.animation,Object(pe.g)("g",null,Object(pe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&mP(e.prototype,n),c})(pe.a);function ab(t){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function wP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return eO(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return eO(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sp=function(t){var e={d:""};return Object.entries(t).forEach((function(n){var r=wP(n,2),c=r[0],s=r[1],f=ab(s);c!=="style"&&f==="object"||(e[c]=s)})),Object(pe.g)("path",e)};function ub(t){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function sb(){return sb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function xP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cb(t,e){return cb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cb(t,e)}function SP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=jh(t);if(e){var c=jh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(t,e){if(e&&(ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}var lb=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&cb(s,f)})(c,t);var e,n,r=SP(c);function c(){return xP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.startPoint,v=s.endPoint,b=s.isAnimation,x=s.arrowConfig,S=s.getEdgeStyle(),D=s.getEdgeAnimationStyle(),I=D.strokeDasharray,V=D.stroke,J=D.strokeDashoffset,ne=D.animationName,be=D.animationDuration,ge=D.animationIterationCount,xe=D.animationTimingFunction,Ce=D.animationDirection;return Object(pe.g)(Hc,sb({},S,{x1:f.x,y1:f.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:I,stroke:V,style:{strokeDashoffset:J,animationName:ne,animationDuration:be,animationIterationCount:ge,animationTimingFunction:xe,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model,f=s.startPoint,v=s.endPoint,b=Id({start:f,end:v}),x=b.d,S=b.strokeWidth,D=b.fill,I=b.strokeDasharray,V=b.stroke;return Object(pe.g)(sp,{d:x,fill:D,strokeWidth:S,stroke:V,strokeDasharray:I})}}])&&EP(e.prototype,n),c})(up);function fb(t){return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function PP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return tO(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return tO(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AP=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(n){var r=PP(n,2),c=r[0],s=r[1];(c==="style"||fb(s)!=="object")&&(e[c]=s)})),Object(pe.g)("polyline",e)};function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach((function(r){ka(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function db(){return db=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function MP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return rO(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return rO(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hb(t,e){return hb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hb(t,e)}function kP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Ah(t);if(e){var c=Ah(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return DP(this,n)}}function DP(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ta(t)}function Ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}function ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yb=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&hb(s,f)})(c,t);var e,n,r=kP(c);function c(){var s;return(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c),ka(Ta(s=r.call(this)),"drag",void 0),ka(Ta(s),"isDragging",void 0),ka(Ta(s),"isShowAdjustPointTemp",void 0),ka(Ta(s),"appendInfo",void 0),ka(Ta(s),"onDragStart",(function(){var f=s.props.model;f.dragAppendStart(),s.isShowAdjustPointTemp=f.isShowAdjustPoint,f.isShowAdjustPoint=!1})),ka(Ta(s),"onDragging",(function(f){var v=f.deltaX,b=f.deltaY,x=s.props,S=x.model,D=x.graphModel;s.isDragging=!0;var I=D.transformModel,V=D.editConfigModel,J=MP(I.fixDeltaXY(v,b),2),ne=J[0],be=J[1],ge=S,xe=V.adjustEdgeMiddle;s.appendInfo=xe?ge.dragAppendSimple(s.appendInfo,{x:ne,y:be}):ge.dragAppend(s.appendInfo,{x:ne,y:be})})),ka(Ta(s),"onDragEnd",(function(){var f=s.props,v=f.model,b=f.graphModel.eventCenter,x=v;x.dragAppendEnd(),s.isDragging=!1,x.isShowAdjustPoint=s.isShowAdjustPointTemp,s.appendInfo=void 0,b.emit(dt.EDGE_ADJUST,{data:x.getData()})})),ka(Ta(s),"beforeDragStart",(function(f,v){v.dragAble&&s.drag.handleMouseDown(f),s.appendInfo=v})),s.drag=new bo({onDragStart:s.onDragStart,onDragging:s.onDragging,onDragEnd:s.onDragEnd,isStopPropagation:!1}),s}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.points,v=s.isAnimation,b=s.arrowConfig,x=s.getEdgeStyle(),S=s.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,V=S.strokeDashoffset,J=S.animationName,ne=S.animationDuration,be=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(AP,db({points:f},x,b,v?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:V,animationName:J,animationDuration:ne,animationIterationCount:be,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=s.points,v=s.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=wi(f);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var s=this.props.model.points,f=wi(s);return f.length>=2?[f[f.length-2],f[f.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(s){var f,v=s.start,b=s.end;if(v.x===b.x&&v.y===b.y)f="";else{var x={start:v,end:b,offset:10,verticalLength:5},S=pu(Ph(Ph({},x),{},{type:"start"})),D=pu(Ph(Ph({},x),{},{type:"end"}));f="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:f,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(s){var f=this.getAppendAttributes(s),v=f.d,b=f.strokeWidth,x=f.fill,S=f.strokeDasharray,D=f.stroke;return Object(pe.g)(sp,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var s=this,f=this.props,v=f.model,b=f.graphModel,x=v.pointsList,S=v.draggable,D=[],I=x.length,V=function(ne){var be="lf-polyline-append",ge={start:{x:x[ne].x,y:x[ne].y},end:{x:x[ne+1].x,y:x[ne+1].y},startIndex:ne,endIndex:ne+1,direction:"",dragAble:!0},xe=Object(pe.g)("g",{className:be},s.getAppendShape(ge)),Ce=b.editConfigModel,Qe=Ce.adjustEdge,Ze=Ce.adjustEdgeMiddle;if(Qe&&S){var mt=ge.startIndex,qe=ge.endIndex,yt=Ze&&(mt===0||qe===I-1);ge.dragAble=!yt,ge.start.x===ge.end.x?(ge.dragAble&&(be+="-ew-resize"),ge.direction=An.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(be+="-ns-resize"),ge.direction=An.HORIZONTAL),xe=Object(pe.g)("g",{className:s.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(nt){return s.beforeDragStart(nt,ge)}},Object(pe.g)("g",{className:be},s.getAppendShape(ge)))}D.push(xe)},J=0;J<I-1;J++)V(J);return Object(pe.g)("g",null,D)}}])&&TP(e.prototype,n),c})(up);function vb(t){return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function NP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return oO(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return oO(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gb(){return gb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function RP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bb(t,e){return bb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bb(t,e)}function IP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Mh(t);if(e){var c=Mh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return LP(this,n)}}function LP(t,e){if(e&&(vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}var mb=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&bb(s,f)})(c,t);var e,n,r=IP(c);function c(){return RP(this,c),r.apply(this,arguments)}return e=c,(n=[{key:"getEdge",value:function(){var s=this.props.model,f=s.getEdgeStyle(),v=s.path,b=s.isAnimation,x=s.arrowConfig,S=s.getEdgeAnimationStyle(),D=S.strokeDasharray,I=S.stroke,V=S.strokeDashoffset,J=S.animationName,ne=S.animationDuration,be=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(pe.g)(sp,gb({d:v},f,x,b?{strokeDasharray:D,stroke:I,style:{strokeDashoffset:V,animationName:J,animationDuration:ne,animationIterationCount:be,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var s=this.props.model.path;return Object(pe.g)(sp,{d:s,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var s=this.props.model,f=this.state.hover,v=s.isSelected,b=s.getArrowStyle().offset,x=s.pointsList.map((function(D){return{x:D.x,y:D.y}})),S=NP(Gf(x,b),2);return{start:S[0],end:S[1],hover:f,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var s=this.props.model,f=s.getArrowStyle().offset,v=s.pointsList.map((function(b){return{x:b.x,y:b.y}}));return Gf(v,f)}}])&&CP(e.prototype,n),c})(up);function _b(t){return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function zP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ob(t,e){return Ob=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ob(t,e)}function WP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Th(t);if(e){var c=Th(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return $P(this,n)}}function $P(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n})(t)}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}var UP=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ob(s,f)})(c,t);var e,n,r=WP(c);function c(){return BP(this,c),r.apply(this,arguments)}return e=c,n=[{key:"getArrowAttributes",value:function(){var s=this.props,f=s.arrowInfo,v=s.style,b=f.start,x=f.end,S={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=pu(S),I=D.leftX,V=D.leftY,J=D.rightX,ne=D.rightY;return(function(be){for(var ge=1;ge<arguments.length;ge++){var xe=arguments[ge]!=null?arguments[ge]:{};ge%2?iO(Object(xe),!0).forEach((function(Ce){zP(be,Ce,xe[Ce])})):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(xe)):iO(Object(xe)).forEach((function(Ce){Object.defineProperty(be,Ce,Object.getOwnPropertyDescriptor(xe,Ce))}))}return be})({d:"M".concat(I," ").concat(V," L").concat(x.x," ").concat(x.y," L").concat(J," ").concat(ne," z")},v)}},{key:"getShape",value:function(){var s=this.getArrowAttributes(),f=s.d,v=s.strokeWidth,b=s.stroke,x=s.fill;return Object(pe.g)(sp,{d:f,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(pe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&FP(e.prototype,n),c})(pe.a),aO=function(t,e){return Se(t,e)},GP=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},wb=function(){return pt.a.Date.now()},HP=Math.max,XP=Math.min,YP=function(t,e,n){var r,c,s,f,v,b,x=0,S=!1,D=!1,I=!0;if(typeof t!="function")throw new TypeError("Expected a function");function V(Ce){var Qe=r,Ze=c;return r=c=void 0,x=Ce,f=t.apply(Ze,Qe)}function J(Ce){return x=Ce,v=setTimeout(be,e),S?V(Ce):f}function ne(Ce){var Qe=Ce-b;return b===void 0||Qe>=e||Qe<0||D&&Ce-x>=s}function be(){var Ce=wb();if(ne(Ce))return ge(Ce);v=setTimeout(be,(function(Qe){var Ze=e-(Qe-b);return D?XP(Ze,s-(Qe-x)):Ze})(Ce))}function ge(Ce){return v=void 0,I&&r?V(Ce):(r=c=void 0,f)}function xe(){var Ce=wb(),Qe=ne(Ce);if(r=arguments,c=this,b=Ce,Qe){if(v===void 0)return J(b);if(D)return clearTimeout(v),v=setTimeout(be,e),V(b)}return v===void 0&&(v=setTimeout(be,e)),f}return e=wc(e)||0,Cn(n)&&(S=!!n.leading,s=(D="maxWait"in n)?HP(wc(n.maxWait)||0,e):s,I="trailing"in n?!!n.trailing:I),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=c=v=void 0},xe.flush=function(){return v===void 0?f:ge(wb())},xe},VP=o(172);function KP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uO,sO,cO,qP=(function(){function t(r){(function(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),xu(this,"undos",[]),xu(this,"redos",[]),xu(this,"callbacks",[]),xu(this,"stopWatch",null),xu(this,"curData",null),xu(this,"maxSize",50),xu(this,"waitTime",100),xu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){aO(GP(this.undos),r)||(this.undos.push(r),aO(this.curData,r)||(this.redos=[]),this.eventCenter.emit(dt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var c=this.undos.pop();return this.curData=mn(c),c}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=mn(r),r}}},{key:"watch",value:function(r){var c=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(VP.a)(r,YP((function(){var s=r.modelToHistoryData();s&&c.add(s)}),this.waitTime))}}])&&KP(e.prototype,n),t})();function xb(t){return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function ZP(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||(function(n,r){if(n){if(typeof n=="string")return lO(n,r);var c=Object.prototype.toString.call(n).slice(8,-1);if(c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set")return Array.from(n);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return lO(n,r)}})(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach((function(r){Rs(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eb(t,e){return Eb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eb(t,e)}function JP(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=kh(t);if(e){var c=kh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return QP(this,n)}}function QP(t,e){if(e&&(xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ol(t)}function ol(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}function Rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dO,hO,yO,Sb=Ti((cO=sO=(function(t){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),v&&Eb(f,v)})(s,t);var e,n,r,c=JP(s);function s(){var f;return(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,s),Rs(ol(f=c.call(this)),"ref",Object(pe.f)()),Rs(ol(f),"__prevText",{type:"",text:"",id:""}),Rs(ol(f),"keyupHandler",(function(v){var b=f.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)})),Rs(ol(f),"inputHandler",(function(v){var b=v.target.innerText,x=f.props.graphModel.textEditElement;f.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}})),Rs(ol(f),"keydownHandler",(function(v){v.stopPropagation()})),f.state={style:{left:0,top:0}},f}return e=s,r=[{key:"getDerivedStateFromProps",value:function(f){var v,b=f.graphModel,x=b.transformModel,S=b.theme,D=S.inputText,I=b.textEditElement;if(I){var V;if((V=I.text)===null||V===void 0||!V.value)if(I.BaseType===Zn.EDGE){var J=(I=I).text,ne=I.textPosition,be=ne.x,ge=ne.y;J.x=be,J.y=ge,I.setText(J)}else I=I;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(I.BaseType===Zn.EDGE){var Ce=S.edgeText,Qe=Ce.overflowMode,Ze=Ce.lineHeight,mt=Ce.wrapPadding,qe=Ce.textWidth;qe&&Qe==="autoWrap"&&(v=Ns(Ns({},xe),{},{width:qe,minWidth:qe,lineHeight:Ze,padding:mt}))}else if(I.BaseType===Zn.NODE){var yt=S.nodeText,nt=yt.overflowMode,Qt=yt.lineHeight,on=yt.wrapPadding,Rt=yt.textWidth,fn=I,Qn=fn.width,er=fn.modelType,Fr=fn.textWidth||Rt||Qn;(er!==Kt.TEXT_NODE&&nt==="autoWrap"||er===Kt.TEXT_NODE&&Rt)&&(v=Ns(Ns({},xe),{},{width:Fr,minWidth:Fr,lineHeight:Qt,padding:on}))}var Co=I.text,Io=Co.x,ra=Co.y,Cs=ZP(x.CanvasPointToHtmlPoint([Io,ra]),2);return{style:Ns(Ns({left:Cs[0],top:Cs[1]},v),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var f=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;f.updateText(x,b),f.eventCenter.emit(dt.TEXT_UPDATE,Ns({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(f){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(f),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var f,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(pe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(f=v.text)===null||f===void 0?void 0:f.value):null}}])&&pO(e.prototype,n),r&&pO(e,r),s})(pe.a),Rs(sO,"toolName","textEdit"),uO=cO))||uO,eA=function(t){return t.modelType===Kt.LINE_EDGE?(function(e){var n=e.startPoint,r=e.endPoint,c=(n.x+r.x)/2,s=(n.y+r.y)/2,f=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:c-f/2,y:s-v/2,x1:c+f/2,y1:s+v/2}})(t):t.modelType===Kt.POLYLINE_EDGE?(function(e){var n=e.points,r=wi(n),c=Oa(r,8),s=c.x,f=c.y,v=c.width,b=c.height;return{x:s-v/2,y:f-b/2,x1:s+v/2,y1:f+b/2}})(t):t.modelType===Kt.BEZIER_EDGE?(function(e){var n=e.path,r=bs(n),c=Oa(r,8),s=c.x,f=c.y,v=c.width,b=c.height;return{x:s-v/2,y:f-b/2,x1:s+v/2,y1:f+b/2}})(t):void 0};function jb(t){return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function vO(t,e){return(function(n){if(Array.isArray(n))return n})(t)||(function(n,r){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var s,f,v=[],b=!0,x=!1;try{for(c=c.call(n);!(b=(s=c.next()).done)&&(v.push(s.value),!r||v.length!==r);b=!0);}catch(S){x=!0,f=S}finally{try{b||c.return==null||c.return()}finally{if(x)throw f}}return v}})(t,e)||gO(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function tA(t){return(function(e){if(Array.isArray(e))return Pb(e)})(t)||(function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||gO(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function gO(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(t,e):void 0}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ab(t,e){return Ab=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ab(t,e)}function rA(t){var e=(function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}})();return function(){var n,r=Dh(t);if(e){var c=Dh(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return oA(this,n)}}function oA(t,e){if(e&&(jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return il(t)}function il(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}function al(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mb=Ti((yO=hO=(function(t){(function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),f&&Ab(s,f)})(c,t);var e,n,r=rA(c);function c(s){var f;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c),al(il(f=r.call(this)),"stepDrag",void 0),al(il(f),"handleMouseDown",(function(S){f.stepDrag.handleMouseDown(S)})),al(il(f),"handleWheelEvent",(function(S){var D,I;S.preventDefault();var V=S.deltaX,J=S.deltaY,ne=S.clientX,be=S.clientY,ge=S.ctrlKey,xe=new WheelEvent("wheel",{deltaX:V,deltaY:J,clientX:ne,clientY:be,ctrlKey:ge});(D=f.props.logicFlow.container)===null||D===void 0||(I=D.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||I===void 0||I.dispatchEvent(xe)})),al(il(f),"onDragging",(function(S){var D=S.deltaX,I=S.deltaY,V=f.props.graphModel,J=V.getSelectElements(!0);V.moveNodes(J.nodes.map((function(ne){return ne.id})),D,I)})),al(il(f),"handleContextMenu",(function(S){S.preventDefault();var D=f.props,I=D.graphModel,V=D.graphModel,J=V.eventCenter,ne=V.selectElements,be=I.getPointByClient({x:S.clientX,y:S.clientY}),ge={nodes:[],edges:[]};tA(ne.values()).forEach((function(xe){xe.BaseType===Zn.NODE&&ge.nodes.push(xe.getData()),xe.BaseType===Zn.EDGE&&ge.edges.push(xe.getData())})),J.emit(dt.SELECTION_CONTEXTMENU,{data:ge,e:S,position:be})}));var v=s.graphModel,b=v.gridSize,x=v.eventCenter;return f.stepDrag=new bo({onDragging:f.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),f}return e=c,(n=[{key:"render",value:function(){var s=this.props.graphModel,f=s.selectElements,v=s.transformModel;if(!(f.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;f.forEach((function(ne){var be={x:0,y:0,x1:0,y1:0};ne.BaseType===Zn.NODE&&(be=(function(ge){var xe=ge.x,Ce=ge.y,Qe=ge.width,Ze=ge.height;return{x:xe-Qe/2,y:Ce-Ze/2,x1:xe+Qe/2,y1:Ce+Ze/2}})(ne)),ne.BaseType===Zn.EDGE&&(be=eA(ne)),b=Math.min(b,be.x),x=Math.min(x,be.y),S=Math.max(S,be.x1),D=Math.max(D,be.y1)}));var I=vO(v.CanvasPointToHtmlPoint([b,x]),2);b=I[0],x=I[1];var V=vO(v.CanvasPointToHtmlPoint([S,D]),2);S=V[0],D=V[1];var J={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(pe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&nA(e.prototype,n),c})(pe.a),al(hO,"toolName","multipleSelect"),dO=yO))||dO;function iA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aA=(function(){function t(r){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),Nh(this,"tools",void 0),Nh(this,"components",void 0),Nh(this,"toolMap",new Map),Nh(this,"instance",void 0),this.instance=r,this.isDisabledTool(Sb.toolName)||this.registerTool(Sb.toolName,Sb),this.isDisabledTool(Mb.toolName)||this.registerTool(Mb.toolName,Mb);var c=r.graphModel;c.eventCenter.on("".concat(dt.GRAPH_TRANSFORM,",").concat(dt.NODE_CLICK,",").concat(dt.BLANK_CLICK," "),(function(){var s=c.textEditElement,f=c.editConfigModel,v=f.edgeTextEdit,b=f.nodeTextEdit;(v||b)&&s&&c.textEditElement.setElementState(gn.DEFAULT)}))}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,c){this.toolMap.set(r,c)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&iA(e.prototype,n),t})(),uA=o(173),sA=o.n(uA);function cA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bO=(function(){function t(r){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),Tb(this,"mousetrap",void 0),Tb(this,"options",void 0),Tb(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var c=r.lf;this.target=c.container,this.mousetrap=new sA.a(this.target),r.keyboard.enabled&&!c.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,c=this.options.keyboard.shortcuts;if(c)if(En(c))c.forEach((function(b){var x=b.keys,S=b.callback,D=b.action;return r.on(x,S,D)}));else{var s=c.keys,f=c.callback,v=c.action;this.on(s,f,v)}}},{key:"on",value:function(r,c,s){this.mousetrap.bind(this.getKeys(r),c,s)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,c){this.mousetrap.unbind(this.getKeys(r),c)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var c=this;return(Array.isArray(r)?r:[r]).map((function(s){return c.formatKey(s)}))}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&cA(e.prototype,n),t})(),lA=bO,Da=null;function mO(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function _O(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(n){n.x+=e,n.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}var ul=40,kb=40;function Db(t){return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach((function(r){Kn(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nb=Symbol("plugin register by Logicflow.use"),Rb=(function(){function t(c){var s,f,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Kn(this,"container",void 0),Kn(this,"width",void 0),Kn(this,"height",void 0),Kn(this,"graphModel",void 0),Kn(this,"history",void 0),Kn(this,"viewMap",new Map),Kn(this,"tool",void 0),Kn(this,"keyboard",void 0),Kn(this,"dnd",void 0),Kn(this,"options",void 0),Kn(this,"snaplineModel",void 0),Kn(this,"components",[]),Kn(this,"plugins",void 0),Kn(this,"extension",{}),Kn(this,"adapterIn",void 0),Kn(this,"adapterOut",void 0),Kn(this,"getView",(function(b){return v.viewMap.get(b)})),c=b_(c),this.options=c,this.container=this.initContainer(c.container),this.plugins=c.plugins,this.graphModel=new vE(cp({},c)),this.tool=new aA(this),this.history=new qP(this.graphModel.eventCenter),this.dnd=new dS({lf:this}),this.keyboard=new lA({lf:this,keyboard:c.keyboard}),c.snapline!==!1&&(this.snaplineModel=new D0(this.graphModel),s=this.graphModel.eventCenter,f=this.snaplineModel,s.on("node:mousemove",(function(b){var x=b.data;f.setNodeSnapLine(x)})),s.on("node:mouseup",(function(){f.clearSnapline()}))),(function(b,x){var S=b.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],(function(){if(kb=ul,!D.enabled||x.textEditElement)return!0;var I=b.options.guards,V=x.getSelectElements(!1);return I&&I.beforeClone&&!I.beforeClone(V)||V.nodes.length===0&&V.edges.length===0?(Da=null,!0):((Da=V).nodes.forEach((function(J){return mO(J,ul)})),Da.edges.forEach((function(J){return _O(J,ul)})),!1)})),S.on(["cmd + v","ctrl + v"],(function(){if(!D.enabled||x.textEditElement)return!0;if(Da&&(Da.nodes||Da.edges)){b.clearSelectElements();var I=b.addElements(Da,kb);if(!I)return!0;I.nodes.forEach((function(V){return b.selectElementById(V.id,!0)})),I.edges.forEach((function(V){return b.selectElementById(V.id,!0)})),Da.nodes.forEach((function(V){return mO(V,ul)})),Da.edges.forEach((function(V){return _O(V,ul)})),kb+=ul}return!1})),S.on(["cmd + z","ctrl + z"],(function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)})),S.on(["cmd + y","ctrl + y"],(function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)})),S.on(["backspace"],(function(){if(!D.enabled||x.textEditElement)return!0;var I=x.getSelectElements(!0);return b.clearSelectElements(),I.edges.forEach((function(V){return b.deleteEdge(V.id)})),I.nodes.forEach((function(V){return b.deleteNode(V.id)})),!1}))})(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(c.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(c,s){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof c=="string"){var v={BaseEdge:up,BaseEdgeModel:xf,BaseNode:Aa,BaseNodeModel:Pa,RectNode:Sg,RectNodeModel:ng,CircleNode:Mg,CircleNodeModel:Lv,PolygonNode:Rg,PolygonNodeModel:Jv,TextNode:Xg,TextNodeModel:ag,LineEdge:lb,LineEdgeModel:Ic,DiamondNode:zg,DiamondNodeModel:$v,PolylineEdge:yb,PolylineEdgeModel:go,BezierEdge:mb,BezierEdgeModel:kv,EllipseNode:Ug,EllipseNodeModel:Xv,HtmlNode:qg,HtmlNodeModel:cg,h:pe.g,type:c};this.viewMap.forEach((function(I){var V=I.extendKey;V&&(v[V]=I)})),this.graphModel.modelMap.forEach((function(I){var V=I.extendKey;V&&(v[V]=I)}));var b=s(v),x=b.view,S=b.model,D=x;f&&!D.isObervered&&(D.isObervered=!0,D=lt(D)),this.setView(c,D),this.graphModel.setModel(c,S)}else this.registerElement(c)}},{key:"registerElement",value:function(c){var s=c.view;c.isObserverView===!1||s.isObervered||(s.isObervered=!0,s=lt(s)),this.setView(c.type,s),this.graphModel.setModel(c.type,c.model)}},{key:"batchRegister",value:function(){var c=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach((function(f){c.registerElement(f)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:Sg,model:ng,type:"rect"}),this.registerElement({type:"circle",view:Mg,model:Lv}),this.registerElement({type:"polygon",view:Rg,model:Jv}),this.registerElement({type:"line",view:lb,model:Ic}),this.registerElement({type:"polyline",view:yb,model:go}),this.registerElement({type:"bezier",view:mb,model:kv}),this.registerElement({type:"text",view:Xg,model:ag}),this.registerElement({type:"ellipse",view:Ug,model:Xv}),this.registerElement({type:"diamond",view:zg,model:$v}),this.registerElement({type:"html",view:qg,model:cg})}},{key:"selectElementById",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(c,s),!s&&f&&this.graphModel.toFront(c)}},{key:"focusOn",value:function(c){var s=this.graphModel.transformModel,f=c.coordinate,v=c.id;if(!f){var b=this.getNodeModelById(v);b&&(f=b.getData());var x=this.getEdgeModelById(v);x&&(f=x.textPosition)}var S=f,D=S.x,I=S.y;s.focusOn(D,I,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(c){this.graphModel.setTheme(c)}},{key:"resize",value:function(c,s){this.graphModel.resize(c,s),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(c){this.graphModel.setDefaultEdgeType(c)}},{key:"updateText",value:function(c,s){this.graphModel.updateText(c,s)}},{key:"deleteElement",value:function(c){var s,f,v,b=this.getModelById(c);return!!b&&(f=(v=(Kn(s={},Zn.NODE,this.deleteNode),Kn(s,Zn.EDGE,this.deleteEdge),s)[b.BaseType])===null||v===void 0?void 0:v.call(this,c))!==null&&f!==void 0&&f}},{key:"getModelById",value:function(c){return this.graphModel.getElement(c)}},{key:"getDataById",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getData()}},{key:"changeNodeType",value:function(c,s){this.graphModel.changeNodeType(c,s)}},{key:"changeEdgeType",value:function(c,s){this.graphModel.changeEdgeType(c,s)}},{key:"getNodeEdges",value:function(c){return this.graphModel.getNodeEdges(c)}},{key:"addNode",value:function(c){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,f=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(c,s,f)}},{key:"deleteNode",value:function(c){var s=this.graphModel.getNodeModelById(c);if(!s)return!1;var f=s.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(f);return b&&this.graphModel.deleteNode(c),b}},{key:"cloneNode",value:function(c){var s=this.graphModel.getNodeModelById(c).getData(),f=this.options.guards;if(!f||!f.beforeClone||f.beforeClone(s))return this.graphModel.cloneNode(c)}},{key:"changeNodeId",value:function(c,s){return this.graphModel.changeNodeId(c,s)}},{key:"getNodeModelById",value:function(c){return this.graphModel.getNodeModelById(c)}},{key:"getNodeDataById",value:function(c){var s;return(s=this.graphModel.getNodeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"addEdge",value:function(c){return this.graphModel.addEdge(c)}},{key:"deleteEdge",value:function(c){var s=this.options.guards,f=this.graphModel.edgesMap[c];if(!f)return!1;var v=f.model.getData(),b=!s||!s.beforeDelete||s.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(c),b}},{key:"deleteEdgeByNodeId",value:function(c){var s=c.sourceNodeId,f=c.targetNodeId;s&&f?this.graphModel.deleteEdgeBySourceAndTarget(s,f):s?this.graphModel.deleteEdgeBySource(s):f&&this.graphModel.deleteEdgeByTarget(f)}},{key:"changeEdgeId",value:function(c,s){return this.graphModel.changeEdgeId(c,s)}},{key:"getEdgeModelById",value:function(c){var s;return(s=this.graphModel.edgesMap[c])===null||s===void 0?void 0:s.model}},{key:"getEdgeModels",value:function(c){var s=this.graphModel.edges,f=c.sourceNodeId,v=c.targetNodeId;if(f&&v){var b=[];return s.forEach((function(D){D.sourceNodeId===f&&D.targetNodeId===v&&b.push(D)})),b}if(f){var x=[];return s.forEach((function(D){D.sourceNodeId===f&&x.push(D)})),x}if(v){var S=[];return s.forEach((function(D){D.targetNodeId===v&&S.push(D)})),S}return[]}},{key:"getEdgeDataById",value:function(c){var s;return(s=this.getEdgeModelById(c))===null||s===void 0?void 0:s.getData()}},{key:"getNodeIncomingEdge",value:function(c){return this.graphModel.getNodeIncomingEdge(c)}},{key:"getNodeOutgoingEdge",value:function(c){return this.graphModel.getNodeOutgoingEdge(c)}},{key:"getNodeIncomingNode",value:function(c){return this.graphModel.getNodeIncomingNode(c)}},{key:"getNodeOutgoingNode",value:function(c){return this.graphModel.getNodeOutgoingNode(c)}},{key:"editText",value:function(c){this.graphModel.editText(c)}},{key:"setProperties",value:function(c,s){var f;(f=this.graphModel.getElement(c))===null||f===void 0||f.setProperties(jr(s))}},{key:"deleteProperty",value:function(c,s){var f;(f=this.graphModel.getElement(c))===null||f===void 0||f.deleteProperty(s)}},{key:"getProperties",value:function(c){var s;return(s=this.graphModel.getElement(c))===null||s===void 0?void 0:s.getProperties()}},{key:"toFront",value:function(c){this.graphModel.toFront(c)}},{key:"setElementZIndex",value:function(c,s){return this.graphModel.setElementZIndex(c,s)}},{key:"addElements",value:function(c){for(var s=this,f=c.nodes,v=c.edges,b={},x={nodes:[],edges:[]},S=0;S<f.length;S++){var D=f[S],I=D.id,V=this.addNode(D);if(!V)return;I&&(b[I]=V.id),x.nodes.push(V)}return v.forEach((function(J){var ne=J.sourceNodeId,be=J.targetNodeId;b[ne]&&(ne=b[ne]),b[be]&&(be=b[be]);var ge=s.graphModel.addEdge(cp(cp({},J),{},{sourceNodeId:ne,targetNodeId:be}));x.edges.push(ge)})),x}},{key:"getAreaElement",value:function(c,s){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(c,s,f,v,b).map((function(x){return x.getData()}))}},{key:"getSelectElements",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(c)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var c=this.graphModel.modelToGraphData();if(this.adapterOut){for(var s=arguments.length,f=new Array(s),v=0;v<s;v++)f[v]=arguments[v];return this.adapterOut.apply(this,[c].concat(f))}return c}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(c){var s=this.graphModel,f=s.editConfigModel,v=s.transformModel;f.updateEditConfig(c),(c==null?void 0:c.stopMoveGraph)!==void 0&&v.updateTranslateLimits(c.stopMoveGraph),c!=null&&c.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(c,s){return this.graphModel.getPointByClient({x:c,y:s})}},{key:"undo",value:function(){if(this.history.undoAble()){var c=jr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"redo",value:function(){if(this.history.redoAble()){var c=jr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(c)}}},{key:"zoom",value:function(c,s){return this.graphModel.transformModel.zoom(c,s)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(c){this.graphModel.transformModel.setZoomMiniSize(c)}},{key:"setZoomMaxSize",value:function(c){this.graphModel.transformModel.setZoomMaxSize(c)}},{key:"getTransform",value:function(){var c=this.graphModel.transformModel;return{SCALE_X:c.SCALE_X,SCALE_Y:c.SCALE_Y,TRANSLATE_X:c.TRANSLATE_X,TRANSLATE_Y:c.TRANSLATE_Y}}},{key:"translate",value:function(c,s){this.graphModel.transformModel.translate(c,s)}},{key:"resetTranslate",value:function(){var c=this.graphModel.transformModel,s=c.TRANSLATE_X,f=c.TRANSLATE_Y;this.translate(-s,-f)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(c,s){s===void 0&&(s=c),this.graphModel.fitView(c,s)}},{key:"openEdgeAnimation",value:function(c){this.graphModel.openEdgeAnimation(c)}},{key:"closeEdgeAnimation",value:function(c){this.graphModel.closeEdgeAnimation(c)}},{key:"on",value:function(c,s){this.graphModel.eventCenter.on(c,s)}},{key:"off",value:function(c,s){this.graphModel.eventCenter.off(c,s)}},{key:"once",value:function(c,s){this.graphModel.eventCenter.once(c,s)}},{key:"emit",value:function(c,s){this.graphModel.eventCenter.emit(c,s)}},{key:"initContainer",value:function(c){var s=document.createElement("div");return s.style.position="relative",s.style.width="100%",s.style.height="100%",c.innerHTML="",c.appendChild(s),s}},{key:"installPlugins",value:function(){var c,s=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(c=this.plugins)!==null&&c!==void 0?c:t.extensions;v.forEach((function(b){var x=null,S=null;b[Nb]?(x=b.extension,S=b.props):x=b;var D=x.pluginName||x.name;f.indexOf(D)===-1&&s.installPlugin(x,S)}))}},{key:"installPlugin",value:function(c,s){if(Db(c)==="object"){var f=c.install,v=c.render;return f&&f.call(c,this,t),v&&this.components.push(v.bind(c)),void(this.extension[c.pluginName]=c)}var b=c,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:s});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(c,s){this.graphModel.updateAttributes(c,s)}},{key:"createFakerNode",value:function(c){var s=this.graphModel.modelMap.get(c.type);if(s){var f=new s(cp(cp({},c),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(f),f}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(c){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(c)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(c,s){this.viewMap.set(c,s)}},{key:"renderRawData",value:function(c){this.graphModel.graphDataToModel(jr(c)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(pe.j)(Object(pe.g)(fS,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(dt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(c=this.adapterIn(c)),this.renderRawData(c)}}],r=[{key:"use",value:function(c,s){var f,v,b=c.pluginName;b||(b=c.name);var x=(f=this.extensions.get(b))===null||f===void 0?void 0:f.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Kn(v={},Nb,Nb),Kn(v,"extension",c),Kn(v,"props",s),v))}}],n&&wO(e.prototype,n),r&&wO(e,r),t})();function Ti(t){return lt(t)}Kn(Rb,"extensions",new Map),p.default=Rb}])}))})(Bh,Bh.exports)),Bh.exports}var it=oL();const Fh=h2(it),iL=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];var aL=(function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i})(),uL=(globalThis==null?void 0:globalThis._ids)||new aL;function Ml(){return uL.next()}var Fx=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),sL=(function(i){Fx(u,i);function u(a,p){var o=this;return a.id||(a.id="Event_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedTargetRules=function(){var a=i.prototype.getConnectedTargetRules.call(this),p={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(p),a},u.extendKey="StartEventModel",u})(it.CircleNodeModel),cL=(function(i){Fx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="StartEventNode",u})(it.CircleNode),lL={type:"bpmn:startEvent",view:cL,model:sL},Wx=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),qh=function(){return qh=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},qh.apply(this,arguments)},fL=(function(i){Wx(u,i);function u(a,p){var o=this;return a.id||(a.id="Event_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedSourceRules=function(){var a=i.prototype.getConnectedSourceRules.call(this),p={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(p),a},u.extendKey="EndEventModel",u})(it.CircleNodeModel),pL=(function(i){Wx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},u.prototype.getShape=function(){var a=this.props.model,p=a.getNodeStyle(),o=a.x,d=a.y,h=a.r,m=i.prototype.getShape.call(this);return it.h("g",{},m,it.h("circle",qh(qh({},p),{cx:o,cy:d,r:h-5})))},u.extendKey="EndEventView",u})(it.CircleNode),dL={type:"bpmn:endEvent",view:pL,model:fL},$x=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),yp=function(){return yp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},yp.apply(this,arguments)},hL=(function(i){$x(u,i);function u(a,p){var o=this;return a.id||(a.id="Gateway_"+Ml()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,p)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return u.extendKey="ExclusiveGatewayModel",u})(it.PolygonNodeModel),yL=(function(i){$x(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.points,g=a.getNodeStyle();return it.h("g",{transform:"matrix(1 0 0 1 "+(p-d/2)+" "+(o-h/2)+")"},it.h("polygon",yp(yp({},g),{x:p,y:o,points:m})),it.h("path",yp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},u.extendKey="ExclusiveGatewayNode",u})(it.PolygonNode),vL={type:"bpmn:exclusiveGateway",view:yL,model:hL},Ux=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),Zh=function(){return Zh=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Zh.apply(this,arguments)},gL=(function(i){Ux(u,i);function u(a,p){var o=this;return a.id||(a.id="Activity_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="UserTaskModel",u})(it.RectNodeModel),bL=(function(i){Ux(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:p-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",Zh(Zh({},g),{x:p-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},u.extendKey="UserTaskNode",u})(it.RectNode),mL={type:"bpmn:userTask",view:bL,model:gL},Gx=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),qb=function(){return qb=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},qb.apply(this,arguments)},_L=(function(i){Gx(u,i);function u(a,p){var o=this;return a.id||(a.id="Activity_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="ServiceTaskModel",u})(it.RectNodeModel),OL=(function(i){Gx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:p-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},u.prototype.getShape=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",qb({x:p-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},g)),this.getLabelShape()])},u.extendKey="ServiceTaskNode",u})(it.RectNode),wL={type:"bpmn:serviceTask",view:OL,model:_L},Hx=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),xL=(function(i){Hx(u,i);function u(a,p){var o=this;return a.id||(a.id="Flow_"+Ml()),o=i.call(this,a,p)||this,o}return u.extendKey="SequenceFlowModel",u})(it.PolylineEdgeModel),EL=(function(i){Hx(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="SequenceFlowEdge",u})(it.PolylineEdge),SL={type:"bpmn:sequenceFlow",view:EL,model:xL},aw={width:40,height:40},uw={width:40,height:40},sw={width:40,height:40},cw={width:100,height:80},lw={width:100,height:80},jL={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},PL=(function(){function i(u){var a=u.lf;a.setTheme(jL),a.register(lL),a.register(dL),a.register(vL),a.register(mL),a.register(wL),a.options.customBpmnEdge||(a.register(SL),a.setDefaultEdgeType("bpmn:sequenceFlow"))}return i.pluginName="bpmnElement",i})(),AL=(function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i})(),ML=(globalThis==null?void 0:globalThis._ids)||new AL;function fw(){return ML.next()}function Xx(i){return Object.prototype.toString.call(i)}function TL(i){return"  ".repeat(i)}function Jh(i){var u=i;return Xx(i)==="[object Object]"?(u={},Object.keys(i).forEach(function(a){var p=a;a.charAt(0)==="-"&&(p=a.substring(1)),u[p]=Jh(i[a])})):Array.isArray(i)&&(u=[],i.forEach(function(a,p){u[p]=Jh(a)})),u}function kL(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(Jh(i)).replace(/"/g,"'")}return u}var cl=`	
`;function Gh(i,u,a){var p=TL(a),o="";if(u==="#text")return cl+p+i;if(u==="#cdata-section")return cl+p+"<![CDATA["+i+"]]>";if(u==="#comment")return cl+p+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+kL(i)+'"';if(Array.isArray(i))i.forEach(function(g){o+=Gh(g,u,a+1)});else if(Xx(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(a===0?"":cl+p)+"<"+u,d.forEach(function(g){g.charAt(0)==="-"?h+=Gh(i[g],g,a+1):m+=Gh(i[g],g,a+1)}),o+=h+(m!==""?">"+m+(cl+p)+"</"+u+">":" />")}else o+=cl+p+("<"+u+">"+i.toString()+"</"+u+">");return o}function DL(i){var u="";for(var a in i)u+=Gh(i[a],a,0);return u}var so=function(){};so.ObjTree=function(){return this};so.ObjTree.VERSION="0.23";so.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;so.ObjTree.prototype.attr_prefix="-";so.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,p=a.parseFromString(i,"application/xml");if(!p)return;u=p.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u)return this.parseDOM(u)};so.ObjTree.prototype.parseHTTP=function(i,u,a){var p={};for(var o in u)p[o]=u[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),a){p.asynchronous=!0;var d=this,h=a,m=p.onComplete;p.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=d.parseDOM(j.responseXML.documentElement)),h(P,j),m&&m(j)}}else p.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=i;var E=new HTTP.Request(p);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,p);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};so.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!=11){var p={};p[i.nodeName]=a,a=p}return a}};so.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,p={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}}else a===null&&(a={});return a}};so.ObjTree.prototype.addNode=function(i,u,a,p){this.__force_array[u]?(a==1&&(i[u]=[]),i[u][i[u].length]=p):a==1?i[u]=p:a==2?i[u]=[i[u],p]:i[u][i[u].length]=p};so.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};so.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],p=[];for(var o in u)if(u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!=this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=p.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};so.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],p=0;p<u.length;p++){var o=u[p];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};so.ObjTree.prototype.scalar_to_xml=function(i,u){return i=="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};so.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var NL=function(i){return new so.ObjTree().parseXML(i)},RL=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),Zb=function(){return Zb=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Zb.apply(this,arguments)},Sy=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},oa;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(oa||(oa={}));var Yx=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],pw=["properties","startPoint","endPoint","pointsList"];function dw(i){var u=i?pw.concat(i):pw;return function(a){function p(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return p(h)}):(Object.entries(o).forEach(function(h){var m=Sy(h,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?d[g]=E:d["-"+g]=E:u.includes(g)?d["-"+g]=p(E):d[g]=p(E)}),d)}return p(a)}}function Qh(i){var u={};return Object.entries(i).forEach(function(a){var p=Sy(a,2),o=p[0],d=p[1];o.indexOf("-")===0?u[o.substring(1)]=Jh(d):typeof d=="string"?u[o]=d:Object.prototype.toString.call(d)==="[object Object]"?u[o]=Qh(d):Array.isArray(d)?u[o]=d.map(function(h){return Qh(h)}):u[o]=d}),u}function CL(i,u,a){var p=new Map;u.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var g=dw(a)(d.properties);Object.assign(m,g)}p.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=u.edges.map(function(d){var h,m,g=p.get(d.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(d.id):g["bpmn:incoming"]=[g["bpmn:incoming"],d.id]:g["bpmn:incoming"]=d.id;var E={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(E["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var j=dw(a)(d.properties);Object.assign(E,j)}return E});u.edges.forEach(function(d){var h=p.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[oa.FLOW]=o}function IL(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var p,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((p=a.text)===null||p===void 0)&&p.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var p,o=a.id,d=100,h=80,m=a.x,g=a.y,E=Ru.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((p=a.text)===null||p===void 0)&&p.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}function LL(i){var u=[],a=[],p=i["bpmn:definitions"];if(p){var o=p["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===oa.FLOW){var m=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=BL(h,m)}else{var g=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];u=u.concat(zL(h,g,d))}}})}return{nodes:u,edges:a}}function zL(i,u,a){var p=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=hw(m,a,h);p.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=hw(o,a,i);p.push(d)}return p}function hw(i,u,a){var p=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-name"],h=Ru.shapeConfigMap.get(u);h&&(p+=h.width/2,o+=h.height/2);var m;Object.entries(a).forEach(function(P){var k=Sy(P,2),T=k[0],C=k[1];Yx.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=Qh(m));var g;if(d&&(g={x:p,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=i["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var j={id:i["-bpmnElement"],type:u,x:p,y:o,properties:m};return g&&(j.text=g),j}function BL(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(yw(d,o))});else{var p=void 0;Array.isArray(u)?p=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):p=u,a.push(yw(p,i))}return a}function yw(i,u){var a,p=u["-name"];if(p){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;p.split(`
`).forEach(function(g){d<g.length&&(d=g.length)}),a={value:p,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(u).forEach(function(g){var E=Sy(g,2),j=E[0],P=E[1];Yx.indexOf(j)===-1&&(h||(h={}),h[j]=P)}),h&&(h=Qh(h));var m={id:u["-id"],type:oa.FLOW,pointsList:i["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(m.text=a),m}var Ru=(function(){function i(u){var a=this,p=u.lf;this.adapterOut=function(o,d){var h=Zb({},a.processAttributes);CL(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};IL(m,o);var g=a.definitionAttributes;g["bpmn:process"]=h,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return LL(o)},p.adapterIn=function(o){return a.adapterIn(o)},p.adapterOut=function(o,d){return a.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+fw()},this.definitionAttributes={"-id":"Definitions_"+fw(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i})();Ru.shapeConfigMap.set(oa.START,{width:aw.width,height:aw.height});Ru.shapeConfigMap.set(oa.END,{width:uw.width,height:uw.height});Ru.shapeConfigMap.set(oa.GATEWAY,{width:sw.width,height:sw.height});Ru.shapeConfigMap.set(oa.SYSTEM,{width:cw.width,height:cw.height});Ru.shapeConfigMap.set(oa.USER,{width:lw.width,height:lw.height});(function(i){RL(u,i);function u(a){var p=i.call(this,a)||this;p.adapterXmlIn=function(d){var h=NL(d);return p.adapterIn(h)},p.adapterXmlOut=function(d,h){var m=p.adapterOut(d,h);return DL(m)};var o=a.lf;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p}return u.pluginName="bpmnXmlAdapter",u})(Ru);var FL=(function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var p=Math.random()*16|0,o=a==="x"?p:p&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i})(),WL=(globalThis==null?void 0:globalThis._ids)||new FL;function $L(){return WL.next()}it.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),it.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});it.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});it.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Fm,ur,Vx,Ls,vw,Kx,qx,Zx,Wm,Jb,Qb,em={},Jx=[],UL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,jy=Array.isArray;function Ra(i,u){for(var a in u)i[a]=u[a];return i}function $m(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function vp(i,u,a){var p,o,d,h={};for(d in u)d=="key"?p=u[d]:d=="ref"?o=u[d]:h[d]=u[d];if(arguments.length>2&&(h.children=arguments.length>3?Fm.call(arguments,2):a),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return Hh(i,h,p,o,null)}function Hh(i,u,a,p,o){var d={type:i,props:u,key:a,ref:p,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o==null?++Vx:o,__i:-1,__u:0};return o==null&&ur.vnode!=null&&ur.vnode(d),d}function Um(i){return i.children}function hl(i,u){this.props=i,this.context=u}function bl(i,u){if(u==null)return i.__?bl(i.__,i.__i+1):null;for(var a;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null)return a.__e;return typeof i.type=="function"?bl(i):null}function Qx(i){var u,a;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,u=0;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null){i.__e=i.__c.base=a.__e;break}return Qx(i)}}function gw(i){(!i.__d&&(i.__d=!0)&&Ls.push(i)&&!ey.__r++||vw!=ur.debounceRendering)&&((vw=ur.debounceRendering)||Kx)(ey)}function ey(){for(var i,u,a,p,o,d,h,m=1;Ls.length;)Ls.length>m&&Ls.sort(qx),i=Ls.shift(),m=Ls.length,i.__d&&(a=void 0,p=void 0,o=(p=(u=i).__v).__e,d=[],h=[],u.__P&&((a=Ra({},p)).__v=p.__v+1,ur.vnode&&ur.vnode(a),nE(u.__P,a,p,u.__n,u.__P.namespaceURI,32&p.__u?[o]:null,d,o==null?bl(p):o,!!(32&p.__u),h),a.__v=p.__v,a.__.__k[a.__i]=a,XL(d,a,h),p.__e=p.__=null,a.__e!=o&&Qx(a)));ey.__r=0}function eE(i,u,a,p,o,d,h,m,g,E,j){var P,k,T,C,N,L,U,G=p&&p.__k||Jx,te=u.length;for(g=GL(a,u,G,g,te),P=0;P<te;P++)(T=a.__k[P])!=null&&(k=T.__i==-1?em:G[T.__i]||em,T.__i=P,L=nE(i,T,k,o,d,h,m,g,E,j),C=T.__e,T.ref&&k.ref!=T.ref&&(k.ref&&Gm(k.ref,null,T),j.push(T.ref,T.__c||C,T)),N==null&&C!=null&&(N=C),(U=!!(4&T.__u))||k.__k===T.__k?g=tE(T,g,i,U):typeof T.type=="function"&&L!==void 0?g=L:C&&(g=C.nextSibling),T.__u&=-7);return a.__e=N,g}function GL(i,u,a,p,o){var d,h,m,g,E,j=a.length,P=j,k=0;for(i.__k=new Array(o),d=0;d<o;d++)(h=u[d])!=null&&typeof h!="boolean"&&typeof h!="function"?(g=d+k,(h=i.__k[d]=typeof h=="string"||typeof h=="number"||typeof h=="bigint"||h.constructor==String?Hh(null,h,null,null,null):jy(h)?Hh(Um,{children:h},null,null,null):h.constructor==null&&h.__b>0?Hh(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h).__=i,h.__b=i.__b+1,m=null,(E=h.__i=HL(h,a,g,P))!=-1&&(P--,(m=a[E])&&(m.__u|=2)),m==null||m.__v==null?(E==-1&&(o>j?k--:o<j&&k++),typeof h.type!="function"&&(h.__u|=4)):E!=g&&(E==g-1?k--:E==g+1?k++:(E>g?k--:k++,h.__u|=4))):i.__k[d]=null;if(P)for(d=0;d<j;d++)(m=a[d])!=null&&(2&m.__u)==0&&(m.__e==p&&(p=bl(m)),oE(m,m));return p}function tE(i,u,a,p){var o,d;if(typeof i.type=="function"){for(o=i.__k,d=0;o&&d<o.length;d++)o[d]&&(o[d].__=i,u=tE(o[d],u,a,p));return u}i.__e!=u&&(p&&(u&&i.type&&!u.parentNode&&(u=bl(i)),a.insertBefore(i.__e,u||null)),u=i.__e);do u=u&&u.nextSibling;while(u!=null&&u.nodeType==8);return u}function HL(i,u,a,p){var o,d,h,m=i.key,g=i.type,E=u[a],j=E!=null&&(2&E.__u)==0;if(E===null&&i.key==null||j&&m==E.key&&g==E.type)return a;if(p>(j?1:0)){for(o=a-1,d=a+1;o>=0||d<u.length;)if((E=u[h=o>=0?o--:d++])!=null&&(2&E.__u)==0&&m==E.key&&g==E.type)return h}return-1}function bw(i,u,a){u[0]=="-"?i.setProperty(u,a==null?"":a):i[u]=a==null?"":typeof a!="number"||UL.test(u)?a:a+"px"}function Wh(i,u,a,p,o){var d,h;e:if(u=="style")if(typeof a=="string")i.style.cssText=a;else{if(typeof p=="string"&&(i.style.cssText=p=""),p)for(u in p)a&&u in a||bw(i.style,u,"");if(a)for(u in a)p&&a[u]==p[u]||bw(i.style,u,a[u])}else if(u[0]=="o"&&u[1]=="n")d=u!=(u=u.replace(Zx,"$1")),h=u.toLowerCase(),u=h in i||u=="onFocusOut"||u=="onFocusIn"?h.slice(2):u.slice(2),i.l||(i.l={}),i.l[u+d]=a,a?p?a.u=p.u:(a.u=Wm,i.addEventListener(u,d?Qb:Jb,d)):i.removeEventListener(u,d?Qb:Jb,d);else{if(o=="http://www.w3.org/2000/svg")u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!="width"&&u!="height"&&u!="href"&&u!="list"&&u!="form"&&u!="tabIndex"&&u!="download"&&u!="rowSpan"&&u!="colSpan"&&u!="role"&&u!="popover"&&u in i)try{i[u]=a==null?"":a;break e}catch(m){}typeof a=="function"||(a==null||a===!1&&u[4]!="-"?i.removeAttribute(u):i.setAttribute(u,u=="popover"&&a==1?"":a))}}function mw(i){return function(u){if(this.l){var a=this.l[u.type+i];if(u.t==null)u.t=Wm++;else if(u.t<a.u)return;return a(ur.event?ur.event(u):u)}}}function nE(i,u,a,p,o,d,h,m,g,E){var j,P,k,T,C,N,L,U,G,te,ie,re,Q,Z,H,B,X,Y=u.type;if(u.constructor!=null)return null;128&a.__u&&(g=!!(32&a.__u),d=[m=u.__e=a.__e]),(j=ur.__b)&&j(u);e:if(typeof Y=="function")try{if(U=u.props,G="prototype"in Y&&Y.prototype.render,te=(j=Y.contextType)&&p[j.__c],ie=j?te?te.props.value:j.__:p,a.__c?L=(P=u.__c=a.__c).__=P.__E:(G?u.__c=P=new Y(U,ie):(u.__c=P=new hl(U,ie),P.constructor=Y,P.render=VL),te&&te.sub(P),P.props=U,P.state||(P.state={}),P.context=ie,P.__n=p,k=P.__d=!0,P.__h=[],P._sb=[]),G&&P.__s==null&&(P.__s=P.state),G&&Y.getDerivedStateFromProps!=null&&(P.__s==P.state&&(P.__s=Ra({},P.__s)),Ra(P.__s,Y.getDerivedStateFromProps(U,P.__s))),T=P.props,C=P.state,P.__v=u,k)G&&Y.getDerivedStateFromProps==null&&P.componentWillMount!=null&&P.componentWillMount(),G&&P.componentDidMount!=null&&P.__h.push(P.componentDidMount);else{if(G&&Y.getDerivedStateFromProps==null&&U!==T&&P.componentWillReceiveProps!=null&&P.componentWillReceiveProps(U,ie),!P.__e&&P.shouldComponentUpdate!=null&&P.shouldComponentUpdate(U,P.__s,ie)===!1||u.__v==a.__v){for(u.__v!=a.__v&&(P.props=U,P.state=P.__s,P.__d=!1),u.__e=a.__e,u.__k=a.__k,u.__k.some(function(K){K&&(K.__=u)}),re=0;re<P._sb.length;re++)P.__h.push(P._sb[re]);P._sb=[],P.__h.length&&h.push(P);break e}P.componentWillUpdate!=null&&P.componentWillUpdate(U,P.__s,ie),G&&P.componentDidUpdate!=null&&P.__h.push(function(){P.componentDidUpdate(T,C,N)})}if(P.context=ie,P.props=U,P.__P=i,P.__e=!1,Q=ur.__r,Z=0,G){for(P.state=P.__s,P.__d=!1,Q&&Q(u),j=P.render(P.props,P.state,P.context),H=0;H<P._sb.length;H++)P.__h.push(P._sb[H]);P._sb=[]}else do P.__d=!1,Q&&Q(u),j=P.render(P.props,P.state,P.context),P.state=P.__s;while(P.__d&&++Z<25);P.state=P.__s,P.getChildContext!=null&&(p=Ra(Ra({},p),P.getChildContext())),G&&!k&&P.getSnapshotBeforeUpdate!=null&&(N=P.getSnapshotBeforeUpdate(T,C)),B=j,j!=null&&j.type===Um&&j.key==null&&(B=rE(j.props.children)),m=eE(i,jy(B)?B:[B],u,a,p,o,d,h,m,g,E),P.base=u.__e,u.__u&=-161,P.__h.length&&h.push(P),L&&(P.__E=P.__=null)}catch(K){if(u.__v=null,g||d!=null)if(K.then){for(u.__u|=g?160:128;m&&m.nodeType==8&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,u.__e=m}else{for(X=d.length;X--;)$m(d[X]);tm(u)}else u.__e=a.__e,u.__k=a.__k,K.then||tm(u);ur.__e(K,u,a)}else d==null&&u.__v==a.__v?(u.__k=a.__k,u.__e=a.__e):m=u.__e=YL(a.__e,u,a,p,o,d,h,g,E);return(j=ur.diffed)&&j(u),128&u.__u?void 0:m}function tm(i){i&&i.__c&&(i.__c.__e=!0),i&&i.__k&&i.__k.forEach(tm)}function XL(i,u,a){for(var p=0;p<a.length;p++)Gm(a[p],a[++p],a[++p]);ur.__c&&ur.__c(u,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){ur.__e(d,o.__v)}})}function rE(i){return typeof i!="object"||i==null||i.__b&&i.__b>0?i:jy(i)?i.map(rE):Ra({},i)}function YL(i,u,a,p,o,d,h,m,g){var E,j,P,k,T,C,N,L=a.props,U=u.props,G=u.type;if(G=="svg"?o="http://www.w3.org/2000/svg":G=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),d!=null){for(E=0;E<d.length;E++)if((T=d[E])&&"setAttribute"in T==!!G&&(G?T.localName==G:T.nodeType==3)){i=T,d[E]=null;break}}if(i==null){if(G==null)return document.createTextNode(U);i=document.createElementNS(o,G,U.is&&U),m&&(ur.__m&&ur.__m(u,d),m=!1),d=null}if(G==null)L===U||m&&i.data==U||(i.data=U);else{if(d=d&&Fm.call(i.childNodes),L=a.props||em,!m&&d!=null)for(L={},E=0;E<i.attributes.length;E++)L[(T=i.attributes[E]).name]=T.value;for(E in L)if(T=L[E],E!="children"){if(E=="dangerouslySetInnerHTML")P=T;else if(!(E in U)){if(E=="value"&&"defaultValue"in U||E=="checked"&&"defaultChecked"in U)continue;Wh(i,E,null,T,o)}}for(E in U)T=U[E],E=="children"?k=T:E=="dangerouslySetInnerHTML"?j=T:E=="value"?C=T:E=="checked"?N=T:m&&typeof T!="function"||L[E]===T||Wh(i,E,T,L[E],o);if(j)m||P&&(j.__html==P.__html||j.__html==i.innerHTML)||(i.innerHTML=j.__html),u.__k=[];else if(P&&(i.innerHTML=""),eE(u.type=="template"?i.content:i,jy(k)?k:[k],u,a,p,G=="foreignObject"?"http://www.w3.org/1999/xhtml":o,d,h,d?d[0]:a.__k&&bl(a,0),m,g),d!=null)for(E=d.length;E--;)$m(d[E]);m||(E="value",G=="progress"&&C==null?i.removeAttribute("value"):C!=null&&(C!==i[E]||G=="progress"&&!C||G=="option"&&C!=L[E])&&Wh(i,E,C,L[E],o),E="checked",N!=null&&N!=i[E]&&Wh(i,E,N,L[E],o))}return i}function Gm(i,u,a){try{if(typeof i=="function"){var p=typeof i.__u=="function";p&&i.__u(),p&&u==null||(i.__u=i(u))}else i.current=u}catch(o){ur.__e(o,a)}}function oE(i,u,a){var p,o;if(ur.unmount&&ur.unmount(i),(p=i.ref)&&(p.current&&p.current!=i.__e||Gm(p,null,u)),(p=i.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(d){ur.__e(d,u)}p.base=p.__P=null}if(p=i.__k)for(o=0;o<p.length;o++)p[o]&&oE(p[o],u,a||typeof i.type!="function");a||$m(i.__e),i.__c=i.__=i.__e=void 0}function VL(i,u,a){return this.constructor(i,a)}Fm=Jx.slice,ur={__e:function(i,u,a,p){for(var o,d,h;u=u.__;)if((o=u.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,p||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},Vx=0,hl.prototype.setState=function(i,u){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ra({},this.state),typeof i=="function"&&(i=i(Ra({},a),this.props)),i&&Ra(a,i),i!=null&&this.__v&&(u&&this._sb.push(u),gw(this))},hl.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),gw(this))},hl.prototype.render=Um,Ls=[],Kx=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,qx=function(i,u){return i.__v.__b-u.__v.__b},ey.__r=0,Zx=/(PointerCapture)$|Capture$/i,Wm=0,Jb=mw(!1),Qb=mw(!0);var gp=function(){return gp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},gp.apply(this,arguments)};function Hm(i){var u=i.x,a=i.y,p=i.width,o=i.height,d=i.radius,h=i.className,m=u-p/2,g=a-o/2,E=gp(gp({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:g});return it.h("rect",gp({},E))}Hm.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var fl;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(fl||(fl={}));var KL=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),zs=function(){return zs=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},zs.apply(this,arguments)},qL=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},ZL=it.LogicFlowUtil.StepDrag,JL=(function(i){KL(u,i);function u(a){var p=i.call(this)||this;return p.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.x,E=m.y;p.nodeModel.x=g+d/2,p.nodeModel.y=E+h/2,p.nodeModel.moveText(d/2,h/2)},p.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,g=o.width,E=o.height,j=o.PCTResizeInfo,P=o.pct,k=P===void 0?1:P,T=o.freezeWidth,C=T===void 0?!1:T,N=o.freezeHeight,L=N===void 0?!1:N,U={width:g,height:E,deltaX:h,deltaY:m};if(j){var G=4,te=0,ie=0;switch(d){case 0:ie=(h*-1-m)/G;break;case 1:ie=(h-m)/G;break;case 2:ie=(h+m)/G;break;case 3:ie=(h*-1+m)/G;break}ie!==0&&(te=Math.round(ie/j.ResizeBasis.basisHeight*1e5)/1e3),j.ResizePCT.widthPCT=Math.max(Math.min(j.ResizePCT.widthPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit),j.ResizePCT.hightPCT=Math.max(Math.min(j.ResizePCT.hightPCT+te,j.ScaleLimit.maxScaleLimit),j.ScaleLimit.minScaleLimit);var re=Math.round(j.ResizePCT.widthPCT*j.ResizeBasis.basisWidth/100),Q=Math.round(j.ResizePCT.hightPCT*j.ResizeBasis.basisHeight/100);switch(d){case 0:h=g-re,m=E-Q;break;case 1:h=re-g,m=E-Q;break;case 2:h=re-g,m=Q-E;break;case 3:h=g-re,m=Q-E;break}return U.width=re,U.height=Q,U.deltaX=h/k,U.deltaY=m/k,U}switch(d){case 0:U.width=C?g:g-h*k,U.height=L?E:E-m*k;break;case 1:U.width=C?g:g+h*k,U.height=L?E:E-m*k;break;case 2:U.width=C?g:g+h*k,U.height=L?E:E+m*k;break;case 3:U.width=C?g:g-h*k,U.height=L?E:E+m*k;break}return U},p.updateEdgePointByAnchors=function(){var o=p.nodeModel,d=o.id,h=o.anchors,m=p.getNodeEdges(d);m.sourceEdges.forEach(function(g){var E=h.find(function(j){return j.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=h.find(function(j){return j.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},p.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.id,E=m.x,j=m.y,P=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=p.nodeModel,L=N.minWidth,U=N.minHeight,G=N.maxWidth,te=N.maxHeight,ie=p.index,re=L===G,Q=U===te,Z=p.getResize({index:ie,deltaX:d,deltaY:h,width:P,height:k,PCTResizeInfo:C,pct:1,freezeWidth:re,freezeHeight:Q});if(Z.width<L||Z.width>G||Z.height<U||Z.height>te){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:re?0:Z.deltaX,deltaY:Q?0:Z.deltaY}),p.nodeModel.width=Z.width,p.nodeModel.height=Z.height,p.nodeModel.setProperties({nodeSize:{width:Z.width,height:Z.height}}),p.getNodeEdges(g);var H={x:E,y:j,width:P,height:k,radius:T},B={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:T};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:H,afterNode:B})},p.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel,g=m.id,E=m.rx,j=m.ry,P=m.x,k=m.y,T=m.PCTResizeInfo,C=p.index,N=p.nodeModel,L=N.minWidth,U=N.minHeight,G=N.maxWidth,te=N.maxHeight,ie=L===G,re=U===te,Q=E,Z=j,H=p.getResize({index:C,deltaX:d,deltaY:h,width:Q,height:Z,PCTResizeInfo:T,pct:1/2,freezeWidth:ie,freezeHeight:re});if(H.width<L/2||H.width>G/2||H.height<U/2||H.height>te/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:ie?0:H.deltaX,deltaY:re?0:H.deltaY}),p.nodeModel.rx=H.width,p.nodeModel.ry=H.height,p.nodeModel.setProperties({nodeSize:{rx:H.width,ry:H.height}}),p.getNodeEdges(g);var B={x:P,y:k},X={rx:H.width,ry:H.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:zs(zs({},B),{rx:E,ry:j}),afterNode:X})},p.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=p.nodeModel;m.id;var g=m.rx,E=m.ry,j=m.x,P=m.y,k=m.PCTResizeInfo,T=p.index,C=p.nodeModel,N=C.minWidth,L=C.minHeight,U=C.maxWidth,G=C.maxHeight,te=N===U,ie=L===G,re=g,Q=E,Z=p.getResize({index:T,deltaX:d,deltaY:h,width:re,height:Q,PCTResizeInfo:k,pct:1/2,freezeWidth:te,freezeHeight:ie});if(Z.width<N/2||Z.width>U/2||Z.height<L/2||Z.height>G/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:te?0:Z.deltaX,deltaY:ie?0:Z.deltaY}),p.nodeModel.rx=Z.width,p.nodeModel.ry=Z.height,p.nodeModel.setProperties({nodeSize:{rx:Z.width,ry:Z.height}});var H={x:j,y:P,rx:g,ry:E},B={rx:Z.width,ry:Z.height,x:p.nodeModel.x,y:p.nodeModel.y};p.updateEdgePointByAnchors(),p.eventEmit({beforeNode:H,afterNode:B})},p.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=p.nodeModel,g=m.id,E=m.modelType,j=m.type,P=zs({id:g,modelType:E,type:j},d),k=zs({id:g,modelType:E,type:j},h);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:k})},p.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,g=p.graphModel.transformModel,E=p.nodeModel.modelType;d=qL(g.fixDeltaXY(h,m),2),h=d[0],m=d[1],E===fl.RECT_NODE||E===fl.HTML_NODE?p.updateRect({deltaX:h,deltaY:m}):E===fl.ELLIPSE_NODE?p.updateEllipse({deltaX:h,deltaY:m}):E===fl.DIAMOND_NODE&&p.updateDiamond({deltaX:h,deltaY:m})},p.onDragEnd=function(){var o=p.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(p.nodeModel.x/d),m=d*Math.round(p.nodeModel.y/d);p.nodeModel.moveTo(h,m),p.updateEdgePointByAnchors()},p.index=a.index,p.nodeModel=a.model,p.graphModel=a.graphModel,p.state={},p.dragHandler=new ZL({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:1}),p}return u.prototype.getNodeEdges=function(a){for(var p=this.graphModel,o=p.edges,d=[],h=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===a?d.push(g):o[m].targetNodeId===a&&h.push(g)}return{sourceEdges:d,targetEdges:h}},u.prototype.render=function(){var a=this.props,p=a.x,o=a.y,d=a.index,h=a.model,m=h.getControlPointStyle();return vp("g",{className:"lf-resize-control-"+d},vp(Hm,zs({className:"lf-node-control"},{x:p,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},u})(hl),QL=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),ty=function(){return ty=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ty.apply(this,arguments)},Py=(function(i){QL(u,i);function u(){var a=i.call(this)||this;return a.state={},a}return u.prototype.getResizeControl=function(){var a=this.props,p=a.model,o=a.graphModel,d=p.x,h=p.y,m=p.width,g=p.height,E={minX:d-m/2,minY:h-g/2,maxX:d+m/2,maxY:h+g/2},j=E.minX,P=E.minY,k=E.maxX,T=E.maxY,C=[{x:j,y:P},{x:k,y:P},{x:k,y:T},{x:j,y:T}];return C.map(function(N,L){return vp(JL,ty({index:L},N,{model:p,graphModel:o}))})},u.prototype.getGroupSolid=function(){var a=this.props.model,p=a.x,o=a.y,d=a.width,h=a.height,m=a.getResizeOutlineStyle();return vp(Hm,ty({fill:"none"},m,{x:p,y:o,width:d,height:h}))},u.prototype.render=function(){return vp("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},u})(hl),iE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),e4=(function(i){iE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.resize=function(a,p){console.log(a,p)},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.RectNodeModel),t4=(function(i){iE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Py,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u})(it.RectNode),aE={view:t4,model:e4},uE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})();(function(i){uE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.EllipseNodeModel);(function(i){uE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Py,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p.isSelected&&!o?this.getControlGroup():"")},u})(it.EllipseNode);var nm=function(){return nm=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},nm.apply(this,arguments)};function n4(i){var u=i.fillOpacity,a=u===void 0?1:u,p=i.strokeWidth,o=p===void 0?1:p,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,g=m===void 0?"transparent":m,E=i.stroke,j=E===void 0?"#000":E,P=i.points,k=i.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:a,strokeWidth:o,stroke:j,strokeOpacity:h,points:"",className:T};return C.points=P.map(function(N){return N.join(",")}).join(" "),it.h("polygon",nm({},C))}var sE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),rm=function(){return rm=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},rm.apply(this,arguments)};(function(i){sE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.DiamondNodeModel);(function(i){sE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Py,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){var a=this.props.model,p=a.points,o=a.getNodeStyle();return it.h("g",null,it.h(n4,rm({},o,{points:p})))},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u})(it.DiamondNode);var cE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})();(function(i){cE(u,i);function u(a,p){var o=i.call(this,a,p)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),p=this.graphModel.editConfigModel.isSilentMode;return p||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var p={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:p,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.HtmlNodeModel);(function(i){cE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,p=a.model,o=a.graphModel;return it.h(Py,{model:p,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,p=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),p&&!o?this.getControlGroup():"")},u})(it.HtmlNode);var lE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),ny=function(){return ny=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},ny.apply(this,arguments)},r4=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},o4=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(r4(arguments[u]));return i},_w=500,Ow=300,i4=-1e4;(function(i){lE(u,i);function u(){var a=i!==null&&i.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=_w,a.unfoldedHight=Ow,a.childrenLastFoldStatus={},a}return u.prototype.initNodeData=function(a){var p=this;i.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=_w,this.height=Ow,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=i4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},u.prototype.getResizeOutlineStyle=function(){var a=i.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},u.prototype.foldGroup=function(a){var p=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=p.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(a),h.isGroup&&!a){var g=p.childrenLastFoldStatus[d];g!==void 0&&g!==h.isFolded&&h.foldGroup(g)}p.childrenLastFoldStatus[d]=m,h.visible=!a,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(a,o)}},u.prototype.getAnchorStyle=function(a){var p=i.prototype.getAnchorStyle.call(this,a);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},u.prototype.foldEdge=function(a,p){var o=this;p.forEach(function(d,h){var m=d.id,g=d.sourceNodeId,E=d.targetNodeId,j=d.startPoint,P=d.endPoint,k=d.type,T=d.text,C=d.getProperties(),N={id:m+"__"+h,sourceNodeId:g,targetNodeId:E,startPoint:j,endPoint:P,type:k,properties:C,text:T==null?void 0:T.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var L=o.graphModel.group.getNodeGroup(E);L||(L=o.graphModel.getNodeModelById(E));var U=o.graphModel.group.getNodeGroup(g);U||(U=o.graphModel.getNodeModelById(g)),a&&d.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(L.id!==o.id||U.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!a&&d.visible===!1&&(L&&L.isGroup&&L.isFolded?(N.targetNodeId=L.id,N.endPoint=void 0,o.createVirtualEdge(N)):U&&U.isGroup&&U.isFolded?(N.sourceNodeId=U.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},u.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var p=this.graphModel.addEdge(a);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},u.prototype.isInRange=function(a){var p=a.x1,o=a.y1,d=a.x2,h=a.y2;return p>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},u.prototype.isAllowMoveTo=function(a){var p=a.x1,o=a.y1,d=a.x2,h=a.y2;return{x:p>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},u.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},u.prototype.addChild=function(a){this.children.add(a),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},u.prototype.removeChild=function(a){this.children.delete(a),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},u.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},u.prototype.getData=function(){var a=this,p=i.prototype.getData.call(this);p.children=[],this.children.forEach(function(d){var h=a.graphModel.getNodeModelById(d);h&&!h.virtual&&p.children.push(d)});var o=p.properties;return delete o.groupAddable,delete o.isFolded,p},u.prototype.getHistoryData=function(){var a=i.prototype.getData.call(this);a.children=o4(this.children),a.isGroup=!0;var p=a.properties;return delete p.groupAddable,p.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},u.prototype.isAllowAppendIn=function(a){return!0},u.prototype.toBack=function(){this.zIndex--},u})(aE.model);(function(i){lE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props.model,p=a.resizable,o=a.properties;return p&&!o.isFolded?i.prototype.getControlGroup.call(this):null},u.prototype.getAddableShape=function(){var a=this.props.model,p=a.width,o=a.height,d=a.x,h=a.y,m=a.radius,g=a.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,j=this.props.model.getAddableOutlineStyle(),P=p+E+8,k=o+E+8;return it.h("rect",ny(ny({},j),{width:P,height:k,x:d-P/2,y:h-k/2,rx:m,ry:m}))},u.prototype.getFoldIcon=function(){var a=this.props.model,p=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var d=it.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" M"+(p+7)+","+(o+2)+" "+(p+7)+","+(o+10):"M "+(p+3)+","+(o+6)+" "+(p+11)+","+(o+6)+" "});return it.h("g",{},[it.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),d])},u.prototype.getResizeShape=function(){return it.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},u})(aE.view);var ww=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),bp=function(){return bp=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},bp.apply(this,arguments)};function a4(i){var u=(function(p){ww(o,p);function o(d,h){var m=this;d.id||(d.id="Flow_"+$L());var g=bp(bp(bp({},{}),d.properties),{isDefaultFlow:!1});return d.properties=g,m=p.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o})(it.PolylineEdgeModel),a=(function(p){ww(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?it.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):it.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o})(it.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:u}}a4();var xw={width:40,height:40},Ew={width:40,height:40},Sw={width:100,height:80},ry={width:100,height:80},jw={width:100,height:80},Pw={width:100,height:80},Aw={width:100,height:80},Mw={width:100,height:80},Tw={width:100,height:80},kw={width:100,height:80},co=function(){};co.ObjTree=function(){return this};co.ObjTree.VERSION="0.23";co.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;co.ObjTree.prototype.attr_prefix="-";co.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,p=a.parseFromString(i,"application/xml");if(!p)return;u=p.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u){var o=this.parseDOM(u);return o}};co.ObjTree.prototype.parseHTTP=function(i,u,a){var p={};for(var o in u)p[o]=u[o];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),a){p.asynchronous=!0;var d=this,h=a,m=p.onComplete;p.onComplete=function(j){var P;j&&j.responseXML&&j.responseXML.documentElement&&(P=d.parseDOM(j.responseXML.documentElement)),h(P,j),m&&m(j)}}else p.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=i;var E=new HTTP.Request(p);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,p);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};co.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!==11){var p={};p[i.nodeName]=a,a=p}return a}};co.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,p={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof p[d]=="undefined"&&(p[d]=0),p[d]++,this.addNode(a,d,p[d],h))}}}}else a===null&&(a={});return a}};co.ObjTree.prototype.addNode=function(i,u,a,p){this.__force_array[u]?(a===1&&(i[u]=[]),i[u][i[u].length]=p):a===1?i[u]=p:a===2?i[u]=[i[u],p]:i[u][i[u].length]=p};co.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};co.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],p=[];for(var o in u)if(u!=null&&u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!==this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):p[p.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=p.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};co.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],p=0;p<u.length;p++){var o=u[p];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};co.ObjTree.prototype.scalar_to_xml=function(i,u){return i==="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};co.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var u4=function(i){return new co.ObjTree().parseXML(i)};function fE(i){return Object.prototype.toString.call(i)}function Dw(i){return"  ".repeat(i)}function oy(i){return fE(i)==="[object Object]"?Object.keys(i).reduce(function(u,a){var p=a;return a.charAt(0)==="-"&&(p=a.substring(1)),u[p]=oy(i[a]),u},{}):Array.isArray(i)?i.map(function(u){return oy(u)}):i}function s4(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(oy(i)).replace(/"/g,"'")}return u}var Nw=`	
`;function Xh(i,u,a){var p=Dw(a),o="",d=Nw+p;if(u==="-json")return"";if(u==="#text")return d+i;if(u==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(u==="#comment")return d+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+s4(i)+'"';if(Array.isArray(i))o+=i.map(function(E){return Xh(E,u,a+1)}).join("");else if(fE(i)==="[object Object]"){var h=Object.keys(i),m="",g=i["-json"]?Nw+Dw(a+1)+i["-json"]:"";o+=(a===0?"":d)+"<"+u,h.forEach(function(E){E.charAt(0)==="-"?m+=Xh(i[E],E,a+1):g+=Xh(i[E],E,a+1)}),o+=m+(g!==""?">"+g+d+"</"+u+">":" />")}else o+=d+"<"+u+">"+i.toString()+"</"+u+">";return o}function c4(i){var u="";for(var a in i)u+=Xh(i[a],a,0);return u}var l4=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),om=function(){return om=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},om.apply(this,arguments)},Rw=function(i,u){var a={};for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&u.indexOf(p)<0&&(a[p]=i[p]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,p=Object.getOwnPropertySymbols(i);o<p.length;o++)u.indexOf(p[o])<0&&Object.prototype.propertyIsEnumerable.call(i,p[o])&&(a[p[o]]=i[p[o]]);return a},Xm=function(i){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&i[u],p=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&p>=i.length&&(i=void 0),{value:i&&i[p++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Tl=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},yl=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(Tl(arguments[u]));return i},ao;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(ao||(ao={}));var pE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],f4=["properties","startPoint","endPoint","pointsList"],iy={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},dE=function(i,u){var a=Object.keys(u||{});return a.forEach(function(p){if(i[p]){var o=u[p],d=o.in,h=o.out;d&&(i[p].in=d),h&&(i[p].out=h)}else i[p]=u[p]}),i},ni={"bpmn:startEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var u,a,p=i.properties;return((a=(u=ni[p.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var u=i.properties,a=u.expressionType,p=u.condition;return p?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+p+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+p+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var u=i.properties,a=u.timerType,p=u.timerValue,o=u.definitionId,d=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+p+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&p?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,u){var a,p,o,d,h=i,m=u["-id"],g="",E="";try{for(var j=Xm(Object.keys(u)),P=j.next();!P.done;P=j.next()){var k=P.value;k.includes("bpmn:")&&(o=Tl(k.split(":"),2),g=o[1],E=(d=u[k])===null||d===void 0?void 0:d["#text"])}}catch(T){a={error:T}}finally{try{P&&!P.done&&(p=j.return)&&p.call(j)}finally{if(a)throw a.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(i,u){var a,p="",o="";return u["#cdata-section"]?(o="cdata",p=((a=/^\$\{(.*)\}$/g.exec(u["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):u["#text"]&&(o="normal",p=u["#text"]),{"-condition":p,"-expressionType":o}}}};function p4(i){var u=i!=null?i:{},a=u.retainedAttrsFields,p=u.excludeFields,o=u.transformer,d=new Set(yl(f4,a||[])),h={in:new Set(yl(iy.in,(p==null?void 0:p.in)||[])),out:new Set(yl(iy.out,(p==null?void 0:p.out)||[]))};return ni=dE(ni,o),function(m){var g=m.nodes,E=m.edges;function j(P,k){var T,C,N;if((P==null?void 0:P.flag)!==1){var L;if((L=ni[P.type])&&L.out){var U=L.out(P),G=Object.keys(U);G.length>0&&G.forEach(function(X){P[X]=U[X]})}P!=null&&P.children&&(P.children=P.children.map(function(X){var Y=g.find(function(K){return K.id===X})||E.find(function(K){return K.id===X});return Y||{}}));var te={};if(typeof P=="string")return P;if(Array.isArray(P))return P.map(function(X){return j(X,"")}).filter(function(X){return X!=null});try{for(var ie=Xm(Object.entries(P)),re=ie.next();!re.done;re=ie.next()){var Q=Tl(re.value,2),Z=Q[0],H=Q[1];if(((N=H)===null||N===void 0?void 0:N.flag)===1)return;var B=[k,Z].filter(function(X){return X}).join(".");h.out.has(B)||(typeof H!="object"?Z.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(Z)?te[Z]=H:te["-"+Z]=H:d.has(B)?te["-"+Z]=j(H,B):te[Z]=j(H,B))}}catch(X){T={error:X}}finally{try{re&&!re.done&&(C=ie.return)&&C.call(ie)}finally{if(T)throw T.error}}return te}}return j(m,"")}}function ay(i){var u,a,p={};try{for(var o=Xm(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Tl(d.value,2),m=h[0],g=h[1];m.indexOf("-")===0?p[m.substring(1)]=oy(g):typeof g=="string"?p[m]=g:Object.prototype.toString.call(g)==="[object Object]"?p[m]=ay(g):Array.isArray(g)?p[m]=g.map(function(E){return ay(E)}):p[m]=g}}catch(E){u={error:E}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(u)throw u.error}}return p}function d4(i,u,a){var p,o=new Map,d=p4(a)(u);d.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],j=m.text,P=m.children,k=Rw(m,["-id","-type","text","children"]),T={"-id":g};j!=null&&j["-value"]&&(T["-name"]=j["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),P&&(T.children=P),i[E]||(i[E]=[]),i[E].push(T),o.set(g,T)});var h=d.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],j=m["-targetNodeId"],P=m.text,k=Rw(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(j);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":j};return P!=null&&P["-value"]&&(C["-name"]=P["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return u.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,j=o.get(g);j["bpmn:outgoing"]||(j["bpmn:outgoing"]=[]),j["bpmn:outgoing"].push(E)}),(p=i["bpmn:subProcess"])===null||p===void 0||p.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var L,U=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){U[te]&&U[te].forEach(function(ie){g[te].add(ie)})});var G=(L=i[N["-type"]])===null||L===void 0?void 0:L.findIndex(function(te){return te["-id"]===N["-id"]});G>=0&&i[N["-type"]].splice(G,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(U)});var j=g["bpmn:incoming"],P=g["bpmn:outgoing"];P.forEach(function(N){j.has(N)&&E.push(N)});for(var k=function(N){var L=h.findIndex(function(U){return U["-id"]===E[N]});L>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[L]),h.splice(L,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),i[ao.FLOW]=h,i}function h4(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var p,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((p=a.text)===null||p===void 0)&&p.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var p,o=a.id,d=100,h=80,m=a.x,g=a.y,E=Oo.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var j={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((p=a.text)===null||p===void 0)&&p.value&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),j})}var y4=["bpmn:incoming","bpmn:outgoing"];function v4(i,u){var a=[],p=[],o=new Map,d=u!=null?u:{},h=d.transformer,m=d.excludeFields,g={in:new Set(yl(iy.in,(m==null?void 0:m.in)||[])),out:new Set(yl(iy.out,(m==null?void 0:m.out)||[]))};ni=dE(ni,h);var E=i["bpmn:definitions"];if(E){var j=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(L){console.error(L)}})}catch(N){console.error(N)}})})(j,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(L){var U;L.indexOf("bpmn:")===0&&!y4.includes(L)&&(j[L]||(j[L]=[]),!Array.isArray(j[L])&&(j[L]=[j[L]]),Array.isArray(N[L])?(U=j[L]).push.apply(U,yl(N[L])):j[L].push(N[L]),Array.isArray(N[L])?N[L].forEach(function(G){!L.includes("Flow")&&N["-children"].push(G["-id"])}):!L.includes("Flow")&&N["-children"].push(N[L]["-id"]),delete N[L])})}if(k==="bpmn:subProcess"){var C=j[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(L){var U,G;if(L.includes("bpmn:")){var te={};ni[L]&&ni[L].in?(te=(G=(U=ni[L]).in)===null||G===void 0?void 0:G.call(U,L,W.cloneDeep(N[L])),delete N[L]):C(N[L]);var ie=void 0;(ie=Reflect.ownKeys(te)).length>0&&ie.forEach(function(re){Reflect.set(N,re,te[re])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(L){C(L)}):typeof N=="object"&&T(N)}C(j[k])},function(k){if(k.indexOf("bpmn:")===0){var T=j[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];p=b4(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var L=j[k],U=function(G){var te=G["-attachedToRef"],ie=o.get(te);ie["-boundaryEvents"]||(ie["-boundaryEvents"]=[]),ie["-boundaryEvents"].push(G["-id"])};Array.isArray(L)?L.forEach(function(G){U(G)}):U(L)}a=a.concat(g4(T,N,k))}}}])}var P=function(k,T,C){Object.keys(k).forEach(function(N){var L=C?C+"."+N:N;T.has(L)?delete k[N]:typeof k[N]=="object"&&P(k[N],T,L)})};return a.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),p.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,L=k.type;N[L]&&(k.type=N[L])}P(k,g.in,"")}),{nodes:a,edges:p}}function g4(i,u,a){var p=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=Cw(m,a,h);p.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=Cw(o,a,i);p.push(d)}return p}function Cw(i,u,a){var p=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-children"],h=a["-name"],m=Oo.shapeConfigMap.get(u);m&&(p+=m.width/2,o+=m.height/2);var g={};Object.entries(a).forEach(function(k){var T=Tl(k,2),C=T[0],N=T[1];pE.includes(C)||(g[C]=N)}),g=ay(g);var E;if(h&&(E={x:p,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var j=i["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(j["-x"])+Number(j["-width"])/2,E.y=Number(j["-y"])+Number(j["-height"])/2}var P={id:i["-bpmnElement"],type:u,x:p,y:o,properties:g};return d&&(P.children=d),E&&(P.text=E),P}function b4(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(Iw(d,o))});else{var p=void 0;Array.isArray(u)?p=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):p=u,a.push(Iw(p,i))}return a}function Iw(i,u){var a,p=u["-name"];if(p){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;p.split(`
`).forEach(function(E){d<E.length&&(d=E.length)}),a={value:p,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(u).forEach(function(E){var j=Tl(E,2),P=j[0],k=j[1];pE.includes(P)||(h[P]=k)}),h=ay(h);var m=i["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:u["-id"],type:ao.FLOW,pointsList:m,sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(g.text=a),g}var Oo=(function(){function i(u){var a=this,p=u.lf;this.adapterOut=function(o,d){var h,m,g=om({},a.processAttributes);d4(g,o,d);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};h4(E,o);var j=a.definitionAttributes;j["bpmn:process"]=g,j["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var P={"bpmn:definitions":j};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var k=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var L;(L=k[N])?(C[L]=W.cloneDeep(C[N]),delete C[N],T(C[L])):T(C[N])})};T(P)}return P},this.adapterIn=function(o,d){if(o)return v4(o,d)},p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i})();Oo.shapeConfigMap.set(ao.START,{width:xw.width,height:xw.height});Oo.shapeConfigMap.set(ao.END,{width:Ew.width,height:Ew.height});Oo.shapeConfigMap.set(ao.INTERMEDIATE_CATCH,{width:ry.width,height:ry.height});Oo.shapeConfigMap.set(ao.INTERMEDIATE_THROW,{width:ry.width,height:ry.height});Oo.shapeConfigMap.set(ao.BOUNDARY,{width:Sw.width,height:Sw.height});Oo.shapeConfigMap.set(ao.PARALLEL_GATEWAY,{width:jw.width,height:jw.height});Oo.shapeConfigMap.set(ao.INCLUSIVE_GATEWAY,{width:Pw.width,height:Pw.height});Oo.shapeConfigMap.set(ao.EXCLUSIVE_GATEWAY,{width:Aw.width,height:Aw.height});Oo.shapeConfigMap.set(ao.SYSTEM,{width:Mw.width,height:Mw.height});Oo.shapeConfigMap.set(ao.USER,{width:Tw.width,height:Tw.height});Oo.shapeConfigMap.set(ao.SUBPROCESS,{width:kw.width,height:kw.height});(function(i){l4(u,i);function u(a){var p=i.call(this,a)||this;p.adapterXmlIn=function(h){var m=u4(h);return p.adapterIn(m,p.props)},p.adapterXmlOut=function(h){var m=p.adapterOut(h,p.props);return c4(m)};var o=a.lf,d=a.props;return o.adapterIn=p.adapterXmlIn,o.adapterOut=p.adapterXmlOut,p.props=d,p}return u.pluginName="BPMNAdapter",u})(Oo);var m4=(function(){function i(u){var a=this,p=u.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(o,d){a.getSnapshot(o,d)},p.getSnapshotBlob=function(o){return a.getSnapshotBlob(o)},p.getSnapshotBase64=function(o){return a.getSnapshotBase64(o)}}return i.prototype.getSvgRootElement=function(u){var a=u.container.querySelector(".lf-canvas-overlay");return a},i.prototype.triggerDownload=function(u){var a=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",u),p.setAttribute("target","_blank"),p.dispatchEvent(a)},i.prototype.removeAnchor=function(u){for(var a=u.childNodes,p=u.childNodes&&u.childNodes.length,o=0;o<p;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-anchor")>-1&&(u.removeChild(u.childNodes[o]),p--,o--)}},i.prototype.removeRotateControl=function(u){for(var a=u.childNodes,p=u.childNodes&&u.childNodes.length,o=0;o<p;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-rotate-control")>-1&&(u.removeChild(u.childNodes[o]),p--,o--)}},i.prototype.getSnapshot=function(u,a){var p=this;this.fileName=u||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,a).then(function(d){var h=d.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(h)})},i.prototype.getSnapshotBase64=function(u){var a=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(p,u).then(function(d){var h=d.toDataURL("image/png");o({data:h,width:d.width,height:d.height})})})},i.prototype.getSnapshotBlob=function(u){var a=this,p=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(p,u).then(function(d){d.toBlob(function(h){o({data:h,width:d.width,height:d.height})},"image/png")})})},i.prototype.getClassRules=function(){var u="";if(this.useGlobalRules)for(var a=document.styleSheets,p=0;p<a.length;p++)for(var o=a[p],d=0;d<o.cssRules.length;d++)u+=o.cssRules[d].cssText;return this.customCssRules&&(u+=this.customCssRules),u},i.prototype.getCanvasData=function(u,a){var p=this,o=u.cloneNode(!0),d=o.lastChild,h=d.childNodes&&d.childNodes.length;if(h)for(var m=0;m<h;m++){var g=d.childNodes[m],E=g.classList&&Array.from(g.classList);if(E&&E.indexOf("lf-base")<0)d.removeChild(d.childNodes[m]),h--,m--;else{var j=d.childNodes[m];j&&j.childNodes.forEach(function(Ee){var me=Ee;p.removeAnchor(me.firstChild),p.removeRotateControl(me.firstChild)})}}var P=window.devicePixelRatio||1;P<1&&(P=1);var k=document.createElement("canvas"),T=this.lf.graphModel.rootEl.querySelector(".lf-base"),C=T.getBoundingClientRect(),N=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),L=C.x-N.x,U=C.y-N.y,G=this.lf.graphModel,te=G.transformModel,ie=te.SCALE_X,re=te.SCALE_Y,Q=te.TRANSLATE_X,Z=te.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-L+Q)*(1/ie)+10)+", "+((-U+Z)*(1/re)+10)+")";var H=Math.ceil(C.width/ie),B=Math.ceil(C.height/re);k.style.width=H+"px",k.style.height=B+"px",k.width=H*P+80,k.height=B*P+80;var X=k.getContext("2d");X.clearRect(0,0,k.width,k.height),X.scale(P,P),a?(X.fillStyle=a,X.fillRect(0,0,H*P+80,B*P+80)):X.clearRect(0,0,H,B);var Y=new Image,K=document.createElement("style");K.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(K),o.appendChild(ue),new Promise(function(Ee){Y.onload=function(){var Fe=navigator.userAgent.indexOf("Firefox")>-1;try{Fe?createImageBitmap(Y,{resizeWidth:k.width,resizeHeight:k.height}).then(function(je){X.drawImage(je,0,0),Ee(k)}):(X.drawImage(Y,0,0),Ee(k))}catch(je){X.drawImage(Y,0,0),Ee(k)}};var me="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Ae=me.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Ae})},i.pluginName="snapshot",i})();var Lw;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(Lw||(Lw={}));var _4=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},O4=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(_4(arguments[u]));return i},pp="lf:defaultNodeMenu",dp="lf:defaultEdgeMenu",hp="lf:defaultGraphMenu",zw="lf:defaultSelectionMenu",w4=(function(){function i(u){var a=this,p=u.lf;this.lf=p;var o=p.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){a.setMenuConfig(d)},this.lf.addMenuConfig=function(d){a.addMenuConfig(d)},this.lf.setMenuByType=function(d){a.setMenuByType(d)})}return i.prototype.init=function(){var u=this,a=[{text:"删除",callback:function(d){u.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){u.lf.cloneNode(d.id)}}];this.menuTypeMap.set(pp,a);var p=[{text:"删除",callback:function(d){u.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(dp,p),this.menuTypeMap.set(hp,[]);var o=[{text:"删除",callback:function(d){u.lf.clearSelectElements(),d.edges.forEach(function(h){return u.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return u.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(zw,o)},i.prototype.render=function(u,a){var p=this;u.options.isSilentMode||(this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,j=g.y,P=d.id,k=p.lf.graphModel.getNodeModelById(P),T=[],C=p.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=p.menuTypeMap.get(pp),p.__currentData=d,p.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,j=g.y,P=d.id,k=p.lf.graphModel.getEdgeModelById(P),T=[],C=p.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=p.menuTypeMap.get(dp),p.__currentData=d,p.showMenu(E,j,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=p.menuTypeMap.get(hp),m=d.domOverlayPosition,g=m.x,E=m.y;p.showMenu(g,E,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=p.menuTypeMap.get(zw),g=h.domOverlayPosition,E=g.x,j=g.y;p.__currentData=d,p.showMenu(E,j,m)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var u;(u=this===null||this===void 0?void 0:this.__container)===null||u===void 0||u.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(u,a,p,o){if(!(!p||!p.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,O4(this.__getMenuDom(p))),!!d.children.length){if(d.style.display="block",!o){d.style.top=a+"px",d.style.left=u+"px";return}var h=o.width,m=o.height,g=o.clientX,E=o.clientY,j=this.lf.graphModel,P=d.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=j.rootEl.getBoundingClientRect(),L=N.left+N.width;L<T&&(C=L-g),C<P&&(k=!1),k?d.style.left=u+"px":d.style.left=u-h+"px";var U=d.offsetHeight,G=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ie=te-E,re=N.top+N.height;re<te&&(ie=re-E),ie<U&&(G=!1),G?d.style.top=a+"px":d.style.top=a-m+"px"}}},i.prototype.setMenuByType=function(u){!u.type||!u.menu||this.menuTypeMap.set(u.type,u.menu)},i.prototype.__getMenuDom=function(u){var a=[];return u&&u.length>0&&u.forEach(function(p){var o=document.createElement("li");if(p.className?o.className="lf-menu-item "+p.className:o.className="lf-menu-item",p.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",p.text&&(h.innerText=p.text),o.appendChild(h),o.onclickCallback=p.callback,a.push(o)}),a},i.prototype.setMenuConfig=function(u){u&&(u.nodeMenu!==void 0&&this.menuTypeMap.set(pp,u.nodeMenu?u.nodeMenu:[]),u.edgeMenu!==void 0&&this.menuTypeMap.set(dp,u.edgeMenu?u.edgeMenu:[]),u.graphMenu!==void 0&&this.menuTypeMap.set(hp,u.graphMenu?u.graphMenu:[]))},i.prototype.addMenuConfig=function(u){if(u){if(Array.isArray(u.nodeMenu)){var a=this.menuTypeMap.get(pp);this.menuTypeMap.set(pp,a.concat(u.nodeMenu))}if(Array.isArray(u.edgeMenu)){var a=this.menuTypeMap.get(dp);this.menuTypeMap.set(dp,a.concat(u.edgeMenu))}if(Array.isArray(u.graphMenu)){var a=this.menuTypeMap.get(hp);this.menuTypeMap.set(hp,a.concat(u.graphMenu))}}},i.prototype.changeMenuItem=function(u,a){if(u==="add")this.addMenuConfig(a);else if(u==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i})(),hE=(function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var d in o)o.hasOwnProperty(d)&&(p[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function p(){this.constructor=u}u.prototype=a===null?Object.create(a):(p.prototype=a.prototype,new p)}})(),pl=function(){return pl=Object.assign||function(i){for(var u,a=1,p=arguments.length;a<p;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},pl.apply(this,arguments)},mp=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var p=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=p.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=p.return)&&a.call(p)}finally{if(h)throw h.error}}return d},x4={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function E4(i){for(var u=i,a=1;a<u.length-1;){var p=mp(u[a-1],2),o=p[0],d=p[1],h=mp(u[a],2),m=h[0],g=h[1],E=mp(u[a+1],2),j=E[0],P=E[1];o===m&&m===j||d===g&&g===P?u.splice(a,1):a++}return u}function S4(i,u,a,p){var o=[i[0],i[1]],d=[i[0],i[1]];switch(a){case"tl":return u==="tr"?(o[1]+=p,d[0]+=p):u==="lb"&&(o[0]+=p,d[1]+=p),[o,d];case"tr":return u==="tl"?(o[1]+=p,d[0]-=p):u==="rb"&&(o[0]-=p,d[1]+=p),[o,d];case"bl":return u==="br"?(o[1]-=p,d[0]+=p):u==="lt"&&(o[0]+=p,d[1]-=p),[o,d];case"br":return u==="bl"?(o[1]-=p,d[0]-=p):u==="rt"&&(o[0]-=p,d[1]-=p),[o,d];default:return[]}}function j4(i,u,a,p){var o,d="",h="";i[0]===u[0]?d=i[1]>u[1]?"t":"b":i[1]===u[1]&&(d=i[0]>u[0]?"l":"r"),u[0]===a[0]?h=u[1]>a[1]?"t":"b":u[1]===a[1]&&(h=u[0]>a[0]?"l":"r");var m=Math.min(Math.hypot(u[0]-i[0],u[1]-i[1])/2,Math.hypot(a[0]-u[0],a[1]-u[1])/2,p)||1/5*p,g=""+d+h,E=x4[g]||"-",j="L "+i[0]+" "+i[1];if(E==="-")j+="L "+u[0]+" "+u[1]+" L "+a[0]+" "+a[1];else{var P=mp(S4(u,g,E,m),2),k=P[0],T=P[1];k&&T&&(j+="L "+k[0]+" "+k[1]+" Q "+u[0]+" "+u[1]+" "+T[0]+" "+T[1],o=mp(T,2),u[0]=o[0],u[1]=o[1])}return j}function P4(i,u){var a=0,p="";if(i.length===2)p+="M"+i[a][0]+" "+i[a++][1]+" L "+i[a][0]+" "+i[a][1];else{for(p+="M"+i[a][0]+" "+i[a++][1];a+1<i.length;){var o=i[a-1],d=i[a],h=i[a+++1];p+=j4(o,d,h,u)}p+="L "+i[a][0]+" "+i[a][1]}return p}(function(i){hE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getEdge=function(){var a=this.props.model,p=a.points,o=a.isAnimation,d=a.arrowConfig,h=a.radius,m=h===void 0?5:h,g=a.getEdgeStyle(),E=a.getEdgeAnimationStyle(),j=E4(p.split(" ").map(function(T){return T.split(",").map(function(C){return+C})})),P=P4(j,m),k=pl(pl(pl({style:o?E:{}},g),d),{fill:"none"});return it.h("path",pl({d:P},k))},u})(it.PolylineEdge);(function(i){hE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u})(it.PolylineEdgeModel);const A4={class:"control-container"},M4=["title","onMouseenter"],T4=["disabled","onClick"],k4=cy({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(i,{emit:u}){const a=i,p=u,o=Na(),d=Na(),h=Na(-1),m=Na([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),g=(j,P)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((k,T)=>{const C=a.lf;P===1&&C.zoom(!0),P===6&&p("catData"),P===T&&C[k]()})},E=j=>{h.value=j};return u1(()=>{a.lf.on("history:change",({data:{undoAble:j,redoAble:P}})=>{Lo(m)[3].disabled=Lo(o).disabled=!j,Lo(m)[4].disabled=Lo(d).disabled=!P})}),(j,P)=>{const k=y2("tippy");return ri(),ju("div",A4,[Pu("ul",null,[(ri(!0),ju(s1,null,c1(m.value,(T,C)=>(ri(),ju("li",{key:C,title:T.text,class:"dark:text-bg_color",onMouseenter:TO(N=>E(C),["prevent"]),onMouseleave:P[0]||(P[0]=TO(N=>h.value=-1,["prevent"]))},[v2((ri(),ju("button",{ref_for:!0,ref:"controlButton"+C,disabled:T.disabled,style:kO({cursor:T.disabled===!1?"pointer":"not-allowed",color:T.disabled===!1?"":"#00000040",background:"transparent",border:"none"}),onClick:N=>g(T,C)},[Pu("span",{class:l1("iconfont "+T.icon),style:kO({fontSize:`${T.size}px`})},null,6)],12,T4)),[[k,{content:T.text}]])],40,M4))),128))])])}}}),D4=fm(k4,[["__scopeId","data-v-091fbc08"]]),N4={class:"node-panel"},R4=["onMousedown"],C4={key:0,class:"shape"},I4={class:"node-label"},L4=cy({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(i){const u=i,a=Na({a:"efrwe",b:"wewe"}),p=o=>{u.lf.dnd.startDrag({type:o.type,properties:Lo(a)})};return(o,d)=>(ri(),ju("div",N4,[(ri(!0),ju(s1,null,c1(o.nodeList,h=>(ri(),ju("div",{key:h.text,class:"node-item dark:text-bg_color",onMousedown:m=>p(h)},[Pu("div",{class:l1(["node-item-icon",h.class])},[h.type==="user"||h.type==="time"?(ri(),ju("div",C4)):Fb("",!0)],2),Pu("span",I4,g2(h.text),1)],40,R4))),128))]))}}),z4=fm(L4,[["__scopeId","data-v-2ea1a30f"]]),B4=cy({__name:"DataDialog",props:{graphData:Object},setup(i){return(u,a)=>(ri(),$h(Lo(O2),{path:"res",deep:3,showLength:!0,data:i.graphData},null,8,["data"]))}}),F4=pm(D4),W4=pm(z4),$4=pm(B4),U4={SEQUENCE_FLOW:1};function G4(i){const{incoming:u,outgoing:a,properties:p,key:o}=i,{text:d,startPoint:h,endPoint:m,pointsList:g,logicFlowType:E}=p,j={id:o,type:E,sourceNodeId:u[0],targetNodeId:a[0],text:d,startPoint:h,endPoint:m,pointsList:g,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(i.properties).forEach(k=>{P.indexOf(k)===-1&&(j.properties[k]=i.properties[k])}),j}function H4(i){const{properties:u,key:a}=i,{x:p,y:o,text:d,logicFlowType:h}=u,m={id:a,type:h,x:p,y:o,text:d,properties:{}},g=["x","y","text","logicFlowType"];return Object.keys(i.properties).forEach(E=>{g.indexOf(E)===-1&&(m.properties[E]=i.properties[E])}),m}function X4(i){const u={nodes:[],edges:[]},a=i.flowElementList;return a&&a.length>0&&a.forEach(p=>{if(p.type===U4.SEQUENCE_FLOW){const o=G4(p);u.edges.push(o)}else{const o=H4(p);u.nodes.push(o)}}),u}const Y4={class:"card-header"},V4={class:"font-medium"},K4={class:"logic-flow-view"},q4=cy({name:"FlowChart",__name:"index",setup(i){const u=Na(null),a=Na(null),p=Na(!1),o=Na({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),d=iL;function h(){Fh.use(m4),Fh.use(PL),Fh.use(w4);const E=new Fh(AO(PO({},Lo(o)),{container:document.querySelector("#turbo")}));u.value=E,Lo(u).setDefaultEdgeType("bpmn:sequenceFlow"),m()}function m(){const E=X4(rL);u.value.render(E)}function g(){a.value=Lo(u).getGraphData(),p.value=!0}return u1(()=>{h()}),(E,j)=>{const P=Lh("el-link"),k=Lh("el-scrollbar"),T=Lh("el-dialog"),C=Lh("el-card");return ri(),$h(C,{shadow:"never"},{header:sl(()=>[Pu("div",Y4,[Pu("span",V4,[j[2]||(j[2]=Cb(" 流程图组件，采用开源的 ",-1)),lp(P,{href:"https://site.logic-flow.cn/docs/#/zh/guide/start",target:"_blank",style:{margin:"0 4px 5px","font-size":"16px"}},{default:sl(()=>[...j[1]||(j[1]=[Cb(" LogicFlow ",-1)])]),_:1})])]),lp(P,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/flow-chart",target:"_blank"},{default:sl(()=>[...j[3]||(j[3]=[Cb(" 代码位置 src/views/flow-chart ",-1)])]),_:1})]),default:sl(()=>[Pu("div",K4,[u.value?(ri(),$h(Lo(F4),{key:0,class:"demo-control",lf:u.value,catTurboData:!1,onCatData:g},null,8,["lf"])):Fb("",!0),u.value?(ri(),$h(Lo(W4),{key:1,lf:u.value,nodeList:Lo(d)},null,8,["lf","nodeList"])):Fb("",!0),j[4]||(j[4]=Pu("div",{id:"turbo"},null,-1)),lp(T,{modelValue:p.value,"onUpdate:modelValue":j[0]||(j[0]=N=>p.value=N),class:"flow-dialog",title:"数据",width:"50%"},{default:sl(()=>[lp(k,null,{default:sl(()=>[lp(Lo($4),{graphData:a.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}}),t8=fm(q4,[["__scopeId","data-v-cc282f2a"]]);export{t8 as default};
