var tl=Object.defineProperty,sl=Object.defineProperties;var rl=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var nl=Object.prototype.hasOwnProperty,ul=Object.prototype.propertyIsEnumerable;var Be=(e,o,n)=>o in e?tl(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,S=(e,o)=>{for(var n in o||(o={}))nl.call(o,n)&&Be(e,n,o[n]);if(we)for(var n of we(o))ul.call(o,n)&&Be(e,n,o[n]);return e},oe=(e,o)=>sl(e,rl(o));var be=(e,o,n)=>new Promise((s,u)=>{var i=t=>{try{y(n.next(t))}catch(I){u(I)}},V=t=>{try{y(n.throw(t))}catch(I){u(I)}},y=t=>t.done?s(t.value):Promise.resolve(t.value).then(i,V);y((n=n.apply(e,o)).next())});import{bQ as Me,dl,u as l,aE as pe,a as L,dF as il,n as q,bc as Pe,dG as pl,p as G,dH as cl,d as x,r as Te,dx as Se,b as m,e as r,aK as X,l as K,w as g,U as w,aL as U,bp as le,k as $,F as O,dI as Ve,a4 as b,j as W,t as z,i as R,dJ as je,aD as fl,dK as Ge,z as Ke,dL as He,f as Z,g as ce,dM as Ee,v as ze,dN as ml,a5 as Le,q as Ie,dO as fe,dP as vl,dQ as bl,dR as yl,dS as hl,dT as gl,dU as kl,dV as Pl,dW as Ye,dX as We,dY as Vl,dZ as El,d_ as Il,d$ as Cl,e0 as Tl,e1 as Sl,e2 as $l,M,e3 as Fl,dC as qe,e4 as Dl,e5 as wl,e6 as Bl,e7 as Ll,dy as Rl,bo as _l,I as Ol,b2 as Nl,e8 as Al,e9 as Ul,s as Ml,dr as Re,ea as jl,dt as _e}from"./index-DQgaYjpP.js";import{a as $e,b as re,i as E,c as Ce,t as Qe,d as ne,_ as ee,e as ye,f as Gl}from"./_plugin-vue_export-helper-COILyfW4.js";const Je="2.11.2",Kl=e=>{const o=l(e);return $e(o)?{content:o}:re(o)?o:{content:""}},Hl=(e,o)=>{if(!re(e))throw new Error(`${o} expected Object but got ${Qe(e)}`)},Oe=(e,o,n,s,u)=>be(null,null,function*(){try{let i={};const V={row:n,index:s};return e?pe(e)?i=e.value:re(e)?i=S({},e):E(e)?i=yield e(o,V):Ce(e)?i=yield e:i=e:i={},Hl(i,u),i}catch(i){return Promise.reject(i)}}),ue=(e,o)=>o?`plus-${e}-${o}`:`plus-${e}`,se=e=>`${ue("field",e)}`,ie=e=>`${ue("label",e)}`,he=e=>`${ue("extra",e)}`,ge=e=>`${ue("previous",e)}`,Ne=e=>`${ue("group",e)}`,zl=(e,o)=>Me(e,o),Yl=(e,o,n)=>dl(e,o,n),Xe=(e,o)=>{const n=e.split(".").map(i=>Number(i)),s=o.split(".").map(i=>Number(i)),u=Math.max(n.length,s.length);for(let i=0;i<u;i++){if((n[i]||0)>(s[i]||0))return 1;if((n[i]||0)<(s[i]||0))return-1}return 0},Ze=Xe(Je,"2.6.0")<0,Ba=Xe(Je,"2.9.9")<0,Wl=e=>e?l(e):"",ke=e=>{ne(e)||console.error("Uncaught TypeError: ",`options expected Array but got ${Qe(e)}`)},de=(e,o)=>{const n=o.optionsMap||{};return o.valueType==="cascader"||!re(n)?e:e.map(i=>{const V=i,y=(n==null?void 0:n.label)||"label",t=(n==null?void 0:n.value)||"value",I={[y]:V[y],[t]:V[t]};return oe(S({},V),{__origin:I,label:i[y],value:i[t]})})||[]},ql=e=>{const o=L([]),n=L(!1);if(!e.options)o.value=[],n.value=!0;else if(pe(e.options)||il(e.options)||ne(e.options))q(()=>e.options,s=>{const u=pe(s)?s.value:s;o.value=de(u,e),n.value=!0},{immediate:!0,deep:!0});else if(E(e.options)){const s=e.options,u=s(e);Ce(u)?u.then(i=>{o.value=de(i,e),n.value=!0,ke(o.value)}).catch(i=>{throw i}):(o.value=de(u,e),n.value=!0)}else Ce(e.options)?e.options.then(u=>{o.value=de(u,e),n.value=!0,ke(o.value)}).catch(u=>{throw u}):(n.value=!0,ke(e.options));return{customOptions:o,customOptionsIsReady:n}},Ql=e=>(o,n)=>Jl(o,n,l(e)),Jl=(e,o,n)=>Me(n,e,e).replace(/\{(\w+)\}/g,(s,u)=>{var i;return`${(i=o==null?void 0:o[u])!=null?i:`{${u}}`}`}),Xl=e=>{const o=G(()=>l(e).name),n=pe(e)?e:L(e);return{lang:o,locale:n,t:Ql(e)}},me=e=>{const o=Pe(pl,L());return Xl(G(()=>{var n;return(n=o.value)!=null&&n.plus?o.value:cl}))},Zl=Symbol("tableFormFieldRefInjectionKey"),xl=Symbol("tableFormRowInfoInjectionKey"),ea=["datetimerange","daterange","monthrange"],la=["rate","input-number","slider"],aa=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var oa=x({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(e,{expose:o,emit:n}){const s=e,u=n,i=L(),V=L(),y=Te({radio:""});q(()=>s.modelValue,h=>{y.radio=h},{immediate:!0});const t=Se(),I=(h,_,d)=>{if(!(Reflect.get(t,"disabled")||d!=null&&d.disabled)){if(s.isCancel)h.preventDefault();else return;y.radio=y.radio===_?"":_,u("update:modelValue",y.radio),u("change",y.radio)}},c=h=>{s.isCancel||(u("update:modelValue",h),u("change",h))};return o({radioInstance:i,radioGroupInstance:V}),(h,_)=>(r(),m(l(je),b({ref_key:"radioGroupInstance",ref:V,modelValue:y.radio,"onUpdate:modelValue":_[0]||(_[0]=d=>y.radio=d),class:"plus-radio"},h.$attrs),X({default:g(()=>[l(Ze)?(r(!0),$(O,{key:0},K(h.options,d=>(r(),m(l(Ve),b({key:`${d.label}${d.value}`,ref_for:!0,ref_key:"radioInstance",ref:i,label:d.value},l(E)(d.fieldItemProps)?d.fieldItemProps(d):d.fieldItemProps,{onClick:j=>I(j,d.value,l(E)(d.fieldItemProps)?d.fieldItemProps(d):d.fieldItemProps),onChange:j=>c(d.value)}),{default:g(()=>[l(E)(d.fieldSlot)?(r(),m(w(d.fieldSlot),b({key:0,"model-value":y.radio,column:s},d),null,16,["model-value"])):l(E)(h.fieldChildrenSlot)?(r(),m(w(h.fieldChildrenSlot),b({key:1,"model-value":y.radio,column:s},d),null,16,["model-value"])):(r(),$(O,{key:2},[W(z(d==null?void 0:d.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(r(),$(O,{key:1},[R(" element-plus 版本号大于等于2.6.0 "),(r(!0),$(O,null,K(h.options,d=>(r(),m(l(Ve),b({key:`${d.label}${d.value}`,ref_for:!0,ref_key:"radioInstance",ref:i,value:d.value},l(E)(d.fieldItemProps)?d.fieldItemProps(d):d.fieldItemProps,{onClick:j=>I(j,d.value,l(E)(d.fieldItemProps)?d.fieldItemProps(d):d.fieldItemProps),onChange:j=>c(d.value)}),{default:g(()=>[l(E)(d.fieldSlot)?(r(),m(w(d.fieldSlot),b({key:0,"model-value":y.radio,column:s},d),null,16,["model-value"])):l(E)(h.fieldChildrenSlot)?(r(),m(w(h.fieldChildrenSlot),b({key:1,"model-value":y.radio,column:s},d),null,16,["model-value"])):(r(),$(O,{key:2},[W(z(d==null?void 0:d.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[K(h.fieldSlots,(d,j)=>({name:j,fn:g(H=>[(r(),m(w(d),U(le(H)),null,16))])}))]),1040,["modelValue"]))}}),ta=ee(oa,[["__file","index.vue"]]);const sa=ta;var ra=x({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(e){const o=e,n=L();q(()=>o.callbackValue,u=>{n.value=u},{flush:"post",immediate:!0});const s=()=>{if(!o.render)return;const u=S({},o.params),i=o.renderType==="form"?o.render(n.value,o.handleChange,u):o.render(n.value,u);if(fl(i)){const V=o.renderType==="form"?S(S({modelValue:n.value},o.customFieldProps),i.props):S(S({},o.customFieldProps),i.props);return oe(S({},i),{props:V})}else if($e(i))return i};return(u,i)=>u.renderType==="form"?(r(),m(w(s),b({key:0,modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=V=>n.value=V)},u.customFieldProps),null,16,["modelValue"])):(r(),m(w(s),U(b({key:1},u.customFieldProps)),null,16))}}),na=ee(ra,[["__file","index.vue"]]);const Ae=na,ua={class:"plus-date-picker__middle"};var da=x({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},disabled:{type:Boolean,default:!1},startDisabledDate:{type:Function,default:(e,o)=>o?e.getTime()>new Date(o).getTime():!1},endDisabledDate:{type:Function,default:(e,o)=>o?e.getTime()<new Date(o).getTime():!1}},emits:["change","focus","update:modelValue"],setup(e,{expose:o,emit:n}){const s=e,u=n,{t:i}=me(),V=Se(),y=G(()=>S(S({},V),s.startProps)),t=G(()=>S(S({},V),s.endProps)),I=L(),c=L(),h=Te({start:"",end:""}),_=Ge(),d=L(!1),j=v=>{d.value=!0,u("focus",v)},H=()=>{d.value=!1},P=v=>s.startDisabledDate&&E(s.startDisabledDate)?s.startDisabledDate(v,h.end):!1,F=v=>s.endDisabledDate&&E(s.endDisabledDate)?s.endDisabledDate(v,h.start):!1;q(()=>s.modelValue,v=>{const[p,T]=v;h.start=p,h.end=T},{immediate:!0});const k=()=>{const v=[h.start,h.end];u("update:modelValue",v),u("change",v)};return o({startPickerInstance:I,endPickerInstance:c}),(v,p)=>Ke((r(),$("div",{class:ze(["plus-date-picker",{"is-focus":d.value,"is-disabled":l(_)}])},[Z(l(Ee),b({ref_key:"startPickerInstance",ref:I,modelValue:h.start,"onUpdate:modelValue":p[0]||(p[0]=T=>h.start=T),type:v.type,"value-format":v.valueFormat,placeholder:l(i)("plus.datepicker.startPlaceholder"),"disabled-date":P,class:"plus-date-picker__start",clearable:"",disabled:l(_)},y.value,{onChange:k,onFocus:j}),null,16,["modelValue","type","value-format","placeholder","disabled"]),ce("span",ua,z(v.rangeSeparator),1),Z(l(Ee),b({ref_key:"endPickerInstance",ref:c,modelValue:h.end,"onUpdate:modelValue":p[1]||(p[1]=T=>h.end=T),"value-format":v.valueFormat,type:v.type,placeholder:l(i)("plus.datepicker.endPlaceholder"),"disabled-date":F,class:"plus-date-picker__end",clearable:"",disabled:l(_)},t.value,{onChange:k,onFocus:j}),null,16,["modelValue","value-format","type","placeholder","disabled"])],2)),[[l(He),H]])}}),ia=ee(da,[["__file","index.vue"]]);const pa=ia;var ca=x({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(e,{expose:o,emit:n}){const s=e,u=n,i=L(),V=L(),y=L(),t=Te({tags:[],inputValue:"",isFocus:!1}),I=Ge(),{t:c}=me();q(()=>s.modelValue,P=>{t.tags=P.slice(0,s.limit)},{immediate:!0});const h=()=>{t.isFocus=!1},_=()=>{var P;t.isFocus=!0,(P=i.value)==null||P.focus()},d=P=>{I.value||(t.tags=t.tags.filter(F=>F!==P),u("remove",P),u("update:modelValue",t.tags),u("change",t.tags))},j=()=>{t.inputValue.trim()&&!t.tags.includes(t.inputValue.trim())&&t.tags.length<s.limit&&t.tags.push(t.inputValue.trim()),s.retainInputValue||(t.inputValue=""),u("update:modelValue",t.tags),u("change",t.tags)},H=(P,F)=>{u(F,t.inputValue,P),(ne(s.trigger)?s.trigger:$e(s.trigger)?[s.trigger]:["blur","enter","space"]).includes(F)&&j()};return o({inputInstance:i,tagInstance:V}),(P,F)=>Ke((r(),$("div",{ref_key:"plusInputTagInstance",ref:y,class:ze(["plus-input-tag",{"is-focus":t.isFocus,"is-disabled":l(I)}]),onClick:_},[(r(!0),$(O,null,K(t.tags,k=>(r(),m(l(ml),b({ref_for:!0,ref_key:"tagInstance",ref:V,key:k,class:"plus-input-tag__tag"},P.tagProps,{closable:"",onClose:v=>d(k)}),{default:g(()=>[W(z(P.formatTag&&l(E)(P.formatTag)?P.formatTag(k):k),1)]),_:2},1040,["onClose"]))),128)),t.tags.length<P.limit?(r(),m(l(fe),b({key:0,ref_key:"inputInstance",ref:i,modelValue:t.inputValue,"onUpdate:modelValue":F[0]||(F[0]=k=>t.inputValue=k),class:"plus-input-tag__input",placeholder:t.tags.length?"":l(c)("plus.inputTag.placeholder"),disabled:l(I)||t.tags.length>=P.limit},P.inputProps,{clearable:"",onBlur:F[1]||(F[1]=k=>H(k,"blur")),onKeyup:[F[2]||(F[2]=Le(Ie(k=>H(k,"enter"),["exact"]),["enter"])),F[3]||(F[3]=Le(Ie(k=>H(k,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):R("v-if",!0)],2)),[[l(He),h]])}}),fa=ee(ca,[["__file","index.vue"]]);const ma=fa,xe={"plus-radio":{component:sa,hasOptions:!0},"plus-date-picker":{component:pa},"plus-input-tag":{component:ma},autocomplete:{component:$l,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:Sl,hasOptions:!0},checkbox:{component:Tl,children:Cl,hasVersionCompatibility:!0},"color-picker":{component:Il},"date-picker":{component:Ee,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:El,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:je,children:Ve,hasVersionCompatibility:!0},rate:{component:Vl},select:{component:We,children:Ye},slider:{component:Pl},switch:{component:kl},"time-picker":{component:gl},"time-select":{component:hl},transfer:{component:yl},input:{component:fe,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:fe,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:bl},"select-v2":{component:vl,hasOptions:!0}},va=e=>Object.keys(xe).includes(e),te=e=>Reflect.get(xe,e)||{},ba={class:"el-form-item__error"},ya={class:"plus-form-item__label"};var ha=x({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},renderErrorMessage:{default:void 0},optionsMap:{default:void 0},index:{default:0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(e,{expose:o,emit:n}){const s=Rl,u=Fl,i=qe,V=fe,y=We,t=Ye,I=wl,c=e,h=n,{t:_}=me(),{customOptions:d,customOptionsIsReady:j}=ql(c),H=L(),P=L(),F=L({}),k=L({}),v=L(),p=L(!1),T=L(!1),C=G(()=>Wl(c.label)),Y=Pe(Zl,{}),J=Pe(xl,{}),A=G(()=>oe(S(S({},c),l(J)),{label:C.value,fieldProps:k.value,formItemProps:F.value,options:d.value})),ve=G(()=>{var a,N,D,f,B,Q;return c.valueType==="cascader"&&((N=(a=k.value)==null?void 0:a.props)==null?void 0:N.emitPath)===!1?!1:!!(aa.includes(c.valueType)||c.valueType==="select"&&((D=k.value)==null?void 0:D.multiple)===!0||c.valueType==="date-picker"&&ea.includes((f=k.value)==null?void 0:f.type)||c.valueType==="time-picker"&&((B=k.value)==null?void 0:B.isRange)===!0||c.valueType==="tree-select"&&((Q=k.value)==null?void 0:Q.multiple)===!0)}),el=G(()=>!!la.includes(c.valueType)),ll=a=>{if(ve.value)if(ne(a)){const[N,D]=a;ye(N)||ye(D)?v.value=[String(N),String(D)]:v.value=a}else v.value=[];else el.value?v.value=a==null||a===""?null:typeof a=="string"?Number(a):a:ye(a)?v.value=String(a):v.value=a;T.value=!0},Fe=G(()=>{const{hasOptions:a,hasSelectEvent:N,props:D}=te(c.valueType);return S(S(oe(S(S(S({},a?{options:d.value}:null),N?{onSelect:ol}:null),D),{placeholder:D!=null&&D.placeholder?_(D==null?void 0:D.placeholder)+C.value:_("plus.field.pleaseSelect")+C.value}),c.valueType==="date-picker"?{startPlaceholder:D!=null&&D.startPlaceholder?_(D==null?void 0:D.startPlaceholder):"",endPlaceholder:D!=null&&D.startPlaceholder?_(D==null?void 0:D.endPlaceholder):""}:null),k.value)}),al=a=>S(S({},c.valueType==="select"?{label:a.label,value:a.value}:Ze?{label:a.value}:{label:a.label,value:a.value}),E(a.fieldItemProps)?a.fieldItemProps(a):a.fieldItemProps),De=G(()=>{var a;return(a=A.value.index)!=null?a:c.index});q(()=>[c.formItemProps,v.value],()=>{Oe(c.formItemProps,v.value,l(A),l(De),"formItemProps").then(a=>{F.value=a}).catch(a=>{throw a})},{immediate:!0,deep:!0,flush:"post"}),q(()=>[c.fieldProps,v.value],()=>{Oe(c.fieldProps,v.value,l(A),l(De),"fieldProps").then(a=>{k.value=a,p.value=!0}).catch(a=>{throw a})},{immediate:!0,deep:!0,flush:"post"}),q(G(()=>[c.modelValue,p.value,j.value]),([a,N,D])=>{N&&D&&ll(a)},{immediate:!0,flush:"post"});const ae=a=>{h("update:modelValue",a),h("change",a)},ol=({value:a})=>{ae(a)};return q(P,()=>{Y.value={fieldInstance:P.value,valueIsReady:T}}),o({formItemInstance:H,fieldInstance:P}),(a,N)=>{var D;return T.value?(r(),m(l(s),b({key:0,ref_key:"formItemInstance",ref:H,label:a.hasLabel?C.value:"",prop:a.prop,class:"plus-form-item"},F.value,{"label-width":a.hasLabel?(D=F.value)==null?void 0:D.labelWidth:"0px"}),X({default:g(()=>[a.renderField&&l(E)(a.renderField)?(r(),$(O,{key:0},[T.value?(r(),m(l(Ae),{key:0,render:a.renderField,params:A.value,"callback-value":v.value,"custom-field-props":k.value,"render-type":"form","handle-change":ae},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):a.$slots[l(se)(a.prop)]?M(a.$slots,l(se)(a.prop),b({key:1},A.value,{column:c})):a.valueType==="select"&&k.value.multiple===!0?(r(),m(l(y),b({key:2,ref_key:"fieldInstance",ref:P,modelValue:v.value,"onUpdate:modelValue":N[0]||(N[0]=f=>v.value=f),placeholder:l(_)("plus.field.pleaseSelect")+C.value,class:"plus-form-item-field",clearable:a.clearable},k.value,{"onUpdate:modelValue":ae}),X({default:g(()=>[(r(!0),$(O,null,K(l(d),f=>(r(),$(O,{key:f.label},[f.options?(r(),m(l(I),{key:0,label:f.label,disabled:f.disabled},{default:g(()=>[(r(!0),$(O,null,K(f.options,B=>(r(),m(l(t),b({key:B.value,label:B.label,value:B.value},l(E)(B.fieldItemProps)?B.fieldItemProps(B):B.fieldItemProps),{default:g(()=>[l(E)(B.fieldSlot)?(r(),m(w(B.fieldSlot),U(b({key:0},B)),null,16)):l(E)(a.fieldChildrenSlot)?(r(),m(w(a.fieldChildrenSlot),U(b({key:1},B)),null,16)):(r(),$(O,{key:2},[W(z(B.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},1032,["label","disabled"])):(r(),m(l(t),b({key:1,label:f.label,value:f.value},l(E)(f.fieldItemProps)?f.fieldItemProps(f):f.fieldItemProps),{default:g(()=>[l(E)(f.fieldSlot)?(r(),m(w(f.fieldSlot),U(b({key:0},f)),null,16)):l(E)(a.fieldChildrenSlot)?(r(),m(w(a.fieldChildrenSlot),U(b({key:1},f)),null,16)):(r(),$(O,{key:2},[W(z(f.label),1)],64))]),_:2},1040,["label","value"]))],64))),128))]),_:2},[K(a.fieldSlots,(f,B)=>({name:B,fn:g(Q=>[(r(),m(w(f),U(le(Q)),null,16))])}))]),1040,["modelValue","placeholder","clearable"])):l(va)(a.valueType)?(r(),$(O,{key:3},[R(" 统一处理 "),R(" has-children  "),l(te)(a.valueType).children?(r(),m(w(l(te)(a.valueType).component),b({key:0,ref_key:"fieldInstance",ref:P,modelValue:v.value,"onUpdate:modelValue":N[1]||(N[1]=f=>v.value=f),class:"plus-form-item-field",clearable:a.clearable},Fe.value,{"onUpdate:modelValue":ae}),X({default:g(()=>[(r(!0),$(O,null,K(l(d),f=>(r(),m(w(l(te)(a.valueType).children),b({key:f.label},al(f)),{default:g(()=>[l(E)(f.fieldSlot)?(r(),m(w(f.fieldSlot),b({key:0,"model-value":v.value,column:A.value},f),null,16,["model-value","column"])):l(E)(a.fieldChildrenSlot)?(r(),m(w(a.fieldChildrenSlot),b({key:1,"model-value":v.value,column:A.value},f),null,16,["model-value","column"])):(r(),$(O,{key:2},[W(z(f.label),1)],64))]),_:2},1040))),128))]),_:2},[K(a.fieldSlots,(f,B)=>({name:B,fn:g(Q=>[(r(),m(w(f),b({value:v.value,column:A.value},Q),null,16,["value","column"]))])}))]),1040,["modelValue","clearable"])):(r(),$(O,{key:1},[R(" no-children  "),(r(),m(w(l(te)(a.valueType).component),b({ref_key:"fieldInstance",ref:P,modelValue:v.value,"onUpdate:modelValue":N[2]||(N[2]=f=>v.value=f),class:"plus-form-item-field",clearable:a.clearable,"field-children-slot":a.fieldChildrenSlot},Fe.value,{"onUpdate:modelValue":ae}),X({_:2},[K(a.fieldSlots,(f,B)=>({name:B,fn:g(Q=>[(r(),m(w(f),b({"model-value":v.value,column:A.value},Q),null,16,["model-value","column"]))])}))]),1040,["modelValue","clearable","field-children-slot"]))],2112))],64)):a.valueType==="text"?(r(),m(l(Bl),b({key:4,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:g(()=>[W(z(v.value),1)]),_:1},16)):a.valueType==="divider"?(r(),m(l(Ll),b({key:5,ref_key:"fieldInstance",ref:P,class:"plus-form-item-field"},k.value),{default:g(()=>[W(z(v.value),1)]),_:1},16)):(r(),m(l(V),b({key:6,ref_key:"fieldInstance",ref:P,modelValue:v.value,"onUpdate:modelValue":N[3]||(N[3]=f=>v.value=f),class:"plus-form-item-field",placeholder:l(_)("plus.field.pleaseEnter")+C.value,autocomplete:"off",clearable:a.clearable},k.value,{"onUpdate:modelValue":ae}),X({_:2},[K(a.fieldSlots,(f,B)=>({name:B,fn:g(Q=>[(r(),m(w(f),b({"model-value":v.value,column:A.value},Q),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder","clearable"]))]),_:2},[l(E)(a.renderErrorMessage)?{name:"error",fn:g(({error:f})=>[ce("div",ba,[(r(),m(w(a.renderErrorMessage),b(c,{value:v.value,error:f,label:C.value}),null,16,["value","error","label"]))])]),key:"0"}:void 0,a.hasLabel?{name:"label",fn:g(({label:f})=>[ce("span",ya,[a.renderLabel&&l(E)(a.renderLabel)?(r(),$(O,{key:0},[T.value?(r(),m(l(Ae),{key:0,render:a.renderLabel,params:A.value,"callback-value":f,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):M(a.$slots,l(ie)(a.prop),U(b({key:1},A.value)),()=>[W(z(f),1)]),a.tooltip?(r(),m(l(u),b({key:2,placement:"top"},l(Kl)(a.tooltip)),{default:g(()=>[M(a.$slots,"tooltip-icon",{},()=>[Z(l(i),{class:"plus-table-column__label__icon",size:16},{default:g(()=>[Z(l(Dl))]),_:1})])]),_:3},16)):R("v-if",!0)])]),key:"1"}:void 0]),1040,["label","prop","label-width"])):R("v-if",!0)}}}),ga=ee(ha,[["__file","index.vue"]]);const ka=ga;var Pa=x({name:"PlusCollapseTransition",__name:"collapse-transition",props:{collapseDuration:{default:300},collapseTransition:{type:Boolean,default:!0}},setup(e){const o=e,n={beforeEnter(s){s.style.opacity=0},enter(s,u){requestAnimationFrame(()=>{s.style.transition=`opacity ${o.collapseDuration}ms linear`,s.style.opacity=1,u()})},leave(s,u){s.style.opacity=0,setTimeout(()=>{u()},o.collapseDuration/3*2)}};return(s,u)=>s.collapseTransition?(r(),m(Ol,b({key:0,name:"plus-collapse-transition",css:!1},_l(n)),{default:g(()=>[M(s.$slots,"default")]),_:3},16)):M(s.$slots,"default",{key:1})}}),Va=ee(Pa,[["__file","collapse-transition.vue"]]);const Ea={key:0,class:"plus-form-item-previous"},Ia={key:1,class:"plus-form-item-extra"};var Ca=x({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(e,{emit:o}){const n=e,s=o,u=L({}),i=t=>{const I=l(t);return Gl(I)?I:n.hasLabel};q(()=>n.modelValue,t=>{u.value=t},{immediate:!0});const V=t=>zl(u.value,t),y=(t,I)=>{Yl(u.value,I.prop,t),s("update:modelValue",u.value),s("change",u.value,I)};return(t,I)=>(r(),m(l(Al),b(t.rowProps,{class:"plus-form__row"}),{default:g(()=>[Z(Va,{"collapse-duration":t.collapseDuration,"collapse-transition":t.collapseTransition},{default:g(()=>[(r(!0),$(O,null,K(t.columns,c=>(r(),m(l(Nl),b({key:c.prop},c.colProps||t.colProps),{default:g(()=>[R(" el-form-item上一行的内容 "),c.renderPrevious||t.$slots[l(ge)(c.prop)]?(r(),$("div",Ea,[l(E)(c.renderPrevious)?(r(),m(w(c.renderPrevious),U(b({key:0},c)),null,16)):t.$slots[l(ge)(c.prop)]?M(t.$slots,l(ge)(c.prop),U(b({key:1},c))):R("v-if",!0)])):R("v-if",!0),Z(l(ka),b({"model-value":V(c.prop)},c,{clearable:t.clearable,"has-label":i(c.hasLabel),onChange:h=>y(h,c)}),X({_:2},[t.$slots[l(ie)(c.prop)]?{name:l(ie)(c.prop),fn:g(h=>[M(t.$slots,l(ie)(c.prop),U(le(h)))]),key:"0"}:void 0,t.$slots[l(se)(c.prop)]?{name:l(se)(c.prop),fn:g(h=>[M(t.$slots,l(se)(c.prop),U(le(h)))]),key:"1"}:void 0,t.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:g(()=>[M(t.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","clearable","has-label","onChange"]),R(" el-form-item 下一行额外的内容 "),c.renderExtra||t.$slots[l(he)(c.prop)]?(r(),$("div",Ia,[c.renderExtra&&l(E)(c.renderExtra)?(r(),m(w(c.renderExtra),U(b({key:0},c)),null,16)):t.$slots[l(he)(c.prop)]?M(t.$slots,l(he)(c.prop),U(b({key:1},c))):R("v-if",!0)])):R("v-if",!0)]),_:2},1040))),128))]),_:3},8,["collapse-duration","collapse-transition"]),R(" 搜索的footer插槽  "),M(t.$slots,"search-footer")]),_:3},16))}}),Ue=ee(Ca,[["__file","form-content.vue"]]);const Ta={class:"plus-form__group__item__icon"};var Sa=x({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})},prevent:{type:Boolean,default:!1},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0},clearable:{type:Boolean,default:!0}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(e,{expose:o,emit:n}){const s=e,u=n,{t:i}=me(),V=L(null),y=L({}),t=p=>(p==null?void 0:p.filter(T=>l(T.hideInForm)!==!0))||[],I=G(()=>y.value),c=G(()=>({justifyContent:s.footerAlign==="left"?"flex-start":s.footerAlign==="center"?"center":"flex-end"})),h=G(()=>t(s.columns)),_=G(()=>{var p;return ne(s.group)?(p=s.group)==null?void 0:p.filter(T=>l(T.hideInGroup)!==!0):s.group}),d=Se(),j=G(()=>S(S({},d),s.prevent?{onSubmit:Ie((...p)=>{d!=null&&d.onSubmit&&E(d==null?void 0:d.onSubmit)&&d.onSubmit(...p)},["prevent"])}:{}));q(()=>s.modelValue,p=>{y.value=p},{immediate:!0});const H=(p,T)=>{u("update:modelValue",y.value),u("change",y.value,T)},P=()=>{var p;(p=V.value)==null||p.clearValidate()},F=()=>be(null,null,function*(){var p,T,C;try{if(yield(p=V.value)==null?void 0:p.validate())return u("submit",y.value),!0}catch(Y){if(s.hasErrorTip){_e.closeAll();const J=re(Y)&&Object.values(Y),A=J?(C=(T=J[0])==null?void 0:T[0])==null?void 0:C.message:void 0;_e.warning(A||i("plus.form.errorTip"))}u("submitError",Y)}return!1}),k=()=>{P(),y.value=S({},s.defaultValues),u("update:modelValue",y.value),u("reset",y.value)},v=(...p)=>{u("validate",...p)};return o({formInstance:V,handleSubmit:F,handleReset:k}),(p,T)=>(r(),m(l(jl),b({ref_key:"formInstance",ref:V,rules:p.rules,"label-width":p.hasLabel?p.labelWidth:0,class:["plus-form",p.hasLabel?"":"no-has-label"],"label-position":p.labelPosition,"validate-on-rule-change":!1,"label-suffix":p.hasLabel?p.labelSuffix:""},j.value,{model:I.value,onValidate:v}),{default:g(()=>[M(p.$slots,"default",{},()=>[R(" 分组表单 "),_.value?(r(!0),$(O,{key:0},K(_.value,(C,Y)=>(r(),m(l(Ul),b({key:l(C.title)},C.cardProps||p.cardProps,{class:"plus-form__group__item"}),{header:g(()=>[M(p.$slots,"group-header",{title:l(C.title),columns:C.columns,icon:C.icon,index:Y},()=>[ce("div",Ta,[C.icon?(r(),m(l(qe),{key:0},{default:g(()=>[(r(),m(w(C.icon)))]),_:2},1024)):R("v-if",!0),W(" "+z(l(C.title)),1)])])]),default:g(()=>[p.$slots[l(Ne)(C.name)]?M(p.$slots,l(Ne)(C.name),b({key:0},C,{index:Y})):(r(),m(Ue,{key:1,modelValue:y.value,"onUpdate:modelValue":T[0]||(T[0]=J=>y.value=J),"row-props":p.rowProps,"col-props":p.colProps,columns:t(C.columns),"has-label":p.hasLabel,"collapse-transition":p.collapseTransition,"collapse-duration":p.collapseDuration,clearable:p.clearable,onChange:H},X({_:2},[K(p.$slots,(J,A)=>({name:A,fn:g(ve=>[M(p.$slots,A,U(le(ve)))])}))]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration","clearable"]))]),_:2},1040))),128)):(r(),$(O,{key:1},[R(" 普通表单 "),Z(Ue,{modelValue:y.value,"onUpdate:modelValue":T[1]||(T[1]=C=>y.value=C),"row-props":p.rowProps,"col-props":p.colProps,columns:h.value,"has-label":p.hasLabel,"collapse-transition":p.collapseTransition,"collapse-duration":p.collapseDuration,clearable:p.clearable,onChange:H},X({_:2},[K(p.$slots,(C,Y)=>({name:Y,fn:g(J=>[M(p.$slots,Y,U(le(J)))])}))]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration","clearable"])],64))]),p.hasFooter?(r(),$("div",{key:0,class:"plus-form__footer",style:Ml(c.value)},[M(p.$slots,"footer",U(le({handleReset:k,handleSubmit:F})),()=>[p.hasReset?(r(),m(l(Re),{key:0,onClick:k},{default:g(()=>[R(" 重置 "),W(" "+z(p.resetText||l(i)("plus.form.resetText")),1)]),_:1})):R("v-if",!0),Z(l(Re),{type:"primary",loading:p.submitLoading,onClick:F},{default:g(()=>[R(" 提交 "),W(" "+z(p.submitText||l(i)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):R("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),$a=ee(Sa,[["__file","index.vue"]]);const La=$a;export{La as P,me as u,Ba as v};
