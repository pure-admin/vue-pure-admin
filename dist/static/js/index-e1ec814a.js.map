{"version":3,"file":"index-e1ec814a.js","sources":["../../../src/views/system/dept/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { useDept } from \"./utils/hook\";\nimport { PureTableBar } from \"@/components/RePureTableBar\";\nimport { useRenderIcon } from \"@/components/ReIcon/src/hooks\";\n\nimport Delete from \"@iconify-icons/ep/delete\";\nimport EditPen from \"@iconify-icons/ep/edit-pen\";\nimport Search from \"@iconify-icons/ep/search\";\nimport Refresh from \"@iconify-icons/ep/refresh\";\nimport AddFill from \"@iconify-icons/ri/add-circle-line\";\n\ndefineOptions({\n  name: \"Dept\"\n});\n\nconst formRef = ref();\nconst tableRef = ref();\nconst {\n  form,\n  loading,\n  columns,\n  dataList,\n  onSearch,\n  resetForm,\n  openDialog,\n  handleDelete,\n  handleSelectionChange\n} = useDept();\n</script>\n\n<template>\n  <div class=\"main\">\n    <el-form\n      ref=\"formRef\"\n      :inline=\"true\"\n      :model=\"form\"\n      class=\"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]\"\n    >\n      <el-form-item label=\"部门名称：\" prop=\"name\">\n        <el-input\n          v-model=\"form.name\"\n          placeholder=\"请输入部门名称\"\n          clearable\n          class=\"!w-[200px]\"\n        />\n      </el-form-item>\n      <el-form-item label=\"状态：\" prop=\"status\">\n        <el-select\n          v-model=\"form.status\"\n          placeholder=\"请选择状态\"\n          clearable\n          class=\"!w-[180px]\"\n        >\n          <el-option label=\"启用\" :value=\"1\" />\n          <el-option label=\"停用\" :value=\"0\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          type=\"primary\"\n          :icon=\"useRenderIcon(Search)\"\n          :loading=\"loading\"\n          @click=\"onSearch\"\n        >\n          搜索\n        </el-button>\n        <el-button :icon=\"useRenderIcon(Refresh)\" @click=\"resetForm(formRef)\">\n          重置\n        </el-button>\n      </el-form-item>\n    </el-form>\n\n    <PureTableBar\n      title=\"部门列表（仅演示，操作后不生效）\"\n      :columns=\"columns\"\n      :tableRef=\"tableRef?.getTableRef()\"\n      @refresh=\"onSearch\"\n    >\n      <template #buttons>\n        <el-button\n          type=\"primary\"\n          :icon=\"useRenderIcon(AddFill)\"\n          @click=\"openDialog()\"\n        >\n          新增部门\n        </el-button>\n      </template>\n      <template v-slot=\"{ size, dynamicColumns }\">\n        <pure-table\n          ref=\"tableRef\"\n          border\n          align-whole=\"center\"\n          row-key=\"id\"\n          showOverflowTooltip\n          table-layout=\"auto\"\n          default-expand-all\n          :loading=\"loading\"\n          :size=\"size\"\n          :data=\"dataList\"\n          :columns=\"dynamicColumns\"\n          :header-cell-style=\"{\n            background: 'var(--el-table-row-hover-bg-color)',\n            color: 'var(--el-text-color-primary)'\n          }\"\n          @selection-change=\"handleSelectionChange\"\n        >\n          <template #operation=\"{ row }\">\n            <el-button\n              class=\"reset-margin\"\n              link\n              type=\"primary\"\n              :size=\"size\"\n              :icon=\"useRenderIcon(EditPen)\"\n              @click=\"openDialog('编辑', row)\"\n            >\n              编辑\n            </el-button>\n            <el-popconfirm\n              :title=\"`是否确认删除部门名称为${row.name}的这条数据`\"\n              @confirm=\"handleDelete(row)\"\n            >\n              <template #reference>\n                <el-button\n                  class=\"reset-margin\"\n                  link\n                  type=\"primary\"\n                  :size=\"size\"\n                  :icon=\"useRenderIcon(Delete)\"\n                >\n                  删除\n                </el-button>\n              </template>\n            </el-popconfirm>\n          </template>\n        </pure-table>\n      </template>\n    </PureTableBar>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.search-form {\n  :deep(.el-form-item) {\n    margin-bottom: 12px;\n  }\n}\n</style>\n"],"names":["formRef","ref","tableRef","form","loading","columns","dataList","onSearch","resetForm","openDialog","handleDelete","handleSelectionChange","useDept"],"mappings":"6qBAgBA,MAAMA,EAAUC,IACVC,EAAWD,IACX,CACJ,KAAAE,EACA,QAAAC,EACA,QAAAC,EACA,SAAAC,EACA,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,aAAAC,EACA,sBAAAC,GACEC,EAAQ"}