var x=Object.defineProperty,D=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(e,a,u)=>a in e?x(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,s=(e,a)=>{for(var u in a||(a={}))E.call(a,u)&&b(e,u,a[u]);if(c)for(var u of c(a))F.call(a,u)&&b(e,u,a[u]);return e},m=(e,a)=>D(e,g(a));import{t as M,o as v}from"./data-Dd4sCrbk.js";import{r as f,a7 as j,i as t,e as i,F as p,dQ as C,aE as R}from"./index-BHSPFdsP.js";function U(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!R(e)}function B(){const e=f({}),a=f(j(M,!0)),u=[{label:"姓名",prop:"name",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-input"),{modelValue:l.name,"onUpdate:modelValue":r=>l.name=r},null):t("p",null,[l.name])])}},{label:"性别",prop:"sex",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-switch"),{modelValue:l.sex,"onUpdate:modelValue":r=>l.sex=r,"inline-prompt":!0,"active-value":0,"inactive-value":1,"active-text":"男","inactive-text":"女"},null):t("p",null,[l.sex===0?"男":"女"])])}},{label:"爱好",prop:"hobby",cellRenderer:({row:l,index:o})=>{var r;let n;return t(p,null,[(r=e.value[o])!=null&&r.editable?t(i("el-select"),{modelValue:l.hobby,"onUpdate:modelValue":d=>l.hobby=d,clearable:!0,placeholder:"请选择爱好"},U(n=v.map(d=>t(i("el-option"),{key:d.value,label:d.label,value:d.value},null)))?n:{default:()=>[n]}):t(i("el-tag"),{type:"primary"},{default:()=>{var d;return[(d=v.filter(Y=>Y.value==l.hobby)[0])==null?void 0:d.label]}})])}},{label:"日期",prop:"date",cellRenderer:({row:l,index:o})=>{var n;return t(p,null,[(n=e.value[o])!=null&&n.editable?t(i("el-date-picker"),{modelValue:l.date,"onUpdate:modelValue":r=>l.date=r,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"请选择日期"},null):t("p",null,[l.date])])},minWidth:110},{label:"操作",fixed:"right",slot:"operation"}];function y(l,o){e.value[o]=Object.assign(m(s({},l),{editable:!0}))}function V(l){e.value[l].editable=!1}function h(l){e.value[l].editable=!1,a.value[l]=C(e.value[l],"editable")}return{editMap:e,columns:u,dataList:a,onEdit:y,onSave:V,onCancel:h}}export{B as useColumns};
