var p=(i,r,e)=>new Promise((d,n)=>{var u=t=>{try{v(e.next(t))}catch(w){n(w)}},f=t=>{try{v(e.throw(t))}catch(w){n(w)}},v=t=>t.done?d(t.value):Promise.resolve(t.value).then(u,f);v((e=e.apply(i,r)).next())});import{V as R,aa as o,dr as s,dL as h,dT as C,r as E,a7 as I}from"./index-BYGmXFoi.js";const y=/^\d{6}$/,$=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,z=R({password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):$.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):h().verifyCode!==r?e(new Error(o(s("login.verifyCodeCorrectReg")))):e()},trigger:"blur"}]}),S=R({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}]}),Z=R({phone:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.phoneReg")))):C(r)?e():e(new Error(o(s("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.verifyCodeReg")))):y.test(r)?e():e(new Error(o(s("login.verifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(i,r,e)=>{r===""?e(new Error(o(s("login.passwordReg")))):$.test(r)?e():e(new Error(o(s("login.passwordRuleReg"))))},trigger:"blur"}]}),a=E(!1),l=E(null),g=E(""),P=()=>({isDisabled:a,timer:l,text:g,start:(e,d,n=60)=>p(void 0,null,function*(){if(!e)return;const u=I(n,!0);yield e.validateField(d,f=>{f&&(clearInterval(l.value),a.value=!0,g.value=`${n}`,l.value=setInterval(()=>{n>0?(n-=1,g.value=`${n}`):(g.value="",a.value=!1,clearInterval(l.value),n=u)},1e3))})}),end:()=>{g.value="",a.value=!1,clearInterval(l.value)}});export{Z as a,z as l,S as p,P as u};
