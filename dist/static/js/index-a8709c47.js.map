{"version":3,"file":"index-a8709c47.js","sources":["../../../src/views/system/role/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { useRole } from \"./utils/hook\";\nimport { PureTableBar } from \"@/components/RePureTableBar\";\nimport { useRenderIcon } from \"@/components/ReIcon/src/hooks\";\n\n// import Database from \"@iconify-icons/ri/database-2-line\";\n// import More from \"@iconify-icons/ep/more-filled\";\nimport Delete from \"@iconify-icons/ep/delete\";\nimport EditPen from \"@iconify-icons/ep/edit-pen\";\nimport Search from \"@iconify-icons/ep/search\";\nimport Refresh from \"@iconify-icons/ep/refresh\";\nimport Menu from \"@iconify-icons/ep/menu\";\nimport AddFill from \"@iconify-icons/ri/add-circle-line\";\n\ndefineOptions({\n  name: \"Role\"\n});\n\nconst formRef = ref();\nconst {\n  form,\n  loading,\n  columns,\n  dataList,\n  pagination,\n  // buttonClass,\n  onSearch,\n  resetForm,\n  openDialog,\n  handleMenu,\n  handleDelete,\n  // handleDatabase,\n  handleSizeChange,\n  handleCurrentChange,\n  handleSelectionChange\n} = useRole();\n</script>\n\n<template>\n  <div class=\"main\">\n    <el-form\n      ref=\"formRef\"\n      :inline=\"true\"\n      :model=\"form\"\n      class=\"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]\"\n    >\n      <el-form-item label=\"角色名称：\" prop=\"name\">\n        <el-input\n          v-model=\"form.name\"\n          placeholder=\"请输入角色名称\"\n          clearable\n          class=\"!w-[200px]\"\n        />\n      </el-form-item>\n      <el-form-item label=\"角色标识：\" prop=\"code\">\n        <el-input\n          v-model=\"form.code\"\n          placeholder=\"请输入角色标识\"\n          clearable\n          class=\"!w-[180px]\"\n        />\n      </el-form-item>\n      <el-form-item label=\"状态：\" prop=\"status\">\n        <el-select\n          v-model=\"form.status\"\n          placeholder=\"请选择状态\"\n          clearable\n          class=\"!w-[180px]\"\n        >\n          <el-option label=\"已启用\" value=\"1\" />\n          <el-option label=\"已停用\" value=\"0\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button\n          type=\"primary\"\n          :icon=\"useRenderIcon(Search)\"\n          :loading=\"loading\"\n          @click=\"onSearch\"\n        >\n          搜索\n        </el-button>\n        <el-button :icon=\"useRenderIcon(Refresh)\" @click=\"resetForm(formRef)\">\n          重置\n        </el-button>\n      </el-form-item>\n    </el-form>\n\n    <PureTableBar\n      title=\"角色列表（仅演示，操作后不生效）\"\n      :columns=\"columns\"\n      @refresh=\"onSearch\"\n    >\n      <template #buttons>\n        <el-button\n          type=\"primary\"\n          :icon=\"useRenderIcon(AddFill)\"\n          @click=\"openDialog()\"\n        >\n          新增角色\n        </el-button>\n      </template>\n      <template v-slot=\"{ size, dynamicColumns }\">\n        <pure-table\n          border\n          align-whole=\"center\"\n          showOverflowTooltip\n          table-layout=\"auto\"\n          :loading=\"loading\"\n          :size=\"size\"\n          :data=\"dataList\"\n          :columns=\"dynamicColumns\"\n          :pagination=\"pagination\"\n          :paginationSmall=\"size === 'small' ? true : false\"\n          :header-cell-style=\"{\n            background: 'var(--el-table-row-hover-bg-color)',\n            color: 'var(--el-text-color-primary)'\n          }\"\n          @selection-change=\"handleSelectionChange\"\n          @page-size-change=\"handleSizeChange\"\n          @page-current-change=\"handleCurrentChange\"\n        >\n          <template #operation=\"{ row }\">\n            <el-button\n              class=\"reset-margin\"\n              link\n              type=\"primary\"\n              :size=\"size\"\n              :icon=\"useRenderIcon(EditPen)\"\n              @click=\"openDialog('编辑', row)\"\n            >\n              修改\n            </el-button>\n            <el-button\n              class=\"reset-margin\"\n              link\n              type=\"primary\"\n              :size=\"size\"\n              :icon=\"useRenderIcon(Menu)\"\n              @click=\"handleMenu\"\n            >\n              菜单权限\n            </el-button>\n            <el-popconfirm\n              :title=\"`是否确认删除角色名称为${row.name}的这条数据`\"\n              @confirm=\"handleDelete(row)\"\n            >\n              <template #reference>\n                <el-button\n                  class=\"reset-margin\"\n                  link\n                  type=\"primary\"\n                  :size=\"size\"\n                  :icon=\"useRenderIcon(Delete)\"\n                >\n                  删除\n                </el-button>\n              </template>\n            </el-popconfirm>\n            <!-- <el-dropdown>\n              <el-button\n                class=\"ml-3 mt-[2px]\"\n                link\n                type=\"primary\"\n                :size=\"size\"\n                :icon=\"useRenderIcon(More)\"\n              />\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item>\n                    <el-button\n                      :class=\"buttonClass\"\n                      link\n                      type=\"primary\"\n                      :size=\"size\"\n                      :icon=\"useRenderIcon(Menu)\"\n                      @click=\"handleMenu\"\n                    >\n                      菜单权限\n                    </el-button>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <el-button\n                      :class=\"buttonClass\"\n                      link\n                      type=\"primary\"\n                      :size=\"size\"\n                      :icon=\"useRenderIcon(Database)\"\n                      @click=\"handleDatabase\"\n                    >\n                      数据权限\n                    </el-button>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown> -->\n          </template>\n        </pure-table>\n      </template>\n    </PureTableBar>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n:deep(.el-dropdown-menu__item i) {\n  margin: 0;\n}\n\n.search-form {\n  :deep(.el-form-item) {\n    margin-bottom: 12px;\n  }\n}\n</style>\n"],"names":["formRef","ref","form","loading","columns","dataList","pagination","onSearch","resetForm","openDialog","handleMenu","handleDelete","handleSizeChange","handleCurrentChange","handleSelectionChange","useRole"],"mappings":"wrBAmBA,MAAMA,EAAUC,IACV,CACJ,KAAAC,EACA,QAAAC,EACA,QAAAC,EACA,SAAAC,EACA,WAAAC,EAEA,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,aAAAC,EAEA,iBAAAC,EACA,oBAAAC,EACA,sBAAAC,GACEC,EAAQ"}